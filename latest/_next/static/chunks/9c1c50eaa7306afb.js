(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,43879,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"useMergedRef",{enumerable:!0,get:function(){return n}});let i=e.r(81059);function n(e,t){let r=(0,i.useRef)(null),n=(0,i.useRef)(null);return(0,i.useCallback)(i=>{if(null===i){let e=r.current;e&&(r.current=null,e());let t=n.current;t&&(n.current=null,t())}else e&&(r.current=s(e,i)),t&&(n.current=s(t,i))},[e,t])}function s(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let r=e(t);return"function"==typeof r?r:()=>e(null)}}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},52011,76761,91967,5978,22528,86874,87620,29297,53532,41687,56720,5192,13123,77624,52740,39979,85995,36589,73772,13044,7284,75157,37822,93479,1693,46798,e=>{"use strict";let t;var r,i,n,s,a,o,l,u,c=e.i(81059),h={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},d=c.default.createContext&&c.default.createContext(h),p=["attr","size","title"];function f(){return(f=Object.assign.bind()).apply(this,arguments)}function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,i)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach(function(t){var i,n,s;i=e,n=t,s=r[t],(n=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(n))in i?Object.defineProperty(i,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[n]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function y(e){return t=>c.default.createElement(x,f({attr:g({},e.attr)},t),function e(t){return t&&t.map((t,r)=>c.default.createElement(t.tag,g({key:r},t.attr),e(t.child)))}(e.child))}function x(e){var t=t=>{var r,{attr:i,size:n,title:s}=e,a=function(e,t){if(null==e)return{};var r,i,n=function(e,t){if(null==e)return{};var r={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;r[i]=e[i]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(e,p),o=n||t.size||"1em";return t.className&&(r=t.className),e.className&&(r=(r?r+" ":"")+e.className),c.default.createElement("svg",f({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,a,{className:r,style:g(g({color:e.color||t.color},t.style),e.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),s&&c.default.createElement("title",null,s),e.children)};return void 0!==d?c.default.createElement(d.Consumer,null,e=>t(e)):t(h)}function v(e){return y({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm86.63 272L320 342.63l-64-64-64 64L169.37 320l64-64-64-64L192 169.37l64 64 64-64L342.63 192l-64 64z"},child:[]}]})(e)}function b(e){return y({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416 64H96a64.07 64.07 0 0 0-64 64v256a64.07 64.07 0 0 0 64 64h320a64.07 64.07 0 0 0 64-64V128a64.07 64.07 0 0 0-64-64zm-80 64a48 48 0 1 1-48 48 48.05 48.05 0 0 1 48-48zM96 416a32 32 0 0 1-32-32v-67.63l94.84-84.3a48.06 48.06 0 0 1 65.8 1.9l64.95 64.81L172.37 416zm352-32a32 32 0 0 1-32 32H217.63l121.42-121.42a47.72 47.72 0 0 1 61.64-.16L448 333.84z"},child:[]}]})(e)}e.s(["GenIcon",()=>y],76761),e.s(["IoCloseCircleSharp",()=>v,"IoImage",()=>b],52011);var w=e.i(91664);function _(e,t,{checkForDefaultPrevented:r=!0}={}){return function(i){if(e?.(i),!1===r||!i.defaultPrevented)return t?.(i)}}function S(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function k(...e){return t=>{let r=!1,i=e.map(e=>{let i=S(e,t);return r||"function"!=typeof i||(r=!0),i});if(r)return()=>{for(let t=0;t<i.length;t++){let r=i[t];"function"==typeof r?r():S(e[t],null)}}}}function M(...e){return c.useCallback(k(...e),e)}function C(e,t){let r=c.createContext(t),i=e=>{let{children:t,...i}=e,n=c.useMemo(()=>i,Object.values(i));return(0,w.jsx)(r.Provider,{value:n,children:t})};return i.displayName=e+"Provider",[i,function(i){let n=c.useContext(r);if(n)return n;if(void 0!==t)return t;throw Error(`\`${i}\` must be used within \`${e}\``)}]}function A(e,t=[]){let r=[],i=()=>{let t=r.map(e=>c.createContext(e));return function(r){let i=r?.[e]||t;return c.useMemo(()=>({[`__scope${e}`]:{...r,[e]:i}}),[r,i])}};return i.scopeName=e,[function(t,i){let n=c.createContext(i),s=r.length;r=[...r,i];let a=t=>{let{scope:r,children:i,...a}=t,o=r?.[e]?.[s]||n,l=c.useMemo(()=>a,Object.values(a));return(0,w.jsx)(o.Provider,{value:l,children:i})};return a.displayName=t+"Provider",[a,function(r,a){let o=a?.[e]?.[s]||n,l=c.useContext(o);if(l)return l;if(void 0!==i)return i;throw Error(`\`${r}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let r=()=>{let r=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let i=r.reduce((t,{useScope:r,scopeName:i})=>{let n=r(e)[`__scope${i}`];return{...t,...n}},{});return c.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}(i,...t)]}"undefined"!=typeof window&&window.document&&window.document.createElement,e.s(["composeEventHandlers",()=>_],91967),e.s(["composeRefs",()=>k,"useComposedRefs",()=>M],5978),e.s(["createContext",()=>C,"createContextScope",()=>A],22528);var I=e.i(91795);function T(e){var t;let r,i=(t=e,(r=c.forwardRef((e,t)=>{let{children:r,...i}=e;if(c.isValidElement(r)){var n;let e,s,a=(n=r,(s=(e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?n.ref:(s=(e=Object.getOwnPropertyDescriptor(n,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?n.props.ref:n.props.ref||n.ref),o=function(e,t){let r={...t};for(let i in t){let n=e[i],s=t[i];/^on[A-Z]/.test(i)?n&&s?r[i]=(...e)=>{let t=s(...e);return n(...e),t}:n&&(r[i]=n):"style"===i?r[i]={...n,...s}:"className"===i&&(r[i]=[n,s].filter(Boolean).join(" "))}return{...e,...r}}(i,r.props);return r.type!==c.Fragment&&(o.ref=t?k(t,a):a),c.cloneElement(r,o)}return c.Children.count(r)>1?c.Children.only(null):null})).displayName=`${t}.SlotClone`,r),n=c.forwardRef((e,t)=>{let{children:r,...n}=e,s=c.Children.toArray(r),a=s.find(O);if(a){let e=a.props.children,r=s.map(t=>t!==a?t:c.Children.count(e)>1?c.Children.only(null):c.isValidElement(e)?e.props.children:null);return(0,w.jsx)(i,{...n,ref:t,children:c.isValidElement(e)?c.cloneElement(e,void 0,r):null})}return(0,w.jsx)(i,{...n,ref:t,children:r})});return n.displayName=`${e}.Slot`,n}var z=T("Slot"),E=Symbol("radix.slottable");function N(e){let t=({children:e})=>(0,w.jsx)(w.Fragment,{children:e});return t.displayName=`${e}.Slottable`,t.__radixId=E,t}var j=N("Slottable");function O(e){return c.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===E}e.s(["Root",()=>z,"Slot",()=>z,"Slottable",()=>j,"createSlot",()=>T,"createSlottable",()=>N],86874);var D=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let r=T(`Primitive.${t}`),i=c.forwardRef((e,i)=>{let{asChild:n,...s}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,w.jsx)(n?r:t,{...s,ref:i})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{});function P(e,t){e&&I.flushSync(()=>e.dispatchEvent(t))}function R(e){let t=c.useRef(e);return c.useEffect(()=>{t.current=e}),c.useMemo(()=>(...e)=>t.current?.(...e),[])}e.s(["Primitive",()=>D,"dispatchDiscreteCustomEvent",()=>P],87620),e.s(["useCallbackRef",()=>R],29297);var B="dismissableLayer.update",L=c.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),F=c.forwardRef((e,t)=>{let{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:i,onPointerDownOutside:n,onFocusOutside:s,onInteractOutside:a,onDismiss:o,...u}=e,h=c.useContext(L),[d,p]=c.useState(null),f=d?.ownerDocument??globalThis?.document,[,m]=c.useState({}),g=M(t,e=>p(e)),y=Array.from(h.layers),[x]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),v=y.indexOf(x),b=d?y.indexOf(d):-1,S=h.layersWithOutsidePointerEventsDisabled.size>0,k=b>=v,C=function(e,t=globalThis?.document){let r=R(e),i=c.useRef(!1),n=c.useRef(()=>{});return c.useEffect(()=>{let e=e=>{if(e.target&&!i.current){let i=function(){U("dismissableLayer.pointerDownOutside",r,s,{discrete:!0})},s={originalEvent:e};"touch"===e.pointerType?(t.removeEventListener("click",n.current),n.current=i,t.addEventListener("click",n.current,{once:!0})):i()}else t.removeEventListener("click",n.current);i.current=!1},s=window.setTimeout(()=>{t.addEventListener("pointerdown",e)},0);return()=>{window.clearTimeout(s),t.removeEventListener("pointerdown",e),t.removeEventListener("click",n.current)}},[t,r]),{onPointerDownCapture:()=>i.current=!0}}(e=>{let t=e.target,r=[...h.branches].some(e=>e.contains(t));k&&!r&&(n?.(e),a?.(e),e.defaultPrevented||o?.())},f),A=function(e,t=globalThis?.document){let r=R(e),i=c.useRef(!1);return c.useEffect(()=>{let e=e=>{e.target&&!i.current&&U("dismissableLayer.focusOutside",r,{originalEvent:e},{discrete:!1})};return t.addEventListener("focusin",e),()=>t.removeEventListener("focusin",e)},[t,r]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}(e=>{let t=e.target;![...h.branches].some(e=>e.contains(t))&&(s?.(e),a?.(e),e.defaultPrevented||o?.())},f);return!function(e,t=globalThis?.document){let r=R(e);c.useEffect(()=>{let e=e=>{"Escape"===e.key&&r(e)};return t.addEventListener("keydown",e,{capture:!0}),()=>t.removeEventListener("keydown",e,{capture:!0})},[r,t])}(e=>{b===h.layers.size-1&&(i?.(e),!e.defaultPrevented&&o&&(e.preventDefault(),o()))},f),c.useEffect(()=>{if(d)return r&&(0===h.layersWithOutsidePointerEventsDisabled.size&&(l=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(d)),h.layers.add(d),V(),()=>{r&&1===h.layersWithOutsidePointerEventsDisabled.size&&(f.body.style.pointerEvents=l)}},[d,f,r,h]),c.useEffect(()=>()=>{d&&(h.layers.delete(d),h.layersWithOutsidePointerEventsDisabled.delete(d),V())},[d,h]),c.useEffect(()=>{let e=()=>m({});return document.addEventListener(B,e),()=>document.removeEventListener(B,e)},[]),(0,w.jsx)(D.div,{...u,ref:g,style:{pointerEvents:S?k?"auto":"none":void 0,...e.style},onFocusCapture:_(e.onFocusCapture,A.onFocusCapture),onBlurCapture:_(e.onBlurCapture,A.onBlurCapture),onPointerDownCapture:_(e.onPointerDownCapture,C.onPointerDownCapture)})});function V(){let e=new CustomEvent(B);document.dispatchEvent(e)}function U(e,t,r,{discrete:i}){let n=r.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&n.addEventListener(e,t,{once:!0}),i?P(n,s):n.dispatchEvent(s)}F.displayName="DismissableLayer",c.forwardRef((e,t)=>{let r=c.useContext(L),i=c.useRef(null),n=M(t,i);return c.useEffect(()=>{let e=i.current;if(e)return r.branches.add(e),()=>{r.branches.delete(e)}},[r.branches]),(0,w.jsx)(D.div,{...e,ref:n})}).displayName="DismissableLayerBranch",e.s(["DismissableLayer",()=>F],53532);var $=0;function W(){c.useEffect(()=>{let e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??G()),document.body.insertAdjacentElement("beforeend",e[1]??G()),$++,()=>{1===$&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),$--}},[])}function G(){let e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}e.s(["useFocusGuards",()=>W],41687);var H="focusScope.autoFocusOnMount",q="focusScope.autoFocusOnUnmount",Y={bubbles:!1,cancelable:!0},X=c.forwardRef((e,t)=>{let{loop:r=!1,trapped:i=!1,onMountAutoFocus:n,onUnmountAutoFocus:s,...a}=e,[o,l]=c.useState(null),u=R(n),h=R(s),d=c.useRef(null),p=M(t,e=>l(e)),f=c.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;c.useEffect(()=>{if(i){let e=function(e){if(f.paused||!o)return;let t=e.target;o.contains(t)?d.current=t:K(d.current,{select:!0})},t=function(e){if(f.paused||!o)return;let t=e.relatedTarget;null!==t&&(o.contains(t)||K(d.current,{select:!0}))};document.addEventListener("focusin",e),document.addEventListener("focusout",t);let r=new MutationObserver(function(e){if(document.activeElement===document.body)for(let t of e)t.removedNodes.length>0&&K(o)});return o&&r.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",t),r.disconnect()}}},[i,o,f.paused]),c.useEffect(()=>{if(o){Q.add(f);let e=document.activeElement;if(!o.contains(e)){let t=new CustomEvent(H,Y);o.addEventListener(H,u),o.dispatchEvent(t),t.defaultPrevented||(function(e,{select:t=!1}={}){let r=document.activeElement;for(let i of e)if(K(i,{select:t}),document.activeElement!==r)return}(Z(o).filter(e=>"A"!==e.tagName),{select:!0}),document.activeElement===e&&K(o))}return()=>{o.removeEventListener(H,u),setTimeout(()=>{let t=new CustomEvent(q,Y);o.addEventListener(q,h),o.dispatchEvent(t),t.defaultPrevented||K(e??document.body,{select:!0}),o.removeEventListener(q,h),Q.remove(f)},0)}}},[o,u,h,f]);let m=c.useCallback(e=>{if(!r&&!i||f.paused)return;let t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,n=document.activeElement;if(t&&n){var s;let t,i=e.currentTarget,[a,o]=[J(t=Z(s=i),s),J(t.reverse(),s)];a&&o?e.shiftKey||n!==o?e.shiftKey&&n===a&&(e.preventDefault(),r&&K(o,{select:!0})):(e.preventDefault(),r&&K(a,{select:!0})):n===i&&e.preventDefault()}},[r,i,f.paused]);return(0,w.jsx)(D.div,{tabIndex:-1,...a,ref:p,onKeyDown:m})});function Z(e){let t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{let t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function J(e,t){for(let r of e)if(!function(e,{upTo:t}){if("hidden"===getComputedStyle(e).visibility)return!0;for(;e&&(void 0===t||e!==t);){if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}(r,{upTo:t}))return r}function K(e,{select:t=!1}={}){if(e&&e.focus){var r;let i=document.activeElement;e.focus({preventScroll:!0}),e!==i&&(r=e)instanceof HTMLInputElement&&"select"in r&&t&&e.select()}}X.displayName="FocusScope";var Q=(t=[],{add(e){let r=t[0];e!==r&&r?.pause(),(t=ee(t,e)).unshift(e)},remove(e){t=ee(t,e),t[0]?.resume()}});function ee(e,t){let r=[...e],i=r.indexOf(t);return -1!==i&&r.splice(i,1),r}e.s(["FocusScope",()=>X],56720);var et=globalThis?.document?c.useLayoutEffect:()=>{};e.s(["useLayoutEffect",()=>et],5192);var er=c[" useId ".trim().toString()]||(()=>void 0),ei=0;function en(e){let[t,r]=c.useState(er());return et(()=>{e||r(e=>e??String(ei++))},[e]),e||(t?`radix-${t}`:"")}e.s(["useId",()=>en],13123);let es=["top","right","bottom","left"],ea=Math.min,eo=Math.max,el=Math.round,eu=Math.floor,ec=e=>({x:e,y:e}),eh={left:"right",right:"left",bottom:"top",top:"bottom"},ed={start:"end",end:"start"};function ep(e,t){return"function"==typeof e?e(t):e}function ef(e){return e.split("-")[0]}function em(e){return e.split("-")[1]}function eg(e){return"x"===e?"y":"x"}function ey(e){return"y"===e?"height":"width"}let ex=new Set(["top","bottom"]);function ev(e){return ex.has(ef(e))?"y":"x"}function eb(e){return e.replace(/start|end/g,e=>ed[e])}let ew=["left","right"],e_=["right","left"],eS=["top","bottom"],ek=["bottom","top"];function eM(e){return e.replace(/left|right|bottom|top/g,e=>eh[e])}function eC(e){return"number"!=typeof e?{top:0,right:0,bottom:0,left:0,...e}:{top:e,right:e,bottom:e,left:e}}function eA(e){let{x:t,y:r,width:i,height:n}=e;return{width:i,height:n,top:r,left:t,right:t+i,bottom:r+n,x:t,y:r}}function eI(e,t,r){let i,{reference:n,floating:s}=e,a=ev(t),o=eg(ev(t)),l=ey(o),u=ef(t),c="y"===a,h=n.x+n.width/2-s.width/2,d=n.y+n.height/2-s.height/2,p=n[l]/2-s[l]/2;switch(u){case"top":i={x:h,y:n.y-s.height};break;case"bottom":i={x:h,y:n.y+n.height};break;case"right":i={x:n.x+n.width,y:d};break;case"left":i={x:n.x-s.width,y:d};break;default:i={x:n.x,y:n.y}}switch(em(t)){case"start":i[o]-=p*(r&&c?-1:1);break;case"end":i[o]+=p*(r&&c?-1:1)}return i}async function eT(e,t){var r;void 0===t&&(t={});let{x:i,y:n,platform:s,rects:a,elements:o,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:h="floating",altBoundary:d=!1,padding:p=0}=ep(t,e),f=eC(p),m=o[d?"floating"===h?"reference":"floating":h],g=eA(await s.getClippingRect({element:null==(r=await (null==s.isElement?void 0:s.isElement(m)))||r?m:m.contextElement||await (null==s.getDocumentElement?void 0:s.getDocumentElement(o.floating)),boundary:u,rootBoundary:c,strategy:l})),y="floating"===h?{x:i,y:n,width:a.floating.width,height:a.floating.height}:a.reference,x=await (null==s.getOffsetParent?void 0:s.getOffsetParent(o.floating)),v=await (null==s.isElement?void 0:s.isElement(x))&&await (null==s.getScale?void 0:s.getScale(x))||{x:1,y:1},b=eA(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:y,offsetParent:x,strategy:l}):y);return{top:(g.top-b.top+f.top)/v.y,bottom:(b.bottom-g.bottom+f.bottom)/v.y,left:(g.left-b.left+f.left)/v.x,right:(b.right-g.right+f.right)/v.x}}let ez=async(e,t,r)=>{let{placement:i="bottom",strategy:n="absolute",middleware:s=[],platform:a}=r,o=s.filter(Boolean),l=await (null==a.isRTL?void 0:a.isRTL(t)),u=await a.getElementRects({reference:e,floating:t,strategy:n}),{x:c,y:h}=eI(u,i,l),d=i,p={},f=0;for(let r=0;r<o.length;r++){var m;let{name:s,fn:g}=o[r],{x:y,y:x,data:v,reset:b}=await g({x:c,y:h,initialPlacement:i,placement:d,strategy:n,middlewareData:p,rects:u,platform:{...a,detectOverflow:null!=(m=a.detectOverflow)?m:eT},elements:{reference:e,floating:t}});c=null!=y?y:c,h=null!=x?x:h,p={...p,[s]:{...p[s],...v}},b&&f<=50&&(f++,"object"==typeof b&&(b.placement&&(d=b.placement),b.rects&&(u=!0===b.rects?await a.getElementRects({reference:e,floating:t,strategy:n}):b.rects),{x:c,y:h}=eI(u,d,l)),r=-1)}return{x:c,y:h,placement:d,strategy:n,middlewareData:p}};function eE(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function eN(e){return es.some(t=>e[t]>=0)}let ej=new Set(["left","top"]);async function eO(e,t){let{placement:r,platform:i,elements:n}=e,s=await (null==i.isRTL?void 0:i.isRTL(n.floating)),a=ef(r),o=em(r),l="y"===ev(r),u=ej.has(a)?-1:1,c=s&&l?-1:1,h=ep(t,e),{mainAxis:d,crossAxis:p,alignmentAxis:f}="number"==typeof h?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return o&&"number"==typeof f&&(p="end"===o?-1*f:f),l?{x:p*c,y:d*u}:{x:d*u,y:p*c}}function eD(){return"undefined"!=typeof window}function eP(e){return eL(e)?(e.nodeName||"").toLowerCase():"#document"}function eR(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function eB(e){var t;return null==(t=(eL(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function eL(e){return!!eD()&&(e instanceof Node||e instanceof eR(e).Node)}function eF(e){return!!eD()&&(e instanceof Element||e instanceof eR(e).Element)}function eV(e){return!!eD()&&(e instanceof HTMLElement||e instanceof eR(e).HTMLElement)}function eU(e){return!!eD()&&"undefined"!=typeof ShadowRoot&&(e instanceof ShadowRoot||e instanceof eR(e).ShadowRoot)}let e$=new Set(["inline","contents"]);function eW(e){let{overflow:t,overflowX:r,overflowY:i,display:n}=e0(e);return/auto|scroll|overlay|hidden|clip/.test(t+i+r)&&!e$.has(n)}let eG=new Set(["table","td","th"]),eH=[":popover-open",":modal"];function eq(e){return eH.some(t=>{try{return e.matches(t)}catch(e){return!1}})}let eY=["transform","translate","scale","rotate","perspective"],eX=["transform","translate","scale","rotate","perspective","filter"],eZ=["paint","layout","strict","content"];function eJ(e){let t=eK(),r=eF(e)?e0(e):e;return eY.some(e=>!!r[e]&&"none"!==r[e])||!!r.containerType&&"normal"!==r.containerType||!t&&!!r.backdropFilter&&"none"!==r.backdropFilter||!t&&!!r.filter&&"none"!==r.filter||eX.some(e=>(r.willChange||"").includes(e))||eZ.some(e=>(r.contain||"").includes(e))}function eK(){return"undefined"!=typeof CSS&&!!CSS.supports&&CSS.supports("-webkit-backdrop-filter","none")}let eQ=new Set(["html","body","#document"]);function e1(e){return eQ.has(eP(e))}function e0(e){return eR(e).getComputedStyle(e)}function e2(e){return eF(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function e9(e){if("html"===eP(e))return e;let t=e.assignedSlot||e.parentNode||eU(e)&&e.host||eB(e);return eU(t)?t.host:t}function e3(e,t,r){var i;void 0===t&&(t=[]),void 0===r&&(r=!0);let n=function e(t){let r=e9(t);return e1(r)?t.ownerDocument?t.ownerDocument.body:t.body:eV(r)&&eW(r)?r:e(r)}(e),s=n===(null==(i=e.ownerDocument)?void 0:i.body),a=eR(n);if(s){let e=e4(a);return t.concat(a,a.visualViewport||[],eW(n)?n:[],e&&r?e3(e):[])}return t.concat(n,e3(n,[],r))}function e4(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function e8(e){let t=e0(e),r=parseFloat(t.width)||0,i=parseFloat(t.height)||0,n=eV(e),s=n?e.offsetWidth:r,a=n?e.offsetHeight:i,o=el(r)!==s||el(i)!==a;return o&&(r=s,i=a),{width:r,height:i,$:o}}function e6(e){return eF(e)?e:e.contextElement}function e5(e){let t=e6(e);if(!eV(t))return ec(1);let r=t.getBoundingClientRect(),{width:i,height:n,$:s}=e8(t),a=(s?el(r.width):r.width)/i,o=(s?el(r.height):r.height)/n;return a&&Number.isFinite(a)||(a=1),o&&Number.isFinite(o)||(o=1),{x:a,y:o}}let e7=ec(0);function te(e){let t=eR(e);return eK()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:e7}function tt(e,t,r,i){var n;void 0===t&&(t=!1),void 0===r&&(r=!1);let s=e.getBoundingClientRect(),a=e6(e),o=ec(1);t&&(i?eF(i)&&(o=e5(i)):o=e5(e));let l=(void 0===(n=r)&&(n=!1),i&&(!n||i===eR(a))&&n)?te(a):ec(0),u=(s.left+l.x)/o.x,c=(s.top+l.y)/o.y,h=s.width/o.x,d=s.height/o.y;if(a){let e=eR(a),t=i&&eF(i)?eR(i):i,r=e,n=e4(r);for(;n&&i&&t!==r;){let e=e5(n),t=n.getBoundingClientRect(),i=e0(n),s=t.left+(n.clientLeft+parseFloat(i.paddingLeft))*e.x,a=t.top+(n.clientTop+parseFloat(i.paddingTop))*e.y;u*=e.x,c*=e.y,h*=e.x,d*=e.y,u+=s,c+=a,n=e4(r=eR(n))}}return eA({width:h,height:d,x:u,y:c})}function tr(e,t){let r=e2(e).scrollLeft;return t?t.left+r:tt(eB(e)).left+r}function ti(e,t){let r=e.getBoundingClientRect();return{x:r.left+t.scrollLeft-tr(e,r),y:r.top+t.scrollTop}}let tn=new Set(["absolute","fixed"]);function ts(e,t,r){var i;let n;if("viewport"===t)n=function(e,t){let r=eR(e),i=eB(e),n=r.visualViewport,s=i.clientWidth,a=i.clientHeight,o=0,l=0;if(n){s=n.width,a=n.height;let e=eK();(!e||e&&"fixed"===t)&&(o=n.offsetLeft,l=n.offsetTop)}let u=tr(i);if(u<=0){let e=i.ownerDocument,t=e.body,r=getComputedStyle(t),n="CSS1Compat"===e.compatMode&&parseFloat(r.marginLeft)+parseFloat(r.marginRight)||0,a=Math.abs(i.clientWidth-t.clientWidth-n);a<=25&&(s-=a)}else u<=25&&(s+=u);return{width:s,height:a,x:o,y:l}}(e,r);else if("document"===t){let t,r,s,a,o,l,u;i=eB(e),t=eB(i),r=e2(i),s=i.ownerDocument.body,a=eo(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),o=eo(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight),l=-r.scrollLeft+tr(i),u=-r.scrollTop,"rtl"===e0(s).direction&&(l+=eo(t.clientWidth,s.clientWidth)-a),n={width:a,height:o,x:l,y:u}}else if(eF(t)){let e,i,s,a,o,l;i=(e=tt(t,!0,"fixed"===r)).top+t.clientTop,s=e.left+t.clientLeft,a=eV(t)?e5(t):ec(1),o=t.clientWidth*a.x,l=t.clientHeight*a.y,n={width:o,height:l,x:s*a.x,y:i*a.y}}else{let r=te(e);n={x:t.x-r.x,y:t.y-r.y,width:t.width,height:t.height}}return eA(n)}function ta(e){return"static"===e0(e).position}function to(e,t){if(!eV(e)||"fixed"===e0(e).position)return null;if(t)return t(e);let r=e.offsetParent;return eB(e)===r&&(r=r.ownerDocument.body),r}function tl(e,t){var r;let i=eR(e);if(eq(e))return i;if(!eV(e)){let t=e9(e);for(;t&&!e1(t);){if(eF(t)&&!ta(t))return t;t=e9(t)}return i}let n=to(e,t);for(;n&&(r=n,eG.has(eP(r)))&&ta(n);)n=to(n,t);return n&&e1(n)&&ta(n)&&!eJ(n)?i:n||function(e){let t=e9(e);for(;eV(t)&&!e1(t);){if(eJ(t))return t;if(eq(t))break;t=e9(t)}return null}(e)||i}let tu=async function(e){let t=this.getOffsetParent||tl,r=this.getDimensions,i=await r(e.floating);return{reference:function(e,t,r){let i=eV(t),n=eB(t),s="fixed"===r,a=tt(e,!0,s,t),o={scrollLeft:0,scrollTop:0},l=ec(0);if(i||!i&&!s)if(("body"!==eP(t)||eW(n))&&(o=e2(t)),i){let e=tt(t,!0,s,t);l.x=e.x+t.clientLeft,l.y=e.y+t.clientTop}else n&&(l.x=tr(n));s&&!i&&n&&(l.x=tr(n));let u=!n||i||s?ec(0):ti(n,o);return{x:a.left+o.scrollLeft-l.x-u.x,y:a.top+o.scrollTop-l.y-u.y,width:a.width,height:a.height}}(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}},tc={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:r,offsetParent:i,strategy:n}=e,s="fixed"===n,a=eB(i),o=!!t&&eq(t.floating);if(i===a||o&&s)return r;let l={scrollLeft:0,scrollTop:0},u=ec(1),c=ec(0),h=eV(i);if((h||!h&&!s)&&(("body"!==eP(i)||eW(a))&&(l=e2(i)),eV(i))){let e=tt(i);u=e5(i),c.x=e.x+i.clientLeft,c.y=e.y+i.clientTop}let d=!a||h||s?ec(0):ti(a,l);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-l.scrollLeft*u.x+c.x+d.x,y:r.y*u.y-l.scrollTop*u.y+c.y+d.y}},getDocumentElement:eB,getClippingRect:function(e){let{element:t,boundary:r,rootBoundary:i,strategy:n}=e,s=[..."clippingAncestors"===r?eq(t)?[]:function(e,t){let r=t.get(e);if(r)return r;let i=e3(e,[],!1).filter(e=>eF(e)&&"body"!==eP(e)),n=null,s="fixed"===e0(e).position,a=s?e9(e):e;for(;eF(a)&&!e1(a);){let t=e0(a),r=eJ(a);r||"fixed"!==t.position||(n=null),(s?!r&&!n:!r&&"static"===t.position&&!!n&&tn.has(n.position)||eW(a)&&!r&&function e(t,r){let i=e9(t);return!(i===r||!eF(i)||e1(i))&&("fixed"===e0(i).position||e(i,r))}(e,a))?i=i.filter(e=>e!==a):n=t,a=e9(a)}return t.set(e,i),i}(t,this._c):[].concat(r),i],a=s[0],o=s.reduce((e,r)=>{let i=ts(t,r,n);return e.top=eo(i.top,e.top),e.right=ea(i.right,e.right),e.bottom=ea(i.bottom,e.bottom),e.left=eo(i.left,e.left),e},ts(t,a,n));return{width:o.right-o.left,height:o.bottom-o.top,x:o.left,y:o.top}},getOffsetParent:tl,getElementRects:tu,getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){let{width:t,height:r}=e8(e);return{width:t,height:r}},getScale:e5,isElement:eF,isRTL:function(e){return"rtl"===e0(e).direction}};function th(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}let td=e=>({name:"arrow",options:e,async fn(t){let{x:r,y:i,placement:n,rects:s,platform:a,elements:o,middlewareData:l}=t,{element:u,padding:c=0}=ep(e,t)||{};if(null==u)return{};let h=eC(c),d={x:r,y:i},p=eg(ev(n)),f=ey(p),m=await a.getDimensions(u),g="y"===p,y=g?"clientHeight":"clientWidth",x=s.reference[f]+s.reference[p]-d[p]-s.floating[f],v=d[p]-s.reference[p],b=await (null==a.getOffsetParent?void 0:a.getOffsetParent(u)),w=b?b[y]:0;w&&await (null==a.isElement?void 0:a.isElement(b))||(w=o.floating[y]||s.floating[f]);let _=w/2-m[f]/2-1,S=ea(h[g?"top":"left"],_),k=ea(h[g?"bottom":"right"],_),M=w-m[f]-k,C=w/2-m[f]/2+(x/2-v/2),A=eo(S,ea(C,M)),I=!l.arrow&&null!=em(n)&&C!==A&&s.reference[f]/2-(C<S?S:k)-m[f]/2<0,T=I?C<S?C-S:C-M:0;return{[p]:d[p]+T,data:{[p]:A,centerOffset:C-A-T,...I&&{alignmentOffset:T}},reset:I}}});var tp="undefined"!=typeof document?c.useLayoutEffect:function(){};function tf(e,t){let r,i,n;if(e===t)return!0;if(typeof e!=typeof t)return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if((r=e.length)!==t.length)return!1;for(i=r;0!=i--;)if(!tf(e[i],t[i]))return!1;return!0}if((r=(n=Object.keys(e)).length)!==Object.keys(t).length)return!1;for(i=r;0!=i--;)if(!({}).hasOwnProperty.call(t,n[i]))return!1;for(i=r;0!=i--;){let r=n[i];if(("_owner"!==r||!e.$$typeof)&&!tf(e[r],t[r]))return!1}return!0}return e!=e&&t!=t}function tm(e){return"undefined"==typeof window?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function tg(e,t){let r=tm(e);return Math.round(t*r)/r}function ty(e){let t=c.useRef(e);return tp(()=>{t.current=e}),t}var tx=c.forwardRef((e,t)=>{let{children:r,width:i=10,height:n=5,...s}=e;return(0,w.jsx)(D.svg,{...s,ref:t,width:i,height:n,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:(0,w.jsx)("polygon",{points:"0,0 30,0 15,10"})})});function tv(e){let[t,r]=c.useState(void 0);return et(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});let t=new ResizeObserver(t=>{let i,n;if(!Array.isArray(t)||!t.length)return;let s=t[0];if("borderBoxSize"in s){let e=s.borderBoxSize,t=Array.isArray(e)?e[0]:e;i=t.inlineSize,n=t.blockSize}else i=e.offsetWidth,n=e.offsetHeight;r({width:i,height:n})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}r(void 0)},[e]),t}tx.displayName="Arrow",e.s(["useSize",()=>tv],77624);var tb="Popper",[tw,t_]=A(tb),[tS,tk]=tw(tb),tM=e=>{let{__scopePopper:t,children:r}=e,[i,n]=c.useState(null);return(0,w.jsx)(tS,{scope:t,anchor:i,onAnchorChange:n,children:r})};tM.displayName=tb;var tC="PopperAnchor",tA=c.forwardRef((e,t)=>{let{__scopePopper:r,virtualRef:i,...n}=e,s=tk(tC,r),a=c.useRef(null),o=M(t,a),l=c.useRef(null);return c.useEffect(()=>{let e=l.current;l.current=i?.current||a.current,e!==l.current&&s.onAnchorChange(l.current)}),i?null:(0,w.jsx)(D.div,{...n,ref:o})});tA.displayName=tC;var tI="PopperContent",[tT,tz]=tw(tI),tE=c.forwardRef((e,t)=>{var r,i,n,s,a,o,l,u,h,d,p,f,m,g,y,x,v,b,_,S,k;let{__scopePopper:C,side:A="bottom",sideOffset:T=0,align:z="center",alignOffset:E=0,arrowPadding:N=0,avoidCollisions:j=!0,collisionBoundary:O=[],collisionPadding:P=0,sticky:B="partial",hideWhenDetached:L=!1,updatePositionStrategy:F="optimized",onPlaced:V,...U}=e,$=tk(tI,C),[W,G]=c.useState(null),H=M(t,e=>G(e)),[q,Y]=c.useState(null),X=tv(q),Z=X?.width??0,J=X?.height??0,K="number"==typeof P?P:{top:0,right:0,bottom:0,left:0,...P},Q=Array.isArray(O)?O:[O],ee=Q.length>0,er={padding:K,boundary:Q.filter(tD),altBoundary:ee},{refs:ei,floatingStyles:en,placement:es,isPositioned:el,middlewareData:ec}=function(e){void 0===e&&(e={});let{placement:t="bottom",strategy:r="absolute",middleware:i=[],platform:n,elements:{reference:s,floating:a}={},transform:o=!0,whileElementsMounted:l,open:u}=e,[h,d]=c.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[p,f]=c.useState(i);tf(p,i)||f(i);let[m,g]=c.useState(null),[y,x]=c.useState(null),v=c.useCallback(e=>{e!==S.current&&(S.current=e,g(e))},[]),b=c.useCallback(e=>{e!==k.current&&(k.current=e,x(e))},[]),w=s||m,_=a||y,S=c.useRef(null),k=c.useRef(null),M=c.useRef(h),C=null!=l,A=ty(l),T=ty(n),z=ty(u),E=c.useCallback(()=>{var e,i;let n,s,a;if(!S.current||!k.current)return;let o={placement:t,strategy:r,middleware:p};T.current&&(o.platform=T.current),(e=S.current,i=k.current,n=new Map,a={...(s={platform:tc,...o}).platform,_c:n},ez(e,i,{...s,platform:a})).then(e=>{let t={...e,isPositioned:!1!==z.current};N.current&&!tf(M.current,t)&&(M.current=t,I.flushSync(()=>{d(t)}))})},[p,t,r,T,z]);tp(()=>{!1===u&&M.current.isPositioned&&(M.current.isPositioned=!1,d(e=>({...e,isPositioned:!1})))},[u]);let N=c.useRef(!1);tp(()=>(N.current=!0,()=>{N.current=!1}),[]),tp(()=>{if(w&&(S.current=w),_&&(k.current=_),w&&_){if(A.current)return A.current(w,_,E);E()}},[w,_,E,A,C]);let j=c.useMemo(()=>({reference:S,floating:k,setReference:v,setFloating:b}),[v,b]),O=c.useMemo(()=>({reference:w,floating:_}),[w,_]),D=c.useMemo(()=>{let e={position:r,left:0,top:0};if(!O.floating)return e;let t=tg(O.floating,h.x),i=tg(O.floating,h.y);return o?{...e,transform:"translate("+t+"px, "+i+"px)",...tm(O.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:t,top:i}},[r,o,O.floating,h.x,h.y]);return c.useMemo(()=>({...h,update:E,refs:j,elements:O,floatingStyles:D}),[h,E,j,O,D])}({strategy:"fixed",placement:A+("center"!==z?"-"+z:""),whileElementsMounted:(...e)=>(function(e,t,r,i){let n;void 0===i&&(i={});let{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:o="function"==typeof ResizeObserver,layoutShift:l="function"==typeof IntersectionObserver,animationFrame:u=!1}=i,c=e6(e),h=s||a?[...c?e3(c):[],...e3(t)]:[];h.forEach(e=>{s&&e.addEventListener("scroll",r,{passive:!0}),a&&e.addEventListener("resize",r)});let d=c&&l?function(e,t){let r,i=null,n=eB(e);function s(){var e;clearTimeout(r),null==(e=i)||e.disconnect(),i=null}return!function a(o,l){void 0===o&&(o=!1),void 0===l&&(l=1),s();let u=e.getBoundingClientRect(),{left:c,top:h,width:d,height:p}=u;if(o||t(),!d||!p)return;let f={rootMargin:-eu(h)+"px "+-eu(n.clientWidth-(c+d))+"px "+-eu(n.clientHeight-(h+p))+"px "+-eu(c)+"px",threshold:eo(0,ea(1,l))||1},m=!0;function g(t){let i=t[0].intersectionRatio;if(i!==l){if(!m)return a();i?a(!1,i):r=setTimeout(()=>{a(!1,1e-7)},1e3)}1!==i||th(u,e.getBoundingClientRect())||a(),m=!1}try{i=new IntersectionObserver(g,{...f,root:n.ownerDocument})}catch(e){i=new IntersectionObserver(g,f)}i.observe(e)}(!0),s}(c,r):null,p=-1,f=null;o&&(f=new ResizeObserver(e=>{let[i]=e;i&&i.target===c&&f&&(f.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var e;null==(e=f)||e.observe(t)})),r()}),c&&!u&&f.observe(c),f.observe(t));let m=u?tt(e):null;return u&&function t(){let i=tt(e);m&&!th(m,i)&&r(),m=i,n=requestAnimationFrame(t)}(),r(),()=>{var e;h.forEach(e=>{s&&e.removeEventListener("scroll",r),a&&e.removeEventListener("resize",r)}),null==d||d(),null==(e=f)||e.disconnect(),f=null,u&&cancelAnimationFrame(n)}})(...e,{animationFrame:"always"===F}),elements:{reference:$.anchor},middleware:[{...{name:"offset",options:n=r={mainAxis:T+J,alignmentAxis:E},async fn(e){var t,r;let{x:i,y:s,placement:a,middlewareData:o}=e,l=await eO(e,n);return a===(null==(t=o.offset)?void 0:t.placement)&&null!=(r=o.arrow)&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:a}}}},options:[r,i]},j&&{...{name:"shift",options:h=l={mainAxis:!0,crossAxis:!1,limiter:"partial"===B?{...(void 0===(o=s)&&(o={}),{options:o,fn(e){let{x:t,y:r,placement:i,rects:n,middlewareData:s}=e,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=ep(o,e),c={x:t,y:r},h=ev(i),d=eg(h),p=c[d],f=c[h],m=ep(a,e),g="number"==typeof m?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){let e="y"===d?"height":"width",t=n.reference[d]-n.floating[e]+g.mainAxis,r=n.reference[d]+n.reference[e]-g.mainAxis;p<t?p=t:p>r&&(p=r)}if(u){var y,x;let e="y"===d?"width":"height",t=ej.has(ef(i)),r=n.reference[h]-n.floating[e]+(t&&(null==(y=s.offset)?void 0:y[h])||0)+(t?0:g.crossAxis),a=n.reference[h]+n.reference[e]+(t?0:(null==(x=s.offset)?void 0:x[h])||0)-(t?g.crossAxis:0);f<r?f=r:f>a&&(f=a)}return{[d]:p,[h]:f}}}),options:[s,a]}:void 0,...er},async fn(e){let{x:t,y:r,placement:i,platform:n}=e,{mainAxis:s=!0,crossAxis:a=!1,limiter:o={fn:e=>{let{x:t,y:r}=e;return{x:t,y:r}}},...l}=ep(h,e),u={x:t,y:r},c=await n.detectOverflow(e,l),d=ev(ef(i)),p=eg(d),f=u[p],m=u[d];if(s){let e="y"===p?"top":"left",t="y"===p?"bottom":"right",r=f+c[e],i=f-c[t];f=eo(r,ea(f,i))}if(a){let e="y"===d?"top":"left",t="y"===d?"bottom":"right",r=m+c[e],i=m-c[t];m=eo(r,ea(m,i))}let g=o.fn({...e,[p]:f,[d]:m});return{...g,data:{x:g.x-t,y:g.y-r,enabled:{[p]:s,[d]:a}}}}},options:[l,u]},j&&{...{name:"flip",options:f=d={...er},async fn(e){var t,r,i,n,s,a,o,l;let u,c,h,{placement:d,middlewareData:p,rects:m,initialPlacement:g,platform:y,elements:x}=e,{mainAxis:v=!0,crossAxis:b=!0,fallbackPlacements:w,fallbackStrategy:_="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:k=!0,...M}=ep(f,e);if(null!=(t=p.arrow)&&t.alignmentOffset)return{};let C=ef(d),A=ev(g),I=ef(g)===g,T=await (null==y.isRTL?void 0:y.isRTL(x.floating)),z=w||(I||!k?[eM(g)]:(u=eM(g),[eb(g),u,eb(u)])),E="none"!==S;!w&&E&&z.push(...(c=em(g),h=function(e,t,r){switch(e){case"top":case"bottom":if(r)return t?e_:ew;return t?ew:e_;case"left":case"right":return t?eS:ek;default:return[]}}(ef(g),"start"===S,T),c&&(h=h.map(e=>e+"-"+c),k&&(h=h.concat(h.map(eb)))),h));let N=[g,...z],j=await y.detectOverflow(e,M),O=[],D=(null==(r=p.flip)?void 0:r.overflows)||[];if(v&&O.push(j[C]),b){let e,t,r,i,n=(a=d,o=m,void 0===(l=T)&&(l=!1),e=em(a),r=ey(t=eg(ev(a))),i="x"===t?e===(l?"end":"start")?"right":"left":"start"===e?"bottom":"top",o.reference[r]>o.floating[r]&&(i=eM(i)),[i,eM(i)]);O.push(j[n[0]],j[n[1]])}if(D=[...D,{placement:d,overflows:O}],!O.every(e=>e<=0)){let e=((null==(i=p.flip)?void 0:i.index)||0)+1,t=N[e];if(t&&("alignment"!==b||A===ev(t)||D.every(e=>ev(e.placement)!==A||e.overflows[0]>0)))return{data:{index:e,overflows:D},reset:{placement:t}};let r=null==(n=D.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0])?void 0:n.placement;if(!r)switch(_){case"bestFit":{let e=null==(s=D.filter(e=>{if(E){let t=ev(e.placement);return t===A||"y"===t}return!0}).map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0])?void 0:s[0];e&&(r=e);break}case"initialPlacement":r=g}if(d!==r)return{reset:{placement:r}}}return{}}},options:[d,p]},{...{name:"size",options:y=m={...er,apply:({elements:e,rects:t,availableWidth:r,availableHeight:i})=>{let{width:n,height:s}=t.reference,a=e.floating.style;a.setProperty("--radix-popper-available-width",`${r}px`),a.setProperty("--radix-popper-available-height",`${i}px`),a.setProperty("--radix-popper-anchor-width",`${n}px`),a.setProperty("--radix-popper-anchor-height",`${s}px`)}},async fn(e){var t,r;let i,n,{placement:s,rects:a,platform:o,elements:l}=e,{apply:u=()=>{},...c}=ep(y,e),h=await o.detectOverflow(e,c),d=ef(s),p=em(s),f="y"===ev(s),{width:m,height:g}=a.floating;"top"===d||"bottom"===d?(i=d,n=p===(await (null==o.isRTL?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(n=d,i="end"===p?"top":"bottom");let x=g-h.top-h.bottom,v=m-h.left-h.right,b=ea(g-h[i],x),w=ea(m-h[n],v),_=!e.middlewareData.shift,S=b,k=w;if(null!=(t=e.middlewareData.shift)&&t.enabled.x&&(k=v),null!=(r=e.middlewareData.shift)&&r.enabled.y&&(S=x),_&&!p){let e=eo(h.left,0),t=eo(h.right,0),r=eo(h.top,0),i=eo(h.bottom,0);f?k=m-2*(0!==e||0!==t?e+t:eo(h.left,h.right)):S=g-2*(0!==r||0!==i?r+i:eo(h.top,h.bottom))}await u({...e,availableWidth:k,availableHeight:S});let M=await o.getDimensions(l.floating);return m!==M.width||g!==M.height?{reset:{rects:!0}}:{}}},options:[m,g]},q&&{...{name:"arrow",options:b=x={element:q,padding:N},fn(e){let{element:t,padding:r}="function"==typeof b?b(e):b;return t&&({}).hasOwnProperty.call(t,"current")?null!=t.current?td({element:t.current,padding:r}).fn(e):{}:t?td({element:t,padding:r}).fn(e):{}}},options:[x,v]},tP({arrowWidth:Z,arrowHeight:J}),L&&{...{name:"hide",options:k=_={strategy:"referenceHidden",...er},async fn(e){let{rects:t,platform:r}=e,{strategy:i="referenceHidden",...n}=ep(k,e);switch(i){case"referenceHidden":{let i=eE(await r.detectOverflow(e,{...n,elementContext:"reference"}),t.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:eN(i)}}}case"escaped":{let i=eE(await r.detectOverflow(e,{...n,altBoundary:!0}),t.floating);return{data:{escapedOffsets:i,escaped:eN(i)}}}default:return{}}}},options:[_,S]}]}),[eh,ed]=tR(es),ex=R(V);et(()=>{el&&ex?.()},[el,ex]);let eC=ec.arrow?.x,eA=ec.arrow?.y,eI=ec.arrow?.centerOffset!==0,[eT,eD]=c.useState();return et(()=>{W&&eD(window.getComputedStyle(W).zIndex)},[W]),(0,w.jsx)("div",{ref:ei.setFloating,"data-radix-popper-content-wrapper":"",style:{...en,transform:el?en.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:eT,"--radix-popper-transform-origin":[ec.transformOrigin?.x,ec.transformOrigin?.y].join(" "),...ec.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:(0,w.jsx)(tT,{scope:C,placedSide:eh,onArrowChange:Y,arrowX:eC,arrowY:eA,shouldHideArrow:eI,children:(0,w.jsx)(D.div,{"data-side":eh,"data-align":ed,...U,ref:H,style:{...U.style,animation:el?void 0:"none"}})})})});tE.displayName=tI;var tN="PopperArrow",tj={top:"bottom",right:"left",bottom:"top",left:"right"},tO=c.forwardRef(function(e,t){let{__scopePopper:r,...i}=e,n=tz(tN,r),s=tj[n.placedSide];return(0,w.jsx)("span",{ref:n.onArrowChange,style:{position:"absolute",left:n.arrowX,top:n.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[n.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[n.placedSide],visibility:n.shouldHideArrow?"hidden":void 0},children:(0,w.jsx)(tx,{...i,ref:t,style:{...i.style,display:"block"}})})});function tD(e){return null!==e}tO.displayName=tN;var tP=e=>({name:"transformOrigin",options:e,fn(t){let{placement:r,rects:i,middlewareData:n}=t,s=n.arrow?.centerOffset!==0,a=s?0:e.arrowWidth,o=s?0:e.arrowHeight,[l,u]=tR(r),c={start:"0%",center:"50%",end:"100%"}[u],h=(n.arrow?.x??0)+a/2,d=(n.arrow?.y??0)+o/2,p="",f="";return"bottom"===l?(p=s?c:`${h}px`,f=`${-o}px`):"top"===l?(p=s?c:`${h}px`,f=`${i.floating.height+o}px`):"right"===l?(p=`${-o}px`,f=s?c:`${d}px`):"left"===l&&(p=`${i.floating.width+o}px`,f=s?c:`${d}px`),{data:{x:p,y:f}}}});function tR(e){let[t,r="center"]=e.split("-");return[t,r]}e.s(["Anchor",()=>tA,"Arrow",()=>tO,"Content",()=>tE,"Root",()=>tM,"createPopperScope",()=>t_],52740);var tB=c.forwardRef((e,t)=>{let{container:r,...i}=e,[n,s]=c.useState(!1);et(()=>s(!0),[]);let a=r||n&&globalThis?.document?.body;return a?I.default.createPortal((0,w.jsx)(D.div,{...i,ref:t}),a):null});tB.displayName="Portal",e.s(["Portal",()=>tB],39979);var tL=e=>{var t;let r,i,{present:n,children:s}=e,a=function(e){var t,r;let[i,n]=c.useState(),s=c.useRef(null),a=c.useRef(e),o=c.useRef("none"),[l,u]=(t=e?"mounted":"unmounted",r={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},c.useReducer((e,t)=>r[e][t]??e,t));return c.useEffect(()=>{let e=tF(s.current);o.current="mounted"===l?e:"none"},[l]),et(()=>{let t=s.current,r=a.current;if(r!==e){let i=o.current,n=tF(t);e?u("MOUNT"):"none"===n||t?.display==="none"?u("UNMOUNT"):r&&i!==n?u("ANIMATION_OUT"):u("UNMOUNT"),a.current=e}},[e,u]),et(()=>{if(i){let e,t=i.ownerDocument.defaultView??window,r=r=>{let n=tF(s.current).includes(CSS.escape(r.animationName));if(r.target===i&&n&&(u("ANIMATION_END"),!a.current)){let r=i.style.animationFillMode;i.style.animationFillMode="forwards",e=t.setTimeout(()=>{"forwards"===i.style.animationFillMode&&(i.style.animationFillMode=r)})}},n=e=>{e.target===i&&(o.current=tF(s.current))};return i.addEventListener("animationstart",n),i.addEventListener("animationcancel",r),i.addEventListener("animationend",r),()=>{t.clearTimeout(e),i.removeEventListener("animationstart",n),i.removeEventListener("animationcancel",r),i.removeEventListener("animationend",r)}}u("ANIMATION_END")},[i,u]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:c.useCallback(e=>{s.current=e?getComputedStyle(e):null,n(e)},[])}}(n),o="function"==typeof s?s({present:a.isPresent}):c.Children.only(s),l=M(a.ref,(t=o,(i=(r=Object.getOwnPropertyDescriptor(t.props,"ref")?.get)&&"isReactWarning"in r&&r.isReactWarning)?t.ref:(i=(r=Object.getOwnPropertyDescriptor(t,"ref")?.get)&&"isReactWarning"in r&&r.isReactWarning)?t.props.ref:t.props.ref||t.ref));return"function"==typeof s||a.isPresent?c.cloneElement(o,{ref:l}):null};function tF(e){return e?.animationName||"none"}tL.displayName="Presence",e.s(["Presence",()=>tL],85995),c[" useEffectEvent ".trim().toString()],c[" useInsertionEffect ".trim().toString()];var tV=c[" useInsertionEffect ".trim().toString()]||et;function tU({prop:e,defaultProp:t,onChange:r=()=>{},caller:i}){let[n,s,a]=function({defaultProp:e,onChange:t}){let[r,i]=c.useState(e),n=c.useRef(r),s=c.useRef(t);return tV(()=>{s.current=t},[t]),c.useEffect(()=>{n.current!==r&&(s.current?.(r),n.current=r)},[r,n]),[r,i,s]}({defaultProp:t,onChange:r}),o=void 0!==e,l=o?e:n;{let t=c.useRef(void 0!==e);c.useEffect(()=>{let e=t.current;if(e!==o){let t=o?"controlled":"uncontrolled";console.warn(`${i} is changing from ${e?"controlled":"uncontrolled"} to ${t}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`)}t.current=o},[o,i])}return[l,c.useCallback(t=>{if(o){let r="function"==typeof t?t(e):t;r!==e&&a.current?.(r)}else s(t)},[o,e,s,a])]}Symbol("RADIX:SYNC_STATE"),e.s(["useControllableState",()=>tU],36589);var t$=new WeakMap,tW=new WeakMap,tG={},tH=0,tq=function(e){return e&&(e.host||tq(e.parentNode))},tY=function(e,t,r,i){var n=(Array.isArray(e)?e:[e]).map(function(e){if(t.contains(e))return e;var r=tq(e);return r&&t.contains(r)?r:(console.error("aria-hidden",e,"in not contained inside",t,". Doing nothing"),null)}).filter(function(e){return!!e});tG[r]||(tG[r]=new WeakMap);var s=tG[r],a=[],o=new Set,l=new Set(n),u=function(e){!e||o.has(e)||(o.add(e),u(e.parentNode))};n.forEach(u);var c=function(e){!e||l.has(e)||Array.prototype.forEach.call(e.children,function(e){if(o.has(e))c(e);else try{var t=e.getAttribute(i),n=null!==t&&"false"!==t,l=(t$.get(e)||0)+1,u=(s.get(e)||0)+1;t$.set(e,l),s.set(e,u),a.push(e),1===l&&n&&tW.set(e,!0),1===u&&e.setAttribute(r,"true"),n||e.setAttribute(i,"true")}catch(t){console.error("aria-hidden: cannot operate on ",e,t)}})};return c(t),o.clear(),tH++,function(){a.forEach(function(e){var t=t$.get(e)-1,n=s.get(e)-1;t$.set(e,t),s.set(e,n),t||(tW.has(e)||e.removeAttribute(i),tW.delete(e)),n||e.removeAttribute(r)}),--tH||(t$=new WeakMap,t$=new WeakMap,tW=new WeakMap,tG={})}},tX=function(e,t,r){void 0===r&&(r="data-aria-hidden");var i=Array.from(Array.isArray(e)?e:[e]),n=t||("undefined"==typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body);return n?(i.push.apply(i,Array.from(n.querySelectorAll("[aria-live], script"))),tY(i,n,r,"aria-hidden")):function(){return null}};e.s(["hideOthers",()=>tX],73772);var tZ=function(){return(tZ=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};function tJ(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&0>t.indexOf(i)&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,i=Object.getOwnPropertySymbols(e);n<i.length;n++)0>t.indexOf(i[n])&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(r[i[n]]=e[i[n]]);return r}var tK=("function"==typeof SuppressedError&&SuppressedError,"right-scroll-bar-position"),tQ="width-before-scroll-bar";function t1(e,t){return"function"==typeof e?e(t):e&&(e.current=t),e}var t0="undefined"!=typeof window?c.useLayoutEffect:c.useEffect,t2=new WeakMap,t9=(void 0===r&&(r={}),(void 0===i&&(i=function(e){return e}),n=[],s=!1,a={read:function(){if(s)throw Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:null},useMedium:function(e){var t=i(e,s);return n.push(t),function(){n=n.filter(function(e){return e!==t})}},assignSyncMedium:function(e){for(s=!0;n.length;){var t=n;n=[],t.forEach(e)}n={push:function(t){return e(t)},filter:function(){return n}}},assignMedium:function(e){s=!0;var t=[];if(n.length){var r=n;n=[],r.forEach(e),t=n}var i=function(){var r=t;t=[],r.forEach(e)},a=function(){return Promise.resolve().then(i)};a(),n={push:function(e){t.push(e),a()},filter:function(e){return t=t.filter(e),n}}}}).options=tZ({async:!0,ssr:!1},r),a),t3=function(){},t4=c.forwardRef(function(e,t){var r,i,n,s,a=c.useRef(null),o=c.useState({onScrollCapture:t3,onWheelCapture:t3,onTouchMoveCapture:t3}),l=o[0],u=o[1],h=e.forwardProps,d=e.children,p=e.className,f=e.removeScrollBar,m=e.enabled,g=e.shards,y=e.sideCar,x=e.noRelative,v=e.noIsolation,b=e.inert,w=e.allowPinchZoom,_=e.as,S=e.gapMode,k=tJ(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),M=(r=[a,t],i=function(e){return r.forEach(function(t){return t1(t,e)})},(n=(0,c.useState)(function(){return{value:null,callback:i,facade:{get current(){return n.value},set current(value){var e=n.value;e!==value&&(n.value=value,n.callback(value,e))}}}})[0]).callback=i,s=n.facade,t0(function(){var e=t2.get(s);if(e){var t=new Set(e),i=new Set(r),n=s.current;t.forEach(function(e){i.has(e)||t1(e,null)}),i.forEach(function(e){t.has(e)||t1(e,n)})}t2.set(s,r)},[r]),s),C=tZ(tZ({},k),l);return c.createElement(c.Fragment,null,m&&c.createElement(y,{sideCar:t9,removeScrollBar:f,shards:g,noRelative:x,noIsolation:v,inert:b,setCallbacks:u,allowPinchZoom:!!w,lockRef:a,gapMode:S}),h?c.cloneElement(c.Children.only(d),tZ(tZ({},C),{ref:M})):c.createElement(void 0===_?"div":_,tZ({},C,{className:p,ref:M}),d))});t4.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},t4.classNames={fullWidth:tQ,zeroRight:tK};var t8=function(e){var t=e.sideCar,r=tJ(e,["sideCar"]);if(!t)throw Error("Sidecar: please provide `sideCar` property to import the right car");var i=t.read();if(!i)throw Error("Sidecar medium not found");return c.createElement(i,tZ({},r))};t8.isSideCarExport=!0;var t6=function(){var e=0,t=null;return{add:function(r){if(0==e&&(t=function(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=u||("undefined"!=typeof __webpack_nonce__?__webpack_nonce__:void 0);return t&&e.setAttribute("nonce",t),e}())){var i,n;(i=t).styleSheet?i.styleSheet.cssText=r:i.appendChild(document.createTextNode(r)),n=t,(document.head||document.getElementsByTagName("head")[0]).appendChild(n)}e++},remove:function(){--e||!t||(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},t5=function(){var e=t6();return function(t,r){c.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},t7=function(){var e=t5();return function(t){return e(t.styles,t.dynamic),null}},re={left:0,top:0,right:0,gap:0},rt=function(e){return parseInt(e||"",10)||0},rr=function(e){var t=window.getComputedStyle(document.body),r=t["padding"===e?"paddingLeft":"marginLeft"],i=t["padding"===e?"paddingTop":"marginTop"],n=t["padding"===e?"paddingRight":"marginRight"];return[rt(r),rt(i),rt(n)]},ri=function(e){if(void 0===e&&(e="margin"),"undefined"==typeof window)return re;var t=rr(e),r=document.documentElement.clientWidth,i=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,i-r+t[2]-t[0])}},rn=t7(),rs="data-scroll-locked",ra=function(e,t,r,i){var n=e.left,s=e.top,a=e.right,o=e.gap;return void 0===r&&(r="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(i,";\n   padding-right: ").concat(o,"px ").concat(i,";\n  }\n  body[").concat(rs,"] {\n    overflow: hidden ").concat(i,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(i,";"),"margin"===r&&"\n    padding-left: ".concat(n,"px;\n    padding-top: ").concat(s,"px;\n    padding-right: ").concat(a,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(o,"px ").concat(i,";\n    "),"padding"===r&&"padding-right: ".concat(o,"px ").concat(i,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(tK," {\n    right: ").concat(o,"px ").concat(i,";\n  }\n  \n  .").concat(tQ," {\n    margin-right: ").concat(o,"px ").concat(i,";\n  }\n  \n  .").concat(tK," .").concat(tK," {\n    right: 0 ").concat(i,";\n  }\n  \n  .").concat(tQ," .").concat(tQ," {\n    margin-right: 0 ").concat(i,";\n  }\n  \n  body[").concat(rs,"] {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(o,"px;\n  }\n")},ro=function(){var e=parseInt(document.body.getAttribute(rs)||"0",10);return isFinite(e)?e:0},rl=function(){c.useEffect(function(){return document.body.setAttribute(rs,(ro()+1).toString()),function(){var e=ro()-1;e<=0?document.body.removeAttribute(rs):document.body.setAttribute(rs,e.toString())}},[])},ru=function(e){var t=e.noRelative,r=e.noImportant,i=e.gapMode,n=void 0===i?"margin":i;rl();var s=c.useMemo(function(){return ri(n)},[n]);return c.createElement(rn,{styles:ra(s,!t,n,r?"":"!important")})},rc=!1;if("undefined"!=typeof window)try{var rh=Object.defineProperty({},"passive",{get:function(){return rc=!0,!0}});window.addEventListener("test",rh,rh),window.removeEventListener("test",rh,rh)}catch(e){rc=!1}var rd=!!rc&&{passive:!1},rp=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return"hidden"!==r[t]&&(r.overflowY!==r.overflowX||"TEXTAREA"===e.tagName||"visible"!==r[t])},rf=function(e,t){var r=t.ownerDocument,i=t;do{if("undefined"!=typeof ShadowRoot&&i instanceof ShadowRoot&&(i=i.host),rm(e,i)){var n=rg(e,i);if(n[1]>n[2])return!0}i=i.parentNode}while(i&&i!==r.body)return!1},rm=function(e,t){return"v"===e?rp(t,"overflowY"):rp(t,"overflowX")},rg=function(e,t){return"v"===e?[t.scrollTop,t.scrollHeight,t.clientHeight]:[t.scrollLeft,t.scrollWidth,t.clientWidth]},ry=function(e,t,r,i,n){var s,a=(s=window.getComputedStyle(t).direction,"h"===e&&"rtl"===s?-1:1),o=a*i,l=r.target,u=t.contains(l),c=!1,h=o>0,d=0,p=0;do{if(!l)break;var f=rg(e,l),m=f[0],g=f[1]-f[2]-a*m;(m||g)&&rm(e,l)&&(d+=g,p+=m);var y=l.parentNode;l=y&&y.nodeType===Node.DOCUMENT_FRAGMENT_NODE?y.host:y}while(!u&&l!==document.body||u&&(t.contains(l)||t===l))return h&&(n&&1>Math.abs(d)||!n&&o>d)?c=!0:!h&&(n&&1>Math.abs(p)||!n&&-o>p)&&(c=!0),c},rx=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},rv=function(e){return[e.deltaX,e.deltaY]},rb=function(e){return e&&"current"in e?e.current:e},rw=0,r_=[];let rS=(o=function(e){var t=c.useRef([]),r=c.useRef([0,0]),i=c.useRef(),n=c.useState(rw++)[0],s=c.useState(t7)[0],a=c.useRef(e);c.useEffect(function(){a.current=e},[e]),c.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(n));var t=(function(e,t,r){if(r||2==arguments.length)for(var i,n=0,s=t.length;n<s;n++)!i&&n in t||(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))})([e.lockRef.current],(e.shards||[]).map(rb),!0).filter(Boolean);return t.forEach(function(e){return e.classList.add("allow-interactivity-".concat(n))}),function(){document.body.classList.remove("block-interactivity-".concat(n)),t.forEach(function(e){return e.classList.remove("allow-interactivity-".concat(n))})}}},[e.inert,e.lockRef.current,e.shards]);var o=c.useCallback(function(e,t){if("touches"in e&&2===e.touches.length||"wheel"===e.type&&e.ctrlKey)return!a.current.allowPinchZoom;var n,s=rx(e),o=r.current,l="deltaX"in e?e.deltaX:o[0]-s[0],u="deltaY"in e?e.deltaY:o[1]-s[1],c=e.target,h=Math.abs(l)>Math.abs(u)?"h":"v";if("touches"in e&&"h"===h&&"range"===c.type)return!1;var d=window.getSelection(),p=d&&d.anchorNode;if(p&&(p===c||p.contains(c)))return!1;var f=rf(h,c);if(!f)return!0;if(f?n=h:(n="v"===h?"h":"v",f=rf(h,c)),!f)return!1;if(!i.current&&"changedTouches"in e&&(l||u)&&(i.current=n),!n)return!0;var m=i.current||n;return ry(m,t,e,"h"===m?l:u,!0)},[]),l=c.useCallback(function(e){if(r_.length&&r_[r_.length-1]===s){var r="deltaY"in e?rv(e):rx(e),i=t.current.filter(function(t){var i;return t.name===e.type&&(t.target===e.target||e.target===t.shadowParent)&&(i=t.delta,i[0]===r[0]&&i[1]===r[1])})[0];if(i&&i.should){e.cancelable&&e.preventDefault();return}if(!i){var n=(a.current.shards||[]).map(rb).filter(Boolean).filter(function(t){return t.contains(e.target)});(n.length>0?o(e,n[0]):!a.current.noIsolation)&&e.cancelable&&e.preventDefault()}}},[]),u=c.useCallback(function(e,r,i,n){var s={name:e,delta:r,target:i,should:n,shadowParent:function(e){for(var t=null;null!==e;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}(i)};t.current.push(s),setTimeout(function(){t.current=t.current.filter(function(e){return e!==s})},1)},[]),h=c.useCallback(function(e){r.current=rx(e),i.current=void 0},[]),d=c.useCallback(function(t){u(t.type,rv(t),t.target,o(t,e.lockRef.current))},[]),p=c.useCallback(function(t){u(t.type,rx(t),t.target,o(t,e.lockRef.current))},[]);c.useEffect(function(){return r_.push(s),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:p}),document.addEventListener("wheel",l,rd),document.addEventListener("touchmove",l,rd),document.addEventListener("touchstart",h,rd),function(){r_=r_.filter(function(e){return e!==s}),document.removeEventListener("wheel",l,rd),document.removeEventListener("touchmove",l,rd),document.removeEventListener("touchstart",h,rd)}},[]);var f=e.removeScrollBar,m=e.inert;return c.createElement(c.Fragment,null,m?c.createElement(s,{styles:"\n  .block-interactivity-".concat(n," {pointer-events: none;}\n  .allow-interactivity-").concat(n," {pointer-events: all;}\n")}):null,f?c.createElement(ru,{noRelative:e.noRelative,gapMode:e.gapMode}):null)},t9.useMedium(o),t8);var rk=c.forwardRef(function(e,t){return c.createElement(t4,tZ({},e,{ref:t,sideCar:rS}))});rk.classNames=t4.classNames,e.s(["RemoveScroll",0,rk],13044);var rM="Popover",[rC,rA]=A(rM,[t_]),rI=t_(),[rT,rz]=rC(rM),rE=e=>{let{__scopePopover:t,children:r,open:i,defaultOpen:n,onOpenChange:s,modal:a=!1}=e,o=rI(t),l=c.useRef(null),[u,h]=c.useState(!1),[d,p]=tU({prop:i,defaultProp:n??!1,onChange:s,caller:rM});return(0,w.jsx)(tM,{...o,children:(0,w.jsx)(rT,{scope:t,contentId:en(),triggerRef:l,open:d,onOpenChange:p,onOpenToggle:c.useCallback(()=>p(e=>!e),[p]),hasCustomAnchor:u,onCustomAnchorAdd:c.useCallback(()=>h(!0),[]),onCustomAnchorRemove:c.useCallback(()=>h(!1),[]),modal:a,children:r})})};rE.displayName=rM;var rN="PopoverAnchor",rj=c.forwardRef((e,t)=>{let{__scopePopover:r,...i}=e,n=rz(rN,r),s=rI(r),{onCustomAnchorAdd:a,onCustomAnchorRemove:o}=n;return c.useEffect(()=>(a(),()=>o()),[a,o]),(0,w.jsx)(tA,{...s,...i,ref:t})});rj.displayName=rN;var rO="PopoverTrigger",rD=c.forwardRef((e,t)=>{let{__scopePopover:r,...i}=e,n=rz(rO,r),s=rI(r),a=M(t,n.triggerRef),o=(0,w.jsx)(D.button,{type:"button","aria-haspopup":"dialog","aria-expanded":n.open,"aria-controls":n.contentId,"data-state":rX(n.open),...i,ref:a,onClick:_(e.onClick,n.onOpenToggle)});return n.hasCustomAnchor?o:(0,w.jsx)(tA,{asChild:!0,...s,children:o})});rD.displayName=rO;var rP="PopoverPortal",[rR,rB]=rC(rP,{forceMount:void 0}),rL=e=>{let{__scopePopover:t,forceMount:r,children:i,container:n}=e,s=rz(rP,t);return(0,w.jsx)(rR,{scope:t,forceMount:r,children:(0,w.jsx)(tL,{present:r||s.open,children:(0,w.jsx)(tB,{asChild:!0,container:n,children:i})})})};rL.displayName=rP;var rF="PopoverContent",rV=c.forwardRef((e,t)=>{let r=rB(rF,e.__scopePopover),{forceMount:i=r.forceMount,...n}=e,s=rz(rF,e.__scopePopover);return(0,w.jsx)(tL,{present:i||s.open,children:s.modal?(0,w.jsx)(r$,{...n,ref:t}):(0,w.jsx)(rW,{...n,ref:t})})});rV.displayName=rF;var rU=T("PopoverContent.RemoveScroll"),r$=c.forwardRef((e,t)=>{let r=rz(rF,e.__scopePopover),i=c.useRef(null),n=M(t,i),s=c.useRef(!1);return c.useEffect(()=>{let e=i.current;if(e)return tX(e)},[]),(0,w.jsx)(rk,{as:rU,allowPinchZoom:!0,children:(0,w.jsx)(rG,{...e,ref:n,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:_(e.onCloseAutoFocus,e=>{e.preventDefault(),s.current||r.triggerRef.current?.focus()}),onPointerDownOutside:_(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey;s.current=2===t.button||r},{checkForDefaultPrevented:!1}),onFocusOutside:_(e.onFocusOutside,e=>e.preventDefault(),{checkForDefaultPrevented:!1})})})}),rW=c.forwardRef((e,t)=>{let r=rz(rF,e.__scopePopover),i=c.useRef(!1),n=c.useRef(!1);return(0,w.jsx)(rG,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(i.current||r.triggerRef.current?.focus(),t.preventDefault()),i.current=!1,n.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(i.current=!0,"pointerdown"===t.detail.originalEvent.type&&(n.current=!0));let s=t.target;r.triggerRef.current?.contains(s)&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&n.current&&t.preventDefault()}})}),rG=c.forwardRef((e,t)=>{let{__scopePopover:r,trapFocus:i,onOpenAutoFocus:n,onCloseAutoFocus:s,disableOutsidePointerEvents:a,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:u,onInteractOutside:c,...h}=e,d=rz(rF,r),p=rI(r);return W(),(0,w.jsx)(X,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:n,onUnmountAutoFocus:s,children:(0,w.jsx)(F,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:c,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:u,onDismiss:()=>d.onOpenChange(!1),children:(0,w.jsx)(tE,{"data-state":rX(d.open),role:"dialog",id:d.contentId,...p,...h,ref:t,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),rH="PopoverClose",rq=c.forwardRef((e,t)=>{let{__scopePopover:r,...i}=e,n=rz(rH,r);return(0,w.jsx)(D.button,{type:"button",...i,ref:t,onClick:_(e.onClick,()=>n.onOpenChange(!1))})});rq.displayName=rH;var rY=c.forwardRef((e,t)=>{let{__scopePopover:r,...i}=e,n=rI(r);return(0,w.jsx)(tO,{...n,...i,ref:t})});function rX(e){return e?"open":"closed"}rY.displayName="PopoverArrow",e.s(["Anchor",()=>rj,"Arrow",()=>rY,"Close",()=>rq,"Content",()=>rV,"Popover",()=>rE,"PopoverAnchor",()=>rj,"PopoverArrow",()=>rY,"PopoverClose",()=>rq,"PopoverContent",()=>rV,"PopoverPortal",()=>rL,"PopoverTrigger",()=>rD,"Portal",()=>rL,"Root",()=>rE,"Trigger",()=>rD,"createPopoverScope",()=>rA],89920);var rZ=e.i(89920),rZ=rZ;function rJ(){for(var e,t,r=0,i="",n=arguments.length;r<n;r++)(e=arguments[r])&&(t=function e(t){var r,i,n="";if("string"==typeof t||"number"==typeof t)n+=t;else if("object"==typeof t)if(Array.isArray(t)){var s=t.length;for(r=0;r<s;r++)t[r]&&(i=e(t[r]))&&(n&&(n+=" "),n+=i)}else for(i in t)t[i]&&(n&&(n+=" "),n+=i);return n}(e))&&(i&&(i+=" "),i+=t);return i}e.s(["clsx",()=>rJ],7284);let rK=(e=new Map,t=null,r)=>({nextPart:e,validators:t,classGroupId:r}),rQ=[],r1=(e,t,r)=>{if(0==e.length-t)return r.classGroupId;let i=e[t],n=r.nextPart.get(i);if(n){let r=r1(e,t+1,n);if(r)return r}let s=r.validators;if(null===s)return;let a=0===t?e.join("-"):e.slice(t).join("-"),o=s.length;for(let e=0;e<o;e++){let t=s[e];if(t.validator(a))return t.classGroupId}},r0=(e,t)=>{let r=rK();for(let i in e)r2(e[i],r,i,t);return r},r2=(e,t,r,i)=>{let n=e.length;for(let s=0;s<n;s++)r9(e[s],t,r,i)},r9=(e,t,r,i)=>{"string"==typeof e?r3(e,t,r):"function"==typeof e?r4(e,t,r,i):r8(e,t,r,i)},r3=(e,t,r)=>{(""===e?t:r6(t,e)).classGroupId=r},r4=(e,t,r,i)=>{r5(e)?r2(e(i),t,r,i):(null===t.validators&&(t.validators=[]),t.validators.push({classGroupId:r,validator:e}))},r8=(e,t,r,i)=>{let n=Object.entries(e),s=n.length;for(let e=0;e<s;e++){let[s,a]=n[e];r2(a,r6(t,s),r,i)}},r6=(e,t)=>{let r=e,i=t.split("-"),n=i.length;for(let e=0;e<n;e++){let t=i[e],n=r.nextPart.get(t);n||(n=rK(),r.nextPart.set(t,n)),r=n}return r},r5=e=>"isThemeGetter"in e&&!0===e.isThemeGetter,r7=[],ie=(e,t,r,i,n)=>({modifiers:e,hasImportantModifier:t,baseClassName:r,maybePostfixModifierPosition:i,isExternal:n}),it=/\s+/,ir=e=>{let t;if("string"==typeof e)return e;let r="";for(let i=0;i<e.length;i++)e[i]&&(t=ir(e[i]))&&(r&&(r+=" "),r+=t);return r},ii=[],is=e=>{let t=t=>t[e]||ii;return t.isThemeGetter=!0,t},ia=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,io=/^\((?:(\w[\w-]*):)?(.+)\)$/i,il=/^\d+\/\d+$/,iu=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ic=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,ih=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,id=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,ip=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,im=e=>il.test(e),ig=e=>!!e&&!Number.isNaN(Number(e)),iy=e=>!!e&&Number.isInteger(Number(e)),ix=e=>e.endsWith("%")&&ig(e.slice(0,-1)),iv=e=>iu.test(e),ib=()=>!0,iw=e=>ic.test(e)&&!ih.test(e),i_=()=>!1,iS=e=>id.test(e),ik=e=>ip.test(e),iM=e=>!iA(e)&&!ij(e),iC=e=>iF(e,iW,i_),iA=e=>ia.test(e),iI=e=>iF(e,iG,iw),iT=e=>iF(e,iH,ig),iz=e=>iF(e,iU,i_),iE=e=>iF(e,i$,ik),iN=e=>iF(e,iY,iS),ij=e=>io.test(e),iO=e=>iV(e,iG),iD=e=>iV(e,iq),iP=e=>iV(e,iU),iR=e=>iV(e,iW),iB=e=>iV(e,i$),iL=e=>iV(e,iY,!0),iF=(e,t,r)=>{let i=ia.exec(e);return!!i&&(i[1]?t(i[1]):r(i[2]))},iV=(e,t,r=!1)=>{let i=io.exec(e);return!!i&&(i[1]?t(i[1]):r)},iU=e=>"position"===e||"percentage"===e,i$=e=>"image"===e||"url"===e,iW=e=>"length"===e||"size"===e||"bg-size"===e,iG=e=>"length"===e,iH=e=>"number"===e,iq=e=>"family-name"===e,iY=e=>"shadow"===e,iX=((e,...t)=>{let r,i,n,s,a=e=>{let t=i(e);if(t)return t;let s=((e,t)=>{let{parseClassName:r,getClassGroupId:i,getConflictingClassGroupIds:n,sortModifiers:s}=t,a=[],o=e.trim().split(it),l="";for(let e=o.length-1;e>=0;e-=1){let t=o[e],{isExternal:u,modifiers:c,hasImportantModifier:h,baseClassName:d,maybePostfixModifierPosition:p}=r(t);if(u){l=t+(l.length>0?" "+l:l);continue}let f=!!p,m=i(f?d.substring(0,p):d);if(!m){if(!f||!(m=i(d))){l=t+(l.length>0?" "+l:l);continue}f=!1}let g=0===c.length?"":1===c.length?c[0]:s(c).join(":"),y=h?g+"!":g,x=y+m;if(a.indexOf(x)>-1)continue;a.push(x);let v=n(m,f);for(let e=0;e<v.length;++e){let t=v[e];a.push(y+t)}l=t+(l.length>0?" "+l:l)}return l})(e,r);return n(e,s),s};return s=o=>{var l;let u;return i=(r={cache:(e=>{if(e<1)return{get:()=>void 0,set:()=>{}};let t=0,r=Object.create(null),i=Object.create(null),n=(n,s)=>{r[n]=s,++t>e&&(t=0,i=r,r=Object.create(null))};return{get(e){let t=r[e];return void 0!==t?t:void 0!==(t=i[e])?(n(e,t),t):void 0},set(e,t){e in r?r[e]=t:n(e,t)}}})((l=t.reduce((e,t)=>t(e),e())).cacheSize),parseClassName:(e=>{let{prefix:t,experimentalParseClassName:r}=e,i=e=>{let t,r=[],i=0,n=0,s=0,a=e.length;for(let o=0;o<a;o++){let a=e[o];if(0===i&&0===n){if(":"===a){r.push(e.slice(s,o)),s=o+1;continue}if("/"===a){t=o;continue}}"["===a?i++:"]"===a?i--:"("===a?n++:")"===a&&n--}let o=0===r.length?e:e.slice(s),l=o,u=!1;return o.endsWith("!")?(l=o.slice(0,-1),u=!0):o.startsWith("!")&&(l=o.slice(1),u=!0),ie(r,u,l,t&&t>s?t-s:void 0)};if(t){let e=t+":",r=i;i=t=>t.startsWith(e)?r(t.slice(e.length)):ie(r7,!1,t,void 0,!0)}if(r){let e=i;i=t=>r({className:t,parseClassName:e})}return i})(l),sortModifiers:(u=new Map,l.orderSensitiveModifiers.forEach((e,t)=>{u.set(e,1e6+t)}),e=>{let t=[],r=[];for(let i=0;i<e.length;i++){let n=e[i],s="["===n[0],a=u.has(n);s||a?(r.length>0&&(r.sort(),t.push(...r),r=[]),t.push(n)):r.push(n)}return r.length>0&&(r.sort(),t.push(...r)),t}),...(e=>{let t=(e=>{let{theme:t,classGroups:r}=e;return r0(r,t)})(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:i}=e;return{getClassGroupId:e=>{if(e.startsWith("[")&&e.endsWith("]")){var r;let t,i,n;return -1===(r=e).slice(1,-1).indexOf(":")?void 0:(i=(t=r.slice(1,-1)).indexOf(":"),(n=t.slice(0,i))?"arbitrary.."+n:void 0)}let i=e.split("-"),n=+(""===i[0]&&i.length>1);return r1(i,n,t)},getConflictingClassGroupIds:(e,t)=>{if(t){let t=i[e],n=r[e];if(t){if(n){let e=Array(n.length+t.length);for(let t=0;t<n.length;t++)e[t]=n[t];for(let r=0;r<t.length;r++)e[n.length+r]=t[r];return e}return t}return n||rQ}return r[e]||rQ}}})(l)}).cache.get,n=r.cache.set,s=a,a(o)},(...e)=>s(((...e)=>{let t,r,i=0,n="";for(;i<e.length;)(t=e[i++])&&(r=ir(t))&&(n&&(n+=" "),n+=r);return n})(...e))})(()=>{let e=is("color"),t=is("font"),r=is("text"),i=is("font-weight"),n=is("tracking"),s=is("leading"),a=is("breakpoint"),o=is("container"),l=is("spacing"),u=is("radius"),c=is("shadow"),h=is("inset-shadow"),d=is("text-shadow"),p=is("drop-shadow"),f=is("blur"),m=is("perspective"),g=is("aspect"),y=is("ease"),x=is("animate"),v=()=>["auto","avoid","all","avoid-page","page","left","right","column"],b=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],w=()=>[...b(),ij,iA],_=()=>["auto","hidden","clip","visible","scroll"],S=()=>["auto","contain","none"],k=()=>[ij,iA,l],M=()=>[im,"full","auto",...k()],C=()=>[iy,"none","subgrid",ij,iA],A=()=>["auto",{span:["full",iy,ij,iA]},iy,ij,iA],I=()=>[iy,"auto",ij,iA],T=()=>["auto","min","max","fr",ij,iA],z=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],E=()=>["start","end","center","stretch","center-safe","end-safe"],N=()=>["auto",...k()],j=()=>[im,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...k()],O=()=>[e,ij,iA],D=()=>[...b(),iP,iz,{position:[ij,iA]}],P=()=>["no-repeat",{repeat:["","x","y","space","round"]}],R=()=>["auto","cover","contain",iR,iC,{size:[ij,iA]}],B=()=>[ix,iO,iI],L=()=>["","none","full",u,ij,iA],F=()=>["",ig,iO,iI],V=()=>["solid","dashed","dotted","double"],U=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],$=()=>[ig,ix,iP,iz],W=()=>["","none",f,ij,iA],G=()=>["none",ig,ij,iA],H=()=>["none",ig,ij,iA],q=()=>[ig,ij,iA],Y=()=>[im,"full",...k()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[iv],breakpoint:[iv],color:[ib],container:[iv],"drop-shadow":[iv],ease:["in","out","in-out"],font:[iM],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[iv],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[iv],shadow:[iv],spacing:["px",ig],text:[iv],"text-shadow":[iv],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",im,iA,ij,g]}],container:["container"],columns:[{columns:[ig,iA,ij,o]}],"break-after":[{"break-after":v()}],"break-before":[{"break-before":v()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:w()}],overflow:[{overflow:_()}],"overflow-x":[{"overflow-x":_()}],"overflow-y":[{"overflow-y":_()}],overscroll:[{overscroll:S()}],"overscroll-x":[{"overscroll-x":S()}],"overscroll-y":[{"overscroll-y":S()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:M()}],"inset-x":[{"inset-x":M()}],"inset-y":[{"inset-y":M()}],start:[{start:M()}],end:[{end:M()}],top:[{top:M()}],right:[{right:M()}],bottom:[{bottom:M()}],left:[{left:M()}],visibility:["visible","invisible","collapse"],z:[{z:[iy,"auto",ij,iA]}],basis:[{basis:[im,"full","auto",o,...k()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ig,im,"auto","initial","none",iA]}],grow:[{grow:["",ig,ij,iA]}],shrink:[{shrink:["",ig,ij,iA]}],order:[{order:[iy,"first","last","none",ij,iA]}],"grid-cols":[{"grid-cols":C()}],"col-start-end":[{col:A()}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":C()}],"row-start-end":[{row:A()}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":T()}],"auto-rows":[{"auto-rows":T()}],gap:[{gap:k()}],"gap-x":[{"gap-x":k()}],"gap-y":[{"gap-y":k()}],"justify-content":[{justify:[...z(),"normal"]}],"justify-items":[{"justify-items":[...E(),"normal"]}],"justify-self":[{"justify-self":["auto",...E()]}],"align-content":[{content:["normal",...z()]}],"align-items":[{items:[...E(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...E(),{baseline:["","last"]}]}],"place-content":[{"place-content":z()}],"place-items":[{"place-items":[...E(),"baseline"]}],"place-self":[{"place-self":["auto",...E()]}],p:[{p:k()}],px:[{px:k()}],py:[{py:k()}],ps:[{ps:k()}],pe:[{pe:k()}],pt:[{pt:k()}],pr:[{pr:k()}],pb:[{pb:k()}],pl:[{pl:k()}],m:[{m:N()}],mx:[{mx:N()}],my:[{my:N()}],ms:[{ms:N()}],me:[{me:N()}],mt:[{mt:N()}],mr:[{mr:N()}],mb:[{mb:N()}],ml:[{ml:N()}],"space-x":[{"space-x":k()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":k()}],"space-y-reverse":["space-y-reverse"],size:[{size:j()}],w:[{w:[o,"screen",...j()]}],"min-w":[{"min-w":[o,"screen","none",...j()]}],"max-w":[{"max-w":[o,"screen","none","prose",{screen:[a]},...j()]}],h:[{h:["screen","lh",...j()]}],"min-h":[{"min-h":["screen","lh","none",...j()]}],"max-h":[{"max-h":["screen","lh",...j()]}],"font-size":[{text:["base",r,iO,iI]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,ij,iT]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",ix,iA]}],"font-family":[{font:[iD,iA,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[n,ij,iA]}],"line-clamp":[{"line-clamp":[ig,"none",ij,iT]}],leading:[{leading:[s,...k()]}],"list-image":[{"list-image":["none",ij,iA]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ij,iA]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:O()}],"text-color":[{text:O()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...V(),"wavy"]}],"text-decoration-thickness":[{decoration:[ig,"from-font","auto",ij,iI]}],"text-decoration-color":[{decoration:O()}],"underline-offset":[{"underline-offset":[ig,"auto",ij,iA]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:k()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ij,iA]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ij,iA]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:D()}],"bg-repeat":[{bg:P()}],"bg-size":[{bg:R()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},iy,ij,iA],radial:["",ij,iA],conic:[iy,ij,iA]},iB,iE]}],"bg-color":[{bg:O()}],"gradient-from-pos":[{from:B()}],"gradient-via-pos":[{via:B()}],"gradient-to-pos":[{to:B()}],"gradient-from":[{from:O()}],"gradient-via":[{via:O()}],"gradient-to":[{to:O()}],rounded:[{rounded:L()}],"rounded-s":[{"rounded-s":L()}],"rounded-e":[{"rounded-e":L()}],"rounded-t":[{"rounded-t":L()}],"rounded-r":[{"rounded-r":L()}],"rounded-b":[{"rounded-b":L()}],"rounded-l":[{"rounded-l":L()}],"rounded-ss":[{"rounded-ss":L()}],"rounded-se":[{"rounded-se":L()}],"rounded-ee":[{"rounded-ee":L()}],"rounded-es":[{"rounded-es":L()}],"rounded-tl":[{"rounded-tl":L()}],"rounded-tr":[{"rounded-tr":L()}],"rounded-br":[{"rounded-br":L()}],"rounded-bl":[{"rounded-bl":L()}],"border-w":[{border:F()}],"border-w-x":[{"border-x":F()}],"border-w-y":[{"border-y":F()}],"border-w-s":[{"border-s":F()}],"border-w-e":[{"border-e":F()}],"border-w-t":[{"border-t":F()}],"border-w-r":[{"border-r":F()}],"border-w-b":[{"border-b":F()}],"border-w-l":[{"border-l":F()}],"divide-x":[{"divide-x":F()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":F()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...V(),"hidden","none"]}],"divide-style":[{divide:[...V(),"hidden","none"]}],"border-color":[{border:O()}],"border-color-x":[{"border-x":O()}],"border-color-y":[{"border-y":O()}],"border-color-s":[{"border-s":O()}],"border-color-e":[{"border-e":O()}],"border-color-t":[{"border-t":O()}],"border-color-r":[{"border-r":O()}],"border-color-b":[{"border-b":O()}],"border-color-l":[{"border-l":O()}],"divide-color":[{divide:O()}],"outline-style":[{outline:[...V(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ig,ij,iA]}],"outline-w":[{outline:["",ig,iO,iI]}],"outline-color":[{outline:O()}],shadow:[{shadow:["","none",c,iL,iN]}],"shadow-color":[{shadow:O()}],"inset-shadow":[{"inset-shadow":["none",h,iL,iN]}],"inset-shadow-color":[{"inset-shadow":O()}],"ring-w":[{ring:F()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:O()}],"ring-offset-w":[{"ring-offset":[ig,iI]}],"ring-offset-color":[{"ring-offset":O()}],"inset-ring-w":[{"inset-ring":F()}],"inset-ring-color":[{"inset-ring":O()}],"text-shadow":[{"text-shadow":["none",d,iL,iN]}],"text-shadow-color":[{"text-shadow":O()}],opacity:[{opacity:[ig,ij,iA]}],"mix-blend":[{"mix-blend":[...U(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":U()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ig]}],"mask-image-linear-from-pos":[{"mask-linear-from":$()}],"mask-image-linear-to-pos":[{"mask-linear-to":$()}],"mask-image-linear-from-color":[{"mask-linear-from":O()}],"mask-image-linear-to-color":[{"mask-linear-to":O()}],"mask-image-t-from-pos":[{"mask-t-from":$()}],"mask-image-t-to-pos":[{"mask-t-to":$()}],"mask-image-t-from-color":[{"mask-t-from":O()}],"mask-image-t-to-color":[{"mask-t-to":O()}],"mask-image-r-from-pos":[{"mask-r-from":$()}],"mask-image-r-to-pos":[{"mask-r-to":$()}],"mask-image-r-from-color":[{"mask-r-from":O()}],"mask-image-r-to-color":[{"mask-r-to":O()}],"mask-image-b-from-pos":[{"mask-b-from":$()}],"mask-image-b-to-pos":[{"mask-b-to":$()}],"mask-image-b-from-color":[{"mask-b-from":O()}],"mask-image-b-to-color":[{"mask-b-to":O()}],"mask-image-l-from-pos":[{"mask-l-from":$()}],"mask-image-l-to-pos":[{"mask-l-to":$()}],"mask-image-l-from-color":[{"mask-l-from":O()}],"mask-image-l-to-color":[{"mask-l-to":O()}],"mask-image-x-from-pos":[{"mask-x-from":$()}],"mask-image-x-to-pos":[{"mask-x-to":$()}],"mask-image-x-from-color":[{"mask-x-from":O()}],"mask-image-x-to-color":[{"mask-x-to":O()}],"mask-image-y-from-pos":[{"mask-y-from":$()}],"mask-image-y-to-pos":[{"mask-y-to":$()}],"mask-image-y-from-color":[{"mask-y-from":O()}],"mask-image-y-to-color":[{"mask-y-to":O()}],"mask-image-radial":[{"mask-radial":[ij,iA]}],"mask-image-radial-from-pos":[{"mask-radial-from":$()}],"mask-image-radial-to-pos":[{"mask-radial-to":$()}],"mask-image-radial-from-color":[{"mask-radial-from":O()}],"mask-image-radial-to-color":[{"mask-radial-to":O()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":b()}],"mask-image-conic-pos":[{"mask-conic":[ig]}],"mask-image-conic-from-pos":[{"mask-conic-from":$()}],"mask-image-conic-to-pos":[{"mask-conic-to":$()}],"mask-image-conic-from-color":[{"mask-conic-from":O()}],"mask-image-conic-to-color":[{"mask-conic-to":O()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:D()}],"mask-repeat":[{mask:P()}],"mask-size":[{mask:R()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ij,iA]}],filter:[{filter:["","none",ij,iA]}],blur:[{blur:W()}],brightness:[{brightness:[ig,ij,iA]}],contrast:[{contrast:[ig,ij,iA]}],"drop-shadow":[{"drop-shadow":["","none",p,iL,iN]}],"drop-shadow-color":[{"drop-shadow":O()}],grayscale:[{grayscale:["",ig,ij,iA]}],"hue-rotate":[{"hue-rotate":[ig,ij,iA]}],invert:[{invert:["",ig,ij,iA]}],saturate:[{saturate:[ig,ij,iA]}],sepia:[{sepia:["",ig,ij,iA]}],"backdrop-filter":[{"backdrop-filter":["","none",ij,iA]}],"backdrop-blur":[{"backdrop-blur":W()}],"backdrop-brightness":[{"backdrop-brightness":[ig,ij,iA]}],"backdrop-contrast":[{"backdrop-contrast":[ig,ij,iA]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ig,ij,iA]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ig,ij,iA]}],"backdrop-invert":[{"backdrop-invert":["",ig,ij,iA]}],"backdrop-opacity":[{"backdrop-opacity":[ig,ij,iA]}],"backdrop-saturate":[{"backdrop-saturate":[ig,ij,iA]}],"backdrop-sepia":[{"backdrop-sepia":["",ig,ij,iA]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":k()}],"border-spacing-x":[{"border-spacing-x":k()}],"border-spacing-y":[{"border-spacing-y":k()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ij,iA]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ig,"initial",ij,iA]}],ease:[{ease:["linear","initial",y,ij,iA]}],delay:[{delay:[ig,ij,iA]}],animate:[{animate:["none",x,ij,iA]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[m,ij,iA]}],"perspective-origin":[{"perspective-origin":w()}],rotate:[{rotate:G()}],"rotate-x":[{"rotate-x":G()}],"rotate-y":[{"rotate-y":G()}],"rotate-z":[{"rotate-z":G()}],scale:[{scale:H()}],"scale-x":[{"scale-x":H()}],"scale-y":[{"scale-y":H()}],"scale-z":[{"scale-z":H()}],"scale-3d":["scale-3d"],skew:[{skew:q()}],"skew-x":[{"skew-x":q()}],"skew-y":[{"skew-y":q()}],transform:[{transform:[ij,iA,"","none","gpu","cpu"]}],"transform-origin":[{origin:w()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Y()}],"translate-x":[{"translate-x":Y()}],"translate-y":[{"translate-y":Y()}],"translate-z":[{"translate-z":Y()}],"translate-none":["translate-none"],accent:[{accent:O()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:O()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ij,iA]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":k()}],"scroll-mx":[{"scroll-mx":k()}],"scroll-my":[{"scroll-my":k()}],"scroll-ms":[{"scroll-ms":k()}],"scroll-me":[{"scroll-me":k()}],"scroll-mt":[{"scroll-mt":k()}],"scroll-mr":[{"scroll-mr":k()}],"scroll-mb":[{"scroll-mb":k()}],"scroll-ml":[{"scroll-ml":k()}],"scroll-p":[{"scroll-p":k()}],"scroll-px":[{"scroll-px":k()}],"scroll-py":[{"scroll-py":k()}],"scroll-ps":[{"scroll-ps":k()}],"scroll-pe":[{"scroll-pe":k()}],"scroll-pt":[{"scroll-pt":k()}],"scroll-pr":[{"scroll-pr":k()}],"scroll-pb":[{"scroll-pb":k()}],"scroll-pl":[{"scroll-pl":k()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ij,iA]}],fill:[{fill:["none",...O()]}],"stroke-w":[{stroke:[ig,iO,iI,iT]}],stroke:[{stroke:["none",...O()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}});function iZ(...e){return iX(rJ(e))}function iJ({...e}){return(0,w.jsx)(rZ.Root,{"data-slot":"popover",...e})}function iK({...e}){return(0,w.jsx)(rZ.Trigger,{"data-slot":"popover-trigger",...e})}function iQ({className:e,align:t="center",sideOffset:r=4,...i}){return(0,w.jsx)(rZ.Portal,{children:(0,w.jsx)(rZ.Content,{"data-slot":"popover-content",align:t,sideOffset:r,className:iZ("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",e),...i})})}function i1({className:e,type:t,...r}){return(0,w.jsx)("input",{type:t,"data-slot":"input",className:iZ("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 checkbox:h-4  w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...r})}e.s(["cn",()=>iZ],75157),e.s(["Popover",()=>iJ,"PopoverContent",()=>iQ,"PopoverTrigger",()=>iK],37822),e.s(["Input",()=>i1],93479);var i0=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),i2=c.forwardRef((e,t)=>(0,w.jsx)(D.span,{...e,ref:t,style:{...i0,...e.style}}));i2.displayName="VisuallyHidden",e.s(["Root",()=>i2,"VISUALLY_HIDDEN_STYLES",()=>i0],1693);var[i9,i3]=A("Tooltip",[t_]),i4=t_(),i8="TooltipProvider",i6="tooltip.open",[i5,i7]=i9(i8),ne=e=>{let{__scopeTooltip:t,delayDuration:r=700,skipDelayDuration:i=300,disableHoverableContent:n=!1,children:s}=e,a=c.useRef(!0),o=c.useRef(!1),l=c.useRef(0);return c.useEffect(()=>{let e=l.current;return()=>window.clearTimeout(e)},[]),(0,w.jsx)(i5,{scope:t,isOpenDelayedRef:a,delayDuration:r,onOpen:c.useCallback(()=>{window.clearTimeout(l.current),a.current=!1},[]),onClose:c.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.current=!0,i)},[i]),isPointerInTransitRef:o,onPointerInTransitChange:c.useCallback(e=>{o.current=e},[]),disableHoverableContent:n,children:s})};ne.displayName=i8;var nt="Tooltip",[nr,ni]=i9(nt),nn=e=>{let{__scopeTooltip:t,children:r,open:i,defaultOpen:n,onOpenChange:s,disableHoverableContent:a,delayDuration:o}=e,l=i7(nt,e.__scopeTooltip),u=i4(t),[h,d]=c.useState(null),p=en(),f=c.useRef(0),m=a??l.disableHoverableContent,g=o??l.delayDuration,y=c.useRef(!1),[x,v]=tU({prop:i,defaultProp:n??!1,onChange:e=>{e?(l.onOpen(),document.dispatchEvent(new CustomEvent(i6))):l.onClose(),s?.(e)},caller:nt}),b=c.useMemo(()=>x?y.current?"delayed-open":"instant-open":"closed",[x]),_=c.useCallback(()=>{window.clearTimeout(f.current),f.current=0,y.current=!1,v(!0)},[v]),S=c.useCallback(()=>{window.clearTimeout(f.current),f.current=0,v(!1)},[v]),k=c.useCallback(()=>{window.clearTimeout(f.current),f.current=window.setTimeout(()=>{y.current=!0,v(!0),f.current=0},g)},[g,v]);return c.useEffect(()=>()=>{f.current&&(window.clearTimeout(f.current),f.current=0)},[]),(0,w.jsx)(tM,{...u,children:(0,w.jsx)(nr,{scope:t,contentId:p,open:x,stateAttribute:b,trigger:h,onTriggerChange:d,onTriggerEnter:c.useCallback(()=>{l.isOpenDelayedRef.current?k():_()},[l.isOpenDelayedRef,k,_]),onTriggerLeave:c.useCallback(()=>{m?S():(window.clearTimeout(f.current),f.current=0)},[S,m]),onOpen:_,onClose:S,disableHoverableContent:m,children:r})})};nn.displayName=nt;var ns="TooltipTrigger",na=c.forwardRef((e,t)=>{let{__scopeTooltip:r,...i}=e,n=ni(ns,r),s=i7(ns,r),a=i4(r),o=M(t,c.useRef(null),n.onTriggerChange),l=c.useRef(!1),u=c.useRef(!1),h=c.useCallback(()=>l.current=!1,[]);return c.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),(0,w.jsx)(tA,{asChild:!0,...a,children:(0,w.jsx)(D.button,{"aria-describedby":n.open?n.contentId:void 0,"data-state":n.stateAttribute,...i,ref:o,onPointerMove:_(e.onPointerMove,e=>{"touch"!==e.pointerType&&(u.current||s.isPointerInTransitRef.current||(n.onTriggerEnter(),u.current=!0))}),onPointerLeave:_(e.onPointerLeave,()=>{n.onTriggerLeave(),u.current=!1}),onPointerDown:_(e.onPointerDown,()=>{n.open&&n.onClose(),l.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:_(e.onFocus,()=>{l.current||n.onOpen()}),onBlur:_(e.onBlur,n.onClose),onClick:_(e.onClick,n.onClose)})})});na.displayName=ns;var no="TooltipPortal",[nl,nu]=i9(no,{forceMount:void 0}),nc=e=>{let{__scopeTooltip:t,forceMount:r,children:i,container:n}=e,s=ni(no,t);return(0,w.jsx)(nl,{scope:t,forceMount:r,children:(0,w.jsx)(tL,{present:r||s.open,children:(0,w.jsx)(tB,{asChild:!0,container:n,children:i})})})};nc.displayName=no;var nh="TooltipContent",nd=c.forwardRef((e,t)=>{let r=nu(nh,e.__scopeTooltip),{forceMount:i=r.forceMount,side:n="top",...s}=e,a=ni(nh,e.__scopeTooltip);return(0,w.jsx)(tL,{present:i||a.open,children:a.disableHoverableContent?(0,w.jsx)(ny,{side:n,...s,ref:t}):(0,w.jsx)(np,{side:n,...s,ref:t})})}),np=c.forwardRef((e,t)=>{let r=ni(nh,e.__scopeTooltip),i=i7(nh,e.__scopeTooltip),n=c.useRef(null),s=M(t,n),[a,o]=c.useState(null),{trigger:l,onClose:u}=r,h=n.current,{onPointerInTransitChange:d}=i,p=c.useCallback(()=>{o(null),d(!1)},[d]),f=c.useCallback((e,t)=>{let r,i=e.currentTarget,n={x:e.clientX,y:e.clientY},s=function(e,t){let r=Math.abs(t.top-e.y),i=Math.abs(t.bottom-e.y),n=Math.abs(t.right-e.x),s=Math.abs(t.left-e.x);switch(Math.min(r,i,n,s)){case s:return"left";case n:return"right";case r:return"top";case i:return"bottom";default:throw Error("unreachable")}}(n,i.getBoundingClientRect());o(((r=[...function(e,t,r=5){let i=[];switch(t){case"top":i.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":i.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":i.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":i.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r})}return i}(n,s),...function(e){let{top:t,right:r,bottom:i,left:n}=e;return[{x:n,y:t},{x:r,y:t},{x:r,y:i},{x:n,y:i}]}(t.getBoundingClientRect())].slice()).sort((e,t)=>e.x<t.x?-1:e.x>t.x?1:e.y<t.y?-1:1*!!(e.y>t.y)),function(e){if(e.length<=1)return e.slice();let t=[];for(let r=0;r<e.length;r++){let i=e[r];for(;t.length>=2;){let e=t[t.length-1],r=t[t.length-2];if((e.x-r.x)*(i.y-r.y)>=(e.y-r.y)*(i.x-r.x))t.pop();else break}t.push(i)}t.pop();let r=[];for(let t=e.length-1;t>=0;t--){let i=e[t];for(;r.length>=2;){let e=r[r.length-1],t=r[r.length-2];if((e.x-t.x)*(i.y-t.y)>=(e.y-t.y)*(i.x-t.x))r.pop();else break}r.push(i)}return(r.pop(),1===t.length&&1===r.length&&t[0].x===r[0].x&&t[0].y===r[0].y)?t:t.concat(r)}(r))),d(!0)},[d]);return c.useEffect(()=>()=>p(),[p]),c.useEffect(()=>{if(l&&h){let e=e=>f(e,h),t=e=>f(e,l);return l.addEventListener("pointerleave",e),h.addEventListener("pointerleave",t),()=>{l.removeEventListener("pointerleave",e),h.removeEventListener("pointerleave",t)}}},[l,h,f,p]),c.useEffect(()=>{if(a){let e=e=>{let t=e.target,r={x:e.clientX,y:e.clientY},i=l?.contains(t)||h?.contains(t),n=!function(e,t){let{x:r,y:i}=e,n=!1;for(let e=0,s=t.length-1;e<t.length;s=e++){let a=t[e],o=t[s],l=a.x,u=a.y,c=o.x,h=o.y;u>i!=h>i&&r<(c-l)*(i-u)/(h-u)+l&&(n=!n)}return n}(r,a);i?p():n&&(p(),u())};return document.addEventListener("pointermove",e),()=>document.removeEventListener("pointermove",e)}},[l,h,a,u,p]),(0,w.jsx)(ny,{...e,ref:s})}),[nf,nm]=i9(nt,{isInside:!1}),ng=N("TooltipContent"),ny=c.forwardRef((e,t)=>{let{__scopeTooltip:r,children:i,"aria-label":n,onEscapeKeyDown:s,onPointerDownOutside:a,...o}=e,l=ni(nh,r),u=i4(r),{onClose:h}=l;return c.useEffect(()=>(document.addEventListener(i6,h),()=>document.removeEventListener(i6,h)),[h]),c.useEffect(()=>{if(l.trigger){let e=e=>{let t=e.target;t?.contains(l.trigger)&&h()};return window.addEventListener("scroll",e,{capture:!0}),()=>window.removeEventListener("scroll",e,{capture:!0})}},[l.trigger,h]),(0,w.jsx)(F,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:e=>e.preventDefault(),onDismiss:h,children:(0,w.jsxs)(tE,{"data-state":l.stateAttribute,...u,...o,ref:t,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[(0,w.jsx)(ng,{children:i}),(0,w.jsx)(nf,{scope:r,isInside:!0,children:(0,w.jsx)(i2,{id:l.contentId,role:"tooltip",children:n||i})})]})})});nd.displayName=nh;var nx="TooltipArrow",nv=c.forwardRef((e,t)=>{let{__scopeTooltip:r,...i}=e,n=i4(r);return nm(nx,r).isInside?null:(0,w.jsx)(tO,{...n,...i,ref:t})});function nb({delayDuration:e=0,...t}){return(0,w.jsx)(ne,{"data-slot":"tooltip-provider",delayDuration:e,...t})}function nw({...e}){return(0,w.jsx)(nb,{children:(0,w.jsx)(nn,{"data-slot":"tooltip",...e})})}function n_({...e}){return(0,w.jsx)(na,{"data-slot":"tooltip-trigger",...e})}function nS({className:e,sideOffset:t=0,children:r,...i}){return(0,w.jsx)(nc,{children:(0,w.jsxs)(nd,{"data-slot":"tooltip-content",sideOffset:t,className:iZ("bg-popover text-popover-foreground shadow-sm animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",e),...i,children:[r,(0,w.jsx)(nv,{className:"bg-popover fill-popover z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}nv.displayName=nx,e.s(["Tooltip",()=>nw,"TooltipContent",()=>nS,"TooltipTrigger",()=>n_],46798)},87628,16555,e=>{"use strict";var t=e.i(81059);let r=e=>{let t,r=new Set,i=(e,i)=>{let n="function"==typeof e?e(t):e;if(!Object.is(n,t)){let e=t;t=(null!=i?i:"object"!=typeof n||null===n)?n:Object.assign({},t,n),r.forEach(r=>r(t,e))}},n=()=>t,s={setState:i,getState:n,getInitialState:()=>a,subscribe:e=>(r.add(e),()=>r.delete(e))},a=t=e(i,n,s);return s},i=e=>e?r(e):r;e.s(["createStore",()=>i],16555);let n=e=>{let r=i(e),n=e=>(function(e,r=e=>e){let i=t.default.useSyncExternalStore(e.subscribe,t.default.useCallback(()=>r(e.getState()),[e,r]),t.default.useCallback(()=>r(e.getInitialState()),[e,r]));return t.default.useDebugValue(i),i})(r,e);return Object.assign(n,r),n},s=e=>e?n(e):n;e.s(["create",()=>s],87628)},9980,64914,76417,e=>{"use strict";class t extends Error{constructor(e,t={}){super(`Node not found: ${e}`,t),this.name="NodeNotFoundError"}}class r extends Error{constructor(e){super(`Missing key: ${e}`),this.name="KeyError"}}e.s(["KeyError",()=>r,"NodeNotFoundError",()=>t],9980);class i{#e;constructor(e,t,r){"number"==typeof e?this.#e=new Uint8Array(e):e instanceof ArrayBuffer?this.#e=new Uint8Array(e,t,r):this.#e=new Uint8Array(Array.from(e,e=>+!!e))}get BYTES_PER_ELEMENT(){return 1}get byteOffset(){return this.#e.byteOffset}get byteLength(){return this.#e.byteLength}get buffer(){return this.#e.buffer}get length(){return this.#e.length}get(e){let t=this.#e[e];return"number"==typeof t?0!==t:t}set(e,t){this.#e[e]=+!!t}fill(e){this.#e.fill(+!!e)}*[Symbol.iterator](){for(let e=0;e<this.length;e++)yield this.get(e)}}class n{_data;chars;#t;constructor(e,t,r,i){if(this.chars=e,this.#t=new TextEncoder,"number"==typeof t)this._data=new Uint8Array(t*e);else if(t instanceof ArrayBuffer)i&&(i*=e),this._data=new Uint8Array(t,r,i);else{let r=Array.from(t);this._data=new Uint8Array(r.length*e);for(let e=0;e<r.length;e++)this.set(e,r[e])}}get BYTES_PER_ELEMENT(){return this.chars}get byteOffset(){return this._data.byteOffset}get byteLength(){return this._data.byteLength}get buffer(){return this._data.buffer}get length(){return this.byteLength/this.BYTES_PER_ELEMENT}get(e){let t=new Uint8Array(this.buffer,this.byteOffset+this.chars*e,this.chars);return new TextDecoder().decode(t).replace(/\x00/g,"")}set(e,t){let r=new Uint8Array(this.buffer,this.byteOffset+this.chars*e,this.chars);r.fill(0),r.set(this.#t.encode(t))}fill(e){let t=this.#t.encode(e);for(let e=0;e<this.length;e++)this._data.set(t,e*this.chars)}*[Symbol.iterator](){for(let e=0;e<this.length;e++)yield this.get(e)}}class s{#r;chars;constructor(e,t,r,i){if(this.chars=e,"number"==typeof t)this.#r=new Int32Array(t*e);else if(t instanceof ArrayBuffer)i&&(i*=e),this.#r=new Int32Array(t,r,i);else{const r=new s(e,1);this.#r=new Int32Array(function*(){for(let e of t)r.set(0,e),yield*r.#r}())}}get BYTES_PER_ELEMENT(){return this.#r.BYTES_PER_ELEMENT*this.chars}get byteLength(){return this.#r.byteLength}get byteOffset(){return this.#r.byteOffset}get buffer(){return this.#r.buffer}get length(){return this.#r.length/this.chars}get(e){let t=this.chars*e,r="";for(let e=0;e<this.chars;e++)r+=String.fromCodePoint(this.#r[t+e]);return r.replace(/\u0000/g,"")}set(e,t){let r=this.chars*e,i=this.#r.subarray(r,r+this.chars);i.fill(0);for(let e=0;e<this.chars;e++)i[e]=t.codePointAt(e)??0}fill(e){this.set(0,e);let t=this.#r.subarray(0,this.chars);for(let e=1;e<this.length;e++)this.#r.set(t,e*this.chars)}*[Symbol.iterator](){for(let e=0;e<this.length;e++)yield this.get(e)}}function a(e){let t=JSON.stringify(e,null,2);return new TextEncoder().encode(t)}function o(e){return JSON.parse(new TextDecoder().decode(e))}function l(e,t){let r=t/2,i=t-1,n=0;for(let s=0;s<e.length;s+=t)for(let t=0;t<r;t+=1)n=e[s+t],e[s+t]=e[s+i-t],e[s+i-t]=n}function u(e){if("v2:object"===e)return globalThis.Array;let t=e.match(/v2:([US])(\d+)/);if(t){let[,e,r]=t;return("U"===e?s:n).bind(null,Number(r))}let r={int8:Int8Array,int16:Int16Array,int32:Int32Array,int64:globalThis.BigInt64Array,uint8:Uint8Array,uint16:Uint16Array,uint32:Uint32Array,uint64:globalThis.BigUint64Array,float16:globalThis.Float16Array,float32:Float32Array,float64:Float64Array,bool:i}[e];return x(r,`Unknown or unsupported data_type: ${e}`),r}function c(e,t){let r=e.length;"string"==typeof t&&(t="C"===t?Array.from({length:r},(e,t)=>t):Array.from({length:r},(e,t)=>r-1-t)),x(r===t.length,"Order length must match the number of dimensions.");let i=1,n=Array(r);for(let r=t.length-1;r>=0;r--)n[t[r]]=i,i*=e[t[r]];return n}function h({name:e,configuration:t}){if("default"===e){let e=t?.separator??"/";return t=>["c",...t].join(e)}if("v2"===e){let e=t?.separator??".";return t=>t.join(e)||"0"}throw Error(`Unknown chunk key encoding: ${e}`)}function d(e,t={}){let r=[],i=function(e){if("|O"===e)return{data_type:"v2:object"};let t=e.match(/^([<|>])(.*)$/);x(t,`Invalid dtype: ${e}`);let[,r,i]=t,n={b1:"bool",i1:"int8",u1:"uint8",i2:"int16",u2:"uint16",i4:"int32",u4:"uint32",i8:"int64",u8:"uint64",f2:"float16",f4:"float32",f8:"float64"}[i]??(i.startsWith("S")||i.startsWith("U")?`v2:${i}`:void 0);return(x(n,`Unsupported or unknown dtype: ${e}`),"|"===r)?{data_type:n}:{data_type:n,endian:"<"===r?"little":"big"}}(e.dtype);for(let{id:t,...n}of("F"===e.order&&r.push({name:"transpose",configuration:{order:"F"}}),"endian"in i&&"big"===i.endian&&r.push({name:"bytes",configuration:{endian:"big"}}),e.filters??[]))r.push({name:t,configuration:n});if(e.compressor){let{id:t,...i}=e.compressor;r.push({name:t,configuration:i})}return{zarr_format:3,node_type:"array",shape:e.shape,data_type:i.data_type,chunk_grid:{name:"regular",configuration:{chunk_shape:e.chunks}},chunk_key_encoding:{name:"v2",configuration:{separator:e.dimension_separator??"."}},codecs:r,fill_value:e.fill_value,attributes:t}}function p(e,t={}){return{zarr_format:3,node_type:"group",attributes:t}}function f(e,t){if("number"!==t&&"bigint"!==t&&"boolean"!==t&&"object"!==t&&"string"!==t)return e===t;let r="bool"===e;if("boolean"===t)return r;let i=e.startsWith("v2:U")||e.startsWith("v2:S");if("string"===t)return i;let n="int64"===e||"uint64"===e;if("bigint"===t)return n;let s="v2:object"===e;return"object"===t?s:!i&&!n&&!r&&!s}function m(e){return e?.name==="sharding_indexed"}function g(e){return("uint64"===e.data_type||"int64"===e.data_type)&&null!=e.fill_value?BigInt(e.fill_value):e.fill_value}function y(e,...t){if(!t.some(t=>e instanceof t))throw e}function x(e,t=""){if(!e)throw Error(t)}async function v(e,{format:t,signal:r}){let i=e instanceof Response?e:new Response(e);x(i.body,"Response does not contain body.");try{let e=new Response(i.body.pipeThrough(new DecompressionStream(t),{signal:r}));return await e.arrayBuffer()}catch{throw r?.throwIfAborted(),Error(`Failed to decode ${t}`)}}e.s(["BoolArray",()=>i,"ByteStringArray",()=>n,"UnicodeStringArray",()=>s],64914),e.s(["assert",()=>x,"byteswap_inplace",()=>l,"create_chunk_key_encoder",()=>h,"decompress",()=>v,"ensure_correct_scalar",()=>g,"get_ctr",()=>u,"get_strides",()=>c,"is_dtype",()=>f,"is_sharding_codec",()=>m,"json_decode_object",()=>o,"json_encode_object",()=>a,"rethrow_unless",()=>y,"v2_to_v3_array_metadata",()=>d,"v2_to_v3_group_metadata",()=>p],76417)},35844,4989,e=>{"use strict";var t=e.i(9980),r=e.i(76417);async function i(e,i){let n=i??".zmetadata",s=await e.get(`/${n}`);if(!s)throw new t.NodeNotFoundError("v2 consolidated metadata",{cause:new t.KeyError(`/${n}`)});let a=(0,r.json_decode_object)(s);return(0,r.assert)(1===a.zarr_consolidated_format,"Unsupported consolidated format."),a}async function n(e,t={}){let s=await i(e,t.metadataKey),a={};for(let[e,t]of Object.entries(s.metadata))a[`/${e}`]=t;return{async get(...t){let[i,n]=t;if(a[i])return(0,r.json_encode_object)(a[i]);let s=await e.get(i,n);if((i.endsWith(".zarray")||i.endsWith(".zgroup")||i.endsWith(".zattrs")||i.endsWith("zarr.json"))&&s){let e=(0,r.json_decode_object)(s);a[i]=e}return s},getRange:e.getRange?.bind(e),contents(){let e=[];for(let[t,r]of Object.entries(a)){let i=t.split("/"),n=i.pop(),s=i.join("/")||"/";".zarray"===n&&e.push({path:s,kind:"array"}),".zgroup"===n&&e.push({path:s,kind:"group"}),"zarr_format"in r&&3===r.zarr_format&&e.push({path:s,kind:r.node_type})}return e}}}async function s(e,i={}){return n(e,i).catch(i=>((0,r.rethrow_unless)(i,t.NodeNotFoundError),e))}function a(e,t,r,i={}){return void 0!==t&&void 0!==r&&(i={...i,headers:{...i.headers,Range:`bytes=${t}-${t+r-1}`}}),fetch(e,i)}function o(e,t){let r="string"==typeof e?new URL(e):e;r.pathname.endsWith("/")||(r.pathname+="/");let i=new URL(t.slice(1),r);return i.search=r.search,i}async function l(e){if(404!==e.status){if(200===e.status||206===e.status)return new Uint8Array(await e.arrayBuffer());throw Error(`Unexpected response status ${e.status} ${e.statusText}`)}}async function u(e,t,r,i){if(i)return fetch(e,{...r,headers:{...r.headers,Range:`bytes=-${t}`}});let n=await fetch(e,{...r,method:"HEAD"});if(!n.ok)return n;let s=Number(n.headers.get("Content-Length"));return a(e,s-t,s,r)}e.s(["tryWithConsolidated",()=>s],35844);let c=class{url;#i;#n;constructor(e,t={}){this.url=e,this.#i=t.overrides??{},this.#n=t.useSuffixRequest??!1}#s(e){var t;return t=this.#i,{...t,...e,headers:{...t.headers,...e.headers}}}async get(e,t={}){let r=o(this.url,e).href;return l(await fetch(r,this.#s(t)))}async getRange(e,t,r={}){let i=o(this.url,e),n=this.#s(r);return l("suffixLength"in t?await u(i,t.suffixLength,n,this.#n):await a(i,t.offset,t.length,n))}};e.s(["FetchStore",0,c],4989)},59386,71345,e=>{"use strict";let t;var r=e.i(9980),i=e.i(76417);class n{kind="array_to_array";constructor(e,t){(0,i.assert)(e.keepbits>=0,"keepbits must be zero or positive")}static fromConfig(e,t){return new n(e,t)}encode(e){throw Error("`BitroundCodec.encode` is not implemented. Please open an issue at https://github.com/manzt/zarrita.js/issues.")}decode(e){return e}}let s=18!==new Uint8Array((t=new Uint32Array([0x12345678])).buffer,t.byteOffset,t.byteLength)[0];function a(e){return"BYTES_PER_ELEMENT"in e?e.BYTES_PER_ELEMENT:4}class o{kind="array_to_bytes";#a;#o;#l;#u;#c;constructor(e,t){this.#c=e?.endian,this.#o=(0,i.get_ctr)(t.data_type),this.#u=t.shape,this.#a=(0,i.get_strides)(t.shape,"C");const r=new this.#o(0);this.#l=r.BYTES_PER_ELEMENT}static fromConfig(e,t){return new o(e,t)}encode(e){let t=new Uint8Array(e.data.buffer);return s&&"big"===this.#c&&(0,i.byteswap_inplace)(t,a(this.#o)),t}decode(e){return s&&"big"===this.#c&&(0,i.byteswap_inplace)(e,a(this.#o)),{data:new this.#o(e.buffer,e.byteOffset,e.byteLength/this.#l),shape:this.#u,stride:this.#a}}}class l{kind="bytes_to_bytes";static fromConfig(){return new l}encode(e){throw Error("Not implemented")}decode(e){return new Uint8Array(e.buffer,e.byteOffset,e.byteLength-4)}}class u{kind="bytes_to_bytes";static fromConfig(e){return new u}encode(e){throw Error("Gzip encoding is not enabled by default. Please register a custom codec with `numcodecs/gzip`.")}async decode(e){return new Uint8Array(await (0,i.decompress)(e,{format:"gzip"}))}}function c(e,t){return(0,i.assert)(!Number.isNaN(t),"JsonCodec allow_nan is false but NaN was encountered during encoding."),(0,i.assert)(t!==1/0,"JsonCodec allow_nan is false but Infinity was encountered during encoding."),(0,i.assert)(t!==-1/0,"JsonCodec allow_nan is false but -Infinity was encountered during encoding."),t}function h(e,t){return t instanceof Object&&!Array.isArray(t)?Object.keys(t).sort().reduce((e,r)=>(e[r]=t[r],e),{}):t}class d{configuration;kind="array_to_bytes";#h;#d;constructor(e={}){this.configuration=e;const{encoding:t="utf-8",skipkeys:r=!1,ensure_ascii:i=!0,check_circular:n=!0,allow_nan:s=!0,sort_keys:a=!0,indent:o,strict:l=!0}=e;let u=e.separators;u||(u=o?[", ",": "]:[",",":"]),this.#h={encoding:t,skipkeys:r,ensure_ascii:i,check_circular:n,allow_nan:s,indent:o,separators:u,sort_keys:a},this.#d={strict:l}}static fromConfig(e){return new d(e)}encode(e){let t,{indent:r,encoding:n,ensure_ascii:s,check_circular:a,allow_nan:o,sort_keys:l}=this.#h;(0,i.assert)("utf-8"===n,"JsonCodec does not yet support non-utf-8 encoding.");let u=[];(0,i.assert)(a,"JsonCodec does not yet support skipping the check for circular references during encoding."),o||u.push(c),l&&u.push(h);let d=Array.from(e.data);d.push("|O"),d.push(e.shape),u.length&&(t=(e,t)=>{let r=t;for(let t of u)r=t(e,r);return r});let p=JSON.stringify(d,t,r);return s&&(p=p.replace(/[\u007F-\uFFFF]/g,e=>{let t=`0000${e.charCodeAt(0).toString(16)}`,r=t.substring(t.length-4);return`\\u${r}`})),new TextEncoder().encode(p)}decode(e){let{strict:t}=this.#d;(0,i.assert)(t,"JsonCodec does not yet support non-strict decoding.");let r=(0,i.json_decode_object)(e),n=r.pop();r.pop(),(0,i.assert)(n,"0D not implemented for JsonCodec.");let s=(0,i.get_strides)(n,"C");return{data:r,shape:n,stride:s}}}var p=e.i(64914);function f(e){return e instanceof p.BoolArray||e instanceof p.ByteStringArray||e instanceof p.UnicodeStringArray?new Proxy(e,{get:(e,t)=>e.get(Number(t)),set:(e,t,r)=>(e.set(Number(t),r),!0)}):e}class m{kind="array_to_array";#p;#f;constructor(e,t){let r=e.order??"C",n=t.shape.length,s=Array(n),a=Array(n);if("C"===r)for(let e=0;e<n;++e)s[e]=e,a[e]=e;else if("F"===r)for(let e=0;e<n;++e)s[e]=n-e-1,a[e]=n-e-1;else(s=r).forEach((e,t)=>{(0,i.assert)(void 0===a[e],`Invalid permutation: ${JSON.stringify(r)}`),a[e]=t});this.#p=s,this.#f=a}static fromConfig(e,t){return new m(e,t)}encode(e){var t;let r,n;return(t=this.#f,r=e.shape.length,(0,i.assert)(r===e.stride.length,"Shape and stride must have the same length."),n=e.stride.map((e,t)=>({stride:e,index:t})).sort((e,t)=>t.stride-e.stride).map(e=>e.index),(0,i.assert)(n.length===t.length,"Orders must match"),n.every((e,r)=>e===t[r]))?e:function(e,t){let r={data:e.data instanceof p.ByteStringArray||e.data instanceof p.UnicodeStringArray?new e.constructor(e.data.length,e.data.chars):new e.constructor(e.data.length),shape:e.shape,stride:(0,i.get_strides)(e.shape,t)},n=e.shape.length,s=e.data.length,a=Array(n).fill(0),o=f(e.data),l=f(r.data);for(let t=0;t<s;t++){let i=0;for(let e=0;e<n;e++)i+=a[e]*r.stride[e];l[i]=o[t],a[0]+=1;for(let t=0;t<n;t++)if(a[t]===e.shape[t]){if(t+1===n)break;a[t]=0,a[t+1]+=1}}return r}(e,this.#f)}decode(e){return{data:e.data,shape:e.shape,stride:(0,i.get_strides)(e.shape,this.#p)}}}class g{kind="array_to_bytes";#u;#m;constructor(e){this.#u=e,this.#m=(0,i.get_strides)(e,"C")}static fromConfig(e,t){return new g(t.shape)}encode(e){throw Error("Method not implemented.")}decode(e){let t=new TextDecoder,r=new DataView(e.buffer),i=Array(r.getUint32(0,!0)),n=4;for(let s=0;s<i.length;s++){let a=r.getUint32(n,!0);n+=4,i[s]=t.decode(e.buffer.slice(n,n+a)),n+=a}return{data:i,shape:this.#u,stride:this.#m}}}class y{kind="bytes_to_bytes";static fromConfig(e){return new y}encode(e){throw Error("Zlib encoding is not enabled by default. Please register a codec with `numcodecs/zlib`.")}async decode(e){return new Uint8Array(await (0,i.decompress)(e,{format:"deflate"}))}}let x=new Map().set("blosc",()=>e.A(33549).then(e=>e.default)).set("lz4",()=>e.A(33312).then(e=>e.default)).set("zstd",()=>e.A(74814).then(e=>e.default)).set("gzip",()=>u).set("zlib",()=>y).set("transpose",()=>m).set("bytes",()=>o).set("crc32c",()=>l).set("vlen-utf8",()=>g).set("json2",()=>d).set("bitround",()=>n);function v(e){let t;return{async encode(r){for(let i of(t||(t=await b(e)),t.array_to_array))r=await i.encode(r);let i=await t.array_to_bytes.encode(r);for(let e of t.bytes_to_bytes)i=await e.encode(i);return i},async decode(r){t||(t=await b(e));for(let e=t.bytes_to_bytes.length-1;e>=0;e--)r=await t.bytes_to_bytes[e].decode(r);let i=await t.array_to_bytes.decode(r);for(let e=t.array_to_array.length-1;e>=0;e--)i=await t.array_to_array[e].decode(i);return i}}}async function b(e){let t,r=e.codecs.map(async e=>{let t=await x.get(e.name)?.();return(0,i.assert)(t,`Unknown codec: ${e.name}`),{Codec:t,meta:e}}),n=[],s=[];for await(let{Codec:i,meta:a}of r){let r=i.fromConfig(a.configuration,e);switch(r.kind){case"array_to_array":n.push(r);break;case"array_to_bytes":t=r;break;default:s.push(r)}}return t||((0,i.assert)("v2:object"!==e.data_type,`Cannot encode ${e.data_type} to bytes without a codec`),t=o.fromConfig({endian:"little"},e)),{array_to_array:n,array_to_bytes:t,bytes_to_bytes:s}}class w{store;path;constructor(e,t="/"){this.store=e,this.path=t}resolve(e){let t=new URL(`file://${this.path.endsWith("/")?this.path:`${this.path}/`}`);return new w(this.store,decodeURIComponent(new URL(e,t).pathname))}}class _ extends w{kind="group";#g;constructor(e,t,r){super(e,t),this.#g=r}get attrs(){return this.#g.attributes}}function S(e){let t=e.find(e=>"transpose"===e.name);return t?.configuration?.order??"C"}let k=Symbol("zarrita.context");function M(e){return e[k]}class C extends w{kind="array";#g;[k];constructor(e,t,r){super(e,t),this.#g={...r,fill_value:(0,i.ensure_correct_scalar)(r)},this[k]=function(e,t){let{configuration:r}=t.codecs.find(i.is_sharding_codec)??{},n={encode_chunk_key:(0,i.create_chunk_key_encoder)(t.chunk_key_encoding),TypedArray:(0,i.get_ctr)(t.data_type),fill_value:t.fill_value};if(r){var s,a;let o,l,u,c,h=S(r.codecs);return{...n,kind:"sharded",chunk_shape:r.chunk_shape,codec:v({data_type:t.data_type,shape:r.chunk_shape,codecs:r.codecs}),get_strides:e=>(0,i.get_strides)(e,h),get_chunk_bytes:(s=t.chunk_grid.configuration.chunk_shape,a=n.encode_chunk_key,(0,i.assert)(e.store.getRange,"Store does not support range requests"),o=e.store.getRange.bind(e.store),u=v({data_type:"uint64",shape:[...l=s.map((e,t)=>e/r.chunk_shape[t]),2],codecs:r.index_codecs}),c={},async t=>{let r,i=t.map((e,t)=>Math.floor(e/l[t])),n=e.resolve(a(i)).path;if(n in c)r=c[n];else{let e=16*l.reduce((e,t)=>e*t,1),t=await o(n,{suffixLength:e+4});r=c[n]=t?await u.decode(t):null}if(null===r)return;let{data:s,shape:h,stride:d}=r,p=t.map((e,t)=>e%h[t]).reduce((e,t,r)=>e+t*d[r],0),f=s[p],m=s[p+1];if(0xffffffffffffffffn!==f||0xffffffffffffffffn!==m)return o(n,{offset:Number(f),length:Number(m)})})}}let o=S(t.codecs);return{...n,kind:"regular",chunk_shape:t.chunk_grid.configuration.chunk_shape,codec:v({data_type:t.data_type,shape:t.chunk_grid.configuration.chunk_shape,codecs:t.codecs}),get_strides:e=>(0,i.get_strides)(e,o),async get_chunk_bytes(t,r){let i=n.encode_chunk_key(t),s=e.resolve(i).path;return e.store.get(s,r)}}}(this,r)}get attrs(){return this.#g.attributes}get shape(){return this.#g.shape}get chunks(){return this[k].chunk_shape}get dtype(){return this.#g.data_type}async getChunk(e,t){let r=this[k],i=await r.get_chunk_bytes(e,t);if(!i){let e=r.chunk_shape.reduce((e,t)=>e*t,1),t=new r.TypedArray(e);return t.fill(r.fill_value),{data:t,shape:r.chunk_shape,stride:r.get_strides(r.chunk_shape)}}return r.codec.decode(i)}is(e){return(0,i.is_dtype)(this.dtype,e)}}e.s(["Array",()=>C,"Group",()=>_,"Location",()=>w,"get_context",()=>M],71345);let A=function(){let e=new WeakMap;function t(t){let r=e.get(t)??{v2:0,v3:0};return e.set(t,r),r}return{increment(e,r){t(e)[r]+=1},version_max(e){let r=t(e);return r.v3>r.v2?"v3":"v2"}}}();async function I(e){let t=await e.store.get(e.resolve(".zattrs").path);return t?(0,i.json_decode_object)(t):{}}async function T(e,t){let{path:n}=e.resolve(".zarray"),s=await e.store.get(n);if(!s)throw new r.NodeNotFoundError("v2 array",{cause:new r.KeyError(n)});return A.increment(e.store,"v2"),new C(e.store,e.path,(0,i.v2_to_v3_array_metadata)((0,i.json_decode_object)(s),t))}async function z(e,t){let{path:n}=e.resolve(".zgroup"),s=await e.store.get(n);if(!s)throw new r.NodeNotFoundError("v2 group",{cause:new r.KeyError(n)});return A.increment(e.store,"v2"),new _(e.store,e.path,(0,i.v2_to_v3_group_metadata)((0,i.json_decode_object)(s),t))}async function E(e){let{store:t,path:n}=e.resolve("zarr.json"),s=await e.store.get(n);if(!s)throw new r.NodeNotFoundError("v3 array or group",{cause:new r.KeyError(n)});let a=(0,i.json_decode_object)(s);return"array"===a.node_type&&(a.fill_value=(0,i.ensure_correct_scalar)(a)),"array"===a.node_type?new C(t,e.path,a):new _(t,e.path,a)}async function N(e,t={}){let r="store"in e?e:new w(e),i=await E(r);if(A.increment(r.store,"v3"),void 0===t.kind||"array"===t.kind&&i instanceof C||"group"===t.kind&&i instanceof _)return i;throw Error(`Expected node of kind ${t.kind}, found ${i instanceof C?"array":"group"}.`)}async function j(e,t={}){let n="store"in e?e.store:e,s=A.version_max(n),a="v2"===s?j.v2:j.v3,o="v2"===s?j.v3:j.v2;return a(e,t).catch(n=>((0,i.rethrow_unless)(n,r.NodeNotFoundError),o(e,t)))}j.v2=async function(e,t={}){let n="store"in e?e:new w(e),s={};return((t.attrs??!0)&&(s=await I(n)),"array"===t.kind)?T(n,s):"group"===t.kind?z(n,s):T(n,s).catch(e=>((0,i.rethrow_unless)(e,r.NodeNotFoundError),z(n,s)))},j.v3=N,e.s(["open",()=>j],59386)},9858,e=>{"use strict";let t,r,i,n,s,a,o,l,u,c={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},h={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},d="attached",p="detached",f="srgb",m="srgb-linear",g="linear",y="srgb",x={COMPUTE:"compute",RENDER:"render"},v={PERSPECTIVE:"perspective",LINEAR:"linear",FLAT:"flat"},b={NORMAL:"normal",CENTROID:"centroid",SAMPLE:"sample",FIRST:"first",EITHER:"either"};function w(e){for(let t=e.length-1;t>=0;--t)if(e[t]>=65535)return!0;return!1}let _={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:Uint8ClampedArray,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function S(e,t){return new _[e](t)}function k(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function M(e){return document.createElementNS("http://www.w3.org/1999/xhtml",e)}function C(){let e=M("canvas");return e.style.display="block",e}let A={},I=null;function T(e){I=e}function z(){return I}function E(...e){let t="THREE."+e.shift();I?I("log",t,...e):console.log(t,...e)}function N(...e){let t="THREE."+e.shift();I?I("warn",t,...e):console.warn(t,...e)}function j(...e){let t="THREE."+e.shift();I?I("error",t,...e):console.error(t,...e)}function O(...e){let t=e.join(" ");t in A||(A[t]=!0,N(...e))}function D(e,t,r){return new Promise(function(i,n){setTimeout(function s(){switch(e.clientWaitSync(t,e.SYNC_FLUSH_COMMANDS_BIT,0)){case e.WAIT_FAILED:n();break;case e.TIMEOUT_EXPIRED:setTimeout(s,r);break;default:i()}},r)})}class P{addEventListener(e,t){void 0===this._listeners&&(this._listeners={});let r=this._listeners;void 0===r[e]&&(r[e]=[]),-1===r[e].indexOf(t)&&r[e].push(t)}hasEventListener(e,t){let r=this._listeners;return void 0!==r&&void 0!==r[e]&&-1!==r[e].indexOf(t)}removeEventListener(e,t){let r=this._listeners;if(void 0===r)return;let i=r[e];if(void 0!==i){let e=i.indexOf(t);-1!==e&&i.splice(e,1)}}dispatchEvent(e){let t=this._listeners;if(void 0===t)return;let r=t[e.type];if(void 0!==r){e.target=this;let t=r.slice(0);for(let r=0,i=t.length;r<i;r++)t[r].call(this,e);e.target=null}}}let R=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],B=1234567,L=Math.PI/180,F=180/Math.PI;function V(){let e=0xffffffff*Math.random()|0,t=0xffffffff*Math.random()|0,r=0xffffffff*Math.random()|0,i=0xffffffff*Math.random()|0;return(R[255&e]+R[e>>8&255]+R[e>>16&255]+R[e>>24&255]+"-"+R[255&t]+R[t>>8&255]+"-"+R[t>>16&15|64]+R[t>>24&255]+"-"+R[63&r|128]+R[r>>8&255]+"-"+R[r>>16&255]+R[r>>24&255]+R[255&i]+R[i>>8&255]+R[i>>16&255]+R[i>>24&255]).toLowerCase()}function U(e,t,r){return Math.max(t,Math.min(r,e))}function $(e,t){return(e%t+t)%t}function W(e,t,r){return(1-r)*e+r*t}function G(e,t){switch(t.constructor){case Float32Array:return e;case Uint32Array:return e/0xffffffff;case Uint16Array:return e/65535;case Uint8Array:return e/255;case Int32Array:return Math.max(e/0x7fffffff,-1);case Int16Array:return Math.max(e/32767,-1);case Int8Array:return Math.max(e/127,-1);default:throw Error("Invalid component type.")}}function H(e,t){switch(t.constructor){case Float32Array:return e;case Uint32Array:return Math.round(0xffffffff*e);case Uint16Array:return Math.round(65535*e);case Uint8Array:return Math.round(255*e);case Int32Array:return Math.round(0x7fffffff*e);case Int16Array:return Math.round(32767*e);case Int8Array:return Math.round(127*e);default:throw Error("Invalid component type.")}}let q={DEG2RAD:L,RAD2DEG:F,generateUUID:V,clamp:U,euclideanModulo:$,mapLinear:function(e,t,r,i,n){return i+(e-t)*(n-i)/(r-t)},inverseLerp:function(e,t,r){return e!==t?(r-e)/(t-e):0},lerp:W,damp:function(e,t,r,i){return W(e,t,1-Math.exp(-r*i))},pingpong:function(e,t=1){return t-Math.abs($(e,2*t)-t)},smoothstep:function(e,t,r){return e<=t?0:e>=r?1:(e=(e-t)/(r-t))*e*(3-2*e)},smootherstep:function(e,t,r){return e<=t?0:e>=r?1:(e=(e-t)/(r-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},seededRandom:function(e){void 0!==e&&(B=e);let t=B+=0x6d2b79f5;return t=Math.imul(t^t>>>15,1|t),(((t^=t+Math.imul(t^t>>>7,61|t))^t>>>14)>>>0)/0x100000000},degToRad:function(e){return e*L},radToDeg:function(e){return e*F},isPowerOfTwo:function(e){return(e&e-1)==0&&0!==e},ceilPowerOfTwo:function(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},floorPowerOfTwo:function(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))},setQuaternionFromProperEuler:function(e,t,r,i,n){let s=Math.cos,a=Math.sin,o=s(r/2),l=a(r/2),u=s((t+i)/2),c=a((t+i)/2),h=s((t-i)/2),d=a((t-i)/2),p=s((i-t)/2),f=a((i-t)/2);switch(n){case"XYX":e.set(o*c,l*h,l*d,o*u);break;case"YZY":e.set(l*d,o*c,l*h,o*u);break;case"ZXZ":e.set(l*h,l*d,o*c,o*u);break;case"XZX":e.set(o*c,l*f,l*p,o*u);break;case"YXY":e.set(l*p,o*c,l*f,o*u);break;case"ZYZ":e.set(l*f,l*p,o*c,o*u);break;default:N("MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+n)}},normalize:H,denormalize:G};class Y{constructor(e=0,t=0){Y.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){let t=this.x,r=this.y,i=e.elements;return this.x=i[0]*t+i[3]*r+i[6],this.y=i[1]*t+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=U(this.x,e.x,t.x),this.y=U(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=U(this.x,e,t),this.y=U(this.y,e,t),this}clampLength(e,t){let r=this.length();return this.divideScalar(r||1).multiplyScalar(U(r,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){let t=Math.sqrt(this.lengthSq()*e.lengthSq());return 0===t?Math.PI/2:Math.acos(U(this.dot(e)/t,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){let t=this.x-e.x,r=this.y-e.y;return t*t+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){let r=Math.cos(t),i=Math.sin(t),n=this.x-e.x,s=this.y-e.y;return this.x=n*r-s*i+e.x,this.y=n*i+s*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class X{constructor(e=0,t=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=r,this._w=i}static slerpFlat(e,t,r,i,n,s,a){let o=r[i+0],l=r[i+1],u=r[i+2],c=r[i+3],h=n[s+0],d=n[s+1],p=n[s+2],f=n[s+3];if(a<=0){e[t+0]=o,e[t+1]=l,e[t+2]=u,e[t+3]=c;return}if(a>=1){e[t+0]=h,e[t+1]=d,e[t+2]=p,e[t+3]=f;return}if(c!==f||o!==h||l!==d||u!==p){let e=o*h+l*d+u*p+c*f;e<0&&(h=-h,d=-d,p=-p,f=-f,e=-e);let t=1-a;if(e<.9995){let r=Math.acos(e),i=Math.sin(r);o=o*(t=Math.sin(t*r)/i)+h*(a=Math.sin(a*r)/i),l=l*t+d*a,u=u*t+p*a,c=c*t+f*a}else{let e=1/Math.sqrt((o=o*t+h*a)*o+(l=l*t+d*a)*l+(u=u*t+p*a)*u+(c=c*t+f*a)*c);o*=e,l*=e,u*=e,c*=e}}e[t]=o,e[t+1]=l,e[t+2]=u,e[t+3]=c}static multiplyQuaternionsFlat(e,t,r,i,n,s){let a=r[i],o=r[i+1],l=r[i+2],u=r[i+3],c=n[s],h=n[s+1],d=n[s+2],p=n[s+3];return e[t]=a*p+u*c+o*d-l*h,e[t+1]=o*p+u*h+l*c-a*d,e[t+2]=l*p+u*d+a*h-o*c,e[t+3]=u*p-a*c-o*h-l*d,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,r,i){return this._x=e,this._y=t,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){let r=e._x,i=e._y,n=e._z,s=e._order,a=Math.cos,o=Math.sin,l=a(r/2),u=a(i/2),c=a(n/2),h=o(r/2),d=o(i/2),p=o(n/2);switch(s){case"XYZ":this._x=h*u*c+l*d*p,this._y=l*d*c-h*u*p,this._z=l*u*p+h*d*c,this._w=l*u*c-h*d*p;break;case"YXZ":this._x=h*u*c+l*d*p,this._y=l*d*c-h*u*p,this._z=l*u*p-h*d*c,this._w=l*u*c+h*d*p;break;case"ZXY":this._x=h*u*c-l*d*p,this._y=l*d*c+h*u*p,this._z=l*u*p+h*d*c,this._w=l*u*c-h*d*p;break;case"ZYX":this._x=h*u*c-l*d*p,this._y=l*d*c+h*u*p,this._z=l*u*p-h*d*c,this._w=l*u*c+h*d*p;break;case"YZX":this._x=h*u*c+l*d*p,this._y=l*d*c+h*u*p,this._z=l*u*p-h*d*c,this._w=l*u*c-h*d*p;break;case"XZY":this._x=h*u*c-l*d*p,this._y=l*d*c-h*u*p,this._z=l*u*p+h*d*c,this._w=l*u*c+h*d*p;break;default:N("Quaternion: .setFromEuler() encountered an unknown order: "+s)}return!0===t&&this._onChangeCallback(),this}setFromAxisAngle(e,t){let r=t/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){let t=e.elements,r=t[0],i=t[4],n=t[8],s=t[1],a=t[5],o=t[9],l=t[2],u=t[6],c=t[10],h=r+a+c;if(h>0){let e=.5/Math.sqrt(h+1);this._w=.25/e,this._x=(u-o)*e,this._y=(n-l)*e,this._z=(s-i)*e}else if(r>a&&r>c){let e=2*Math.sqrt(1+r-a-c);this._w=(u-o)/e,this._x=.25*e,this._y=(i+s)/e,this._z=(n+l)/e}else if(a>c){let e=2*Math.sqrt(1+a-r-c);this._w=(n-l)/e,this._x=(i+s)/e,this._y=.25*e,this._z=(o+u)/e}else{let e=2*Math.sqrt(1+c-r-a);this._w=(s-i)/e,this._x=(n+l)/e,this._y=(o+u)/e,this._z=.25*e}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let r=e.dot(t)+1;return r<1e-8?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0):(this._x=0,this._y=-e.z,this._z=e.y)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x),this._w=r,this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(U(this.dot(e),-1,1)))}rotateTowards(e,t){let r=this.angleTo(e);if(0===r)return this;let i=Math.min(1,t/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){let r=e._x,i=e._y,n=e._z,s=e._w,a=t._x,o=t._y,l=t._z,u=t._w;return this._x=r*u+s*a+i*l-n*o,this._y=i*u+s*o+n*a-r*l,this._z=n*u+s*l+r*o-i*a,this._w=s*u-r*a-i*o-n*l,this._onChangeCallback(),this}slerp(e,t){if(t<=0)return this;if(t>=1)return this.copy(e);let r=e._x,i=e._y,n=e._z,s=e._w,a=this.dot(e);a<0&&(r=-r,i=-i,n=-n,s=-s,a=-a);let o=1-t;if(a<.9995){let e=Math.acos(a),l=Math.sin(e);o=Math.sin(o*e)/l,t=Math.sin(t*e)/l,this._x=this._x*o+r*t,this._y=this._y*o+i*t,this._z=this._z*o+n*t,this._w=this._w*o+s*t,this._onChangeCallback()}else this._x=this._x*o+r*t,this._y=this._y*o+i*t,this._z=this._z*o+n*t,this._w=this._w*o+s*t,this.normalize();return this}slerpQuaternions(e,t,r){return this.copy(e).slerp(t,r)}random(){let e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),r=Math.random(),i=Math.sqrt(1-r),n=Math.sqrt(r);return this.set(i*Math.sin(e),i*Math.cos(e),n*Math.sin(t),n*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Z{constructor(e=0,t=0,r=0){Z.prototype.isVector3=!0,this.x=e,this.y=t,this.z=r}set(e,t,r){return void 0===r&&(r=this.z),this.x=e,this.y=t,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(K.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(K.setFromAxisAngle(e,t))}applyMatrix3(e){let t=this.x,r=this.y,i=this.z,n=e.elements;return this.x=n[0]*t+n[3]*r+n[6]*i,this.y=n[1]*t+n[4]*r+n[7]*i,this.z=n[2]*t+n[5]*r+n[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){let t=this.x,r=this.y,i=this.z,n=e.elements,s=1/(n[3]*t+n[7]*r+n[11]*i+n[15]);return this.x=(n[0]*t+n[4]*r+n[8]*i+n[12])*s,this.y=(n[1]*t+n[5]*r+n[9]*i+n[13])*s,this.z=(n[2]*t+n[6]*r+n[10]*i+n[14])*s,this}applyQuaternion(e){let t=this.x,r=this.y,i=this.z,n=e.x,s=e.y,a=e.z,o=e.w,l=2*(s*i-a*r),u=2*(a*t-n*i),c=2*(n*r-s*t);return this.x=t+o*l+s*c-a*u,this.y=r+o*u+a*l-n*c,this.z=i+o*c+n*u-s*l,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){let t=this.x,r=this.y,i=this.z,n=e.elements;return this.x=n[0]*t+n[4]*r+n[8]*i,this.y=n[1]*t+n[5]*r+n[9]*i,this.z=n[2]*t+n[6]*r+n[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=U(this.x,e.x,t.x),this.y=U(this.y,e.y,t.y),this.z=U(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=U(this.x,e,t),this.y=U(this.y,e,t),this.z=U(this.z,e,t),this}clampLength(e,t){let r=this.length();return this.divideScalar(r||1).multiplyScalar(U(r,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){let r=e.x,i=e.y,n=e.z,s=t.x,a=t.y,o=t.z;return this.x=i*o-n*a,this.y=n*s-r*o,this.z=r*a-i*s,this}projectOnVector(e){let t=e.lengthSq();if(0===t)return this.set(0,0,0);let r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return J.copy(this).projectOnVector(e),this.sub(J)}reflect(e){return this.sub(J.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){let t=Math.sqrt(this.lengthSq()*e.lengthSq());return 0===t?Math.PI/2:Math.acos(U(this.dot(e)/t,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){let t=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return t*t+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,r){let i=Math.sin(t)*e;return this.x=i*Math.sin(r),this.y=Math.cos(t)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){let t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){let t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,4*t)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,3*t)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){let e=Math.random()*Math.PI*2,t=2*Math.random()-1,r=Math.sqrt(1-t*t);return this.x=r*Math.cos(e),this.y=t,this.z=r*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}let J=new Z,K=new X;class Q{constructor(e,t,r,i,n,s,a,o,l){Q.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],void 0!==e&&this.set(e,t,r,i,n,s,a,o,l)}set(e,t,r,i,n,s,a,o,l){let u=this.elements;return u[0]=e,u[1]=i,u[2]=a,u[3]=t,u[4]=n,u[5]=o,u[6]=r,u[7]=s,u[8]=l,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){let t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}extractBasis(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){let t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){let r=e.elements,i=t.elements,n=this.elements,s=r[0],a=r[3],o=r[6],l=r[1],u=r[4],c=r[7],h=r[2],d=r[5],p=r[8],f=i[0],m=i[3],g=i[6],y=i[1],x=i[4],v=i[7],b=i[2],w=i[5],_=i[8];return n[0]=s*f+a*y+o*b,n[3]=s*m+a*x+o*w,n[6]=s*g+a*v+o*_,n[1]=l*f+u*y+c*b,n[4]=l*m+u*x+c*w,n[7]=l*g+u*v+c*_,n[2]=h*f+d*y+p*b,n[5]=h*m+d*x+p*w,n[8]=h*g+d*v+p*_,this}multiplyScalar(e){let t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){let e=this.elements,t=e[0],r=e[1],i=e[2],n=e[3],s=e[4],a=e[5],o=e[6],l=e[7],u=e[8];return t*s*u-t*a*l-r*n*u+r*a*o+i*n*l-i*s*o}invert(){let e=this.elements,t=e[0],r=e[1],i=e[2],n=e[3],s=e[4],a=e[5],o=e[6],l=e[7],u=e[8],c=u*s-a*l,h=a*o-u*n,d=l*n-s*o,p=t*c+r*h+i*d;if(0===p)return this.set(0,0,0,0,0,0,0,0,0);let f=1/p;return e[0]=c*f,e[1]=(i*l-u*r)*f,e[2]=(a*r-i*s)*f,e[3]=h*f,e[4]=(u*t-i*o)*f,e[5]=(i*n-a*t)*f,e[6]=d*f,e[7]=(r*o-l*t)*f,e[8]=(s*t-r*n)*f,this}transpose(){let e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){let t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,r,i,n,s,a){let o=Math.cos(n),l=Math.sin(n);return this.set(r*o,r*l,-r*(o*s+l*a)+s+e,-i*l,i*o,-i*(-l*s+o*a)+a+t,0,0,1),this}scale(e,t){return this.premultiply(ee.makeScale(e,t)),this}rotate(e){return this.premultiply(ee.makeRotation(-e)),this}translate(e,t){return this.premultiply(ee.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){let t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,r,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){let t=this.elements,r=e.elements;for(let e=0;e<9;e++)if(t[e]!==r[e])return!1;return!0}fromArray(e,t=0){for(let r=0;r<9;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){let r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}let ee=new Q,et=new Q().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),er=new Q().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715),ei=(o=[.64,.33,.3,.6,.15,.06],l=[.2126,.7152,.0722],u=[.3127,.329],(a={enabled:!0,workingColorSpace:m,spaces:{},convert:function(e,t,r){return!1!==this.enabled&&t!==r&&t&&r&&(this.spaces[t].transfer===y&&(e.r=en(e.r),e.g=en(e.g),e.b=en(e.b)),this.spaces[t].primaries!==this.spaces[r].primaries&&(e.applyMatrix3(this.spaces[t].toXYZ),e.applyMatrix3(this.spaces[r].fromXYZ)),this.spaces[r].transfer===y&&(e.r=es(e.r),e.g=es(e.g),e.b=es(e.b))),e},workingToColorSpace:function(e,t){return this.convert(e,this.workingColorSpace,t)},colorSpaceToWorking:function(e,t){return this.convert(e,t,this.workingColorSpace)},getPrimaries:function(e){return this.spaces[e].primaries},getTransfer:function(e){return""===e?g:this.spaces[e].transfer},getToneMappingMode:function(e){return this.spaces[e].outputColorSpaceConfig.toneMappingMode||"standard"},getLuminanceCoefficients:function(e,t=this.workingColorSpace){return e.fromArray(this.spaces[t].luminanceCoefficients)},define:function(e){Object.assign(this.spaces,e)},_getMatrix:function(e,t,r){return e.copy(this.spaces[t].toXYZ).multiply(this.spaces[r].fromXYZ)},_getDrawingBufferColorSpace:function(e){return this.spaces[e].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(e=this.workingColorSpace){return this.spaces[e].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(e,t){return O("ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),a.workingToColorSpace(e,t)},toWorkingColorSpace:function(e,t){return O("ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),a.colorSpaceToWorking(e,t)}}).define({[m]:{primaries:o,whitePoint:u,transfer:g,toXYZ:et,fromXYZ:er,luminanceCoefficients:l,workingColorSpaceConfig:{unpackColorSpace:f},outputColorSpaceConfig:{drawingBufferColorSpace:f}},[f]:{primaries:o,whitePoint:u,transfer:y,toXYZ:et,fromXYZ:er,luminanceCoefficients:l,outputColorSpaceConfig:{drawingBufferColorSpace:f}}}),a);function en(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function es(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}class ea{static getDataURL(e,r="image/png"){let i;if(/^data:/i.test(e.src)||"undefined"==typeof HTMLCanvasElement)return e.src;if(e instanceof HTMLCanvasElement)i=e;else{void 0===t&&(t=M("canvas")),t.width=e.width,t.height=e.height;let r=t.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),i=t}return i.toDataURL(r)}static sRGBToLinear(e){if("undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap){let t=M("canvas");t.width=e.width,t.height=e.height;let r=t.getContext("2d");r.drawImage(e,0,0,e.width,e.height);let i=r.getImageData(0,0,e.width,e.height),n=i.data;for(let e=0;e<n.length;e++)n[e]=255*en(n[e]/255);return r.putImageData(i,0,0),t}if(!e.data)return N("ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e;{let t=e.data.slice(0);for(let e=0;e<t.length;e++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[e]=Math.floor(255*en(t[e]/255)):t[e]=en(t[e]);return{data:t,width:e.width,height:e.height}}}}let eo=0;class el{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:eo++}),this.uuid=V(),this.data=e,this.dataReady=!0,this.version=0}getSize(e){let t=this.data;return"undefined"!=typeof HTMLVideoElement&&t instanceof HTMLVideoElement?e.set(t.videoWidth,t.videoHeight,0):"undefined"!=typeof VideoFrame&&t instanceof VideoFrame?e.set(t.displayHeight,t.displayWidth,0):null!==t?e.set(t.width,t.height,t.depth||0):e.set(0,0,0),e}set needsUpdate(e){!0===e&&this.version++}toJSON(e){let t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.images[this.uuid])return e.images[this.uuid];let r={uuid:this.uuid,url:""},i=this.data;if(null!==i){let e;if(Array.isArray(i)){e=[];for(let t=0,r=i.length;t<r;t++)i[t].isDataTexture?e.push(eu(i[t].image)):e.push(eu(i[t]))}else e=eu(i);r.url=e}return t||(e.images[this.uuid]=r),r}}function eu(e){return"undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap?ea.getDataURL(e):e.data?{data:Array.from(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:(N("Texture: Unable to serialize Texture."),{})}let ec=0,eh=new Z;class ed extends P{constructor(e=ed.DEFAULT_IMAGE,t=ed.DEFAULT_MAPPING,r=1001,i=1001,n=1006,s=1008,a=1023,o=1009,l=ed.DEFAULT_ANISOTROPY,u=""){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:ec++}),this.uuid=V(),this.name="",this.source=new el(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=n,this.minFilter=s,this.anisotropy=l,this.format=a,this.internalFormat=null,this.type=o,this.offset=new Y(0,0),this.repeat=new Y(1,1),this.center=new Y(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Q,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=u,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!e&&!!e.depth&&e.depth>1,this.pmremVersion=0}get width(){return this.source.getSize(eh).x}get height(){return this.source.getSize(eh).y}get depth(){return this.source.getSize(eh).z}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isArrayTexture=e.isArrayTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}setValues(e){for(let t in e){let r=e[t];if(void 0===r){N(`Texture.setValues(): parameter '${t}' has value of undefined.`);continue}let i=this[t];if(void 0===i){N(`Texture.setValues(): property '${t}' does not exist.`);continue}i&&r&&i.isVector2&&r.isVector2||i&&r&&i.isVector3&&r.isVector3||i&&r&&i.isMatrix3&&r.isMatrix3?i.copy(r):this[t]=r}}toJSON(e){let t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];let r={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),t||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(300!==this.mapping)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case 1e3:e.x=e.x-Math.floor(e.x);break;case 1001:e.x=e.x<0?0:1;break;case 1002:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case 1e3:e.y=e.y-Math.floor(e.y);break;case 1001:e.y=e.y<0?0:1;break;case 1002:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){!0===e&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){!0===e&&this.pmremVersion++}}ed.DEFAULT_IMAGE=null,ed.DEFAULT_MAPPING=300,ed.DEFAULT_ANISOTROPY=1;class ep{constructor(e=0,t=0,r=0,i=1){ep.prototype.isVector4=!0,this.x=e,this.y=t,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,r,i){return this.x=e,this.y=t,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){let t=this.x,r=this.y,i=this.z,n=this.w,s=e.elements;return this.x=s[0]*t+s[4]*r+s[8]*i+s[12]*n,this.y=s[1]*t+s[5]*r+s[9]*i+s[13]*n,this.z=s[2]*t+s[6]*r+s[10]*i+s[14]*n,this.w=s[3]*t+s[7]*r+s[11]*i+s[15]*n,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);let t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,r,i,n,s=e.elements,a=s[0],o=s[4],l=s[8],u=s[1],c=s[5],h=s[9],d=s[2],p=s[6],f=s[10];if(.01>Math.abs(o-u)&&.01>Math.abs(l-d)&&.01>Math.abs(h-p)){if(.1>Math.abs(o+u)&&.1>Math.abs(l+d)&&.1>Math.abs(h+p)&&.1>Math.abs(a+c+f-3))return this.set(1,0,0,0),this;t=Math.PI;let e=(a+1)/2,s=(c+1)/2,m=(f+1)/2,g=(o+u)/4,y=(l+d)/4,x=(h+p)/4;return e>s&&e>m?e<.01?(r=0,i=.707106781,n=.707106781):(i=g/(r=Math.sqrt(e)),n=y/r):s>m?s<.01?(r=.707106781,i=0,n=.707106781):(r=g/(i=Math.sqrt(s)),n=x/i):m<.01?(r=.707106781,i=.707106781,n=0):(r=y/(n=Math.sqrt(m)),i=x/n),this.set(r,i,n,t),this}let m=Math.sqrt((p-h)*(p-h)+(l-d)*(l-d)+(u-o)*(u-o));return .001>Math.abs(m)&&(m=1),this.x=(p-h)/m,this.y=(l-d)/m,this.z=(u-o)/m,this.w=Math.acos((a+c+f-1)/2),this}setFromMatrixPosition(e){let t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=U(this.x,e.x,t.x),this.y=U(this.y,e.y,t.y),this.z=U(this.z,e.z,t.z),this.w=U(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=U(this.x,e,t),this.y=U(this.y,e,t),this.z=U(this.z,e,t),this.w=U(this.w,e,t),this}clampLength(e,t){let r=this.length();return this.divideScalar(r||1).multiplyScalar(U(r,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class ef extends P{constructor(e=1,t=1,r={}){super(),r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:1006,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},r),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=r.depth,this.scissor=new ep(0,0,e,t),this.scissorTest=!1,this.viewport=new ep(0,0,e,t);const i=new ed({width:e,height:t,depth:r.depth});this.textures=[];const n=r.count;for(let e=0;e<n;e++)this.textures[e]=i.clone(),this.textures[e].isRenderTargetTexture=!0,this.textures[e].renderTarget=this;this._setTextureOptions(r),this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.resolveDepthBuffer=r.resolveDepthBuffer,this.resolveStencilBuffer=r.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=r.depthTexture,this.samples=r.samples,this.multiview=r.multiview}_setTextureOptions(e={}){let t={minFilter:1006,generateMipmaps:!1,flipY:!1,internalFormat:null};void 0!==e.mapping&&(t.mapping=e.mapping),void 0!==e.wrapS&&(t.wrapS=e.wrapS),void 0!==e.wrapT&&(t.wrapT=e.wrapT),void 0!==e.wrapR&&(t.wrapR=e.wrapR),void 0!==e.magFilter&&(t.magFilter=e.magFilter),void 0!==e.minFilter&&(t.minFilter=e.minFilter),void 0!==e.format&&(t.format=e.format),void 0!==e.type&&(t.type=e.type),void 0!==e.anisotropy&&(t.anisotropy=e.anisotropy),void 0!==e.colorSpace&&(t.colorSpace=e.colorSpace),void 0!==e.flipY&&(t.flipY=e.flipY),void 0!==e.generateMipmaps&&(t.generateMipmaps=e.generateMipmaps),void 0!==e.internalFormat&&(t.internalFormat=e.internalFormat);for(let e=0;e<this.textures.length;e++)this.textures[e].setValues(t)}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){null!==this._depthTexture&&(this._depthTexture.renderTarget=null),null!==e&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,t,r=1){if(this.width!==e||this.height!==t||this.depth!==r){this.width=e,this.height=t,this.depth=r;for(let i=0,n=this.textures.length;i<n;i++)this.textures[i].image.width=e,this.textures[i].image.height=t,this.textures[i].image.depth=r,!0!==this.textures[i].isData3DTexture&&(this.textures[i].isArrayTexture=this.textures[i].image.depth>1);this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let t=0,r=e.textures.length;t<r;t++){this.textures[t]=e.textures[t].clone(),this.textures[t].isRenderTargetTexture=!0,this.textures[t].renderTarget=this;let r=Object.assign({},e.textures[t].image);this.textures[t].source=new el(r)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class em extends ef{constructor(e=1,t=1,r={}){super(e,t,r),this.isWebGLRenderTarget=!0}}class eg extends ed{constructor(e=null,t=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=1003,this.minFilter=1003,this.wrapR=1001,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class ey extends em{constructor(e=1,t=1,r=1,i={}){super(e,t,i),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new eg(null,e,t,r),this._setTextureOptions(i),this.texture.isRenderTargetTexture=!0}}class ex extends ed{constructor(e=null,t=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=1003,this.minFilter=1003,this.wrapR=1001,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class ev extends em{constructor(e=1,t=1,r=1,i={}){super(e,t,i),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new ex(null,e,t,r),this._setTextureOptions(i),this.texture.isRenderTargetTexture=!0}}class eb{constructor(e=new Z(Infinity,Infinity,Infinity),t=new Z(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t+=3)this.expandByPoint(e_.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,r=e.count;t<r;t++)this.expandByPoint(e_.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){let r=e_.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=Infinity,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);let r=e.geometry;if(void 0!==r){let i=r.getAttribute("position");if(!0===t&&void 0!==i&&!0!==e.isInstancedMesh)for(let t=0,r=i.count;t<r;t++)!0===e.isMesh?e.getVertexPosition(t,e_):e_.fromBufferAttribute(i,t),e_.applyMatrix4(e.matrixWorld),this.expandByPoint(e_);else void 0!==e.boundingBox?(null===e.boundingBox&&e.computeBoundingBox(),eS.copy(e.boundingBox)):(null===r.boundingBox&&r.computeBoundingBox(),eS.copy(r.boundingBox)),eS.applyMatrix4(e.matrixWorld),this.union(eS)}let i=e.children;for(let e=0,r=i.length;e<r;e++)this.expandByObject(i[e],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,e_),e_.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(ez),eE.subVectors(this.max,ez),ek.subVectors(e.a,ez),eM.subVectors(e.b,ez),eC.subVectors(e.c,ez),eA.subVectors(eM,ek),eI.subVectors(eC,eM),eT.subVectors(ek,eC);let t=[0,-eA.z,eA.y,0,-eI.z,eI.y,0,-eT.z,eT.y,eA.z,0,-eA.x,eI.z,0,-eI.x,eT.z,0,-eT.x,-eA.y,eA.x,0,-eI.y,eI.x,0,-eT.y,eT.x,0];return!!eO(t,ek,eM,eC,eE)&&!!eO(t=[1,0,0,0,1,0,0,0,1],ek,eM,eC,eE)&&(eN.crossVectors(eA,eI),eO(t=[eN.x,eN.y,eN.z],ek,eM,eC,eE))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,e_).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=.5*this.getSize(e_).length()),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()||(ew[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),ew[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),ew[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),ew[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),ew[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),ew[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),ew[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),ew[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(ew)),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(e){return this.min.fromArray(e.min),this.max.fromArray(e.max),this}}let ew=[new Z,new Z,new Z,new Z,new Z,new Z,new Z,new Z],e_=new Z,eS=new eb,ek=new Z,eM=new Z,eC=new Z,eA=new Z,eI=new Z,eT=new Z,ez=new Z,eE=new Z,eN=new Z,ej=new Z;function eO(e,t,r,i,n){for(let s=0,a=e.length-3;s<=a;s+=3){ej.fromArray(e,s);let a=n.x*Math.abs(ej.x)+n.y*Math.abs(ej.y)+n.z*Math.abs(ej.z),o=t.dot(ej),l=r.dot(ej),u=i.dot(ej);if(Math.max(-Math.max(o,l,u),Math.min(o,l,u))>a)return!1}return!0}let eD=new eb,eP=new Z,eR=new Z;class eB{constructor(e=new Z,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){let r=this.center;void 0!==t?r.copy(t):eD.setFromPoints(e).getCenter(r);let i=0;for(let t=0,n=e.length;t<n;t++)i=Math.max(i,r.distanceToSquared(e[t]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){let t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){let r=this.center.distanceToSquared(e);return t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?e.makeEmpty():(e.set(this.center,this.center),e.expandByScalar(this.radius)),e}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;eP.subVectors(e,this.center);let t=eP.lengthSq();if(t>this.radius*this.radius){let e=Math.sqrt(t),r=(e-this.radius)*.5;this.center.addScaledVector(eP,r/e),this.radius+=r}return this}union(e){return e.isEmpty()||(this.isEmpty()?this.copy(e):!0===this.center.equals(e.center)?this.radius=Math.max(this.radius,e.radius):(eR.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(eP.copy(e.center).add(eR)),this.expandByPoint(eP.copy(e.center).sub(eR)))),this}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(e){return this.radius=e.radius,this.center.fromArray(e.center),this}}let eL=new Z,eF=new Z,eV=new Z,eU=new Z,e$=new Z,eW=new Z,eG=new Z;class eH{constructor(e=new Z,t=new Z(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,eL)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);let r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){let t=eL.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(eL.copy(this.origin).addScaledVector(this.direction,t),eL.distanceToSquared(e))}distanceSqToSegment(e,t,r,i){let n,s,a,o;eF.copy(e).add(t).multiplyScalar(.5),eV.copy(t).sub(e).normalize(),eU.copy(this.origin).sub(eF);let l=.5*e.distanceTo(t),u=-this.direction.dot(eV),c=eU.dot(this.direction),h=-eU.dot(eV),d=eU.lengthSq(),p=Math.abs(1-u*u);if(p>0)if(n=u*h-c,s=u*c-h,o=l*p,n>=0)if(s>=-o)if(s<=o){let e=1/p;n*=e,s*=e,a=n*(n+u*s+2*c)+s*(u*n+s+2*h)+d}else a=-(n=Math.max(0,-(u*(s=l)+c)))*n+s*(s+2*h)+d;else a=-(n=Math.max(0,-(u*(s=-l)+c)))*n+s*(s+2*h)+d;else s<=-o?(s=(n=Math.max(0,-(-u*l+c)))>0?-l:Math.min(Math.max(-l,-h),l),a=-n*n+s*(s+2*h)+d):s<=o?(n=0,a=(s=Math.min(Math.max(-l,-h),l))*(s+2*h)+d):(s=(n=Math.max(0,-(u*l+c)))>0?l:Math.min(Math.max(-l,-h),l),a=-n*n+s*(s+2*h)+d);else s=u>0?-l:l,a=-(n=Math.max(0,-(u*s+c)))*n+s*(s+2*h)+d;return r&&r.copy(this.origin).addScaledVector(this.direction,n),i&&i.copy(eF).addScaledVector(eV,s),a}intersectSphere(e,t){eL.subVectors(e.center,this.origin);let r=eL.dot(this.direction),i=eL.dot(eL)-r*r,n=e.radius*e.radius;if(i>n)return null;let s=Math.sqrt(n-i),a=r-s,o=r+s;return o<0?null:a<0?this.at(o,t):this.at(a,t)}intersectsSphere(e){return!(e.radius<0)&&this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){let t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;let r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null}intersectPlane(e,t){let r=this.distanceToPlane(e);return null===r?null:this.at(r,t)}intersectsPlane(e){let t=e.distanceToPoint(this.origin);return!!(0===t||e.normal.dot(this.direction)*t<0)}intersectBox(e,t){let r,i,n,s,a,o,l=1/this.direction.x,u=1/this.direction.y,c=1/this.direction.z,h=this.origin;return(l>=0?(r=(e.min.x-h.x)*l,i=(e.max.x-h.x)*l):(r=(e.max.x-h.x)*l,i=(e.min.x-h.x)*l),u>=0?(n=(e.min.y-h.y)*u,s=(e.max.y-h.y)*u):(n=(e.max.y-h.y)*u,s=(e.min.y-h.y)*u),r>s||n>i||((n>r||isNaN(r))&&(r=n),(s<i||isNaN(i))&&(i=s),c>=0?(a=(e.min.z-h.z)*c,o=(e.max.z-h.z)*c):(a=(e.max.z-h.z)*c,o=(e.min.z-h.z)*c),r>o||a>i||((a>r||r!=r)&&(r=a),(o<i||i!=i)&&(i=o),i<0)))?null:this.at(r>=0?r:i,t)}intersectsBox(e){return null!==this.intersectBox(e,eL)}intersectTriangle(e,t,r,i,n){let s;e$.subVectors(t,e),eW.subVectors(r,e),eG.crossVectors(e$,eW);let a=this.direction.dot(eG);if(a>0){if(i)return null;s=1}else{if(!(a<0))return null;s=-1,a=-a}eU.subVectors(this.origin,e);let o=s*this.direction.dot(eW.crossVectors(eU,eW));if(o<0)return null;let l=s*this.direction.dot(e$.cross(eU));if(l<0||o+l>a)return null;let u=-s*eU.dot(eG);return u<0?null:this.at(u/a,n)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class eq{constructor(e,t,r,i,n,s,a,o,l,u,c,h,d,p,f,m){eq.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],void 0!==e&&this.set(e,t,r,i,n,s,a,o,l,u,c,h,d,p,f,m)}set(e,t,r,i,n,s,a,o,l,u,c,h,d,p,f,m){let g=this.elements;return g[0]=e,g[4]=t,g[8]=r,g[12]=i,g[1]=n,g[5]=s,g[9]=a,g[13]=o,g[2]=l,g[6]=u,g[10]=c,g[14]=h,g[3]=d,g[7]=p,g[11]=f,g[15]=m,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new eq().fromArray(this.elements)}copy(e){let t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this}copyPosition(e){let t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this}setFromMatrix3(e){let t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,r){return 0===this.determinant()?(e.set(1,0,0),t.set(0,1,0),r.set(0,0,1)):(e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2)),this}makeBasis(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this}extractRotation(e){if(0===e.determinant())return this.identity();let t=this.elements,r=e.elements,i=1/eY.setFromMatrixColumn(e,0).length(),n=1/eY.setFromMatrixColumn(e,1).length(),s=1/eY.setFromMatrixColumn(e,2).length();return t[0]=r[0]*i,t[1]=r[1]*i,t[2]=r[2]*i,t[3]=0,t[4]=r[4]*n,t[5]=r[5]*n,t[6]=r[6]*n,t[7]=0,t[8]=r[8]*s,t[9]=r[9]*s,t[10]=r[10]*s,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){let t=this.elements,r=e.x,i=e.y,n=e.z,s=Math.cos(r),a=Math.sin(r),o=Math.cos(i),l=Math.sin(i),u=Math.cos(n),c=Math.sin(n);if("XYZ"===e.order){let e=s*u,r=s*c,i=a*u,n=a*c;t[0]=o*u,t[4]=-o*c,t[8]=l,t[1]=r+i*l,t[5]=e-n*l,t[9]=-a*o,t[2]=n-e*l,t[6]=i+r*l,t[10]=s*o}else if("YXZ"===e.order){let e=o*u,r=o*c,i=l*u,n=l*c;t[0]=e+n*a,t[4]=i*a-r,t[8]=s*l,t[1]=s*c,t[5]=s*u,t[9]=-a,t[2]=r*a-i,t[6]=n+e*a,t[10]=s*o}else if("ZXY"===e.order){let e=o*u,r=o*c,i=l*u,n=l*c;t[0]=e-n*a,t[4]=-s*c,t[8]=i+r*a,t[1]=r+i*a,t[5]=s*u,t[9]=n-e*a,t[2]=-s*l,t[6]=a,t[10]=s*o}else if("ZYX"===e.order){let e=s*u,r=s*c,i=a*u,n=a*c;t[0]=o*u,t[4]=i*l-r,t[8]=e*l+n,t[1]=o*c,t[5]=n*l+e,t[9]=r*l-i,t[2]=-l,t[6]=a*o,t[10]=s*o}else if("YZX"===e.order){let e=s*o,r=s*l,i=a*o,n=a*l;t[0]=o*u,t[4]=n-e*c,t[8]=i*c+r,t[1]=c,t[5]=s*u,t[9]=-a*u,t[2]=-l*u,t[6]=r*c+i,t[10]=e-n*c}else if("XZY"===e.order){let e=s*o,r=s*l,i=a*o,n=a*l;t[0]=o*u,t[4]=-c,t[8]=l*u,t[1]=e*c+n,t[5]=s*u,t[9]=r*c-i,t[2]=i*c-r,t[6]=a*u,t[10]=n*c+e}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(eZ,e,eJ)}lookAt(e,t,r){let i=this.elements;return e1.subVectors(e,t),0===e1.lengthSq()&&(e1.z=1),e1.normalize(),eK.crossVectors(r,e1),0===eK.lengthSq()&&(1===Math.abs(r.z)?e1.x+=1e-4:e1.z+=1e-4,e1.normalize(),eK.crossVectors(r,e1)),eK.normalize(),eQ.crossVectors(e1,eK),i[0]=eK.x,i[4]=eQ.x,i[8]=e1.x,i[1]=eK.y,i[5]=eQ.y,i[9]=e1.y,i[2]=eK.z,i[6]=eQ.z,i[10]=e1.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){let r=e.elements,i=t.elements,n=this.elements,s=r[0],a=r[4],o=r[8],l=r[12],u=r[1],c=r[5],h=r[9],d=r[13],p=r[2],f=r[6],m=r[10],g=r[14],y=r[3],x=r[7],v=r[11],b=r[15],w=i[0],_=i[4],S=i[8],k=i[12],M=i[1],C=i[5],A=i[9],I=i[13],T=i[2],z=i[6],E=i[10],N=i[14],j=i[3],O=i[7],D=i[11],P=i[15];return n[0]=s*w+a*M+o*T+l*j,n[4]=s*_+a*C+o*z+l*O,n[8]=s*S+a*A+o*E+l*D,n[12]=s*k+a*I+o*N+l*P,n[1]=u*w+c*M+h*T+d*j,n[5]=u*_+c*C+h*z+d*O,n[9]=u*S+c*A+h*E+d*D,n[13]=u*k+c*I+h*N+d*P,n[2]=p*w+f*M+m*T+g*j,n[6]=p*_+f*C+m*z+g*O,n[10]=p*S+f*A+m*E+g*D,n[14]=p*k+f*I+m*N+g*P,n[3]=y*w+x*M+v*T+b*j,n[7]=y*_+x*C+v*z+b*O,n[11]=y*S+x*A+v*E+b*D,n[15]=y*k+x*I+v*N+b*P,this}multiplyScalar(e){let t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){let e=this.elements,t=e[0],r=e[4],i=e[8],n=e[12],s=e[1],a=e[5],o=e[9],l=e[13],u=e[2],c=e[6],h=e[10],d=e[14],p=e[3],f=e[7],m=e[11],g=e[15],y=o*d-l*h,x=a*d-l*c,v=a*h-o*c,b=s*d-l*u,w=s*h-o*u,_=s*c-a*u;return t*(f*y-m*x+g*v)-r*(p*y-m*b+g*w)+i*(p*x-f*b+g*_)-n*(p*v-f*w+m*_)}transpose(){let e,t=this.elements;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}setPosition(e,t,r){let i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=r),this}invert(){let e=this.elements,t=e[0],r=e[1],i=e[2],n=e[3],s=e[4],a=e[5],o=e[6],l=e[7],u=e[8],c=e[9],h=e[10],d=e[11],p=e[12],f=e[13],m=e[14],g=e[15],y=c*m*l-f*h*l+f*o*d-a*m*d-c*o*g+a*h*g,x=p*h*l-u*m*l-p*o*d+s*m*d+u*o*g-s*h*g,v=u*f*l-p*c*l+p*a*d-s*f*d-u*a*g+s*c*g,b=p*c*o-u*f*o-p*a*h+s*f*h+u*a*m-s*c*m,w=t*y+r*x+i*v+n*b;if(0===w)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);let _=1/w;return e[0]=y*_,e[1]=(f*h*n-c*m*n-f*i*d+r*m*d+c*i*g-r*h*g)*_,e[2]=(a*m*n-f*o*n+f*i*l-r*m*l-a*i*g+r*o*g)*_,e[3]=(c*o*n-a*h*n-c*i*l+r*h*l+a*i*d-r*o*d)*_,e[4]=x*_,e[5]=(u*m*n-p*h*n+p*i*d-t*m*d-u*i*g+t*h*g)*_,e[6]=(p*o*n-s*m*n-p*i*l+t*m*l+s*i*g-t*o*g)*_,e[7]=(s*h*n-u*o*n+u*i*l-t*h*l-s*i*d+t*o*d)*_,e[8]=v*_,e[9]=(p*c*n-u*f*n-p*r*d+t*f*d+u*r*g-t*c*g)*_,e[10]=(s*f*n-p*a*n+p*r*l-t*f*l-s*r*g+t*a*g)*_,e[11]=(u*a*n-s*c*n-u*r*l+t*c*l+s*r*d-t*a*d)*_,e[12]=b*_,e[13]=(u*f*i-p*c*i+p*r*h-t*f*h-u*r*m+t*c*m)*_,e[14]=(p*a*i-s*f*i-p*r*o+t*f*o+s*r*m-t*a*m)*_,e[15]=(s*c*i-u*a*i+u*r*o-t*c*o-s*r*h+t*a*h)*_,this}scale(e){let t=this.elements,r=e.x,i=e.y,n=e.z;return t[0]*=r,t[4]*=i,t[8]*=n,t[1]*=r,t[5]*=i,t[9]*=n,t[2]*=r,t[6]*=i,t[10]*=n,t[3]*=r,t[7]*=i,t[11]*=n,this}getMaxScaleOnAxis(){let e=this.elements;return Math.sqrt(Math.max(e[0]*e[0]+e[1]*e[1]+e[2]*e[2],e[4]*e[4]+e[5]*e[5]+e[6]*e[6],e[8]*e[8]+e[9]*e[9]+e[10]*e[10]))}makeTranslation(e,t,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this}makeRotationX(e){let t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this}makeRotationY(e){let t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this}makeRotationZ(e){let t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){let r=Math.cos(t),i=Math.sin(t),n=1-r,s=e.x,a=e.y,o=e.z,l=n*s,u=n*a;return this.set(l*s+r,l*a-i*o,l*o+i*a,0,l*a+i*o,u*a+r,u*o-i*s,0,l*o-i*a,u*o+i*s,n*o*o+r,0,0,0,0,1),this}makeScale(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,t,r,i,n,s){return this.set(1,r,n,0,e,1,s,0,t,i,1,0,0,0,0,1),this}compose(e,t,r){let i=this.elements,n=t._x,s=t._y,a=t._z,o=t._w,l=n+n,u=s+s,c=a+a,h=n*l,d=n*u,p=n*c,f=s*u,m=s*c,g=a*c,y=o*l,x=o*u,v=o*c,b=r.x,w=r.y,_=r.z;return i[0]=(1-(f+g))*b,i[1]=(d+v)*b,i[2]=(p-x)*b,i[3]=0,i[4]=(d-v)*w,i[5]=(1-(h+g))*w,i[6]=(m+y)*w,i[7]=0,i[8]=(p+x)*_,i[9]=(m-y)*_,i[10]=(1-(h+f))*_,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,r){let i=this.elements;if(e.x=i[12],e.y=i[13],e.z=i[14],0===this.determinant())return r.set(1,1,1),t.identity(),this;let n=eY.set(i[0],i[1],i[2]).length(),s=eY.set(i[4],i[5],i[6]).length(),a=eY.set(i[8],i[9],i[10]).length();0>this.determinant()&&(n=-n),eX.copy(this);let o=1/n,l=1/s,u=1/a;return eX.elements[0]*=o,eX.elements[1]*=o,eX.elements[2]*=o,eX.elements[4]*=l,eX.elements[5]*=l,eX.elements[6]*=l,eX.elements[8]*=u,eX.elements[9]*=u,eX.elements[10]*=u,t.setFromRotationMatrix(eX),r.x=n,r.y=s,r.z=a,this}makePerspective(e,t,r,i,n,s,a=2e3,o=!1){let l,u,c=this.elements;if(o)l=n/(s-n),u=s*n/(s-n);else if(2e3===a)l=-(s+n)/(s-n),u=-2*s*n/(s-n);else if(2001===a)l=-s/(s-n),u=-s*n/(s-n);else throw Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);return c[0]=2*n/(t-e),c[4]=0,c[8]=(t+e)/(t-e),c[12]=0,c[1]=0,c[5]=2*n/(r-i),c[9]=(r+i)/(r-i),c[13]=0,c[2]=0,c[6]=0,c[10]=l,c[14]=u,c[3]=0,c[7]=0,c[11]=-1,c[15]=0,this}makeOrthographic(e,t,r,i,n,s,a=2e3,o=!1){let l,u,c=this.elements;if(o)l=1/(s-n),u=s/(s-n);else if(2e3===a)l=-2/(s-n),u=-(s+n)/(s-n);else if(2001===a)l=-1/(s-n),u=-n/(s-n);else throw Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);return c[0]=2/(t-e),c[4]=0,c[8]=0,c[12]=-(t+e)/(t-e),c[1]=0,c[5]=2/(r-i),c[9]=0,c[13]=-(r+i)/(r-i),c[2]=0,c[6]=0,c[10]=l,c[14]=u,c[3]=0,c[7]=0,c[11]=0,c[15]=1,this}equals(e){let t=this.elements,r=e.elements;for(let e=0;e<16;e++)if(t[e]!==r[e])return!1;return!0}fromArray(e,t=0){for(let r=0;r<16;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){let r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}}let eY=new Z,eX=new eq,eZ=new Z(0,0,0),eJ=new Z(1,1,1),eK=new Z,eQ=new Z,e1=new Z,e0=new eq,e2=new X;class e9{constructor(e=0,t=0,r=0,i=e9.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,r,i=this._order){return this._x=e,this._y=t,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,r=!0){let i=e.elements,n=i[0],s=i[4],a=i[8],o=i[1],l=i[5],u=i[9],c=i[2],h=i[6],d=i[10];switch(t){case"XYZ":this._y=Math.asin(U(a,-1,1)),.9999999>Math.abs(a)?(this._x=Math.atan2(-u,d),this._z=Math.atan2(-s,n)):(this._x=Math.atan2(h,l),this._z=0);break;case"YXZ":this._x=Math.asin(-U(u,-1,1)),.9999999>Math.abs(u)?(this._y=Math.atan2(a,d),this._z=Math.atan2(o,l)):(this._y=Math.atan2(-c,n),this._z=0);break;case"ZXY":this._x=Math.asin(U(h,-1,1)),.9999999>Math.abs(h)?(this._y=Math.atan2(-c,d),this._z=Math.atan2(-s,l)):(this._y=0,this._z=Math.atan2(o,n));break;case"ZYX":this._y=Math.asin(-U(c,-1,1)),.9999999>Math.abs(c)?(this._x=Math.atan2(h,d),this._z=Math.atan2(o,n)):(this._x=0,this._z=Math.atan2(-s,l));break;case"YZX":this._z=Math.asin(U(o,-1,1)),.9999999>Math.abs(o)?(this._x=Math.atan2(-u,l),this._y=Math.atan2(-c,n)):(this._x=0,this._y=Math.atan2(a,d));break;case"XZY":this._z=Math.asin(-U(s,-1,1)),.9999999>Math.abs(s)?(this._x=Math.atan2(h,l),this._y=Math.atan2(a,n)):(this._x=Math.atan2(-u,d),this._y=0);break;default:N("Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,!0===r&&this._onChangeCallback(),this}setFromQuaternion(e,t,r){return e0.makeRotationFromQuaternion(e),this.setFromRotationMatrix(e0,t,r)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return e2.setFromEuler(this),this.setFromQuaternion(e2,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}e9.DEFAULT_ORDER="XYZ";class e3{constructor(){this.mask=1}set(e){this.mask=1<<e>>>0}enable(e){this.mask|=1<<e}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e}disable(e){this.mask&=~(1<<e)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!=0}isEnabled(e){return(this.mask&1<<e)!=0}}let e4=0,e8=new Z,e6=new X,e5=new eq,e7=new Z,te=new Z,tt=new Z,tr=new X,ti=new Z(1,0,0),tn=new Z(0,1,0),ts=new Z(0,0,1),ta={type:"added"},to={type:"removed"},tl={type:"childadded",child:null},tu={type:"childremoved",child:null};class tc extends P{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:e4++}),this.uuid=V(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=tc.DEFAULT_UP.clone();const e=new Z,t=new e9,r=new X,i=new Z(1,1,1);t._onChange(function(){r.setFromEuler(t,!1)}),r._onChange(function(){t.setFromQuaternion(r,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new eq},normalMatrix:{value:new Q}}),this.matrix=new eq,this.matrixWorld=new eq,this.matrixAutoUpdate=tc.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=tc.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new e3,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return e6.setFromAxisAngle(e,t),this.quaternion.multiply(e6),this}rotateOnWorldAxis(e,t){return e6.setFromAxisAngle(e,t),this.quaternion.premultiply(e6),this}rotateX(e){return this.rotateOnAxis(ti,e)}rotateY(e){return this.rotateOnAxis(tn,e)}rotateZ(e){return this.rotateOnAxis(ts,e)}translateOnAxis(e,t){return e8.copy(e).applyQuaternion(this.quaternion),this.position.add(e8.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(ti,e)}translateY(e){return this.translateOnAxis(tn,e)}translateZ(e){return this.translateOnAxis(ts,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(e5.copy(this.matrixWorld).invert())}lookAt(e,t,r){e.isVector3?e7.copy(e):e7.set(e,t,r);let i=this.parent;this.updateWorldMatrix(!0,!1),te.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?e5.lookAt(te,e7,this.up):e5.lookAt(e7,te,this.up),this.quaternion.setFromRotationMatrix(e5),i&&(e5.extractRotation(i.matrixWorld),e6.setFromRotationMatrix(e5),this.quaternion.premultiply(e6.invert()))}add(e){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return e===this?j("Object3D.add: object can't be added as a child of itself.",e):e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(ta),tl.child=e,this.dispatchEvent(tl),tl.child=null):j("Object3D.add: object not an instance of THREE.Object3D.",e),this}remove(e){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.remove(arguments[e]);return this}let t=this.children.indexOf(e);return -1!==t&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(to),tu.child=e,this.dispatchEvent(tu),tu.child=null),this}removeFromParent(){let e=this.parent;return null!==e&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),e5.copy(this.matrixWorld).invert(),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),e5.multiply(e.parent.matrixWorld)),e.applyMatrix4(e5),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(ta),tl.child=e,this.dispatchEvent(tl),tl.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let r=0,i=this.children.length;r<i;r++){let i=this.children[r].getObjectByProperty(e,t);if(void 0!==i)return i}}getObjectsByProperty(e,t,r=[]){this[e]===t&&r.push(this);let i=this.children;for(let n=0,s=i.length;n<s;n++)i[n].getObjectsByProperty(e,t,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(te,e,tt),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(te,tr,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);let t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);let t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverse(e)}traverseVisible(e){if(!1===this.visible)return;e(this);let t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverseVisible(e)}traverseAncestors(e){let t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(!0===this.matrixWorldAutoUpdate&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);let t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].updateMatrixWorld(e)}updateWorldMatrix(e,t){let r=this.parent;if(!0===e&&null!==r&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),!0===this.matrixWorldAutoUpdate&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),!0===t){let e=this.children;for(let t=0,r=e.length;t<r;t++)e[t].updateWorldMatrix(!1,!0)}}toJSON(e){let t=void 0===e||"string"==typeof e,r={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});let i={};function n(t,r){return void 0===t[r.uuid]&&(t[r.uuid]=r.toJSON(e)),r.uuid}if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),!0===this.castShadow&&(i.castShadow=!0),!0===this.receiveShadow&&(i.receiveShadow=!0),!1===this.visible&&(i.visible=!1),!1===this.frustumCulled&&(i.frustumCulled=!1),0!==this.renderOrder&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),!1===this.matrixAutoUpdate&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.geometryInfo=this._geometryInfo.map(e=>({...e,boundingBox:e.boundingBox?e.boundingBox.toJSON():void 0,boundingSphere:e.boundingSphere?e.boundingSphere.toJSON():void 0})),i.instanceInfo=this._instanceInfo.map(e=>({...e})),i.availableInstanceIds=this._availableInstanceIds.slice(),i.availableGeometryIds=this._availableGeometryIds.slice(),i.nextIndexStart=this._nextIndexStart,i.nextVertexStart=this._nextVertexStart,i.geometryCount=this._geometryCount,i.maxInstanceCount=this._maxInstanceCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.matricesTexture=this._matricesTexture.toJSON(e),i.indirectTexture=this._indirectTexture.toJSON(e),null!==this._colorsTexture&&(i.colorsTexture=this._colorsTexture.toJSON(e)),null!==this.boundingSphere&&(i.boundingSphere=this.boundingSphere.toJSON()),null!==this.boundingBox&&(i.boundingBox=this.boundingBox.toJSON())),this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=n(e.geometries,this.geometry);let t=this.geometry.parameters;if(void 0!==t&&void 0!==t.shapes){let r=t.shapes;if(Array.isArray(r))for(let t=0,i=r.length;t<i;t++){let i=r[t];n(e.shapes,i)}else n(e.shapes,r)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(n(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){let t=[];for(let r=0,i=this.material.length;r<i;r++)t.push(n(e.materials,this.material[r]));i.material=t}else i.material=n(e.materials,this.material);if(this.children.length>0){i.children=[];for(let t=0;t<this.children.length;t++)i.children.push(this.children[t].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let t=0;t<this.animations.length;t++){let r=this.animations[t];i.animations.push(n(e.animations,r))}}if(t){let t=s(e.geometries),i=s(e.materials),n=s(e.textures),a=s(e.images),o=s(e.shapes),l=s(e.skeletons),u=s(e.animations),c=s(e.nodes);t.length>0&&(r.geometries=t),i.length>0&&(r.materials=i),n.length>0&&(r.textures=n),a.length>0&&(r.images=a),o.length>0&&(r.shapes=o),l.length>0&&(r.skeletons=l),u.length>0&&(r.animations=u),c.length>0&&(r.nodes=c)}return r.object=i,r;function s(e){let t=[];for(let r in e){let i=e[r];delete i.metadata,t.push(i)}return t}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(let t=0;t<e.children.length;t++){let r=e.children[t];this.add(r.clone())}return this}}tc.DEFAULT_UP=new Z(0,1,0),tc.DEFAULT_MATRIX_AUTO_UPDATE=!0,tc.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;let th=new Z,td=new Z,tp=new Z,tf=new Z,tm=new Z,tg=new Z,ty=new Z,tx=new Z,tv=new Z,tb=new Z,tw=new ep,t_=new ep,tS=new ep;class tk{constructor(e=new Z,t=new Z,r=new Z){this.a=e,this.b=t,this.c=r}static getNormal(e,t,r,i){i.subVectors(r,t),th.subVectors(e,t),i.cross(th);let n=i.lengthSq();return n>0?i.multiplyScalar(1/Math.sqrt(n)):i.set(0,0,0)}static getBarycoord(e,t,r,i,n){th.subVectors(i,t),td.subVectors(r,t),tp.subVectors(e,t);let s=th.dot(th),a=th.dot(td),o=th.dot(tp),l=td.dot(td),u=td.dot(tp),c=s*l-a*a;if(0===c)return n.set(0,0,0),null;let h=1/c,d=(l*o-a*u)*h,p=(s*u-a*o)*h;return n.set(1-d-p,p,d)}static containsPoint(e,t,r,i){return null!==this.getBarycoord(e,t,r,i,tf)&&tf.x>=0&&tf.y>=0&&tf.x+tf.y<=1}static getInterpolation(e,t,r,i,n,s,a,o){return null===this.getBarycoord(e,t,r,i,tf)?(o.x=0,o.y=0,"z"in o&&(o.z=0),"w"in o&&(o.w=0),null):(o.setScalar(0),o.addScaledVector(n,tf.x),o.addScaledVector(s,tf.y),o.addScaledVector(a,tf.z),o)}static getInterpolatedAttribute(e,t,r,i,n,s){return tw.setScalar(0),t_.setScalar(0),tS.setScalar(0),tw.fromBufferAttribute(e,t),t_.fromBufferAttribute(e,r),tS.fromBufferAttribute(e,i),s.setScalar(0),s.addScaledVector(tw,n.x),s.addScaledVector(t_,n.y),s.addScaledVector(tS,n.z),s}static isFrontFacing(e,t,r,i){return th.subVectors(r,t),td.subVectors(e,t),0>th.cross(td).dot(i)}set(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this}setFromPointsAndIndices(e,t,r,i){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,r,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return th.subVectors(this.c,this.b),td.subVectors(this.a,this.b),.5*th.cross(td).length()}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return tk.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return tk.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,r,i,n){return tk.getInterpolation(e,this.a,this.b,this.c,t,r,i,n)}containsPoint(e){return tk.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return tk.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){let r,i,n=this.a,s=this.b,a=this.c;tm.subVectors(s,n),tg.subVectors(a,n),tx.subVectors(e,n);let o=tm.dot(tx),l=tg.dot(tx);if(o<=0&&l<=0)return t.copy(n);tv.subVectors(e,s);let u=tm.dot(tv),c=tg.dot(tv);if(u>=0&&c<=u)return t.copy(s);let h=o*c-u*l;if(h<=0&&o>=0&&u<=0)return r=o/(o-u),t.copy(n).addScaledVector(tm,r);tb.subVectors(e,a);let d=tm.dot(tb),p=tg.dot(tb);if(p>=0&&d<=p)return t.copy(a);let f=d*l-o*p;if(f<=0&&l>=0&&p<=0)return i=l/(l-p),t.copy(n).addScaledVector(tg,i);let m=u*p-d*c;if(m<=0&&c-u>=0&&d-p>=0)return ty.subVectors(a,s),i=(c-u)/(c-u+(d-p)),t.copy(s).addScaledVector(ty,i);let g=1/(m+f+h);return r=f*g,i=h*g,t.copy(n).addScaledVector(tm,r).addScaledVector(tg,i)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let tM={aliceblue:0xf0f8ff,antiquewhite:0xfaebd7,aqua:65535,aquamarine:8388564,azure:0xf0ffff,beige:0xf5f5dc,bisque:0xffe4c4,black:0,blanchedalmond:0xffebcd,blue:255,blueviolet:9055202,brown:0xa52a2a,burlywood:0xdeb887,cadetblue:6266528,chartreuse:8388352,chocolate:0xd2691e,coral:0xff7f50,cornflowerblue:6591981,cornsilk:0xfff8dc,crimson:0xdc143c,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:0xb8860b,darkgray:0xa9a9a9,darkgreen:25600,darkgrey:0xa9a9a9,darkkhaki:0xbdb76b,darkmagenta:9109643,darkolivegreen:5597999,darkorange:0xff8c00,darkorchid:0x9932cc,darkred:9109504,darksalmon:0xe9967a,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:0xff1493,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:0xb22222,floralwhite:0xfffaf0,forestgreen:2263842,fuchsia:0xff00ff,gainsboro:0xdcdcdc,ghostwhite:0xf8f8ff,gold:0xffd700,goldenrod:0xdaa520,gray:8421504,green:32768,greenyellow:0xadff2f,grey:8421504,honeydew:0xf0fff0,hotpink:0xff69b4,indianred:0xcd5c5c,indigo:4915330,ivory:0xfffff0,khaki:0xf0e68c,lavender:0xe6e6fa,lavenderblush:0xfff0f5,lawngreen:8190976,lemonchiffon:0xfffacd,lightblue:0xadd8e6,lightcoral:0xf08080,lightcyan:0xe0ffff,lightgoldenrodyellow:0xfafad2,lightgray:0xd3d3d3,lightgreen:9498256,lightgrey:0xd3d3d3,lightpink:0xffb6c1,lightsalmon:0xffa07a,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:0xb0c4de,lightyellow:0xffffe0,lime:65280,limegreen:3329330,linen:0xfaf0e6,magenta:0xff00ff,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:0xba55d3,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:0xc71585,midnightblue:1644912,mintcream:0xf5fffa,mistyrose:0xffe4e1,moccasin:0xffe4b5,navajowhite:0xffdead,navy:128,oldlace:0xfdf5e6,olive:8421376,olivedrab:7048739,orange:0xffa500,orangered:0xff4500,orchid:0xda70d6,palegoldenrod:0xeee8aa,palegreen:0x98fb98,paleturquoise:0xafeeee,palevioletred:0xdb7093,papayawhip:0xffefd5,peachpuff:0xffdab9,peru:0xcd853f,pink:0xffc0cb,plum:0xdda0dd,powderblue:0xb0e0e6,purple:8388736,rebeccapurple:6697881,red:0xff0000,rosybrown:0xbc8f8f,royalblue:4286945,saddlebrown:9127187,salmon:0xfa8072,sandybrown:0xf4a460,seagreen:3050327,seashell:0xfff5ee,sienna:0xa0522d,silver:0xc0c0c0,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:0xfffafa,springgreen:65407,steelblue:4620980,tan:0xd2b48c,teal:32896,thistle:0xd8bfd8,tomato:0xff6347,turquoise:4251856,violet:0xee82ee,wheat:0xf5deb3,white:0xffffff,whitesmoke:0xf5f5f5,yellow:0xffff00,yellowgreen:0x9acd32},tC={h:0,s:0,l:0},tA={h:0,s:0,l:0};function tI(e,t,r){return(r<0&&(r+=1),r>1&&(r-=1),r<1/6)?e+(t-e)*6*r:r<.5?t:r<2/3?e+(t-e)*6*(2/3-r):e}class tT{constructor(e,t,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,r)}set(e,t,r){return void 0===t&&void 0===r?e&&e.isColor?this.copy(e):"number"==typeof e?this.setHex(e):"string"==typeof e&&this.setStyle(e):this.setRGB(e,t,r),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=f){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,ei.colorSpaceToWorking(this,t),this}setRGB(e,t,r,i=ei.workingColorSpace){return this.r=e,this.g=t,this.b=r,ei.colorSpaceToWorking(this,i),this}setHSL(e,t,r,i=ei.workingColorSpace){if(e=$(e,1),t=U(t,0,1),r=U(r,0,1),0===t)this.r=this.g=this.b=r;else{let i=r<=.5?r*(1+t):r+t-r*t,n=2*r-i;this.r=tI(n,i,e+1/3),this.g=tI(n,i,e),this.b=tI(n,i,e-1/3)}return ei.colorSpaceToWorking(this,i),this}setStyle(e,t=f){let r;function i(t){void 0!==t&&1>parseFloat(t)&&N("Color: Alpha component of "+e+" will be ignored.")}if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let n,s=r[1],a=r[2];switch(s){case"rgb":case"rgba":if(n=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(n[4]),this.setRGB(Math.min(255,parseInt(n[1],10))/255,Math.min(255,parseInt(n[2],10))/255,Math.min(255,parseInt(n[3],10))/255,t);if(n=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(n[4]),this.setRGB(Math.min(100,parseInt(n[1],10))/100,Math.min(100,parseInt(n[2],10))/100,Math.min(100,parseInt(n[3],10))/100,t);break;case"hsl":case"hsla":if(n=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(n[4]),this.setHSL(parseFloat(n[1])/360,parseFloat(n[2])/100,parseFloat(n[3])/100,t);break;default:N("Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){let i=r[1],n=i.length;if(3===n)return this.setRGB(parseInt(i.charAt(0),16)/15,parseInt(i.charAt(1),16)/15,parseInt(i.charAt(2),16)/15,t);if(6===n)return this.setHex(parseInt(i,16),t);N("Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=f){let r=tM[e.toLowerCase()];return void 0!==r?this.setHex(r,t):N("Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=en(e.r),this.g=en(e.g),this.b=en(e.b),this}copyLinearToSRGB(e){return this.r=es(e.r),this.g=es(e.g),this.b=es(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=f){return ei.workingToColorSpace(tz.copy(this),e),65536*Math.round(U(255*tz.r,0,255))+256*Math.round(U(255*tz.g,0,255))+Math.round(U(255*tz.b,0,255))}getHexString(e=f){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=ei.workingColorSpace){let r,i;ei.workingToColorSpace(tz.copy(this),t);let n=tz.r,s=tz.g,a=tz.b,o=Math.max(n,s,a),l=Math.min(n,s,a),u=(l+o)/2;if(l===o)r=0,i=0;else{let e=o-l;switch(i=u<=.5?e/(o+l):e/(2-o-l),o){case n:r=(s-a)/e+6*(s<a);break;case s:r=(a-n)/e+2;break;case a:r=(n-s)/e+4}r/=6}return e.h=r,e.s=i,e.l=u,e}getRGB(e,t=ei.workingColorSpace){return ei.workingToColorSpace(tz.copy(this),t),e.r=tz.r,e.g=tz.g,e.b=tz.b,e}getStyle(e=f){ei.workingToColorSpace(tz.copy(this),e);let t=tz.r,r=tz.g,i=tz.b;return e!==f?`color(${e} ${t.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(255*t)},${Math.round(255*r)},${Math.round(255*i)})`}offsetHSL(e,t,r){return this.getHSL(tC),this.setHSL(tC.h+e,tC.s+t,tC.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,r){return this.r=e.r+(t.r-e.r)*r,this.g=e.g+(t.g-e.g)*r,this.b=e.b+(t.b-e.b)*r,this}lerpHSL(e,t){this.getHSL(tC),e.getHSL(tA);let r=W(tC.h,tA.h,t),i=W(tC.s,tA.s,t),n=W(tC.l,tA.l,t);return this.setHSL(r,i,n),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){let t=this.r,r=this.g,i=this.b,n=e.elements;return this.r=n[0]*t+n[3]*r+n[6]*i,this.g=n[1]*t+n[4]*r+n[7]*i,this.b=n[2]*t+n[5]*r+n[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}let tz=new tT;tT.NAMES=tM;let tE=0;class tN extends P{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:tE++}),this.uuid=V(),this.name="",this.type="Material",this.blending=1,this.side=0,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=100,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new tT(0,0,0),this.blendAlpha=0,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=7680,this.stencilZFail=7680,this.stencilZPass=7680,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(void 0!==e)for(let t in e){let r=e[t];if(void 0===r){N(`Material: parameter '${t}' has value of undefined.`);continue}let i=this[t];if(void 0===i){N(`Material: '${t}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[t]=r}}toJSON(e){let t=void 0===e||"string"==typeof e;t&&(e={textures:{},images:{}});let r={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};function i(e){let t=[];for(let r in e){let i=e[r];delete i.metadata,t.push(i)}return t}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),void 0!==this.roughness&&(r.roughness=this.roughness),void 0!==this.metalness&&(r.metalness=this.metalness),void 0!==this.sheen&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),void 0!==this.emissiveIntensity&&1!==this.emissiveIntensity&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(r.shininess=this.shininess),void 0!==this.clearcoat&&(r.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.sheenColorMap&&this.sheenColorMap.isTexture&&(r.sheenColorMap=this.sheenColorMap.toJSON(e).uuid),this.sheenRoughnessMap&&this.sheenRoughnessMap.isTexture&&(r.sheenRoughnessMap=this.sheenRoughnessMap.toJSON(e).uuid),void 0!==this.dispersion&&(r.dispersion=this.dispersion),void 0!==this.iridescence&&(r.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(r.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),void 0!==this.anisotropy&&(r.anisotropy=this.anisotropy),void 0!==this.anisotropyRotation&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(r.combine=this.combine)),void 0!==this.envMapRotation&&(r.envMapRotation=this.envMapRotation.toArray()),void 0!==this.envMapIntensity&&(r.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(r.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(r.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(r.size=this.size),null!==this.shadowSide&&(r.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(r.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(r.blending=this.blending),0!==this.side&&(r.side=this.side),!0===this.vertexColors&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),!0===this.transparent&&(r.transparent=!0),204!==this.blendSrc&&(r.blendSrc=this.blendSrc),205!==this.blendDst&&(r.blendDst=this.blendDst),100!==this.blendEquation&&(r.blendEquation=this.blendEquation),null!==this.blendSrcAlpha&&(r.blendSrcAlpha=this.blendSrcAlpha),null!==this.blendDstAlpha&&(r.blendDstAlpha=this.blendDstAlpha),null!==this.blendEquationAlpha&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),0!==this.blendAlpha&&(r.blendAlpha=this.blendAlpha),3!==this.depthFunc&&(r.depthFunc=this.depthFunc),!1===this.depthTest&&(r.depthTest=this.depthTest),!1===this.depthWrite&&(r.depthWrite=this.depthWrite),!1===this.colorWrite&&(r.colorWrite=this.colorWrite),255!==this.stencilWriteMask&&(r.stencilWriteMask=this.stencilWriteMask),519!==this.stencilFunc&&(r.stencilFunc=this.stencilFunc),0!==this.stencilRef&&(r.stencilRef=this.stencilRef),255!==this.stencilFuncMask&&(r.stencilFuncMask=this.stencilFuncMask),7680!==this.stencilFail&&(r.stencilFail=this.stencilFail),7680!==this.stencilZFail&&(r.stencilZFail=this.stencilZFail),7680!==this.stencilZPass&&(r.stencilZPass=this.stencilZPass),!0===this.stencilWrite&&(r.stencilWrite=this.stencilWrite),void 0!==this.rotation&&0!==this.rotation&&(r.rotation=this.rotation),!0===this.polygonOffset&&(r.polygonOffset=!0),0!==this.polygonOffsetFactor&&(r.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(r.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(r.linewidth=this.linewidth),void 0!==this.dashSize&&(r.dashSize=this.dashSize),void 0!==this.gapSize&&(r.gapSize=this.gapSize),void 0!==this.scale&&(r.scale=this.scale),!0===this.dithering&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),!0===this.alphaHash&&(r.alphaHash=!0),!0===this.alphaToCoverage&&(r.alphaToCoverage=!0),!0===this.premultipliedAlpha&&(r.premultipliedAlpha=!0),!0===this.forceSinglePass&&(r.forceSinglePass=!0),!1===this.allowOverride&&(r.allowOverride=!1),!0===this.wireframe&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(r.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(r.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(r.flatShading=!0),!1===this.visible&&(r.visible=!1),!1===this.toneMapped&&(r.toneMapped=!1),!1===this.fog&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData),t){let t=i(e.textures),n=i(e.images);t.length>0&&(r.textures=t),n.length>0&&(r.images=n)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;let t=e.clippingPlanes,r=null;if(null!==t){let e=t.length;r=Array(e);for(let i=0;i!==e;++i)r[i]=t[i].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.allowOverride=e.allowOverride,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){!0===e&&this.version++}}class tj extends tN{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new tT(0xffffff),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new e9,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}let tO=function(){let e=new ArrayBuffer(4),t=new Float32Array(e),r=new Uint32Array(e),i=new Uint32Array(512),n=new Uint32Array(512);for(let e=0;e<256;++e){let t=e-127;t<-27?(i[e]=0,i[256|e]=32768,n[e]=24,n[256|e]=24):t<-14?(i[e]=1024>>-t-14,i[256|e]=1024>>-t-14|32768,n[e]=-t-1,n[256|e]=-t-1):t<=15?(i[e]=t+15<<10,i[256|e]=t+15<<10|32768,n[e]=13,n[256|e]=13):t<128?(i[e]=31744,i[256|e]=64512,n[e]=24,n[256|e]=24):(i[e]=31744,i[256|e]=64512,n[e]=13,n[256|e]=13)}let s=new Uint32Array(2048),a=new Uint32Array(64),o=new Uint32Array(64);for(let e=1;e<1024;++e){let t=e<<13,r=0;for(;(8388608&t)==0;)t<<=1,r-=8388608;t&=-8388609,r+=0x38800000,s[e]=t|r}for(let e=1024;e<2048;++e)s[e]=0x38000000+(e-1024<<13);for(let e=1;e<31;++e)a[e]=e<<23;a[31]=0x47800000,a[32]=0x80000000;for(let e=33;e<63;++e)a[e]=0x80000000+(e-32<<23);a[63]=0xc7800000;for(let e=1;e<64;++e)32!==e&&(o[e]=1024);return{floatView:t,uint32View:r,baseTable:i,shiftTable:n,mantissaTable:s,exponentTable:a,offsetTable:o}}();function tD(e){Math.abs(e)>65504&&N("DataUtils.toHalfFloat(): Value out of range."),e=U(e,-65504,65504),tO.floatView[0]=e;let t=tO.uint32View[0],r=t>>23&511;return tO.baseTable[r]+((8388607&t)>>tO.shiftTable[r])}function tP(e){let t=e>>10;return tO.uint32View[0]=tO.mantissaTable[tO.offsetTable[t]+(1023&e)]+tO.exponentTable[t],tO.floatView[0]}class tR{static toHalfFloat(e){return tD(e)}static fromHalfFloat(e){return tP(e)}}let tB=new Z,tL=new Y,tF=0;class tV{constructor(e,t,r=!1){if(Array.isArray(e))throw TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:tF++}),this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=r,this.usage=35044,this.updateRanges=[],this.gpuType=1015,this.version=0}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,r){e*=this.itemSize,r*=t.itemSize;for(let i=0,n=this.itemSize;i<n;i++)this.array[e+i]=t.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(2===this.itemSize)for(let t=0,r=this.count;t<r;t++)tL.fromBufferAttribute(this,t),tL.applyMatrix3(e),this.setXY(t,tL.x,tL.y);else if(3===this.itemSize)for(let t=0,r=this.count;t<r;t++)tB.fromBufferAttribute(this,t),tB.applyMatrix3(e),this.setXYZ(t,tB.x,tB.y,tB.z);return this}applyMatrix4(e){for(let t=0,r=this.count;t<r;t++)tB.fromBufferAttribute(this,t),tB.applyMatrix4(e),this.setXYZ(t,tB.x,tB.y,tB.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)tB.fromBufferAttribute(this,t),tB.applyNormalMatrix(e),this.setXYZ(t,tB.x,tB.y,tB.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)tB.fromBufferAttribute(this,t),tB.transformDirection(e),this.setXYZ(t,tB.x,tB.y,tB.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let r=this.array[e*this.itemSize+t];return this.normalized&&(r=G(r,this.array)),r}setComponent(e,t,r){return this.normalized&&(r=H(r,this.array)),this.array[e*this.itemSize+t]=r,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=G(t,this.array)),t}setX(e,t){return this.normalized&&(t=H(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=G(t,this.array)),t}setY(e,t){return this.normalized&&(t=H(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=G(t,this.array)),t}setZ(e,t){return this.normalized&&(t=H(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=G(t,this.array)),t}setW(e,t){return this.normalized&&(t=H(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=H(t,this.array),r=H(r,this.array)),this.array[e+0]=t,this.array[e+1]=r,this}setXYZ(e,t,r,i){return e*=this.itemSize,this.normalized&&(t=H(t,this.array),r=H(r,this.array),i=H(i,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,t,r,i,n){return e*=this.itemSize,this.normalized&&(t=H(t,this.array),r=H(r,this.array),i=H(i,this.array),n=H(n,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=n,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){let e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),35044!==this.usage&&(e.usage=this.usage),e}}class tU extends tV{constructor(e,t,r){super(new Int8Array(e),t,r)}}class t$ extends tV{constructor(e,t,r){super(new Uint8Array(e),t,r)}}class tW extends tV{constructor(e,t,r){super(new Uint8ClampedArray(e),t,r)}}class tG extends tV{constructor(e,t,r){super(new Int16Array(e),t,r)}}class tH extends tV{constructor(e,t,r){super(new Uint16Array(e),t,r)}}class tq extends tV{constructor(e,t,r){super(new Int32Array(e),t,r)}}class tY extends tV{constructor(e,t,r){super(new Uint32Array(e),t,r)}}class tX extends tV{constructor(e,t,r){super(new Uint16Array(e),t,r),this.isFloat16BufferAttribute=!0}getX(e){let t=tP(this.array[e*this.itemSize]);return this.normalized&&(t=G(t,this.array)),t}setX(e,t){return this.normalized&&(t=H(t,this.array)),this.array[e*this.itemSize]=tD(t),this}getY(e){let t=tP(this.array[e*this.itemSize+1]);return this.normalized&&(t=G(t,this.array)),t}setY(e,t){return this.normalized&&(t=H(t,this.array)),this.array[e*this.itemSize+1]=tD(t),this}getZ(e){let t=tP(this.array[e*this.itemSize+2]);return this.normalized&&(t=G(t,this.array)),t}setZ(e,t){return this.normalized&&(t=H(t,this.array)),this.array[e*this.itemSize+2]=tD(t),this}getW(e){let t=tP(this.array[e*this.itemSize+3]);return this.normalized&&(t=G(t,this.array)),t}setW(e,t){return this.normalized&&(t=H(t,this.array)),this.array[e*this.itemSize+3]=tD(t),this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=H(t,this.array),r=H(r,this.array)),this.array[e+0]=tD(t),this.array[e+1]=tD(r),this}setXYZ(e,t,r,i){return e*=this.itemSize,this.normalized&&(t=H(t,this.array),r=H(r,this.array),i=H(i,this.array)),this.array[e+0]=tD(t),this.array[e+1]=tD(r),this.array[e+2]=tD(i),this}setXYZW(e,t,r,i,n){return e*=this.itemSize,this.normalized&&(t=H(t,this.array),r=H(r,this.array),i=H(i,this.array),n=H(n,this.array)),this.array[e+0]=tD(t),this.array[e+1]=tD(r),this.array[e+2]=tD(i),this.array[e+3]=tD(n),this}}class tZ extends tV{constructor(e,t,r){super(new Float32Array(e),t,r)}}let tJ=0,tK=new eq,tQ=new tc,t1=new Z,t0=new eb,t2=new eb,t9=new Z;class t3 extends P{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:tJ++}),this.uuid=V(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.indirectOffset=0,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(w(e)?tY:tH)(e,1):this.index=e,this}setIndirect(e,t=0){return this.indirect=e,this.indirectOffset=t,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return void 0!==this.attributes[e]}addGroup(e,t,r=0){this.groups.push({start:e,count:t,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){let t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);let r=this.attributes.normal;if(void 0!==r){let t=new Q().getNormalMatrix(e);r.applyNormalMatrix(t),r.needsUpdate=!0}let i=this.attributes.tangent;return void 0!==i&&(i.transformDirection(e),i.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(e){return tK.makeRotationFromQuaternion(e),this.applyMatrix4(tK),this}rotateX(e){return tK.makeRotationX(e),this.applyMatrix4(tK),this}rotateY(e){return tK.makeRotationY(e),this.applyMatrix4(tK),this}rotateZ(e){return tK.makeRotationZ(e),this.applyMatrix4(tK),this}translate(e,t,r){return tK.makeTranslation(e,t,r),this.applyMatrix4(tK),this}scale(e,t,r){return tK.makeScale(e,t,r),this.applyMatrix4(tK),this}lookAt(e){return tQ.lookAt(e),tQ.updateMatrix(),this.applyMatrix4(tQ.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(t1).negate(),this.translate(t1.x,t1.y,t1.z),this}setFromPoints(e){let t=this.getAttribute("position");if(void 0===t){let t=[];for(let r=0,i=e.length;r<i;r++){let i=e[r];t.push(i.x,i.y,i.z||0)}this.setAttribute("position",new tZ(t,3))}else{let r=Math.min(e.length,t.count);for(let i=0;i<r;i++){let r=e[i];t.setXYZ(i,r.x,r.y,r.z||0)}e.length>t.count&&N("BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new eb);let e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){j("BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new Z(-1/0,-1/0,-1/0),new Z(Infinity,Infinity,Infinity));return}if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(let e=0,r=t.length;e<r;e++){let r=t[e];t0.setFromBufferAttribute(r),this.morphTargetsRelative?(t9.addVectors(this.boundingBox.min,t0.min),this.boundingBox.expandByPoint(t9),t9.addVectors(this.boundingBox.max,t0.max),this.boundingBox.expandByPoint(t9)):(this.boundingBox.expandByPoint(t0.min),this.boundingBox.expandByPoint(t0.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&j('BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new eB);let e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){j("BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new Z,1/0);return}if(e){let r=this.boundingSphere.center;if(t0.setFromBufferAttribute(e),t)for(let e=0,r=t.length;e<r;e++){let r=t[e];t2.setFromBufferAttribute(r),this.morphTargetsRelative?(t9.addVectors(t0.min,t2.min),t0.expandByPoint(t9),t9.addVectors(t0.max,t2.max),t0.expandByPoint(t9)):(t0.expandByPoint(t2.min),t0.expandByPoint(t2.max))}t0.getCenter(r);let i=0;for(let t=0,n=e.count;t<n;t++)t9.fromBufferAttribute(e,t),i=Math.max(i,r.distanceToSquared(t9));if(t)for(let n=0,s=t.length;n<s;n++){let s=t[n],a=this.morphTargetsRelative;for(let t=0,n=s.count;t<n;t++)t9.fromBufferAttribute(s,t),a&&(t1.fromBufferAttribute(e,t),t9.add(t1)),i=Math.max(i,r.distanceToSquared(t9))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&j('BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){let e=this.index,t=this.attributes;if(null===e||void 0===t.position||void 0===t.normal||void 0===t.uv)return void j("BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");let r=t.position,i=t.normal,n=t.uv;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new tV(new Float32Array(4*r.count),4));let s=this.getAttribute("tangent"),a=[],o=[];for(let e=0;e<r.count;e++)a[e]=new Z,o[e]=new Z;let l=new Z,u=new Z,c=new Z,h=new Y,d=new Y,p=new Y,f=new Z,m=new Z,g=this.groups;0===g.length&&(g=[{start:0,count:e.count}]);for(let t=0,i=g.length;t<i;++t){let i=g[t],s=i.start,y=i.count;for(let t=s,i=s+y;t<i;t+=3)!function(e,t,i){l.fromBufferAttribute(r,e),u.fromBufferAttribute(r,t),c.fromBufferAttribute(r,i),h.fromBufferAttribute(n,e),d.fromBufferAttribute(n,t),p.fromBufferAttribute(n,i),u.sub(l),c.sub(l),d.sub(h),p.sub(h);let s=1/(d.x*p.y-p.x*d.y);isFinite(s)&&(f.copy(u).multiplyScalar(p.y).addScaledVector(c,-d.y).multiplyScalar(s),m.copy(c).multiplyScalar(d.x).addScaledVector(u,-p.x).multiplyScalar(s),a[e].add(f),a[t].add(f),a[i].add(f),o[e].add(m),o[t].add(m),o[i].add(m))}(e.getX(t+0),e.getX(t+1),e.getX(t+2))}let y=new Z,x=new Z,v=new Z,b=new Z;function w(e){v.fromBufferAttribute(i,e),b.copy(v);let t=a[e];y.copy(t),y.sub(v.multiplyScalar(v.dot(t))).normalize(),x.crossVectors(b,t);let r=x.dot(o[e]);s.setXYZW(e,y.x,y.y,y.z,r<0?-1:1)}for(let t=0,r=g.length;t<r;++t){let r=g[t],i=r.start,n=r.count;for(let t=i,r=i+n;t<r;t+=3)w(e.getX(t+0)),w(e.getX(t+1)),w(e.getX(t+2))}}computeVertexNormals(){let e=this.index,t=this.getAttribute("position");if(void 0!==t){let r=this.getAttribute("normal");if(void 0===r)r=new tV(new Float32Array(3*t.count),3),this.setAttribute("normal",r);else for(let e=0,t=r.count;e<t;e++)r.setXYZ(e,0,0,0);let i=new Z,n=new Z,s=new Z,a=new Z,o=new Z,l=new Z,u=new Z,c=new Z;if(e)for(let h=0,d=e.count;h<d;h+=3){let d=e.getX(h+0),p=e.getX(h+1),f=e.getX(h+2);i.fromBufferAttribute(t,d),n.fromBufferAttribute(t,p),s.fromBufferAttribute(t,f),u.subVectors(s,n),c.subVectors(i,n),u.cross(c),a.fromBufferAttribute(r,d),o.fromBufferAttribute(r,p),l.fromBufferAttribute(r,f),a.add(u),o.add(u),l.add(u),r.setXYZ(d,a.x,a.y,a.z),r.setXYZ(p,o.x,o.y,o.z),r.setXYZ(f,l.x,l.y,l.z)}else for(let e=0,a=t.count;e<a;e+=3)i.fromBufferAttribute(t,e+0),n.fromBufferAttribute(t,e+1),s.fromBufferAttribute(t,e+2),u.subVectors(s,n),c.subVectors(i,n),u.cross(c),r.setXYZ(e+0,u.x,u.y,u.z),r.setXYZ(e+1,u.x,u.y,u.z),r.setXYZ(e+2,u.x,u.y,u.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){let e=this.attributes.normal;for(let t=0,r=e.count;t<r;t++)t9.fromBufferAttribute(e,t),t9.normalize(),e.setXYZ(t,t9.x,t9.y,t9.z)}toNonIndexed(){function e(e,t){let r=e.array,i=e.itemSize,n=e.normalized,s=new r.constructor(t.length*i),a=0,o=0;for(let n=0,l=t.length;n<l;n++){a=e.isInterleavedBufferAttribute?t[n]*e.data.stride+e.offset:t[n]*i;for(let e=0;e<i;e++)s[o++]=r[a++]}return new tV(s,i,n)}if(null===this.index)return N("BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;let t=new t3,r=this.index.array,i=this.attributes;for(let n in i){let s=e(i[n],r);t.setAttribute(n,s)}let n=this.morphAttributes;for(let i in n){let s=[],a=n[i];for(let t=0,i=a.length;t<i;t++){let i=e(a[t],r);s.push(i)}t.morphAttributes[i]=s}t.morphTargetsRelative=this.morphTargetsRelative;let s=this.groups;for(let e=0,r=s.length;e<r;e++){let r=s[e];t.addGroup(r.start,r.count,r.materialIndex)}return t}toJSON(){let e={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){let t=this.parameters;for(let r in t)void 0!==t[r]&&(e[r]=t[r]);return e}e.data={attributes:{}};let t=this.index;null!==t&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});let r=this.attributes;for(let t in r){let i=r[t];e.data.attributes[t]=i.toJSON(e.data)}let i={},n=!1;for(let t in this.morphAttributes){let r=this.morphAttributes[t],s=[];for(let t=0,i=r.length;t<i;t++){let i=r[t];s.push(i.toJSON(e.data))}s.length>0&&(i[t]=s,n=!0)}n&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);let s=this.groups;s.length>0&&(e.data.groups=JSON.parse(JSON.stringify(s)));let a=this.boundingSphere;return null!==a&&(e.data.boundingSphere=a.toJSON()),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;let t={};this.name=e.name;let r=e.index;null!==r&&this.setIndex(r.clone());let i=e.attributes;for(let e in i){let r=i[e];this.setAttribute(e,r.clone(t))}let n=e.morphAttributes;for(let e in n){let r=[],i=n[e];for(let e=0,n=i.length;e<n;e++)r.push(i[e].clone(t));this.morphAttributes[e]=r}this.morphTargetsRelative=e.morphTargetsRelative;let s=e.groups;for(let e=0,t=s.length;e<t;e++){let t=s[e];this.addGroup(t.start,t.count,t.materialIndex)}let a=e.boundingBox;null!==a&&(this.boundingBox=a.clone());let o=e.boundingSphere;return null!==o&&(this.boundingSphere=o.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}let t4=new eq,t8=new eH,t6=new eB,t5=new Z,t7=new Z,re=new Z,rt=new Z,rr=new Z,ri=new Z,rn=new Z,rs=new Z;class ra extends tc{constructor(e=new t3,t=new tj){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){let e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){let r=e[t[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,t=r.length;e<t;e++){let t=r[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[t]=e}}}}getVertexPosition(e,t){let r=this.geometry,i=r.attributes.position,n=r.morphAttributes.position,s=r.morphTargetsRelative;t.fromBufferAttribute(i,e);let a=this.morphTargetInfluences;if(n&&a){ri.set(0,0,0);for(let r=0,i=n.length;r<i;r++){let i=a[r],o=n[r];0!==i&&(rr.fromBufferAttribute(o,e),s?ri.addScaledVector(rr,i):ri.addScaledVector(rr.sub(t),i))}t.add(ri)}return t}raycast(e,t){let r=this.geometry,i=this.material,n=this.matrixWorld;void 0===i||(null===r.boundingSphere&&r.computeBoundingSphere(),t6.copy(r.boundingSphere),t6.applyMatrix4(n),t8.copy(e.ray).recast(e.near),!1===t6.containsPoint(t8.origin)&&(null===t8.intersectSphere(t6,t5)||t8.origin.distanceToSquared(t5)>(e.far-e.near)**2)||(t4.copy(n).invert(),t8.copy(e.ray).applyMatrix4(t4),(null===r.boundingBox||!1!==t8.intersectsBox(r.boundingBox))&&this._computeIntersections(e,t,t8)))}_computeIntersections(e,t,r){let i,n=this.geometry,s=this.material,a=n.index,o=n.attributes.position,l=n.attributes.uv,u=n.attributes.uv1,c=n.attributes.normal,h=n.groups,d=n.drawRange;if(null!==a)if(Array.isArray(s))for(let n=0,o=h.length;n<o;n++){let o=h[n],p=s[o.materialIndex],f=Math.max(o.start,d.start),m=Math.min(a.count,Math.min(o.start+o.count,d.start+d.count));for(let n=f;n<m;n+=3)(i=ro(this,p,e,r,l,u,c,a.getX(n),a.getX(n+1),a.getX(n+2)))&&(i.faceIndex=Math.floor(n/3),i.face.materialIndex=o.materialIndex,t.push(i))}else{let n=Math.max(0,d.start),o=Math.min(a.count,d.start+d.count);for(let h=n;h<o;h+=3)(i=ro(this,s,e,r,l,u,c,a.getX(h),a.getX(h+1),a.getX(h+2)))&&(i.faceIndex=Math.floor(h/3),t.push(i))}else if(void 0!==o)if(Array.isArray(s))for(let n=0,a=h.length;n<a;n++){let a=h[n],p=s[a.materialIndex],f=Math.max(a.start,d.start),m=Math.min(o.count,Math.min(a.start+a.count,d.start+d.count));for(let n=f;n<m;n+=3)(i=ro(this,p,e,r,l,u,c,n,n+1,n+2))&&(i.faceIndex=Math.floor(n/3),i.face.materialIndex=a.materialIndex,t.push(i))}else{let n=Math.max(0,d.start),a=Math.min(o.count,d.start+d.count);for(let o=n;o<a;o+=3)(i=ro(this,s,e,r,l,u,c,o,o+1,o+2))&&(i.faceIndex=Math.floor(o/3),t.push(i))}}}function ro(e,t,r,i,n,s,a,o,l,u){e.getVertexPosition(o,t7),e.getVertexPosition(l,re),e.getVertexPosition(u,rt);let c=function(e,t,r,i,n,s,a,o){if(null===(1===t.side?i.intersectTriangle(a,s,n,!0,o):i.intersectTriangle(n,s,a,0===t.side,o)))return null;rs.copy(o),rs.applyMatrix4(e.matrixWorld);let l=r.ray.origin.distanceTo(rs);return l<r.near||l>r.far?null:{distance:l,point:rs.clone(),object:e}}(e,t,r,i,t7,re,rt,rn);if(c){let e=new Z;tk.getBarycoord(rn,t7,re,rt,e),n&&(c.uv=tk.getInterpolatedAttribute(n,o,l,u,e,new Y)),s&&(c.uv1=tk.getInterpolatedAttribute(s,o,l,u,e,new Y)),a&&(c.normal=tk.getInterpolatedAttribute(a,o,l,u,e,new Z),c.normal.dot(i.direction)>0&&c.normal.multiplyScalar(-1));let t={a:o,b:l,c:u,normal:new Z,materialIndex:0};tk.getNormal(t7,re,rt,t.normal),c.face=t,c.barycoord=e}return c}class rl extends t3{constructor(e=1,t=1,r=1,i=1,n=1,s=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:i,heightSegments:n,depthSegments:s};const a=this;i=Math.floor(i),n=Math.floor(n);const o=[],l=[],u=[],c=[];let h=0,d=0;function p(e,t,r,i,n,s,p,f,m,g,y){let x=s/m,v=p/g,b=s/2,w=p/2,_=f/2,S=m+1,k=g+1,M=0,C=0,A=new Z;for(let s=0;s<k;s++){let a=s*v-w;for(let o=0;o<S;o++){let h=o*x-b;A[e]=h*i,A[t]=a*n,A[r]=_,l.push(A.x,A.y,A.z),A[e]=0,A[t]=0,A[r]=f>0?1:-1,u.push(A.x,A.y,A.z),c.push(o/m),c.push(1-s/g),M+=1}}for(let e=0;e<g;e++)for(let t=0;t<m;t++){let r=h+t+S*e,i=h+t+S*(e+1),n=h+(t+1)+S*(e+1),s=h+(t+1)+S*e;o.push(r,i,s),o.push(i,n,s),C+=6}a.addGroup(d,C,y),d+=C,h+=M}p("z","y","x",-1,-1,r,t,e,s=Math.floor(s),n,0),p("z","y","x",1,-1,r,t,-e,s,n,1),p("x","z","y",1,1,e,r,t,i,s,2),p("x","z","y",1,-1,e,r,-t,i,s,3),p("x","y","z",1,-1,e,t,r,i,n,4),p("x","y","z",-1,-1,e,t,-r,i,n,5),this.setIndex(o),this.setAttribute("position",new tZ(l,3)),this.setAttribute("normal",new tZ(u,3)),this.setAttribute("uv",new tZ(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new rl(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function ru(e){let t={};for(let r in e)for(let i in t[r]={},e[r]){let n=e[r][i];n&&(n.isColor||n.isMatrix3||n.isMatrix4||n.isVector2||n.isVector3||n.isVector4||n.isTexture||n.isQuaternion)?n.isRenderTargetTexture?(N("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),t[r][i]=null):t[r][i]=n.clone():Array.isArray(n)?t[r][i]=n.slice():t[r][i]=n}return t}function rc(e){let t={};for(let r=0;r<e.length;r++){let i=ru(e[r]);for(let e in i)t[e]=i[e]}return t}function rh(e){let t=e.getRenderTarget();return null===t?e.outputColorSpace:!0===t.isXRRenderTarget?t.texture.colorSpace:ei.workingColorSpace}let rd={clone:ru,merge:rc};class rp extends tN{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader="void main() {\n	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==e&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=ru(e.uniforms),this.uniformsGroups=function(e){let t=[];for(let r=0;r<e.length;r++)t.push(e[r].clone());return t}(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this.defaultAttributeValues=Object.assign({},e.defaultAttributeValues),this.index0AttributeName=e.index0AttributeName,this.uniformsNeedUpdate=e.uniformsNeedUpdate,this}toJSON(e){let t=super.toJSON(e);for(let r in t.glslVersion=this.glslVersion,t.uniforms={},this.uniforms){let i=this.uniforms[r].value;i&&i.isTexture?t.uniforms[r]={type:"t",value:i.toJSON(e).uuid}:i&&i.isColor?t.uniforms[r]={type:"c",value:i.getHex()}:i&&i.isVector2?t.uniforms[r]={type:"v2",value:i.toArray()}:i&&i.isVector3?t.uniforms[r]={type:"v3",value:i.toArray()}:i&&i.isVector4?t.uniforms[r]={type:"v4",value:i.toArray()}:i&&i.isMatrix3?t.uniforms[r]={type:"m3",value:i.toArray()}:i&&i.isMatrix4?t.uniforms[r]={type:"m4",value:i.toArray()}:t.uniforms[r]={value:i}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;let r={};for(let e in this.extensions)!0===this.extensions[e]&&(r[e]=!0);return Object.keys(r).length>0&&(t.extensions=r),t}}class rf extends tc{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new eq,this.projectionMatrix=new eq,this.projectionMatrixInverse=new eq,this.coordinateSystem=2e3,this._reversedDepth=!1}get reversedDepth(){return this._reversedDepth}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}let rm=new Z,rg=new Y,ry=new Y;class rx extends rf{constructor(e=50,t=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){let t=.5*this.getFilmHeight()/e;this.fov=2*F*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){let e=Math.tan(.5*L*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return 2*F*Math.atan(Math.tan(.5*L*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,r){rm.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(rm.x,rm.y).multiplyScalar(-e/rm.z),rm.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(rm.x,rm.y).multiplyScalar(-e/rm.z)}getViewSize(e,t){return this.getViewBounds(e,rg,ry),t.subVectors(ry,rg)}setViewOffset(e,t,r,i,n,s){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=n,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){let e=this.near,t=e*Math.tan(.5*L*this.fov)/this.zoom,r=2*t,i=this.aspect*r,n=-.5*i,s=this.view;if(null!==this.view&&this.view.enabled){let e=s.fullWidth,a=s.fullHeight;n+=s.offsetX*i/e,t-=s.offsetY*r/a,i*=s.width/e,r*=s.height/a}let a=this.filmOffset;0!==a&&(n+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(n,n+i,t,t-r,e,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){let t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}class rv extends tc{constructor(e,t,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new rx(-90,1,e,t);i.layers=this.layers,this.add(i);const n=new rx(-90,1,e,t);n.layers=this.layers,this.add(n);const s=new rx(-90,1,e,t);s.layers=this.layers,this.add(s);const a=new rx(-90,1,e,t);a.layers=this.layers,this.add(a);const o=new rx(-90,1,e,t);o.layers=this.layers,this.add(o);const l=new rx(-90,1,e,t);l.layers=this.layers,this.add(l)}updateCoordinateSystem(){let e=this.coordinateSystem,t=this.children.concat(),[r,i,n,s,a,o]=t;for(let e of t)this.remove(e);if(2e3===e)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),n.up.set(0,0,-1),n.lookAt(0,1,0),s.up.set(0,0,1),s.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),o.up.set(0,1,0),o.lookAt(0,0,-1);else if(2001===e)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),n.up.set(0,0,1),n.lookAt(0,1,0),s.up.set(0,0,-1),s.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),o.up.set(0,-1,0),o.lookAt(0,0,-1);else throw Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(let e of t)this.add(e),e.updateMatrixWorld()}update(e,t){null===this.parent&&this.updateMatrixWorld();let{renderTarget:r,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());let[n,s,a,o,l,u]=this.children,c=e.getRenderTarget(),h=e.getActiveCubeFace(),d=e.getActiveMipmapLevel(),p=e.xr.enabled;e.xr.enabled=!1;let f=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,i),e.render(t,n),e.setRenderTarget(r,1,i),e.render(t,s),e.setRenderTarget(r,2,i),e.render(t,a),e.setRenderTarget(r,3,i),e.render(t,o),e.setRenderTarget(r,4,i),e.render(t,l),r.texture.generateMipmaps=f,e.setRenderTarget(r,5,i),e.render(t,u),e.setRenderTarget(c,h,d),e.xr.enabled=p,r.texture.needsPMREMUpdate=!0}}class rb extends ed{constructor(e=[],t=301,r,i,n,s,a,o,l,u){super(e,t,r,i,n,s,a,o,l,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class rw extends em{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1};this.texture=new rb([r,r,r,r,r,r]),this._setTextureOptions(t),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;let r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new rl(5,5,5),n=new rp({name:"CubemapFromEquirect",uniforms:ru(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:1,blending:0});n.uniforms.tEquirect.value=t;let s=new ra(i,n),a=t.minFilter;return 1008===t.minFilter&&(t.minFilter=1006),new rv(1,10,this).update(e,s),t.minFilter=a,s.geometry.dispose(),s.material.dispose(),this}clear(e,t=!0,r=!0,i=!0){let n=e.getRenderTarget();for(let n=0;n<6;n++)e.setRenderTarget(this,n),e.clear(t,r,i);e.setRenderTarget(n)}}class r_ extends tc{constructor(){super(),this.isGroup=!0,this.type="Group"}}let rS={type:"move"};class rk{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new r_,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new r_,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Z,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Z),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new r_,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Z,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Z),this._grip}dispatchEvent(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){let t=this._hand;if(t)for(let r of e.hand.values())this._getHandJoint(t,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(e,t,r){let i=null,n=null,s=null,a=this._targetRay,o=this._grip,l=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState){if(l&&e.hand){for(let i of(s=!0,e.hand.values())){let e=t.getJointPose(i,r),n=this._getHandJoint(l,i);null!==e&&(n.matrix.fromArray(e.transform.matrix),n.matrix.decompose(n.position,n.rotation,n.scale),n.matrixWorldNeedsUpdate=!0,n.jointRadius=e.radius),n.visible=null!==e}let i=l.joints["index-finger-tip"],n=l.joints["thumb-tip"],a=i.position.distanceTo(n.position);l.inputState.pinching&&a>.025?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!l.inputState.pinching&&a<=.015&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==o&&e.gripSpace&&null!==(n=t.getPose(e.gripSpace,r))&&(o.matrix.fromArray(n.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.matrixWorldNeedsUpdate=!0,n.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(n.linearVelocity)):o.hasLinearVelocity=!1,n.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(n.angularVelocity)):o.hasAngularVelocity=!1);null!==a&&(null===(i=t.getPose(e.targetRaySpace,r))&&null!==n&&(i=n),null!==i&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(rS)))}return null!==a&&(a.visible=null!==i),null!==o&&(o.visible=null!==n),null!==l&&(l.visible=null!==s),this}_getHandJoint(e,t){if(void 0===e.joints[t.jointName]){let r=new r_;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[t.jointName]=r,e.add(r)}return e.joints[t.jointName]}}class rM{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new tT(e),this.density=t}clone(){return new rM(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class rC{constructor(e,t=1,r=1e3){this.isFog=!0,this.name="",this.color=new tT(e),this.near=t,this.far=r}clone(){return new rC(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class rA extends tc{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new e9,this.environmentIntensity=1,this.environmentRotation=new e9,this.overrideMaterial=null,"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){let t=super.toJSON(e);return null!==this.fog&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),1!==this.backgroundIntensity&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),1!==this.environmentIntensity&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class rI{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=void 0!==e?e.length/t:0,this.usage=35044,this.updateRanges=[],this.version=0,this.uuid=V()}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,r){e*=this.stride,r*=t.stride;for(let i=0,n=this.stride;i<n;i++)this.array[e+i]=t.array[r+i];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=V()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);let t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(t,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=V()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}let rT=new Z;class rz{constructor(e,t,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,r=this.data.count;t<r;t++)rT.fromBufferAttribute(this,t),rT.applyMatrix4(e),this.setXYZ(t,rT.x,rT.y,rT.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)rT.fromBufferAttribute(this,t),rT.applyNormalMatrix(e),this.setXYZ(t,rT.x,rT.y,rT.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)rT.fromBufferAttribute(this,t),rT.transformDirection(e),this.setXYZ(t,rT.x,rT.y,rT.z);return this}getComponent(e,t){let r=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(r=G(r,this.array)),r}setComponent(e,t,r){return this.normalized&&(r=H(r,this.array)),this.data.array[e*this.data.stride+this.offset+t]=r,this}setX(e,t){return this.normalized&&(t=H(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=H(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=H(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=H(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=G(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=G(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=G(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=G(t,this.array)),t}setXY(e,t,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=H(t,this.array),r=H(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this}setXYZ(e,t,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=H(t,this.array),r=H(r,this.array),i=H(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,t,r,i,n){return e=e*this.data.stride+this.offset,this.normalized&&(t=H(t,this.array),r=H(r,this.array),i=H(i,this.array),n=H(n,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=n,this}clone(e){if(void 0!==e)return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new rz(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized);{E("InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");let e=[];for(let t=0;t<this.count;t++){let r=t*this.data.stride+this.offset;for(let t=0;t<this.itemSize;t++)e.push(this.data.array[r+t])}return new tV(new this.array.constructor(e),this.itemSize,this.normalized)}}toJSON(e){if(void 0!==e)return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized};{E("InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");let e=[];for(let t=0;t<this.count;t++){let r=t*this.data.stride+this.offset;for(let t=0;t<this.itemSize;t++)e.push(this.data.array[r+t])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:e,normalized:this.normalized}}}}class rE extends tN{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new tT(0xffffff),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let rN=new Z,rj=new Z,rO=new Z,rD=new Y,rP=new Y,rR=new eq,rB=new Z,rL=new Z,rF=new Z,rV=new Y,rU=new Y,r$=new Y;class rW extends tc{constructor(e=new rE){if(super(),this.isSprite=!0,this.type="Sprite",void 0===r){r=new t3;const e=new rI(new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),5);r.setIndex([0,1,2,0,2,3]),r.setAttribute("position",new rz(e,3,0,!1)),r.setAttribute("uv",new rz(e,2,3,!1))}this.geometry=r,this.material=e,this.center=new Y(.5,.5),this.count=1}raycast(e,t){let r,i;null===e.camera&&j('Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),rj.setFromMatrixScale(this.matrixWorld),rR.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),rO.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&rj.multiplyScalar(-rO.z);let n=this.material.rotation;0!==n&&(i=Math.cos(n),r=Math.sin(n));let s=this.center;rG(rB.set(-.5,-.5,0),rO,s,rj,r,i),rG(rL.set(.5,-.5,0),rO,s,rj,r,i),rG(rF.set(.5,.5,0),rO,s,rj,r,i),rV.set(0,0),rU.set(1,0),r$.set(1,1);let a=e.ray.intersectTriangle(rB,rL,rF,!1,rN);if(null===a&&(rG(rL.set(-.5,.5,0),rO,s,rj,r,i),rU.set(0,1),null===(a=e.ray.intersectTriangle(rB,rF,rL,!1,rN))))return;let o=e.ray.origin.distanceTo(rN);o<e.near||o>e.far||t.push({distance:o,point:rN.clone(),uv:tk.getInterpolation(rN,rB,rL,rF,rV,rU,r$,new Y),face:null,object:this})}copy(e,t){return super.copy(e,t),void 0!==e.center&&this.center.copy(e.center),this.material=e.material,this}}function rG(e,t,r,i,n,s){rD.subVectors(e,r).addScalar(.5).multiply(i),void 0!==n?(rP.x=s*rD.x-n*rD.y,rP.y=n*rD.x+s*rD.y):rP.copy(rD),e.copy(t),e.x+=rP.x,e.y+=rP.y,e.applyMatrix4(rR)}let rH=new Z,rq=new Z;class rY extends tc{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);let t=e.levels;for(let e=0,r=t.length;e<r;e++){let r=t[e];this.addLevel(r.object.clone(),r.distance,r.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,r=0){let i;t=Math.abs(t);let n=this.levels;for(i=0;i<n.length&&!(t<n[i].distance);i++);return n.splice(i,0,{distance:t,hysteresis:r,object:e}),this.add(e),this}removeLevel(e){let t=this.levels;for(let r=0;r<t.length;r++)if(t[r].distance===e){let e=t.splice(r,1);return this.remove(e[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){let t=this.levels;if(t.length>0){let r,i;for(r=1,i=t.length;r<i;r++){let i=t[r].distance;if(t[r].object.visible&&(i-=i*t[r].hysteresis),e<i)break}return t[r-1].object}return null}raycast(e,t){if(this.levels.length>0){rH.setFromMatrixPosition(this.matrixWorld);let r=e.ray.origin.distanceTo(rH);this.getObjectForDistance(r).raycast(e,t)}}update(e){let t=this.levels;if(t.length>1){let r,i;rH.setFromMatrixPosition(e.matrixWorld),rq.setFromMatrixPosition(this.matrixWorld);let n=rH.distanceTo(rq)/e.zoom;for(r=1,t[0].object.visible=!0,i=t.length;r<i;r++){let e=t[r].distance;if(t[r].object.visible&&(e-=e*t[r].hysteresis),n>=e)t[r-1].object.visible=!1,t[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<i;r++)t[r].object.visible=!1}}toJSON(e){let t=super.toJSON(e);!1===this.autoUpdate&&(t.object.autoUpdate=!1),t.object.levels=[];let r=this.levels;for(let e=0,i=r.length;e<i;e++){let i=r[e];t.object.levels.push({object:i.object.uuid,distance:i.distance,hysteresis:i.hysteresis})}return t}}let rX=new Z,rZ=new ep,rJ=new ep,rK=new Z,rQ=new eq,r1=new Z,r0=new eB,r2=new eq,r9=new eH;class r3 extends ra{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=d,this.bindMatrix=new eq,this.bindMatrixInverse=new eq,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){let e=this.geometry;null===this.boundingBox&&(this.boundingBox=new eb),this.boundingBox.makeEmpty();let t=e.getAttribute("position");for(let e=0;e<t.count;e++)this.getVertexPosition(e,r1),this.boundingBox.expandByPoint(r1)}computeBoundingSphere(){let e=this.geometry;null===this.boundingSphere&&(this.boundingSphere=new eB),this.boundingSphere.makeEmpty();let t=e.getAttribute("position");for(let e=0;e<t.count;e++)this.getVertexPosition(e,r1),this.boundingSphere.expandByPoint(r1)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){let r=this.material,i=this.matrixWorld;void 0===r||(null===this.boundingSphere&&this.computeBoundingSphere(),r0.copy(this.boundingSphere),r0.applyMatrix4(i),!1===e.ray.intersectsSphere(r0)||(r2.copy(i).invert(),r9.copy(e.ray).applyMatrix4(r2),(null===this.boundingBox||!1!==r9.intersectsBox(this.boundingBox))&&this._computeIntersections(e,t,r9)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){let e=new ep,t=this.geometry.attributes.skinWeight;for(let r=0,i=t.count;r<i;r++){e.fromBufferAttribute(t,r);let i=1/e.manhattanLength();i!==1/0?e.multiplyScalar(i):e.set(1,0,0,0),t.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===d?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===p?this.bindMatrixInverse.copy(this.bindMatrix).invert():N("SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){let r=this.skeleton,i=this.geometry;rZ.fromBufferAttribute(i.attributes.skinIndex,e),rJ.fromBufferAttribute(i.attributes.skinWeight,e),rX.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let e=0;e<4;e++){let i=rJ.getComponent(e);if(0!==i){let n=rZ.getComponent(e);rQ.multiplyMatrices(r.bones[n].matrixWorld,r.boneInverses[n]),t.addScaledVector(rK.copy(rX).applyMatrix4(rQ),i)}}return t.applyMatrix4(this.bindMatrixInverse)}}class r4 extends tc{constructor(){super(),this.isBone=!0,this.type="Bone"}}class r8 extends ed{constructor(e=null,t=1,r=1,i,n,s,a,o,l=1003,u=1003,c,h){super(null,s,a,o,l,u,i,n,c,h),this.isDataTexture=!0,this.image={data:e,width:t,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}let r6=new eq,r5=new eq;class r7{constructor(e=[],t=[]){this.uuid=V(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.previousBoneMatrices=null,this.boneTexture=null,this.init()}init(){let e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(16*e.length),0===t.length)this.calculateInverses();else if(e.length!==t.length){N("Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let e=0,t=this.bones.length;e<t;e++)this.boneInverses.push(new eq)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){let t=new eq;this.bones[e]&&t.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(t)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){let t=this.bones[e];t&&t.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){let t=this.bones[e];t&&(t.parent&&t.parent.isBone?(t.matrix.copy(t.parent.matrixWorld).invert(),t.matrix.multiply(t.matrixWorld)):t.matrix.copy(t.matrixWorld),t.matrix.decompose(t.position,t.quaternion,t.scale))}}update(){let e=this.bones,t=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let i=0,n=e.length;i<n;i++){let n=e[i]?e[i].matrixWorld:r5;r6.multiplyMatrices(n,t[i]),r6.toArray(r,16*i)}null!==i&&(i.needsUpdate=!0)}clone(){return new r7(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(4*this.bones.length),t=new Float32Array((e=Math.max(e=4*Math.ceil(e/4),4))*e*4);t.set(this.boneMatrices);let r=new r8(t,e,e,1023,1015);return r.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=r,this}getBoneByName(e){for(let t=0,r=this.bones.length;t<r;t++){let r=this.bones[t];if(r.name===e)return r}}dispose(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){let i=e.bones[r],n=t[i];void 0===n&&(N("Skeleton: No bone found with UUID:",i),n=new r4),this.bones.push(n),this.boneInverses.push(new eq().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){let e={metadata:{version:4.7,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;let t=this.bones,r=this.boneInverses;for(let i=0,n=t.length;i<n;i++){let n=t[i];e.bones.push(n.uuid);let s=r[i];e.boneInverses.push(s.toArray())}return e}}class ie extends tV{constructor(e,t,r,i=1){super(e,t,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){let e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}let it=new eq,ir=new eq,ii=[],is=new eb,ia=new eq,io=new ra,il=new eB;class iu extends ra{constructor(e,t,r){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new ie(new Float32Array(16*r),16),this.instanceColor=null,this.morphTexture=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let e=0;e<r;e++)this.setMatrixAt(e,ia)}computeBoundingBox(){let e=this.geometry,t=this.count;null===this.boundingBox&&(this.boundingBox=new eb),null===e.boundingBox&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<t;r++)this.getMatrixAt(r,it),is.copy(e.boundingBox).applyMatrix4(it),this.boundingBox.union(is)}computeBoundingSphere(){let e=this.geometry,t=this.count;null===this.boundingSphere&&(this.boundingSphere=new eB),null===e.boundingSphere&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<t;r++)this.getMatrixAt(r,it),il.copy(e.boundingSphere).applyMatrix4(it),this.boundingSphere.union(il)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),null!==e.morphTexture&&(this.morphTexture=e.morphTexture.clone()),null!==e.instanceColor&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,3*e)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,16*e)}getMorphAt(e,t){let r=t.morphTargetInfluences,i=this.morphTexture.source.data.data,n=e*(r.length+1)+1;for(let e=0;e<r.length;e++)r[e]=i[n+e]}raycast(e,t){let r=this.matrixWorld,i=this.count;if((io.geometry=this.geometry,io.material=this.material,void 0!==io.material)&&(null===this.boundingSphere&&this.computeBoundingSphere(),il.copy(this.boundingSphere),il.applyMatrix4(r),!1!==e.ray.intersectsSphere(il)))for(let n=0;n<i;n++){this.getMatrixAt(n,it),ir.multiplyMatrices(r,it),io.matrixWorld=ir,io.raycast(e,ii);for(let e=0,r=ii.length;e<r;e++){let r=ii[e];r.instanceId=n,r.object=this,t.push(r)}ii.length=0}}setColorAt(e,t){null===this.instanceColor&&(this.instanceColor=new ie(new Float32Array(3*this.instanceMatrix.count).fill(1),3)),t.toArray(this.instanceColor.array,3*e)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,16*e)}setMorphAt(e,t){let r=t.morphTargetInfluences,i=r.length+1;null===this.morphTexture&&(this.morphTexture=new r8(new Float32Array(i*this.count),i,this.count,1028,1015));let n=this.morphTexture.source.data.data,s=0;for(let e=0;e<r.length;e++)s+=r[e];let a=this.geometry.morphTargetsRelative?1:1-s,o=i*e;n[o]=a,n.set(r,o+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),null!==this.morphTexture&&(this.morphTexture.dispose(),this.morphTexture=null)}}let ic=new Z,ih=new Z,id=new Q;class ip{constructor(e=new Z(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,r,i){return this.normal.set(e,t,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,r){let i=ic.subVectors(r,t).cross(ih.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){let e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){let r=e.delta(ic),i=this.normal.dot(r);if(0===i)return 0===this.distanceToPoint(e.start)?t.copy(e.start):null;let n=-(e.start.dot(this.normal)+this.constant)/i;return n<0||n>1?null:t.copy(e.start).addScaledVector(r,n)}intersectsLine(e){let t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){let r=t||id.getNormalMatrix(e),i=this.coplanarPoint(ic).applyMatrix4(e),n=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(n),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}let im=new eB,ig=new Y(.5,.5),iy=new Z;class ix{constructor(e=new ip,t=new ip,r=new ip,i=new ip,n=new ip,s=new ip){this.planes=[e,t,r,i,n,s]}set(e,t,r,i,n,s){let a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(r),a[3].copy(i),a[4].copy(n),a[5].copy(s),this}copy(e){let t=this.planes;for(let r=0;r<6;r++)t[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,t=2e3,r=!1){let i=this.planes,n=e.elements,s=n[0],a=n[1],o=n[2],l=n[3],u=n[4],c=n[5],h=n[6],d=n[7],p=n[8],f=n[9],m=n[10],g=n[11],y=n[12],x=n[13],v=n[14],b=n[15];if(i[0].setComponents(l-s,d-u,g-p,b-y).normalize(),i[1].setComponents(l+s,d+u,g+p,b+y).normalize(),i[2].setComponents(l+a,d+c,g+f,b+x).normalize(),i[3].setComponents(l-a,d-c,g-f,b-x).normalize(),r)i[4].setComponents(o,h,m,v).normalize(),i[5].setComponents(l-o,d-h,g-m,b-v).normalize();else if(i[4].setComponents(l-o,d-h,g-m,b-v).normalize(),2e3===t)i[5].setComponents(l+o,d+h,g+m,b+v).normalize();else if(2001===t)i[5].setComponents(o,h,m,v).normalize();else throw Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(void 0!==e.boundingSphere)null===e.boundingSphere&&e.computeBoundingSphere(),im.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{let t=e.geometry;null===t.boundingSphere&&t.computeBoundingSphere(),im.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(im)}intersectsSprite(e){return im.center.set(0,0,0),im.radius=.7071067811865476+ig.distanceTo(e.center),im.applyMatrix4(e.matrixWorld),this.intersectsSphere(im)}intersectsSphere(e){let t=this.planes,r=e.center,i=-e.radius;for(let e=0;e<6;e++)if(t[e].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){let t=this.planes;for(let r=0;r<6;r++){let i=t[r];if(iy.x=i.normal.x>0?e.max.x:e.min.x,iy.y=i.normal.y>0?e.max.y:e.min.y,iy.z=i.normal.z>0?e.max.z:e.min.z,0>i.distanceToPoint(iy))return!1}return!0}containsPoint(e){let t=this.planes;for(let r=0;r<6;r++)if(0>t[r].distanceToPoint(e))return!1;return!0}clone(){return new this.constructor().copy(this)}}let iv=new eq,ib=new ix;class iw{constructor(){this.coordinateSystem=2e3}intersectsObject(e,t){if(!t.isArrayCamera||0===t.cameras.length)return!1;for(let r=0;r<t.cameras.length;r++){let i=t.cameras[r];if(iv.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),ib.setFromProjectionMatrix(iv,i.coordinateSystem,i.reversedDepth),ib.intersectsObject(e))return!0}return!1}intersectsSprite(e,t){if(!t||!t.cameras||0===t.cameras.length)return!1;for(let r=0;r<t.cameras.length;r++){let i=t.cameras[r];if(iv.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),ib.setFromProjectionMatrix(iv,i.coordinateSystem,i.reversedDepth),ib.intersectsSprite(e))return!0}return!1}intersectsSphere(e,t){if(!t||!t.cameras||0===t.cameras.length)return!1;for(let r=0;r<t.cameras.length;r++){let i=t.cameras[r];if(iv.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),ib.setFromProjectionMatrix(iv,i.coordinateSystem,i.reversedDepth),ib.intersectsSphere(e))return!0}return!1}intersectsBox(e,t){if(!t||!t.cameras||0===t.cameras.length)return!1;for(let r=0;r<t.cameras.length;r++){let i=t.cameras[r];if(iv.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),ib.setFromProjectionMatrix(iv,i.coordinateSystem,i.reversedDepth),ib.intersectsBox(e))return!0}return!1}containsPoint(e,t){if(!t||!t.cameras||0===t.cameras.length)return!1;for(let r=0;r<t.cameras.length;r++){let i=t.cameras[r];if(iv.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),ib.setFromProjectionMatrix(iv,i.coordinateSystem,i.reversedDepth),ib.containsPoint(e))return!0}return!1}clone(){return new iw}}function i_(e,t){return e-t}function iS(e,t){return e.z-t.z}function ik(e,t){return t.z-e.z}let iM=new eq,iC=new tT(1,1,1),iA=new ix,iI=new iw,iT=new eb,iz=new eB,iE=new Z,iN=new Z,ij=new Z,iO=new class{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t,r,i){let n=this.pool,s=this.list;this.index>=n.length&&n.push({start:-1,count:-1,z:-1,index:-1});let a=n[this.index];s.push(a),this.index++,a.start=e,a.count=t,a.z=r,a.index=i}reset(){this.list.length=0,this.index=0}},iD=new ra,iP=[];function iR(e,t){if(e.constructor!==t.constructor){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++)t[i]=e[i]}else{let r=Math.min(e.length,t.length);t.set(new e.constructor(e.buffer,0,r))}}class iB extends ra{constructor(e,t,r=2*t,i){super(new t3,i),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=t,this._maxIndexCount=r,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(4*this._maxInstanceCount),t=new r8(new Float32Array((e=Math.max(e=4*Math.ceil(e/4),4))*e*4),e,e,1023,1015);this._matricesTexture=t}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount),t=new r8(new Uint32Array((e=Math.ceil(e))*e),e,e,1029,1014);this._indirectTexture=t}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount),t=new r8(new Float32Array((e=Math.ceil(e))*e*4).fill(1),e,e,1023,1015);t.colorSpace=ei.workingColorSpace,this._colorsTexture=t}_initializeGeometry(e){let t=this.geometry,r=this._maxVertexCount,i=this._maxIndexCount;if(!1===this._geometryInitialized){for(let i in e.attributes){let{array:n,itemSize:s,normalized:a}=e.getAttribute(i),o=new tV(new n.constructor(r*s),s,a);t.setAttribute(i,o)}if(null!==e.getIndex()){let e=r>65535?new Uint32Array(i):new Uint16Array(i);t.setIndex(new tV(e,1))}this._geometryInitialized=!0}}_validateGeometry(e){let t=this.geometry;if(!!e.getIndex()!=!!t.getIndex())throw Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(let r in t.attributes){if(!e.hasAttribute(r))throw Error(`THREE.BatchedMesh: Added geometry missing "${r}". All geometries must have consistent attributes.`);let i=e.getAttribute(r),n=t.getAttribute(r);if(i.itemSize!==n.itemSize||i.normalized!==n.normalized)throw Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){let t=this._instanceInfo;if(e<0||e>=t.length||!1===t[e].active)throw Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){let t=this._geometryInfo;if(e<0||e>=t.length||!1===t[e].active)throw Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new eb);let e=this.boundingBox,t=this._instanceInfo;e.makeEmpty();for(let r=0,i=t.length;r<i;r++){if(!1===t[r].active)continue;let i=t[r].geometryIndex;this.getMatrixAt(r,iM),this.getBoundingBoxAt(i,iT).applyMatrix4(iM),e.union(iT)}}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new eB);let e=this.boundingSphere,t=this._instanceInfo;e.makeEmpty();for(let r=0,i=t.length;r<i;r++){if(!1===t[r].active)continue;let i=t[r].geometryIndex;this.getMatrixAt(r,iM),this.getBoundingSphereAt(i,iz).applyMatrix4(iM),e.union(iz)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&0===this._availableInstanceIds.length)throw Error("THREE.BatchedMesh: Maximum item count reached.");let t={visible:!0,active:!0,geometryIndex:e},r=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(i_),r=this._availableInstanceIds.shift(),this._instanceInfo[r]=t):(r=this._instanceInfo.length,this._instanceInfo.push(t));let i=this._matricesTexture;iM.identity().toArray(i.image.data,16*r),i.needsUpdate=!0;let n=this._colorsTexture;return n&&(iC.toArray(n.image.data,4*r),n.needsUpdate=!0),this._visibilityChanged=!0,r}addGeometry(e,t=-1,r=-1){let i;this._initializeGeometry(e),this._validateGeometry(e);let n={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},s=this._geometryInfo;n.vertexStart=this._nextVertexStart,n.reservedVertexCount=-1===t?e.getAttribute("position").count:t;let a=e.getIndex();if(null!==a&&(n.indexStart=this._nextIndexStart,n.reservedIndexCount=-1===r?a.count:r),-1!==n.indexStart&&n.indexStart+n.reservedIndexCount>this._maxIndexCount||n.vertexStart+n.reservedVertexCount>this._maxVertexCount)throw Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(i_),s[i=this._availableGeometryIds.shift()]=n):(i=this._geometryCount,this._geometryCount++,s.push(n)),this.setGeometryAt(i,e),this._nextIndexStart=n.indexStart+n.reservedIndexCount,this._nextVertexStart=n.vertexStart+n.reservedVertexCount,i}setGeometryAt(e,t){if(e>=this._geometryCount)throw Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);let r=this.geometry,i=null!==r.getIndex(),n=r.getIndex(),s=t.getIndex(),a=this._geometryInfo[e];if(i&&s.count>a.reservedIndexCount||t.attributes.position.count>a.reservedVertexCount)throw Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");let o=a.vertexStart,l=a.reservedVertexCount;for(let e in a.vertexCount=t.getAttribute("position").count,r.attributes){let i=t.getAttribute(e),n=r.getAttribute(e);!function(e,t,r=0){let i=t.itemSize;if(e.isInterleavedBufferAttribute||e.array.constructor!==t.array.constructor){let n=e.count;for(let s=0;s<n;s++)for(let n=0;n<i;n++)t.setComponent(s+r,n,e.getComponent(s,n))}else t.array.set(e.array,r*i);t.needsUpdate=!0}(i,n,o);let s=i.itemSize;for(let e=i.count;e<l;e++){let t=o+e;for(let e=0;e<s;e++)n.setComponent(t,e,0)}n.needsUpdate=!0,n.addUpdateRange(o*s,l*s)}if(i){let e=a.indexStart,r=a.reservedIndexCount;a.indexCount=t.getIndex().count;for(let t=0;t<s.count;t++)n.setX(e+t,o+s.getX(t));for(let t=s.count;t<r;t++)n.setX(e+t,o);n.needsUpdate=!0,n.addUpdateRange(e,a.reservedIndexCount)}return a.start=i?a.indexStart:a.vertexStart,a.count=i?a.indexCount:a.vertexCount,a.boundingBox=null,null!==t.boundingBox&&(a.boundingBox=t.boundingBox.clone()),a.boundingSphere=null,null!==t.boundingSphere&&(a.boundingSphere=t.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){let t=this._geometryInfo;if(e>=t.length||!1===t[e].active)return this;let r=this._instanceInfo;for(let t=0,i=r.length;t<i;t++)r[t].active&&r[t].geometryIndex===e&&this.deleteInstance(t);return t[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,t=0,r=this._geometryInfo,i=r.map((e,t)=>t).sort((e,t)=>r[e].vertexStart-r[t].vertexStart),n=this.geometry;for(let s=0,a=r.length;s<a;s++){let a=r[i[s]];if(!1!==a.active){if(null!==n.index){if(a.indexStart!==t){let{indexStart:r,vertexStart:i,reservedIndexCount:s}=a,o=n.index,l=o.array,u=e-i;for(let e=r;e<r+s;e++)l[e]=l[e]+u;o.array.copyWithin(t,r,r+s),o.addUpdateRange(t,s),o.needsUpdate=!0,a.indexStart=t}t+=a.reservedIndexCount}if(a.vertexStart!==e){let{vertexStart:t,reservedVertexCount:r}=a,i=n.attributes;for(let n in i){let s=i[n],{array:a,itemSize:o}=s;a.copyWithin(e*o,t*o,(t+r)*o),s.addUpdateRange(e*o,r*o),s.needsUpdate=!0}a.vertexStart=e}e+=a.reservedVertexCount,a.start=n.index?a.indexStart:a.vertexStart,this._nextIndexStart=n.index?a.indexStart+a.reservedIndexCount:0,this._nextVertexStart=a.vertexStart+a.reservedVertexCount}}return this._visibilityChanged=!0,this}getBoundingBoxAt(e,t){if(e>=this._geometryCount)return null;let r=this.geometry,i=this._geometryInfo[e];if(null===i.boundingBox){let e=new eb,t=r.index,n=r.attributes.position;for(let r=i.start,s=i.start+i.count;r<s;r++){let i=r;t&&(i=t.getX(i)),e.expandByPoint(iE.fromBufferAttribute(n,i))}i.boundingBox=e}return t.copy(i.boundingBox),t}getBoundingSphereAt(e,t){if(e>=this._geometryCount)return null;let r=this.geometry,i=this._geometryInfo[e];if(null===i.boundingSphere){let t=new eB;this.getBoundingBoxAt(e,iT),iT.getCenter(t.center);let n=r.index,s=r.attributes.position,a=0;for(let e=i.start,r=i.start+i.count;e<r;e++){let r=e;n&&(r=n.getX(r)),iE.fromBufferAttribute(s,r),a=Math.max(a,t.center.distanceToSquared(iE))}t.radius=Math.sqrt(a),i.boundingSphere=t}return t.copy(i.boundingSphere),t}setMatrixAt(e,t){this.validateInstanceId(e);let r=this._matricesTexture,i=this._matricesTexture.image.data;return t.toArray(i,16*e),r.needsUpdate=!0,this}getMatrixAt(e,t){return this.validateInstanceId(e),t.fromArray(this._matricesTexture.image.data,16*e)}setColorAt(e,t){return this.validateInstanceId(e),null===this._colorsTexture&&this._initColorsTexture(),t.toArray(this._colorsTexture.image.data,4*e),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,t){return this.validateInstanceId(e),t.fromArray(this._colorsTexture.image.data,4*e)}setVisibleAt(e,t){return this.validateInstanceId(e),this._instanceInfo[e].visible===t||(this._instanceInfo[e].visible=t,this._visibilityChanged=!0),this}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,t){return this.validateInstanceId(e),this.validateGeometryId(t),this._instanceInfo[e].geometryIndex=t,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,t={}){this.validateGeometryId(e);let r=this._geometryInfo[e];return t.vertexStart=r.vertexStart,t.vertexCount=r.vertexCount,t.reservedVertexCount=r.reservedVertexCount,t.indexStart=r.indexStart,t.indexCount=r.indexCount,t.reservedIndexCount=r.reservedIndexCount,t.start=r.start,t.count=r.count,t}setInstanceCount(e){let t=this._availableInstanceIds,r=this._instanceInfo;for(t.sort(i_);t[t.length-1]===r.length-1;)r.pop(),t.pop();if(e<r.length)throw Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);let i=new Int32Array(e),n=new Int32Array(e);iR(this._multiDrawCounts,i),iR(this._multiDrawStarts,n),this._multiDrawCounts=i,this._multiDrawStarts=n,this._maxInstanceCount=e;let s=this._indirectTexture,a=this._matricesTexture,o=this._colorsTexture;s.dispose(),this._initIndirectTexture(),iR(s.image.data,this._indirectTexture.image.data),a.dispose(),this._initMatricesTexture(),iR(a.image.data,this._matricesTexture.image.data),o&&(o.dispose(),this._initColorsTexture(),iR(o.image.data,this._colorsTexture.image.data))}setGeometrySize(e,t){let r=[...this._geometryInfo].filter(e=>e.active);if(Math.max(...r.map(e=>e.vertexStart+e.reservedVertexCount))>e)throw Error(`BatchedMesh: Geometry vertex values are being used outside the range ${t}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...r.map(e=>e.indexStart+e.reservedIndexCount))>t)throw Error(`BatchedMesh: Geometry index values are being used outside the range ${t}. Cannot shrink further.`);let i=this.geometry;i.dispose(),this._maxVertexCount=e,this._maxIndexCount=t,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new t3,this._initializeGeometry(i));let n=this.geometry;for(let e in i.index&&iR(i.index.array,n.index.array),i.attributes)iR(i.attributes[e].array,n.attributes[e].array)}raycast(e,t){let r=this._instanceInfo,i=this._geometryInfo,n=this.matrixWorld,s=this.geometry;iD.material=this.material,iD.geometry.index=s.index,iD.geometry.attributes=s.attributes,null===iD.geometry.boundingBox&&(iD.geometry.boundingBox=new eb),null===iD.geometry.boundingSphere&&(iD.geometry.boundingSphere=new eB);for(let s=0,a=r.length;s<a;s++){if(!r[s].visible||!r[s].active)continue;let a=r[s].geometryIndex,o=i[a];iD.geometry.setDrawRange(o.start,o.count),this.getMatrixAt(s,iD.matrixWorld).premultiply(n),this.getBoundingBoxAt(a,iD.geometry.boundingBox),this.getBoundingSphereAt(a,iD.geometry.boundingSphere),iD.raycast(e,iP);for(let e=0,r=iP.length;e<r;e++){let r=iP[e];r.object=this,r.batchId=s,t.push(r)}iP.length=0}iD.material=null,iD.geometry.index=null,iD.geometry.attributes={},iD.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=null!==e.boundingBox?e.boundingBox.clone():null,this.boundingSphere=null!==e.boundingSphere?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(e=>({...e,boundingBox:null!==e.boundingBox?e.boundingBox.clone():null,boundingSphere:null!==e.boundingSphere?e.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(e=>({...e})),this._availableInstanceIds=e._availableInstanceIds.slice(),this._availableGeometryIds=e._availableGeometryIds.slice(),this._nextIndexStart=e._nextIndexStart,this._nextVertexStart=e._nextVertexStart,this._geometryCount=e._geometryCount,this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._indirectTexture=e._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),null!==this._colorsTexture&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,null!==this._colorsTexture&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,t,r,i,n){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;let s=i.getIndex(),a=null===s?1:s.array.BYTES_PER_ELEMENT,o=this._instanceInfo,l=this._multiDrawStarts,u=this._multiDrawCounts,c=this._geometryInfo,h=this.perObjectFrustumCulled,d=this._indirectTexture,p=d.image.data,f=r.isArrayCamera?iI:iA;h&&!r.isArrayCamera&&(iM.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse).multiply(this.matrixWorld),iA.setFromProjectionMatrix(iM,r.coordinateSystem,r.reversedDepth));let m=0;if(this.sortObjects){iM.copy(this.matrixWorld).invert(),iE.setFromMatrixPosition(r.matrixWorld).applyMatrix4(iM),iN.set(0,0,-1).transformDirection(r.matrixWorld).transformDirection(iM);for(let e=0,t=o.length;e<t;e++)if(o[e].visible&&o[e].active){let t=o[e].geometryIndex;this.getMatrixAt(e,iM),this.getBoundingSphereAt(t,iz).applyMatrix4(iM);let i=!1;if(h&&(i=!f.intersectsSphere(iz,r)),!i){let r=c[t],i=ij.subVectors(iz.center,iE).dot(iN);iO.push(r.start,r.count,i,e)}}let e=iO.list,t=this.customSort;null===t?e.sort(n.transparent?ik:iS):t.call(this,e,r);for(let t=0,r=e.length;t<r;t++){let r=e[t];l[m]=r.start*a,u[m]=r.count,p[m]=r.index,m++}iO.reset()}else for(let e=0,t=o.length;e<t;e++)if(o[e].visible&&o[e].active){let t=o[e].geometryIndex,i=!1;if(h&&(this.getMatrixAt(e,iM),this.getBoundingSphereAt(t,iz).applyMatrix4(iM),i=!f.intersectsSphere(iz,r)),!i){let r=c[t];l[m]=r.start*a,u[m]=r.count,p[m]=e,m++}}d.needsUpdate=!0,this._multiDrawCount=m,this._visibilityChanged=!1}onBeforeShadow(e,t,r,i,n,s){this.onBeforeRender(e,null,i,n,s)}}class iL extends tN{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new tT(0xffffff),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}let iF=new Z,iV=new Z,iU=new eq,i$=new eH,iW=new eB,iG=new Z,iH=new Z;class iq extends tc{constructor(e=new t3,t=new iL){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){let e=this.geometry;if(null===e.index){let t=e.attributes.position,r=[0];for(let e=1,i=t.count;e<i;e++)iF.fromBufferAttribute(t,e-1),iV.fromBufferAttribute(t,e),r[e]=r[e-1],r[e]+=iF.distanceTo(iV);e.setAttribute("lineDistance",new tZ(r,1))}else N("Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){let r=this.geometry,i=this.matrixWorld,n=e.params.Line.threshold,s=r.drawRange;if(null===r.boundingSphere&&r.computeBoundingSphere(),iW.copy(r.boundingSphere),iW.applyMatrix4(i),iW.radius+=n,!1===e.ray.intersectsSphere(iW))return;iU.copy(i).invert(),i$.copy(e.ray).applyMatrix4(iU);let a=n/((this.scale.x+this.scale.y+this.scale.z)/3),o=a*a,l=this.isLineSegments?2:1,u=r.index,c=r.attributes.position;if(null!==u){let r=Math.max(0,s.start),i=Math.min(u.count,s.start+s.count);for(let n=r,s=i-1;n<s;n+=l){let r=iY(this,e,i$,o,u.getX(n),u.getX(n+1),n);r&&t.push(r)}if(this.isLineLoop){let n=iY(this,e,i$,o,u.getX(i-1),u.getX(r),i-1);n&&t.push(n)}}else{let r=Math.max(0,s.start),i=Math.min(c.count,s.start+s.count);for(let n=r,s=i-1;n<s;n+=l){let r=iY(this,e,i$,o,n,n+1,n);r&&t.push(r)}if(this.isLineLoop){let n=iY(this,e,i$,o,i-1,r,i-1);n&&t.push(n)}}}updateMorphTargets(){let e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){let r=e[t[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,t=r.length;e<t;e++){let t=r[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[t]=e}}}}}function iY(e,t,r,i,n,s,a){let o=e.geometry.attributes.position;if(iF.fromBufferAttribute(o,n),iV.fromBufferAttribute(o,s),r.distanceSqToSegment(iF,iV,iG,iH)>i)return;iG.applyMatrix4(e.matrixWorld);let l=t.ray.origin.distanceTo(iG);if(!(l<t.near)&&!(l>t.far))return{distance:l,point:iH.clone().applyMatrix4(e.matrixWorld),index:a,face:null,faceIndex:null,barycoord:null,object:e}}let iX=new Z,iZ=new Z;class iJ extends iq{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){let e=this.geometry;if(null===e.index){let t=e.attributes.position,r=[];for(let e=0,i=t.count;e<i;e+=2)iX.fromBufferAttribute(t,e),iZ.fromBufferAttribute(t,e+1),r[e]=0===e?0:r[e-1],r[e+1]=r[e]+iX.distanceTo(iZ);e.setAttribute("lineDistance",new tZ(r,1))}else N("LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class iK extends iq{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class iQ extends tN{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new tT(0xffffff),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let i1=new eq,i0=new eH,i2=new eB,i9=new Z;class i3 extends tc{constructor(e=new t3,t=new iQ){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){let r=this.geometry,i=this.matrixWorld,n=e.params.Points.threshold,s=r.drawRange;if(null===r.boundingSphere&&r.computeBoundingSphere(),i2.copy(r.boundingSphere),i2.applyMatrix4(i),i2.radius+=n,!1===e.ray.intersectsSphere(i2))return;i1.copy(i).invert(),i0.copy(e.ray).applyMatrix4(i1);let a=n/((this.scale.x+this.scale.y+this.scale.z)/3),o=a*a,l=r.index,u=r.attributes.position;if(null!==l){let r=Math.max(0,s.start),n=Math.min(l.count,s.start+s.count);for(let s=r;s<n;s++){let r=l.getX(s);i9.fromBufferAttribute(u,r),i4(i9,r,o,i,e,t,this)}}else{let r=Math.max(0,s.start),n=Math.min(u.count,s.start+s.count);for(let s=r;s<n;s++)i9.fromBufferAttribute(u,s),i4(i9,s,o,i,e,t,this)}}updateMorphTargets(){let e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){let r=e[t[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,t=r.length;e<t;e++){let t=r[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[t]=e}}}}}function i4(e,t,r,i,n,s,a){let o=i0.distanceSqToPoint(e);if(o<r){let r=new Z;i0.closestPointToPoint(e,r),r.applyMatrix4(i);let l=n.ray.origin.distanceTo(r);if(l<n.near||l>n.far)return;s.push({distance:l,distanceToRay:Math.sqrt(o),point:r,index:t,face:null,faceIndex:null,barycoord:null,object:a})}}class i8 extends ed{constructor(e,t,r,i,n=1006,s=1006,a,o,l){super(e,t,r,i,n,s,a,o,l),this.isVideoTexture=!0,this.generateMipmaps=!1,this._requestVideoFrameCallbackId=0;const u=this;"requestVideoFrameCallback"in e&&(this._requestVideoFrameCallbackId=e.requestVideoFrameCallback(function t(){u.needsUpdate=!0,u._requestVideoFrameCallbackId=e.requestVideoFrameCallback(t)}))}clone(){return new this.constructor(this.image).copy(this)}update(){let e=this.image;!1=="requestVideoFrameCallback"in e&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}dispose(){0!==this._requestVideoFrameCallbackId&&(this.source.data.cancelVideoFrameCallback(this._requestVideoFrameCallbackId),this._requestVideoFrameCallbackId=0),super.dispose()}}class i6 extends i8{constructor(e,t,r,i,n,s,a,o){super({},e,t,r,i,n,s,a,o),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class i5 extends ed{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=1003,this.minFilter=1003,this.generateMipmaps=!1,this.needsUpdate=!0}}class i7 extends ed{constructor(e,t,r,i,n,s,a,o,l,u,c,h){super(null,s,a,o,l,u,i,n,c,h),this.isCompressedTexture=!0,this.image={width:t,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class ne extends i7{constructor(e,t,r,i,n,s){super(e,t,r,n,s),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=1001,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class nt extends i7{constructor(e,t,r){super(void 0,e[0].width,e[0].height,t,r,301),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class nr extends ed{constructor(e,t,r,i,n,s,a,o,l){super(e,t,r,i,n,s,a,o,l),this.isCanvasTexture=!0,this.needsUpdate=!0}}class ni extends ed{constructor(e,t,r=1014,i,n,s,a=1003,o=1003,l,u=1026,c=1){if(1026!==u&&1027!==u)throw Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");super({width:e,height:t,depth:c},i,n,s,a,o,u,r,l),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new el(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){let t=super.toJSON(e);return null!==this.compareFunction&&(t.compareFunction=this.compareFunction),t}}class nn extends ni{constructor(e,t=1014,r=301,i,n,s=1003,a=1003,o,l=1026){const u={width:e,height:e,depth:1};super(e,e,t,r,i,n,s,a,o,l),this.image=[u,u,u,u,u,u],this.isCubeDepthTexture=!0,this.isCubeTexture=!0}get images(){return this.image}set images(e){this.image=e}}class ns extends ed{constructor(e=null){super(),this.sourceTexture=e,this.isExternalTexture=!0}copy(e){return super.copy(e),this.sourceTexture=e.sourceTexture,this}}class na extends t3{constructor(e=1,t=1,r=4,i=8,n=1){super(),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:r,radialSegments:i,heightSegments:n},t=Math.max(0,t),r=Math.max(1,Math.floor(r)),i=Math.max(3,Math.floor(i));const s=[],a=[],o=[],l=[],u=t/2,c=Math.PI/2*e,h=t,d=2*c+h,p=2*r+(n=Math.max(1,Math.floor(n))),f=i+1,m=new Z,g=new Z;for(let y=0;y<=p;y++){let x=0,v=0,b=0,w=0;if(y<=r){const t=y/r,i=t*Math.PI/2;v=-u-e*Math.cos(i),b=e*Math.sin(i),w=-e*Math.cos(i),x=t*c}else if(y<=r+n){const i=(y-r)/n;v=-u+i*t,b=e,w=0,x=c+i*h}else{const t=(y-r-n)/r,i=t*Math.PI/2;v=u+e*Math.sin(i),b=e*Math.cos(i),w=e*Math.sin(i),x=c+h+t*c}const _=Math.max(0,Math.min(1,x/d));let S=0;0===y?S=.5/i:y===p&&(S=-.5/i);for(let e=0;e<=i;e++){const t=e/i,r=t*Math.PI*2,n=Math.sin(r),s=Math.cos(r);g.x=-b*s,g.y=v,g.z=b*n,a.push(g.x,g.y,g.z),m.set(-b*s,w,b*n),m.normalize(),o.push(m.x,m.y,m.z),l.push(t+S,_)}if(y>0){const e=(y-1)*f;for(let t=0;t<i;t++){const r=e+t,i=e+t+1,n=y*f+t,a=y*f+t+1;s.push(r,i,n),s.push(i,a,n)}}}this.setIndex(s),this.setAttribute("position",new tZ(a,3)),this.setAttribute("normal",new tZ(o,3)),this.setAttribute("uv",new tZ(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new na(e.radius,e.height,e.capSegments,e.radialSegments,e.heightSegments)}}class no extends t3{constructor(e=1,t=32,r=0,i=2*Math.PI){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:r,thetaLength:i},t=Math.max(3,t);const n=[],s=[],a=[],o=[],l=new Z,u=new Y;s.push(0,0,0),a.push(0,0,1),o.push(.5,.5);for(let n=0,c=3;n<=t;n++,c+=3){const h=r+n/t*i;l.x=e*Math.cos(h),l.y=e*Math.sin(h),s.push(l.x,l.y,l.z),a.push(0,0,1),u.x=(s[c]/e+1)/2,u.y=(s[c+1]/e+1)/2,o.push(u.x,u.y)}for(let e=1;e<=t;e++)n.push(e,e+1,0);this.setIndex(n),this.setAttribute("position",new tZ(s,3)),this.setAttribute("normal",new tZ(a,3)),this.setAttribute("uv",new tZ(o,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new no(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class nl extends t3{constructor(e=1,t=1,r=1,i=32,n=1,s=!1,a=0,o=2*Math.PI){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:i,heightSegments:n,openEnded:s,thetaStart:a,thetaLength:o};const l=this;i=Math.floor(i),n=Math.floor(n);const u=[],c=[],h=[],d=[];let p=0;const f=[],m=r/2;let g=0;function y(r){let n=p,s=new Y,f=new Z,y=0,x=!0===r?e:t,v=!0===r?1:-1;for(let e=1;e<=i;e++)c.push(0,m*v,0),h.push(0,v,0),d.push(.5,.5),p++;let b=p;for(let e=0;e<=i;e++){let t=e/i*o+a,r=Math.cos(t),n=Math.sin(t);f.x=x*n,f.y=m*v,f.z=x*r,c.push(f.x,f.y,f.z),h.push(0,v,0),s.x=.5*r+.5,s.y=.5*n*v+.5,d.push(s.x,s.y),p++}for(let e=0;e<i;e++){let t=n+e,i=b+e;!0===r?u.push(i,i+1,t):u.push(i+1,i,t),y+=3}l.addGroup(g,y,!0===r?1:2),g+=y}(function(){let s=new Z,y=new Z,x=0,v=(t-e)/r;for(let l=0;l<=n;l++){let u=[],g=l/n,x=g*(t-e)+e;for(let e=0;e<=i;e++){let t=e/i,n=t*o+a,l=Math.sin(n),f=Math.cos(n);y.x=x*l,y.y=-g*r+m,y.z=x*f,c.push(y.x,y.y,y.z),s.set(l,v,f).normalize(),h.push(s.x,s.y,s.z),d.push(t,1-g),u.push(p++)}f.push(u)}for(let r=0;r<i;r++)for(let i=0;i<n;i++){let s=f[i][r],a=f[i+1][r],o=f[i+1][r+1],l=f[i][r+1];(e>0||0!==i)&&(u.push(s,a,l),x+=3),(t>0||i!==n-1)&&(u.push(a,o,l),x+=3)}l.addGroup(g,x,0),g+=x})(),!1===s&&(e>0&&y(!0),t>0&&y(!1)),this.setIndex(u),this.setAttribute("position",new tZ(c,3)),this.setAttribute("normal",new tZ(h,3)),this.setAttribute("uv",new tZ(d,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new nl(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class nu extends nl{constructor(e=1,t=1,r=32,i=1,n=!1,s=0,a=2*Math.PI){super(0,e,t,r,i,n,s,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:r,heightSegments:i,openEnded:n,thetaStart:s,thetaLength:a}}static fromJSON(e){return new nu(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class nc extends t3{constructor(e=[],t=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:r,detail:i};const n=[],s=[];function a(e){n.push(e.x,e.y,e.z)}function o(t,r){let i=3*t;r.x=e[i+0],r.y=e[i+1],r.z=e[i+2]}function l(e,t,r,i){i<0&&1===e.x&&(s[t]=e.x-1),0===r.x&&0===r.z&&(s[t]=i/2/Math.PI+.5)}function u(e){return Math.atan2(e.z,-e.x)}(function(e){let r=new Z,i=new Z,n=new Z;for(let s=0;s<t.length;s+=3)o(t[s+0],r),o(t[s+1],i),o(t[s+2],n),function(e,t,r,i){let n=i+1,s=[];for(let i=0;i<=n;i++){s[i]=[];let a=e.clone().lerp(r,i/n),o=t.clone().lerp(r,i/n),l=n-i;for(let e=0;e<=l;e++)0===e&&i===n?s[i][e]=a:s[i][e]=a.clone().lerp(o,e/l)}for(let e=0;e<n;e++)for(let t=0;t<2*(n-e)-1;t++){let r=Math.floor(t/2);t%2==0?(a(s[e][r+1]),a(s[e+1][r]),a(s[e][r])):(a(s[e][r+1]),a(s[e+1][r+1]),a(s[e+1][r]))}}(r,i,n,e)})(i),function(e){let t=new Z;for(let r=0;r<n.length;r+=3)t.x=n[r+0],t.y=n[r+1],t.z=n[r+2],t.normalize().multiplyScalar(e),n[r+0]=t.x,n[r+1]=t.y,n[r+2]=t.z}(r),function(){let e=new Z;for(let r=0;r<n.length;r+=3){var t;e.x=n[r+0],e.y=n[r+1],e.z=n[r+2];let i=u(e)/2/Math.PI+.5,a=Math.atan2(-(t=e).y,Math.sqrt(t.x*t.x+t.z*t.z))/Math.PI+.5;s.push(i,1-a)}(function(){let e=new Z,t=new Z,r=new Z,i=new Z,a=new Y,o=new Y,c=new Y;for(let h=0,d=0;h<n.length;h+=9,d+=6){e.set(n[h+0],n[h+1],n[h+2]),t.set(n[h+3],n[h+4],n[h+5]),r.set(n[h+6],n[h+7],n[h+8]),a.set(s[d+0],s[d+1]),o.set(s[d+2],s[d+3]),c.set(s[d+4],s[d+5]),i.copy(e).add(t).add(r).divideScalar(3);let p=u(i);l(a,d+0,e,p),l(o,d+2,t,p),l(c,d+4,r,p)}})(),function(){for(let e=0;e<s.length;e+=6){let t=s[e+0],r=s[e+2],i=s[e+4],n=Math.max(t,r,i),a=Math.min(t,r,i);n>.9&&a<.1&&(t<.2&&(s[e+0]+=1),r<.2&&(s[e+2]+=1),i<.2&&(s[e+4]+=1))}}()}(),this.setAttribute("position",new tZ(n,3)),this.setAttribute("normal",new tZ(n.slice(),3)),this.setAttribute("uv",new tZ(s,2)),0===i?this.computeVertexNormals():this.normalizeNormals()}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new nc(e.vertices,e.indices,e.radius,e.detail)}}class nh extends nc{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=1/r;super([-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new nh(e.radius,e.detail)}}let nd=new Z,np=new Z,nf=new Z,nm=new tk;class ng extends t3{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},null!==e){const r=Math.cos(L*t),i=e.getIndex(),n=e.getAttribute("position"),s=i?i.count:n.count,a=[0,0,0],o=["a","b","c"],l=[,,,],u={},c=[];for(let e=0;e<s;e+=3){i?(a[0]=i.getX(e),a[1]=i.getX(e+1),a[2]=i.getX(e+2)):(a[0]=e,a[1]=e+1,a[2]=e+2);const{a:t,b:s,c:h}=nm;if(t.fromBufferAttribute(n,a[0]),s.fromBufferAttribute(n,a[1]),h.fromBufferAttribute(n,a[2]),nm.getNormal(nf),l[0]=`${Math.round(1e4*t.x)},${Math.round(1e4*t.y)},${Math.round(1e4*t.z)}`,l[1]=`${Math.round(1e4*s.x)},${Math.round(1e4*s.y)},${Math.round(1e4*s.z)}`,l[2]=`${Math.round(1e4*h.x)},${Math.round(1e4*h.y)},${Math.round(1e4*h.z)}`,l[0]!==l[1]&&l[1]!==l[2]&&l[2]!==l[0])for(let e=0;e<3;e++){const t=(e+1)%3,i=l[e],n=l[t],s=nm[o[e]],h=nm[o[t]],d=`${i}_${n}`,p=`${n}_${i}`;p in u&&u[p]?(nf.dot(u[p].normal)<=r&&(c.push(s.x,s.y,s.z),c.push(h.x,h.y,h.z)),u[p]=null):d in u||(u[d]={index0:a[e],index1:a[t],normal:nf.clone()})}}for(const e in u)if(u[e]){const{index0:t,index1:r}=u[e];nd.fromBufferAttribute(n,t),np.fromBufferAttribute(n,r),c.push(nd.x,nd.y,nd.z),c.push(np.x,np.y,np.z)}this.setAttribute("position",new tZ(c,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class ny{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){N("Curve: .getPoint() not implemented.")}getPointAt(e,t){let r=this.getUtoTmapping(e);return this.getPoint(r,t)}getPoints(e=5){let t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return t}getSpacedPoints(e=5){let t=[];for(let r=0;r<=e;r++)t.push(this.getPointAt(r/e));return t}getLength(){let e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;let t=[],r,i=this.getPoint(0),n=0;t.push(0);for(let s=1;s<=e;s++)t.push(n+=(r=this.getPoint(s/e)).distanceTo(i)),i=r;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t=null){let r,i=this.getLengths(),n=0,s=i.length;r=t||e*i[s-1];let a=0,o=s-1,l;for(;a<=o;)if((l=i[n=Math.floor(a+(o-a)/2)]-r)<0)a=n+1;else if(l>0)o=n-1;else{o=n;break}if(i[n=o]===r)return n/(s-1);let u=i[n],c=i[n+1];return(n+(r-u)/(c-u))/(s-1)}getTangent(e,t){let r=e-1e-4,i=e+1e-4;r<0&&(r=0),i>1&&(i=1);let n=this.getPoint(r),s=this.getPoint(i),a=t||(n.isVector2?new Y:new Z);return a.copy(s).sub(n).normalize(),a}getTangentAt(e,t){let r=this.getUtoTmapping(e);return this.getTangent(r,t)}computeFrenetFrames(e,t=!1){let r=new Z,i=[],n=[],s=[],a=new Z,o=new eq;for(let t=0;t<=e;t++){let r=t/e;i[t]=this.getTangentAt(r,new Z)}n[0]=new Z,s[0]=new Z;let l=Number.MAX_VALUE,u=Math.abs(i[0].x),c=Math.abs(i[0].y),h=Math.abs(i[0].z);u<=l&&(l=u,r.set(1,0,0)),c<=l&&(l=c,r.set(0,1,0)),h<=l&&r.set(0,0,1),a.crossVectors(i[0],r).normalize(),n[0].crossVectors(i[0],a),s[0].crossVectors(i[0],n[0]);for(let t=1;t<=e;t++){if(n[t]=n[t-1].clone(),s[t]=s[t-1].clone(),a.crossVectors(i[t-1],i[t]),a.length()>Number.EPSILON){a.normalize();let e=Math.acos(U(i[t-1].dot(i[t]),-1,1));n[t].applyMatrix4(o.makeRotationAxis(a,e))}s[t].crossVectors(i[t],n[t])}if(!0===t){let t=Math.acos(U(n[0].dot(n[e]),-1,1));t/=e,i[0].dot(a.crossVectors(n[0],n[e]))>0&&(t=-t);for(let r=1;r<=e;r++)n[r].applyMatrix4(o.makeRotationAxis(i[r],t*r)),s[r].crossVectors(i[r],n[r])}return{tangents:i,normals:n,binormals:s}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){let e={metadata:{version:4.7,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class nx extends ny{constructor(e=0,t=0,r=1,i=1,n=0,s=2*Math.PI,a=!1,o=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=r,this.yRadius=i,this.aStartAngle=n,this.aEndAngle=s,this.aClockwise=a,this.aRotation=o}getPoint(e,t=new Y){let r=2*Math.PI,i=this.aEndAngle-this.aStartAngle,n=Math.abs(i)<Number.EPSILON;for(;i<0;)i+=r;for(;i>r;)i-=r;i<Number.EPSILON&&(i=n?0:r),!0!==this.aClockwise||n||(i===r?i=-r:i-=r);let s=this.aStartAngle+e*i,a=this.aX+this.xRadius*Math.cos(s),o=this.aY+this.yRadius*Math.sin(s);if(0!==this.aRotation){let e=Math.cos(this.aRotation),t=Math.sin(this.aRotation),r=a-this.aX,i=o-this.aY;a=r*e-i*t+this.aX,o=r*t+i*e+this.aY}return t.set(a,o)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){let e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class nv extends nx{constructor(e,t,r,i,n,s){super(e,t,r,r,i,n,s),this.isArcCurve=!0,this.type="ArcCurve"}}function nb(){let e=0,t=0,r=0,i=0;function n(n,s,a,o){e=n,t=a,r=-3*n+3*s-2*a-o,i=2*n-2*s+a+o}return{initCatmullRom:function(e,t,r,i,s){n(t,r,s*(r-e),s*(i-t))},initNonuniformCatmullRom:function(e,t,r,i,s,a,o){let l=(t-e)/s-(r-e)/(s+a)+(r-t)/a,u=(r-t)/a-(i-t)/(a+o)+(i-r)/o;n(t,r,l*=a,u*=a)},calc:function(n){let s=n*n;return e+t*n+r*s+s*n*i}}}let nw=new Z,n_=new nb,nS=new nb,nk=new nb;class nM extends ny{constructor(e=[],t=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=r,this.tension=i}getPoint(e,t=new Z){let r,i,n=this.points,s=n.length,a=(s-!this.closed)*e,o=Math.floor(a),l=a-o;this.closed?o+=o>0?0:(Math.floor(Math.abs(o)/s)+1)*s:0===l&&o===s-1&&(o=s-2,l=1),this.closed||o>0?r=n[(o-1)%s]:(nw.subVectors(n[0],n[1]).add(n[0]),r=nw);let u=n[o%s],c=n[(o+1)%s];if(this.closed||o+2<s?i=n[(o+2)%s]:(nw.subVectors(n[s-1],n[s-2]).add(n[s-1]),i=nw),"centripetal"===this.curveType||"chordal"===this.curveType){let e="chordal"===this.curveType?.5:.25,t=Math.pow(r.distanceToSquared(u),e),n=Math.pow(u.distanceToSquared(c),e),s=Math.pow(c.distanceToSquared(i),e);n<1e-4&&(n=1),t<1e-4&&(t=n),s<1e-4&&(s=n),n_.initNonuniformCatmullRom(r.x,u.x,c.x,i.x,t,n,s),nS.initNonuniformCatmullRom(r.y,u.y,c.y,i.y,t,n,s),nk.initNonuniformCatmullRom(r.z,u.z,c.z,i.z,t,n,s)}else"catmullrom"===this.curveType&&(n_.initCatmullRom(r.x,u.x,c.x,i.x,this.tension),nS.initCatmullRom(r.y,u.y,c.y,i.y,this.tension),nk.initCatmullRom(r.z,u.z,c.z,i.z,this.tension));return t.set(n_.calc(l),nS.calc(l),nk.calc(l)),t}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){let r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){let e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){let r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){let r=e.points[t];this.points.push(new Z().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function nC(e,t,r,i,n){let s=(i-t)*.5,a=(n-r)*.5,o=e*e;return e*o*(2*r-2*i+s+a)+(-3*r+3*i-2*s-a)*o+s*e+r}function nA(e,t,r,i){let n;return(n=1-e)*n*t+2*(1-e)*e*r+e*e*i}function nI(e,t,r,i,n){let s,a;return(s=1-e)*s*s*t+3*(a=1-e)*a*e*r+3*(1-e)*e*e*i+e*e*e*n}class nT extends ny{constructor(e=new Y,t=new Y,r=new Y,i=new Y){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new Y){let r=this.v0,i=this.v1,n=this.v2,s=this.v3;return t.set(nI(e,r.x,i.x,n.x,s.x),nI(e,r.y,i.y,n.y,s.y)),t}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){let e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class nz extends ny{constructor(e=new Z,t=new Z,r=new Z,i=new Z){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new Z){let r=this.v0,i=this.v1,n=this.v2,s=this.v3;return t.set(nI(e,r.x,i.x,n.x,s.x),nI(e,r.y,i.y,n.y,s.y),nI(e,r.z,i.z,n.z,s.z)),t}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){let e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class nE extends ny{constructor(e=new Y,t=new Y){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new Y){return 1===e?t.copy(this.v2):(t.copy(this.v2).sub(this.v1),t.multiplyScalar(e).add(this.v1)),t}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new Y){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){let e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class nN extends ny{constructor(e=new Z,t=new Z){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new Z){return 1===e?t.copy(this.v2):(t.copy(this.v2).sub(this.v1),t.multiplyScalar(e).add(this.v1)),t}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new Z){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){let e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class nj extends ny{constructor(e=new Y,t=new Y,r=new Y){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new Y){let r=this.v0,i=this.v1,n=this.v2;return t.set(nA(e,r.x,i.x,n.x),nA(e,r.y,i.y,n.y)),t}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){let e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class nO extends ny{constructor(e=new Z,t=new Z,r=new Z){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new Z){let r=this.v0,i=this.v1,n=this.v2;return t.set(nA(e,r.x,i.x,n.x),nA(e,r.y,i.y,n.y),nA(e,r.z,i.z,n.z)),t}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){let e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class nD extends ny{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new Y){let r=this.points,i=(r.length-1)*e,n=Math.floor(i),s=i-n,a=r[0===n?n:n-1],o=r[n],l=r[n>r.length-2?r.length-1:n+1],u=r[n>r.length-3?r.length-1:n+2];return t.set(nC(s,a.x,o.x,l.x,u.x),nC(s,a.y,o.y,l.y,u.y)),t}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){let r=e.points[t];this.points.push(r.clone())}return this}toJSON(){let e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){let r=this.points[t];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){let r=e.points[t];this.points.push(new Y().fromArray(r))}return this}}var nP=Object.freeze({__proto__:null,ArcCurve:nv,CatmullRomCurve3:nM,CubicBezierCurve:nT,CubicBezierCurve3:nz,EllipseCurve:nx,LineCurve:nE,LineCurve3:nN,QuadraticBezierCurve:nj,QuadraticBezierCurve3:nO,SplineCurve:nD});class nR extends ny{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){let e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){let r=!0===e.isVector2?"LineCurve":"LineCurve3";this.curves.push(new nP[r](t,e))}return this}getPoint(e,t){let r=e*this.getLength(),i=this.getCurveLengths(),n=0;for(;n<i.length;){if(i[n]>=r){let e=i[n]-r,s=this.curves[n],a=s.getLength(),o=0===a?0:1-e/a;return s.getPointAt(o,t)}n++}return null}getLength(){let e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;let e=[],t=0;for(let r=0,i=this.curves.length;r<i;r++)e.push(t+=this.curves[r].getLength());return this.cacheLengths=e,e}getSpacedPoints(e=40){let t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){let t,r=[];for(let i=0,n=this.curves;i<n.length;i++){let s=n[i],a=s.isEllipseCurve?2*e:s.isLineCurve||s.isLineCurve3?1:s.isSplineCurve?e*s.points.length:e,o=s.getPoints(a);for(let e=0;e<o.length;e++){let i=o[e];t&&t.equals(i)||(r.push(i),t=i)}}return this.autoClose&&r.length>1&&!r[r.length-1].equals(r[0])&&r.push(r[0]),r}copy(e){super.copy(e),this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){let r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){let e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,r=this.curves.length;t<r;t++){let r=this.curves[t];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){let r=e.curves[t];this.curves.push(new nP[r.type]().fromJSON(r))}return this}}class nB extends nR{constructor(e){super(),this.type="Path",this.currentPoint=new Y,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,r=e.length;t<r;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){let r=new nE(this.currentPoint.clone(),new Y(e,t));return this.curves.push(r),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,r,i){let n=new nj(this.currentPoint.clone(),new Y(e,t),new Y(r,i));return this.curves.push(n),this.currentPoint.set(r,i),this}bezierCurveTo(e,t,r,i,n,s){let a=new nT(this.currentPoint.clone(),new Y(e,t),new Y(r,i),new Y(n,s));return this.curves.push(a),this.currentPoint.set(n,s),this}splineThru(e){let t=new nD([this.currentPoint.clone()].concat(e));return this.curves.push(t),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,r,i,n,s){let a=this.currentPoint.x,o=this.currentPoint.y;return this.absarc(e+a,t+o,r,i,n,s),this}absarc(e,t,r,i,n,s){return this.absellipse(e,t,r,r,i,n,s),this}ellipse(e,t,r,i,n,s,a,o){let l=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(e+l,t+u,r,i,n,s,a,o),this}absellipse(e,t,r,i,n,s,a,o){let l=new nx(e,t,r,i,n,s,a,o);if(this.curves.length>0){let e=l.getPoint(0);e.equals(this.currentPoint)||this.lineTo(e.x,e.y)}this.curves.push(l);let u=l.getPoint(1);return this.currentPoint.copy(u),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){let e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class nL extends nB{constructor(e){super(e),this.uuid=V(),this.type="Shape",this.holes=[]}getPointsHoles(e){let t=[];for(let r=0,i=this.holes.length;r<i;r++)t[r]=this.holes[r].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){let r=e.holes[t];this.holes.push(r.clone())}return this}toJSON(){let e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,r=this.holes.length;t<r;t++){let r=this.holes[t];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){let r=e.holes[t];this.holes.push(new nB().fromJSON(r))}return this}}function nF(e,t,r,i,n){let s;if(n===function(e,t,r,i){let n=0;for(let s=t,a=r-i;s<r;s+=i)n+=(e[a]-e[s])*(e[s+1]+e[a+1]),a=s;return n}(e,t,r,i)>0)for(let n=t;n<r;n+=i)s=nQ(n/i|0,e[n],e[n+1],s);else for(let n=r-i;n>=t;n-=i)s=nQ(n/i|0,e[n],e[n+1],s);return s&&nq(s,s.next)&&(n1(s),s=s.next),s}function nV(e,t){if(!e)return e;t||(t=e);let r=e,i;do if(i=!1,!r.steiner&&(nq(r,r.next)||0===nH(r.prev,r,r.next))){if(n1(r),(r=t=r.prev)===r.next)break;i=!0}else r=r.next;while(i||r!==t)return t}function nU(e,t){let r=e.x-t.x;return 0===r&&0==(r=e.y-t.y)&&(r=(e.next.y-e.y)/(e.next.x-e.x)-(t.next.y-t.y)/(t.next.x-t.x)),r}function n$(e,t,r,i,n){return(e=((e=((e=((e=((e=(e-r)*n|0)|e<<8)&0xff00ff)|e<<4)&0xf0f0f0f)|e<<2)&0x33333333)|e<<1)&0x55555555)|(t=((t=((t=((t=((t=(t-i)*n|0)|t<<8)&0xff00ff)|t<<4)&0xf0f0f0f)|t<<2)&0x33333333)|t<<1)&0x55555555)<<1}function nW(e,t,r,i,n,s,a,o){return(n-a)*(t-o)>=(e-a)*(s-o)&&(e-a)*(i-o)>=(r-a)*(t-o)&&(r-a)*(s-o)>=(n-a)*(i-o)}function nG(e,t,r,i,n,s,a,o){return(e!==a||t!==o)&&nW(e,t,r,i,n,s,a,o)}function nH(e,t,r){return(t.y-e.y)*(r.x-t.x)-(t.x-e.x)*(r.y-t.y)}function nq(e,t){return e.x===t.x&&e.y===t.y}function nY(e,t,r,i){let n=nZ(nH(e,t,r)),s=nZ(nH(e,t,i)),a=nZ(nH(r,i,e)),o=nZ(nH(r,i,t));return!!(n!==s&&a!==o||0===n&&nX(e,r,t)||0===s&&nX(e,i,t)||0===a&&nX(r,e,i)||0===o&&nX(r,t,i))}function nX(e,t,r){return t.x<=Math.max(e.x,r.x)&&t.x>=Math.min(e.x,r.x)&&t.y<=Math.max(e.y,r.y)&&t.y>=Math.min(e.y,r.y)}function nZ(e){return e>0?1:e<0?-1:0}function nJ(e,t){return 0>nH(e.prev,e,e.next)?nH(e,t,e.next)>=0&&nH(e,e.prev,t)>=0:0>nH(e,t,e.prev)||0>nH(e,e.next,t)}function nK(e,t){let r=n0(e.i,e.x,e.y),i=n0(t.i,t.x,t.y),n=e.next,s=t.prev;return e.next=t,t.prev=e,r.next=n,n.prev=r,i.next=r,r.prev=i,s.next=i,i.prev=s,i}function nQ(e,t,r,i){let n=n0(e,t,r);return i?(n.next=i.next,n.prev=i,i.next.prev=n,i.next=n):(n.prev=n,n.next=n),n}function n1(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function n0(e,t,r){return{i:e,x:t,y:r,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}class n2{static triangulate(e,t,r=2){return function(e,t,r=2){let i,n,s,a=t&&t.length,o=a?t[0]*r:e.length,l=nF(e,0,o,r,!0),u=[];if(!l||l.next===l.prev)return u;if(a&&(l=function(e,t,r,i){let n=[];for(let r=0,s=t.length;r<s;r++){let a=t[r]*i,o=r<s-1?t[r+1]*i:e.length,l=nF(e,a,o,i,!1);l===l.next&&(l.steiner=!0),n.push(function(e){let t=e,r=e;do(t.x<r.x||t.x===r.x&&t.y<r.y)&&(r=t),t=t.next;while(t!==e)return r}(l))}n.sort(nU);for(let e=0;e<n.length;e++)r=function(e,t){let r=function(e,t){let r,i=t,n=e.x,s=e.y,a=-1/0;if(nq(e,i))return i;do{if(nq(e,i.next))return i.next;if(s<=i.y&&s>=i.next.y&&i.next.y!==i.y){let e=i.x+(s-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(e<=n&&e>a&&(a=e,r=i.x<i.next.x?i:i.next,e===n))return r}i=i.next}while(i!==t)if(!r)return null;let o=r,l=r.x,u=r.y,c=1/0;i=r;do{if(n>=i.x&&i.x>=l&&n!==i.x&&nW(s<u?n:a,s,l,u,s<u?a:n,s,i.x,i.y)){var h,d;let t=Math.abs(s-i.y)/(n-i.x);nJ(i,e)&&(t<c||t===c&&(i.x>r.x||i.x===r.x&&(h=r,d=i,0>nH(h.prev,h,d.prev)&&0>nH(d.next,h,h.next))))&&(r=i,c=t)}i=i.next}while(i!==o)return r}(e,t);if(!r)return t;let i=nK(r,e);return nV(i,i.next),nV(r,r.next)}(n[e],r);return r}(e,t,l,r)),e.length>80*r){i=e[0],n=e[1];let t=i,a=n;for(let s=r;s<o;s+=r){let r=e[s],o=e[s+1];r<i&&(i=r),o<n&&(n=o),r>t&&(t=r),o>a&&(a=o)}s=0!==(s=Math.max(t-i,a-n))?32767/s:0}return function e(t,r,i,n,s,a,o){if(!t)return;!o&&a&&function(e,t,r,i){let n=e;do 0===n.z&&(n.z=n$(n.x,n.y,t,r,i)),n.prevZ=n.prev,n.nextZ=n.next,n=n.next;while(n!==e)n.prevZ.nextZ=null,n.prevZ=null,function(e){let t,r=1;do{let i,n=e;e=null;let s=null;for(t=0;n;){t++;let a=n,o=0;for(let e=0;e<r&&(o++,a=a.nextZ);e++);let l=r;for(;o>0||l>0&&a;)0!==o&&(0===l||!a||n.z<=a.z)?(i=n,n=n.nextZ,o--):(i=a,a=a.nextZ,l--),s?s.nextZ=i:e=i,i.prevZ=s,s=i;n=a}s.nextZ=null,r*=2}while(t>1)}(n)}(t,n,s,a);let l=t;for(;t.prev!==t.next;){let u=t.prev,c=t.next;if(a?function(e,t,r,i){let n=e.prev,s=e.next;if(nH(n,e,s)>=0)return!1;let a=n.x,o=e.x,l=s.x,u=n.y,c=e.y,h=s.y,d=Math.min(a,o,l),p=Math.min(u,c,h),f=Math.max(a,o,l),m=Math.max(u,c,h),g=n$(d,p,t,r,i),y=n$(f,m,t,r,i),x=e.prevZ,v=e.nextZ;for(;x&&x.z>=g&&v&&v.z<=y;){if(x.x>=d&&x.x<=f&&x.y>=p&&x.y<=m&&x!==n&&x!==s&&nG(a,u,o,c,l,h,x.x,x.y)&&nH(x.prev,x,x.next)>=0||(x=x.prevZ,v.x>=d&&v.x<=f&&v.y>=p&&v.y<=m&&v!==n&&v!==s&&nG(a,u,o,c,l,h,v.x,v.y)&&nH(v.prev,v,v.next)>=0))return!1;v=v.nextZ}for(;x&&x.z>=g;){if(x.x>=d&&x.x<=f&&x.y>=p&&x.y<=m&&x!==n&&x!==s&&nG(a,u,o,c,l,h,x.x,x.y)&&nH(x.prev,x,x.next)>=0)return!1;x=x.prevZ}for(;v&&v.z<=y;){if(v.x>=d&&v.x<=f&&v.y>=p&&v.y<=m&&v!==n&&v!==s&&nG(a,u,o,c,l,h,v.x,v.y)&&nH(v.prev,v,v.next)>=0)return!1;v=v.nextZ}return!0}(t,n,s,a):function(e){let t=e.prev,r=e.next;if(nH(t,e,r)>=0)return!1;let i=t.x,n=e.x,s=r.x,a=t.y,o=e.y,l=r.y,u=Math.min(i,n,s),c=Math.min(a,o,l),h=Math.max(i,n,s),d=Math.max(a,o,l),p=r.next;for(;p!==t;){if(p.x>=u&&p.x<=h&&p.y>=c&&p.y<=d&&nG(i,a,n,o,s,l,p.x,p.y)&&nH(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}(t)){r.push(u.i,t.i,c.i),n1(t),t=c.next,l=c.next;continue}if((t=c)===l){o?1===o?e(t=function(e,t){let r=e;do{let i=r.prev,n=r.next.next;!nq(i,n)&&nY(i,r,r.next,n)&&nJ(i,n)&&nJ(n,i)&&(t.push(i.i,r.i,n.i),n1(r),n1(r.next),r=e=n),r=r.next}while(r!==e)return nV(r)}(nV(t),r),r,i,n,s,a,2):2===o&&function(t,r,i,n,s,a){let o=t;do{let t=o.next.next;for(;t!==o.prev;){var l,u;if(o.i!==t.i&&(l=o,u=t,l.next.i!==u.i&&l.prev.i!==u.i&&!function(e,t){let r=e;do{if(r.i!==e.i&&r.next.i!==e.i&&r.i!==t.i&&r.next.i!==t.i&&nY(r,r.next,e,t))return!0;r=r.next}while(r!==e)return!1}(l,u)&&(nJ(l,u)&&nJ(u,l)&&function(e,t){let r=e,i=!1,n=(e.x+t.x)/2,s=(e.y+t.y)/2;do r.y>s!=r.next.y>s&&r.next.y!==r.y&&n<(r.next.x-r.x)*(s-r.y)/(r.next.y-r.y)+r.x&&(i=!i),r=r.next;while(r!==e)return i}(l,u)&&(nH(l.prev,l,u.prev)||nH(l,u.prev,u))||nq(l,u)&&nH(l.prev,l,l.next)>0&&nH(u.prev,u,u.next)>0))){let l=nK(o,t);o=nV(o,o.next),l=nV(l,l.next),e(o,r,i,n,s,a,0),e(l,r,i,n,s,a,0);return}t=t.next}o=o.next}while(o!==t)}(t,r,i,n,s,a):e(nV(t),r,i,n,s,a,1);break}}}(l,u,r,i,n,s,0),u}(e,t,r)}}class n9{static area(e){let t=e.length,r=0;for(let i=t-1,n=0;n<t;i=n++)r+=e[i].x*e[n].y-e[n].x*e[i].y;return .5*r}static isClockWise(e){return 0>n9.area(e)}static triangulateShape(e,t){let r=[],i=[],n=[];n3(e),n4(r,e);let s=e.length;t.forEach(n3);for(let e=0;e<t.length;e++)i.push(s),s+=t[e].length,n4(r,t[e]);let a=n2.triangulate(r,i);for(let e=0;e<a.length;e+=3)n.push(a.slice(e,e+3));return n}}function n3(e){let t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function n4(e,t){for(let r=0;r<t.length;r++)e.push(t[r].x),e.push(t[r].y)}class n8 extends t3{constructor(e=new nL([new Y(.5,.5),new Y(-.5,.5),new Y(-.5,-.5),new Y(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const r=this,i=[],n=[];for(let s=0,a=e.length;s<a;s++)!function(e){let s,a,o,l,u,c=[],h=void 0!==t.curveSegments?t.curveSegments:12,d=void 0!==t.steps?t.steps:1,p=void 0!==t.depth?t.depth:1,f=void 0===t.bevelEnabled||t.bevelEnabled,m=void 0!==t.bevelThickness?t.bevelThickness:.2,g=void 0!==t.bevelSize?t.bevelSize:m-.1,y=void 0!==t.bevelOffset?t.bevelOffset:0,x=void 0!==t.bevelSegments?t.bevelSegments:3,v=t.extrudePath,b=void 0!==t.UVGenerator?t.UVGenerator:n6,w,_=!1;if(v){w=v.getSpacedPoints(d),_=!0,f=!1;let e=!!v.isCatmullRomCurve3&&v.closed;s=v.computeFrenetFrames(d,e),a=new Z,o=new Z,l=new Z}f||(x=0,m=0,g=0,y=0);let S=e.extractPoints(h),k=S.shape,M=S.holes;if(!n9.isClockWise(k)){k=k.reverse();for(let e=0,t=M.length;e<t;e++){let t=M[e];n9.isClockWise(t)&&(M[e]=t.reverse())}}function C(e){let t=1e-10*1e-10,r=e[0];for(let i=1;i<=e.length;i++){let n=i%e.length,s=e[n],a=s.x-r.x,o=s.y-r.y,l=a*a+o*o,u=Math.max(Math.abs(s.x),Math.abs(s.y),Math.abs(r.x),Math.abs(r.y));if(l<=t*u*u){e.splice(n,1),i--;continue}r=s}}C(k),M.forEach(C);let A=M.length,I=k;for(let e=0;e<A;e++){let t=M[e];k=k.concat(t)}function T(e,t,r){return t||j("ExtrudeGeometry: vec does not exist"),e.clone().addScaledVector(t,r)}let z=k.length;function E(e,t,r){let i,n,s,a=e.x-t.x,o=e.y-t.y,l=r.x-e.x,u=r.y-e.y,c=a*a+o*o;if(Math.abs(a*u-o*l)>Number.EPSILON){let h=Math.sqrt(c),d=Math.sqrt(l*l+u*u),p=t.x-o/h,f=t.y+a/h,m=((r.x-u/d-p)*u-(r.y+l/d-f)*l)/(a*u-o*l),g=(i=p+a*m-e.x)*i+(n=f+o*m-e.y)*n;if(g<=2)return new Y(i,n);s=Math.sqrt(g/2)}else{let e=!1;a>Number.EPSILON?l>Number.EPSILON&&(e=!0):a<-Number.EPSILON?l<-Number.EPSILON&&(e=!0):Math.sign(o)===Math.sign(u)&&(e=!0),e?(i=-o,n=a,s=Math.sqrt(c)):(i=a,n=o,s=Math.sqrt(c/2))}return new Y(i/s,n/s)}let N=[];for(let e=0,t=I.length,r=t-1,i=e+1;e<t;e++,r++,i++)r===t&&(r=0),i===t&&(i=0),N[e]=E(I[e],I[r],I[i]);let O=[],D,P=N.concat();for(let e=0;e<A;e++){let t=M[e];D=[];for(let e=0,r=t.length,i=r-1,n=e+1;e<r;e++,i++,n++)i===r&&(i=0),n===r&&(n=0),D[e]=E(t[e],t[i],t[n]);O.push(D),P=P.concat(D)}if(0===x)u=n9.triangulateShape(I,M);else{let e=[],t=[];for(let r=0;r<x;r++){let i=r/x,n=m*Math.cos(i*Math.PI/2),s=g*Math.sin(i*Math.PI/2)+y;for(let t=0,r=I.length;t<r;t++){let r=T(I[t],N[t],s);F(r.x,r.y,-n),0===i&&e.push(r)}for(let e=0;e<A;e++){let r=M[e];D=O[e];let a=[];for(let e=0,t=r.length;e<t;e++){let t=T(r[e],D[e],s);F(t.x,t.y,-n),0===i&&a.push(t)}0===i&&t.push(a)}}u=n9.triangulateShape(e,t)}let R=u.length,B=g+y;for(let e=0;e<z;e++){let t=f?T(k[e],P[e],B):k[e];_?(o.copy(s.normals[0]).multiplyScalar(t.x),a.copy(s.binormals[0]).multiplyScalar(t.y),l.copy(w[0]).add(o).add(a),F(l.x,l.y,l.z)):F(t.x,t.y,0)}for(let e=1;e<=d;e++)for(let t=0;t<z;t++){let r=f?T(k[t],P[t],B):k[t];_?(o.copy(s.normals[e]).multiplyScalar(r.x),a.copy(s.binormals[e]).multiplyScalar(r.y),l.copy(w[e]).add(o).add(a),F(l.x,l.y,l.z)):F(r.x,r.y,p/d*e)}for(let e=x-1;e>=0;e--){let t=e/x,r=m*Math.cos(t*Math.PI/2),i=g*Math.sin(t*Math.PI/2)+y;for(let e=0,t=I.length;e<t;e++){let t=T(I[e],N[e],i);F(t.x,t.y,p+r)}for(let e=0,t=M.length;e<t;e++){let t=M[e];D=O[e];for(let e=0,n=t.length;e<n;e++){let n=T(t[e],D[e],i);_?F(n.x,n.y+w[d-1].y,w[d-1].x+r):F(n.x,n.y,p+r)}}}function L(e,t){let n=e.length;for(;--n>=0;){let s=n,a=n-1;a<0&&(a=e.length-1);for(let e=0,n=d+2*x;e<n;e++){let n=z*e,o=z*(e+1);!function(e,t,n,s){U(e),U(t),U(s),U(t),U(n),U(s);let a=i.length/3,o=b.generateSideWallUV(r,i,a-6,a-3,a-2,a-1);$(o[0]),$(o[1]),$(o[3]),$(o[1]),$(o[2]),$(o[3])}(t+s+n,t+a+n,t+a+o,t+s+o)}}}function F(e,t,r){c.push(e),c.push(t),c.push(r)}function V(e,t,n){U(e),U(t),U(n);let s=i.length/3,a=b.generateTopUV(r,i,s-3,s-2,s-1);$(a[0]),$(a[1]),$(a[2])}function U(e){i.push(c[3*e+0]),i.push(c[3*e+1]),i.push(c[3*e+2])}function $(e){n.push(e.x),n.push(e.y)}(function(){let e=i.length/3;if(f){let e=0*z;for(let t=0;t<R;t++){let r=u[t];V(r[2]+e,r[1]+e,r[0]+e)}e=z*(d+2*x);for(let t=0;t<R;t++){let r=u[t];V(r[0]+e,r[1]+e,r[2]+e)}}else{for(let e=0;e<R;e++){let t=u[e];V(t[2],t[1],t[0])}for(let e=0;e<R;e++){let t=u[e];V(t[0]+z*d,t[1]+z*d,t[2]+z*d)}}r.addGroup(e,i.length/3-e,0)})(),function(){let e=i.length/3,t=0;L(I,0),t+=I.length;for(let e=0,r=M.length;e<r;e++){let r=M[e];L(r,t),t+=r.length}r.addGroup(e,i.length/3-e,1)}()}(e[s]);this.setAttribute("position",new tZ(i,3)),this.setAttribute("uv",new tZ(n,2)),this.computeVertexNormals()}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){let e=super.toJSON();return function(e,t,r){if(r.shapes=[],Array.isArray(e))for(let t=0,i=e.length;t<i;t++){let i=e[t];r.shapes.push(i.uuid)}else r.shapes.push(e.uuid);return r.options=Object.assign({},t),void 0!==t.extrudePath&&(r.options.extrudePath=t.extrudePath.toJSON()),r}(this.parameters.shapes,this.parameters.options,e)}static fromJSON(e,t){let r=[];for(let i=0,n=e.shapes.length;i<n;i++){let n=t[e.shapes[i]];r.push(n)}let i=e.options.extrudePath;return void 0!==i&&(e.options.extrudePath=new nP[i.type]().fromJSON(i)),new n8(r,e.options)}}let n6={generateTopUV:function(e,t,r,i,n){let s=t[3*r],a=t[3*r+1],o=t[3*i],l=t[3*i+1],u=t[3*n],c=t[3*n+1];return[new Y(s,a),new Y(o,l),new Y(u,c)]},generateSideWallUV:function(e,t,r,i,n,s){let a=t[3*r],o=t[3*r+1],l=t[3*r+2],u=t[3*i],c=t[3*i+1],h=t[3*i+2],d=t[3*n],p=t[3*n+1],f=t[3*n+2],m=t[3*s],g=t[3*s+1],y=t[3*s+2];return Math.abs(o-c)<Math.abs(a-u)?[new Y(a,1-l),new Y(u,1-h),new Y(d,1-f),new Y(m,1-y)]:[new Y(o,1-l),new Y(c,1-h),new Y(p,1-f),new Y(g,1-y)]}};class n5 extends nc{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2;super([-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new n5(e.radius,e.detail)}}class n7 extends t3{constructor(e=[new Y(0,-.5),new Y(.5,0),new Y(0,.5)],t=12,r=0,i=2*Math.PI){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:r,phiLength:i},t=Math.floor(t),i=U(i,0,2*Math.PI);const n=[],s=[],a=[],o=[],l=[],u=1/t,c=new Z,h=new Y,d=new Z,p=new Z,f=new Z;let m=0,g=0;for(let t=0;t<=e.length-1;t++)switch(t){case 0:m=e[t+1].x-e[t].x,d.x=+(g=e[t+1].y-e[t].y),d.y=-m,d.z=0*g,f.copy(d),d.normalize(),o.push(d.x,d.y,d.z);break;case e.length-1:o.push(f.x,f.y,f.z);break;default:m=e[t+1].x-e[t].x,d.x=+(g=e[t+1].y-e[t].y),d.y=-m,d.z=0*g,p.copy(d),d.x+=f.x,d.y+=f.y,d.z+=f.z,d.normalize(),o.push(d.x,d.y,d.z),f.copy(p)}for(let n=0;n<=t;n++){const d=r+n*u*i,p=Math.sin(d),f=Math.cos(d);for(let r=0;r<=e.length-1;r++){c.x=e[r].x*p,c.y=e[r].y,c.z=e[r].x*f,s.push(c.x,c.y,c.z),h.x=n/t,h.y=r/(e.length-1),a.push(h.x,h.y);const i=o[3*r+0]*p,u=o[3*r+1],d=o[3*r+0]*f;l.push(i,u,d)}}for(let r=0;r<t;r++)for(let t=0;t<e.length-1;t++){const i=t+r*e.length,s=i+e.length,a=i+e.length+1,o=i+1;n.push(i,s,o),n.push(a,o,s)}this.setIndex(n),this.setAttribute("position",new tZ(s,3)),this.setAttribute("uv",new tZ(a,2)),this.setAttribute("normal",new tZ(l,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new n7(e.points,e.segments,e.phiStart,e.phiLength)}}class se extends nc{constructor(e=1,t=0){super([1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new se(e.radius,e.detail)}}class st extends t3{constructor(e=1,t=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:i};const n=e/2,s=t/2,a=Math.floor(r),o=Math.floor(i),l=a+1,u=o+1,c=e/a,h=t/o,d=[],p=[],f=[],m=[];for(let e=0;e<u;e++){const t=e*h-s;for(let r=0;r<l;r++){const i=r*c-n;p.push(i,-t,0),f.push(0,0,1),m.push(r/a),m.push(1-e/o)}}for(let e=0;e<o;e++)for(let t=0;t<a;t++){const r=t+l*e,i=t+l*(e+1),n=t+1+l*(e+1),s=t+1+l*e;d.push(r,i,s),d.push(i,n,s)}this.setIndex(d),this.setAttribute("position",new tZ(p,3)),this.setAttribute("normal",new tZ(f,3)),this.setAttribute("uv",new tZ(m,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new st(e.width,e.height,e.widthSegments,e.heightSegments)}}class sr extends t3{constructor(e=.5,t=1,r=32,i=1,n=0,s=2*Math.PI){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:r,phiSegments:i,thetaStart:n,thetaLength:s},r=Math.max(3,r);const a=[],o=[],l=[],u=[];let c=e;const h=(t-e)/(i=Math.max(1,i)),d=new Z,p=new Y;for(let e=0;e<=i;e++){for(let e=0;e<=r;e++){const i=n+e/r*s;d.x=c*Math.cos(i),d.y=c*Math.sin(i),o.push(d.x,d.y,d.z),l.push(0,0,1),p.x=(d.x/t+1)/2,p.y=(d.y/t+1)/2,u.push(p.x,p.y)}c+=h}for(let e=0;e<i;e++){const t=e*(r+1);for(let e=0;e<r;e++){const i=e+t,n=i+r+1,s=i+r+2,o=i+1;a.push(i,n,o),a.push(n,s,o)}}this.setIndex(a),this.setAttribute("position",new tZ(o,3)),this.setAttribute("normal",new tZ(l,3)),this.setAttribute("uv",new tZ(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new sr(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class si extends t3{constructor(e=new nL([new Y(0,.5),new Y(-.5,-.5),new Y(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const r=[],i=[],n=[],s=[];let a=0,o=0;if(!1===Array.isArray(e))l(e);else for(let t=0;t<e.length;t++)l(e[t]),this.addGroup(a,o,t),a+=o,o=0;function l(e){let a=i.length/3,l=e.extractPoints(t),u=l.shape,c=l.holes;!1===n9.isClockWise(u)&&(u=u.reverse());for(let e=0,t=c.length;e<t;e++){let t=c[e];!0===n9.isClockWise(t)&&(c[e]=t.reverse())}let h=n9.triangulateShape(u,c);for(let e=0,t=c.length;e<t;e++){let t=c[e];u=u.concat(t)}for(let e=0,t=u.length;e<t;e++){let t=u[e];i.push(t.x,t.y,0),n.push(0,0,1),s.push(t.x,t.y)}for(let e=0,t=h.length;e<t;e++){let t=h[e],i=t[0]+a,n=t[1]+a,s=t[2]+a;r.push(i,n,s),o+=3}}this.setIndex(r),this.setAttribute("position",new tZ(i,3)),this.setAttribute("normal",new tZ(n,3)),this.setAttribute("uv",new tZ(s,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){let e=super.toJSON();return function(e,t){if(t.shapes=[],Array.isArray(e))for(let r=0,i=e.length;r<i;r++){let i=e[r];t.shapes.push(i.uuid)}else t.shapes.push(e.uuid);return t}(this.parameters.shapes,e)}static fromJSON(e,t){let r=[];for(let i=0,n=e.shapes.length;i<n;i++){let n=t[e.shapes[i]];r.push(n)}return new si(r,e.curveSegments)}}class sn extends t3{constructor(e=1,t=32,r=16,i=0,n=2*Math.PI,s=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:i,phiLength:n,thetaStart:s,thetaLength:a},t=Math.max(3,Math.floor(t)),r=Math.max(2,Math.floor(r));const o=Math.min(s+a,Math.PI);let l=0;const u=[],c=new Z,h=new Z,d=[],p=[],f=[],m=[];for(let d=0;d<=r;d++){const g=[],y=d/r;let x=0;0===d&&0===s?x=.5/t:d===r&&o===Math.PI&&(x=-.5/t);for(let r=0;r<=t;r++){const o=r/t;c.x=-e*Math.cos(i+o*n)*Math.sin(s+y*a),c.y=e*Math.cos(s+y*a),c.z=e*Math.sin(i+o*n)*Math.sin(s+y*a),p.push(c.x,c.y,c.z),h.copy(c).normalize(),f.push(h.x,h.y,h.z),m.push(o+x,1-y),g.push(l++)}u.push(g)}for(let e=0;e<r;e++)for(let i=0;i<t;i++){const t=u[e][i+1],n=u[e][i],a=u[e+1][i],l=u[e+1][i+1];(0!==e||s>0)&&d.push(t,n,l),(e!==r-1||o<Math.PI)&&d.push(n,a,l)}this.setIndex(d),this.setAttribute("position",new tZ(p,3)),this.setAttribute("normal",new tZ(f,3)),this.setAttribute("uv",new tZ(m,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new sn(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class ss extends nc{constructor(e=1,t=0){super([1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new ss(e.radius,e.detail)}}class sa extends t3{constructor(e=1,t=.4,r=12,i=48,n=2*Math.PI){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:r,tubularSegments:i,arc:n},r=Math.floor(r),i=Math.floor(i);const s=[],a=[],o=[],l=[],u=new Z,c=new Z,h=new Z;for(let s=0;s<=r;s++)for(let d=0;d<=i;d++){const p=d/i*n,f=s/r*Math.PI*2;c.x=(e+t*Math.cos(f))*Math.cos(p),c.y=(e+t*Math.cos(f))*Math.sin(p),c.z=t*Math.sin(f),a.push(c.x,c.y,c.z),u.x=e*Math.cos(p),u.y=e*Math.sin(p),h.subVectors(c,u).normalize(),o.push(h.x,h.y,h.z),l.push(d/i),l.push(s/r)}for(let e=1;e<=r;e++)for(let t=1;t<=i;t++){const r=(i+1)*e+t-1,n=(i+1)*(e-1)+t-1,a=(i+1)*(e-1)+t,o=(i+1)*e+t;s.push(r,n,o),s.push(n,a,o)}this.setIndex(s),this.setAttribute("position",new tZ(a,3)),this.setAttribute("normal",new tZ(o,3)),this.setAttribute("uv",new tZ(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new sa(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class so extends t3{constructor(e=1,t=.4,r=64,i=8,n=2,s=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:r,radialSegments:i,p:n,q:s},r=Math.floor(r),i=Math.floor(i);const a=[],o=[],l=[],u=[],c=new Z,h=new Z,d=new Z,p=new Z,f=new Z,m=new Z,g=new Z;for(let a=0;a<=r;++a){const x=a/r*n*Math.PI*2;y(x,n,s,e,d),y(x+.01,n,s,e,p),m.subVectors(p,d),g.addVectors(p,d),f.crossVectors(m,g),g.crossVectors(f,m),f.normalize(),g.normalize();for(let e=0;e<=i;++e){const n=e/i*Math.PI*2,s=-t*Math.cos(n),p=t*Math.sin(n);c.x=d.x+(s*g.x+p*f.x),c.y=d.y+(s*g.y+p*f.y),c.z=d.z+(s*g.z+p*f.z),o.push(c.x,c.y,c.z),h.subVectors(c,d).normalize(),l.push(h.x,h.y,h.z),u.push(a/r),u.push(e/i)}}for(let e=1;e<=r;e++)for(let t=1;t<=i;t++){const r=(i+1)*(e-1)+(t-1),n=(i+1)*e+(t-1),s=(i+1)*e+t,o=(i+1)*(e-1)+t;a.push(r,n,o),a.push(n,s,o)}function y(e,t,r,i,n){let s=Math.cos(e),a=Math.sin(e),o=r/t*e,l=Math.cos(o);n.x=i*(2+l)*.5*s,n.y=i*(2+l)*a*.5,n.z=i*Math.sin(o)*.5}this.setIndex(a),this.setAttribute("position",new tZ(o,3)),this.setAttribute("normal",new tZ(l,3)),this.setAttribute("uv",new tZ(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new so(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class sl extends t3{constructor(e=new nO(new Z(-1,-1,0),new Z(-1,1,0),new Z(1,1,0)),t=64,r=1,i=8,n=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:r,radialSegments:i,closed:n};const s=e.computeFrenetFrames(t,n);this.tangents=s.tangents,this.normals=s.normals,this.binormals=s.binormals;const a=new Z,o=new Z,l=new Y;let u=new Z;const c=[],h=[],d=[],p=[];function f(n){u=e.getPointAt(n/t,u);let l=s.normals[n],d=s.binormals[n];for(let e=0;e<=i;e++){let t=e/i*Math.PI*2,n=Math.sin(t),s=-Math.cos(t);o.x=s*l.x+n*d.x,o.y=s*l.y+n*d.y,o.z=s*l.z+n*d.z,o.normalize(),h.push(o.x,o.y,o.z),a.x=u.x+r*o.x,a.y=u.y+r*o.y,a.z=u.z+r*o.z,c.push(a.x,a.y,a.z)}}(function(){for(let e=0;e<t;e++)f(e);f(!1===n?t:0),function(){for(let e=0;e<=t;e++)for(let r=0;r<=i;r++)l.x=e/t,l.y=r/i,d.push(l.x,l.y)}(),function(){for(let e=1;e<=t;e++)for(let t=1;t<=i;t++){let r=(i+1)*(e-1)+(t-1),n=(i+1)*e+(t-1),s=(i+1)*e+t,a=(i+1)*(e-1)+t;p.push(r,n,a),p.push(n,s,a)}}()})(),this.setIndex(p),this.setAttribute("position",new tZ(c,3)),this.setAttribute("normal",new tZ(h,3)),this.setAttribute("uv",new tZ(d,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){let e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new sl(new nP[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class su extends t3{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},null!==e){const t=[],r=new Set,i=new Z,n=new Z;if(null!==e.index){const s=e.attributes.position,a=e.index;let o=e.groups;0===o.length&&(o=[{start:0,count:a.count,materialIndex:0}]);for(let e=0,l=o.length;e<l;++e){const l=o[e],u=l.start,c=l.count;for(let e=u,o=u+c;e<o;e+=3)for(let o=0;o<3;o++){const l=a.getX(e+o),u=a.getX(e+(o+1)%3);i.fromBufferAttribute(s,l),n.fromBufferAttribute(s,u),!0===sc(i,n,r)&&(t.push(i.x,i.y,i.z),t.push(n.x,n.y,n.z))}}}else{const s=e.attributes.position;for(let e=0,a=s.count/3;e<a;e++)for(let a=0;a<3;a++){const o=3*e+a,l=3*e+(a+1)%3;i.fromBufferAttribute(s,o),n.fromBufferAttribute(s,l),!0===sc(i,n,r)&&(t.push(i.x,i.y,i.z),t.push(n.x,n.y,n.z))}}this.setAttribute("position",new tZ(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function sc(e,t,r){let i=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`,n=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`;return!0!==r.has(i)&&!0!==r.has(n)&&(r.add(i),r.add(n),!0)}var sh=Object.freeze({__proto__:null,BoxGeometry:rl,CapsuleGeometry:na,CircleGeometry:no,ConeGeometry:nu,CylinderGeometry:nl,DodecahedronGeometry:nh,EdgesGeometry:ng,ExtrudeGeometry:n8,IcosahedronGeometry:n5,LatheGeometry:n7,OctahedronGeometry:se,PlaneGeometry:st,PolyhedronGeometry:nc,RingGeometry:sr,ShapeGeometry:si,SphereGeometry:sn,TetrahedronGeometry:ss,TorusGeometry:sa,TorusKnotGeometry:so,TubeGeometry:sl,WireframeGeometry:su});class sd extends tN{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new tT(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class sp extends rp{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class sf extends tN{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new tT(0xffffff),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new tT(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Y(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new e9,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class sm extends sf{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Y(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return U(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(e){this.ior=(1+.4*e)/(1-.4*e)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new tT(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new tT(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new tT(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class sg extends tN{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new tT(0xffffff),this.specular=new tT(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new tT(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Y(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new e9,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class sy extends tN{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new tT(0xffffff),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new tT(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Y(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class sx extends tN{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Y(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class sv extends tN{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new tT(0xffffff),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new tT(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Y(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new e9,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class sb extends tN{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=3200,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class sw extends tN{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class s_ extends tN{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new tT(0xffffff),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Y(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this.fog=e.fog,this}}class sS extends iL{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function sk(e,t){return e&&e.constructor!==t?"number"==typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e):e}function sM(e){let t=e.length,r=Array(t);for(let e=0;e!==t;++e)r[e]=e;return r.sort(function(t,r){return e[t]-e[r]}),r}function sC(e,t,r){let i=e.length,n=new e.constructor(i);for(let s=0,a=0;a!==i;++s){let i=r[s]*t;for(let r=0;r!==t;++r)n[a++]=e[i+r]}return n}function sA(e,t,r,i){let n=1,s=e[0];for(;void 0!==s&&void 0===s[i];)s=e[n++];if(void 0===s)return;let a=s[i];if(void 0!==a)if(Array.isArray(a))do void 0!==(a=s[i])&&(t.push(s.time),r.push(...a)),s=e[n++];while(void 0!==s)else if(void 0!==a.toArray)do void 0!==(a=s[i])&&(t.push(s.time),a.toArray(r,r.length)),s=e[n++];while(void 0!==s)else do void 0!==(a=s[i])&&(t.push(s.time),r.push(a)),s=e[n++];while(void 0!==s)}class sI{static convertArray(e,t){return sk(e,t)}static isTypedArray(e){return k(e)}static getKeyframeOrder(e){return sM(e)}static sortedArray(e,t,r){return sC(e,t,r)}static flattenJSON(e,t,r,i){sA(e,t,r,i)}static subclip(e,t,r,i,n=30){return function(e,t,r,i,n=30){let s=e.clone();s.name=t;let a=[];for(let e=0;e<s.tracks.length;++e){let t=s.tracks[e],o=t.getValueSize(),l=[],u=[];for(let e=0;e<t.times.length;++e){let s=t.times[e]*n;if(!(s<r)&&!(s>=i)){l.push(t.times[e]);for(let r=0;r<o;++r)u.push(t.values[e*o+r])}}0!==l.length&&(t.times=sk(l,t.times.constructor),t.values=sk(u,t.values.constructor),a.push(t))}s.tracks=a;let o=1/0;for(let e=0;e<s.tracks.length;++e)o>s.tracks[e].times[0]&&(o=s.tracks[e].times[0]);for(let e=0;e<s.tracks.length;++e)s.tracks[e].shift(-1*o);return s.resetDuration(),s}(e,t,r,i,n)}static makeClipAdditive(e,t=0,r=e,i=30){return function(e,t=0,r=e,i=30){i<=0&&(i=30);let n=r.tracks.length,s=t/i;for(let t=0;t<n;++t){let i,n=r.tracks[t],a=n.ValueTypeName;if("bool"===a||"string"===a)continue;let o=e.tracks.find(function(e){return e.name===n.name&&e.ValueTypeName===a});if(void 0===o)continue;let l=0,u=n.getValueSize();n.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(l=u/3);let c=0,h=o.getValueSize();o.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(c=h/3);let d=n.times.length-1;if(s<=n.times[0]){let e=l,t=u-l;i=n.values.slice(e,t)}else if(s>=n.times[d]){let e=d*u+l,t=e+u-l;i=n.values.slice(e,t)}else{let e=n.createInterpolant(),t=l,r=u-l;e.evaluate(s),i=e.resultBuffer.slice(t,r)}"quaternion"===a&&new X().fromArray(i).normalize().conjugate().toArray(i);let p=o.times.length;for(let e=0;e<p;++e){let t=e*h+c;if("quaternion"===a)X.multiplyQuaternionsFlat(o.values,t,i,0,o.values,t);else{let e=h-2*c;for(let r=0;r<e;++r)o.values[t+r]-=i[r]}}}return e.blendMode=2501,e}(e,t,r,i)}}class sT{constructor(e,t,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==i?i:new t.constructor(r),this.sampleValues=t,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){let t=this.parameterPositions,r=this._cachedIndex,i=t[r],n=t[r-1];e:{t:{let s;r:{i:if(!(e<i)){for(let s=r+2;;){if(void 0===i){if(e<n)break i;return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===s)break;if(n=i,e<(i=t[++r]))break t}s=t.length;break r}if(!(e>=n)){let a=t[1];e<a&&(r=2,n=a);for(let s=r-2;;){if(void 0===n)return this._cachedIndex=0,this.copySampleValue_(0);if(r===s)break;if(i=n,e>=(n=t[--r-1]))break t}s=r,r=0;break r}break e}for(;r<s;){let i=r+s>>>1;e<t[i]?s=i:r=i+1}if(i=t[r],void 0===(n=t[r-1]))return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===i)return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,n,i)}return this.interpolate_(r,n,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){let t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,n=e*i;for(let e=0;e!==i;++e)t[e]=r[n+e];return t}interpolate_(){throw Error("call to abstract method")}intervalChanged_(){}}class sz extends sT{constructor(e,t,r,i){super(e,t,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:2400,endingEnd:2400}}intervalChanged_(e,t,r){let i=this.parameterPositions,n=e-2,s=e+1,a=i[n],o=i[s];if(void 0===a)switch(this.getSettings_().endingStart){case 2401:n=e,a=2*t-r;break;case 2402:n=i.length-2,a=t+i[n]-i[n+1];break;default:n=e,a=r}if(void 0===o)switch(this.getSettings_().endingEnd){case 2401:s=e,o=2*r-t;break;case 2402:s=1,o=r+i[1]-i[0];break;default:s=e-1,o=t}let l=(r-t)*.5,u=this.valueSize;this._weightPrev=l/(t-a),this._weightNext=l/(o-r),this._offsetPrev=n*u,this._offsetNext=s*u}interpolate_(e,t,r,i){let n=this.resultBuffer,s=this.sampleValues,a=this.valueSize,o=e*a,l=o-a,u=this._offsetPrev,c=this._offsetNext,h=this._weightPrev,d=this._weightNext,p=(r-t)/(i-t),f=p*p,m=f*p,g=-h*m+2*h*f-h*p,y=(1+h)*m+(-1.5-2*h)*f+(-.5+h)*p+1,x=(-1-d)*m+(1.5+d)*f+.5*p,v=d*m-d*f;for(let e=0;e!==a;++e)n[e]=g*s[u+e]+y*s[l+e]+x*s[o+e]+v*s[c+e];return n}}class sE extends sT{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){let n=this.resultBuffer,s=this.sampleValues,a=this.valueSize,o=e*a,l=o-a,u=(r-t)/(i-t),c=1-u;for(let e=0;e!==a;++e)n[e]=s[l+e]*c+s[o+e]*u;return n}}class sN extends sT{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class sj{constructor(e,t,r,i){if(void 0===e)throw Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=sk(t,this.TimeBufferType),this.values=sk(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){let t,r=e.constructor;if(r.toJSON!==this.toJSON)t=r.toJSON(e);else{t={name:e.name,times:sk(e.times,Array),values:sk(e.values,Array)};let r=e.getInterpolation();r!==e.DefaultInterpolation&&(t.interpolation=r)}return t.type=e.ValueTypeName,t}InterpolantFactoryMethodDiscrete(e){return new sN(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new sE(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new sz(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case 2300:t=this.InterpolantFactoryMethodDiscrete;break;case 2301:t=this.InterpolantFactoryMethodLinear;break;case 2302:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){let t="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw Error(t);return N("KeyframeTrack:",t),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}}getValueSize(){return this.values.length/this.times.length}shift(e){if(0!==e){let t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]+=e}return this}scale(e){if(1!==e){let t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]*=e}return this}trim(e,t){let r=this.times,i=r.length,n=0,s=i-1;for(;n!==i&&r[n]<e;)++n;for(;-1!==s&&r[s]>t;)--s;if(++s,0!==n||s!==i){n>=s&&(n=(s=Math.max(s,1))-1);let e=this.getValueSize();this.times=r.slice(n,s),this.values=this.values.slice(n*e,s*e)}return this}validate(){let e=!0,t=this.getValueSize();t-Math.floor(t)!=0&&(j("KeyframeTrack: Invalid value size in track.",this),e=!1);let r=this.times,i=this.values,n=r.length;0===n&&(j("KeyframeTrack: Track is empty.",this),e=!1);let s=null;for(let t=0;t!==n;t++){let i=r[t];if("number"==typeof i&&isNaN(i)){j("KeyframeTrack: Time is not a valid number.",this,t,i),e=!1;break}if(null!==s&&s>i){j("KeyframeTrack: Out of order keys.",this,t,i,s),e=!1;break}s=i}if(void 0!==i&&k(i))for(let t=0,r=i.length;t!==r;++t){let r=i[t];if(isNaN(r)){j("KeyframeTrack: Value is not a valid number.",this,t,r),e=!1;break}}return e}optimize(){let e=this.times.slice(),t=this.values.slice(),r=this.getValueSize(),i=2302===this.getInterpolation(),n=e.length-1,s=1;for(let a=1;a<n;++a){let n=!1,o=e[a];if(o!==e[a+1]&&(1!==a||o!==e[0]))if(i)n=!0;else{let e=a*r,i=e-r,s=e+r;for(let a=0;a!==r;++a){let r=t[e+a];if(r!==t[i+a]||r!==t[s+a]){n=!0;break}}}if(n){if(a!==s){e[s]=e[a];let i=a*r,n=s*r;for(let e=0;e!==r;++e)t[n+e]=t[i+e]}++s}}if(n>0){e[s]=e[n];for(let e=n*r,i=s*r,a=0;a!==r;++a)t[i+a]=t[e+a];++s}return s!==e.length?(this.times=e.slice(0,s),this.values=t.slice(0,s*r)):(this.times=e,this.values=t),this}clone(){let e=this.times.slice(),t=this.values.slice(),r=new this.constructor(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}sj.prototype.ValueTypeName="",sj.prototype.TimeBufferType=Float32Array,sj.prototype.ValueBufferType=Float32Array,sj.prototype.DefaultInterpolation=2301;class sO extends sj{constructor(e,t,r){super(e,t,r)}}sO.prototype.ValueTypeName="bool",sO.prototype.ValueBufferType=Array,sO.prototype.DefaultInterpolation=2300,sO.prototype.InterpolantFactoryMethodLinear=void 0,sO.prototype.InterpolantFactoryMethodSmooth=void 0;class sD extends sj{constructor(e,t,r,i){super(e,t,r,i)}}sD.prototype.ValueTypeName="color";class sP extends sj{constructor(e,t,r,i){super(e,t,r,i)}}sP.prototype.ValueTypeName="number";class sR extends sT{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){let n=this.resultBuffer,s=this.sampleValues,a=this.valueSize,o=(r-t)/(i-t),l=e*a;for(let e=l+a;l!==e;l+=4)X.slerpFlat(n,0,s,l-a,s,l,o);return n}}class sB extends sj{constructor(e,t,r,i){super(e,t,r,i)}InterpolantFactoryMethodLinear(e){return new sR(this.times,this.values,this.getValueSize(),e)}}sB.prototype.ValueTypeName="quaternion",sB.prototype.InterpolantFactoryMethodSmooth=void 0;class sL extends sj{constructor(e,t,r){super(e,t,r)}}sL.prototype.ValueTypeName="string",sL.prototype.ValueBufferType=Array,sL.prototype.DefaultInterpolation=2300,sL.prototype.InterpolantFactoryMethodLinear=void 0,sL.prototype.InterpolantFactoryMethodSmooth=void 0;class sF extends sj{constructor(e,t,r,i){super(e,t,r,i)}}sF.prototype.ValueTypeName="vector";class sV{constructor(e="",t=-1,r=[],i=2500){this.name=e,this.tracks=r,this.duration=t,this.blendMode=i,this.uuid=V(),this.userData={},this.duration<0&&this.resetDuration()}static parse(e){let t=[],r=e.tracks,i=1/(e.fps||1);for(let e=0,n=r.length;e!==n;++e)t.push((function(e){if(void 0===e.type)throw Error("THREE.KeyframeTrack: track type undefined, can not parse");let t=function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return sP;case"vector":case"vector2":case"vector3":case"vector4":return sF;case"color":return sD;case"quaternion":return sB;case"bool":case"boolean":return sO;case"string":return sL}throw Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}(e.type);if(void 0===e.times){let t=[],r=[];sA(e.keys,t,r,"value"),e.times=t,e.values=r}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)})(r[e]).scale(i));let n=new this(e.name,e.duration,t,e.blendMode);return n.uuid=e.uuid,n.userData=JSON.parse(e.userData||"{}"),n}static toJSON(e){let t=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode,userData:JSON.stringify(e.userData)};for(let e=0,i=r.length;e!==i;++e)t.push(sj.toJSON(r[e]));return i}static CreateFromMorphTargetSequence(e,t,r,i){let n=t.length,s=[];for(let e=0;e<n;e++){let a=[],o=[];a.push((e+n-1)%n,e,(e+1)%n),o.push(0,1,0);let l=sM(a);a=sC(a,1,l),o=sC(o,1,l),i||0!==a[0]||(a.push(n),o.push(o[0])),s.push(new sP(".morphTargetInfluences["+t[e].name+"]",a,o).scale(1/r))}return new this(e,-1,s)}static findByName(e,t){let r=e;Array.isArray(e)||(r=e.geometry&&e.geometry.animations||e.animations);for(let e=0;e<r.length;e++)if(r[e].name===t)return r[e];return null}static CreateClipsFromMorphTargetSequences(e,t,r){let i={},n=/^([\w-]*?)([\d]+)$/;for(let t=0,r=e.length;t<r;t++){let r=e[t],s=r.name.match(n);if(s&&s.length>1){let e=s[1],t=i[e];t||(i[e]=t=[]),t.push(r)}}let s=[];for(let e in i)s.push(this.CreateFromMorphTargetSequence(e,i[e],t,r));return s}static parseAnimation(e,t){if(N("AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return j("AnimationClip: No animation in JSONLoader data."),null;let r=function(e,t,r,i,n){if(0!==r.length){let s=[],a=[];sA(r,s,a,i),0!==s.length&&n.push(new e(t,s,a))}},i=[],n=e.name||"default",s=e.fps||30,a=e.blendMode,o=e.length||-1,l=e.hierarchy||[];for(let e=0;e<l.length;e++){let n=l[e].keys;if(n&&0!==n.length)if(n[0].morphTargets){let e,t={};for(e=0;e<n.length;e++)if(n[e].morphTargets)for(let r=0;r<n[e].morphTargets.length;r++)t[n[e].morphTargets[r]]=-1;for(let r in t){let t=[],s=[];for(let i=0;i!==n[e].morphTargets.length;++i){let i=n[e];t.push(i.time),s.push(+(i.morphTarget===r))}i.push(new sP(".morphTargetInfluence["+r+"]",t,s))}o=t.length*s}else{let s=".bones["+t[e].name+"]";r(sF,s+".position",n,"pos",i),r(sB,s+".quaternion",n,"rot",i),r(sF,s+".scale",n,"scl",i)}}return 0===i.length?null:new this(n,o,i,a)}resetDuration(){let e=this.tracks,t=0;for(let r=0,i=e.length;r!==i;++r){let e=this.tracks[r];t=Math.max(t,e.times[e.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){let e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());let t=new this.constructor(this.name,this.duration,e,this.blendMode);return t.userData=JSON.parse(JSON.stringify(this.userData)),t}toJSON(){return this.constructor.toJSON(this)}}let sU={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}};class s${constructor(e,t,r){let i;const n=this;let s=!1,a=0,o=0;const l=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=r,this._abortController=null,this.itemStart=function(e){o++,!1===s&&void 0!==n.onStart&&n.onStart(e,a,o),s=!0},this.itemEnd=function(e){a++,void 0!==n.onProgress&&n.onProgress(e,a,o),a===o&&(s=!1,void 0!==n.onLoad&&n.onLoad())},this.itemError=function(e){void 0!==n.onError&&n.onError(e)},this.resolveURL=function(e){return i?i(e):e},this.setURLModifier=function(e){return i=e,this},this.addHandler=function(e,t){return l.push(e,t),this},this.removeHandler=function(e){let t=l.indexOf(e);return -1!==t&&l.splice(t,2),this},this.getHandler=function(e){for(let t=0,r=l.length;t<r;t+=2){let r=l[t],i=l[t+1];if(r.global&&(r.lastIndex=0),r.test(e))return i}return null},this.abort=function(){return this.abortController.abort(),this._abortController=null,this}}get abortController(){return this._abortController||(this._abortController=new AbortController),this._abortController}}let sW=new s$;class sG{constructor(e){this.manager=void 0!==e?e:sW,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){let r=this;return new Promise(function(i,n){r.load(e,i,t,n)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}abort(){return this}}sG.DEFAULT_MATERIAL_NAME="__DEFAULT";let sH={};class sq extends Error{constructor(e,t){super(e),this.response=t}}class sY extends sG{constructor(e){super(e),this.mimeType="",this.responseType="",this._abortController=new AbortController}load(e,t,r,i){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);let n=sU.get(`file:${e}`);if(void 0!==n)return this.manager.itemStart(e),setTimeout(()=>{t&&t(n),this.manager.itemEnd(e)},0),n;if(void 0!==sH[e])return void sH[e].push({onLoad:t,onProgress:r,onError:i});sH[e]=[],sH[e].push({onLoad:t,onProgress:r,onError:i});let s=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin",signal:"function"==typeof AbortSignal.any?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal}),a=this.mimeType,o=this.responseType;fetch(s).then(t=>{if(200===t.status||0===t.status){if(0===t.status&&N("FileLoader: HTTP Status 0 received."),"undefined"==typeof ReadableStream||void 0===t.body||void 0===t.body.getReader)return t;let r=sH[e],i=t.body.getReader(),n=t.headers.get("X-File-Size")||t.headers.get("Content-Length"),s=n?parseInt(n):0,a=0!==s,o=0;return new Response(new ReadableStream({start(e){!function t(){i.read().then(({done:i,value:n})=>{if(i)e.close();else{let i=new ProgressEvent("progress",{lengthComputable:a,loaded:o+=n.byteLength,total:s});for(let e=0,t=r.length;e<t;e++){let t=r[e];t.onProgress&&t.onProgress(i)}e.enqueue(n),t()}},t=>{e.error(t)})}()}}))}throw new sq(`fetch for "${t.url}" responded with ${t.status}: ${t.statusText}`,t)}).then(e=>{switch(o){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"document":return e.text().then(e=>new DOMParser().parseFromString(e,a));case"json":return e.json();default:if(""===a)return e.text();{let t=/charset="?([^;"\s]*)"?/i.exec(a),r=new TextDecoder(t&&t[1]?t[1].toLowerCase():void 0);return e.arrayBuffer().then(e=>r.decode(e))}}}).then(t=>{sU.add(`file:${e}`,t);let r=sH[e];delete sH[e];for(let e=0,i=r.length;e<i;e++){let i=r[e];i.onLoad&&i.onLoad(t)}}).catch(t=>{let r=sH[e];if(void 0===r)throw this.manager.itemError(e),t;delete sH[e];for(let e=0,i=r.length;e<i;e++){let i=r[e];i.onError&&i.onError(t)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}class sX extends sG{constructor(e){super(e)}load(e,t,r,i){let n=this,s=new sY(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(r){try{t(n.parse(JSON.parse(r)))}catch(t){i?i(t):j(t),n.manager.itemError(e)}},r,i)}parse(e){let t=[];for(let r=0;r<e.length;r++){let i=sV.parse(e[r]);t.push(i)}return t}}class sZ extends sG{constructor(e){super(e)}load(e,t,r,i){let n=this,s=[],a=new i7,o=new sY(this.manager);o.setPath(this.path),o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setWithCredentials(n.withCredentials);let l=0;if(Array.isArray(e))for(let u=0,c=e.length;u<c;++u)!function(u){o.load(e[u],function(e){let r=n.parse(e,!0);s[u]={width:r.width,height:r.height,format:r.format,mipmaps:r.mipmaps},6===(l+=1)&&(1===r.mipmapCount&&(a.minFilter=1006),a.image=s,a.format=r.format,a.needsUpdate=!0,t&&t(a))},r,i)}(u);else o.load(e,function(e){let r=n.parse(e,!0);if(r.isCubemap){let e=r.mipmaps.length/r.mipmapCount;for(let t=0;t<e;t++){s[t]={mipmaps:[]};for(let e=0;e<r.mipmapCount;e++)s[t].mipmaps.push(r.mipmaps[t*r.mipmapCount+e]),s[t].format=r.format,s[t].width=r.width,s[t].height=r.height}a.image=s}else a.image.width=r.width,a.image.height=r.height,a.mipmaps=r.mipmaps;1===r.mipmapCount&&(a.minFilter=1006),a.format=r.format,a.needsUpdate=!0,t&&t(a)},r,i);return a}}let sJ=new WeakMap;class sK extends sG{constructor(e){super(e)}load(e,t,r,i){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);let n=this,s=sU.get(`image:${e}`);if(void 0!==s){if(!0===s.complete)n.manager.itemStart(e),setTimeout(function(){t&&t(s),n.manager.itemEnd(e)},0);else{let e=sJ.get(s);void 0===e&&(e=[],sJ.set(s,e)),e.push({onLoad:t,onError:i})}return s}let a=M("img");function o(){u(),t&&t(this);let r=sJ.get(this)||[];for(let e=0;e<r.length;e++){let t=r[e];t.onLoad&&t.onLoad(this)}sJ.delete(this),n.manager.itemEnd(e)}function l(t){u(),i&&i(t),sU.remove(`image:${e}`);let r=sJ.get(this)||[];for(let e=0;e<r.length;e++){let i=r[e];i.onError&&i.onError(t)}sJ.delete(this),n.manager.itemError(e),n.manager.itemEnd(e)}function u(){a.removeEventListener("load",o,!1),a.removeEventListener("error",l,!1)}return a.addEventListener("load",o,!1),a.addEventListener("error",l,!1),"data:"!==e.slice(0,5)&&void 0!==this.crossOrigin&&(a.crossOrigin=this.crossOrigin),sU.add(`image:${e}`,a),n.manager.itemStart(e),a.src=e,a}}class sQ extends sG{constructor(e){super(e)}load(e,t,r,i){let n=new rb;n.colorSpace=f;let s=new sK(this.manager);s.setCrossOrigin(this.crossOrigin),s.setPath(this.path);let a=0;for(let r=0;r<e.length;++r)!function(r){s.load(e[r],function(e){n.images[r]=e,6==++a&&(n.needsUpdate=!0,t&&t(n))},void 0,i)}(r);return n}}class s1 extends sG{constructor(e){super(e)}load(e,t,r,i){let n=this,s=new r8,a=new sY(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(n.withCredentials),a.load(e,function(e){let r;try{r=n.parse(e)}catch(e){if(void 0===i)return void e(e);i(e)}void 0!==r.image?s.image=r.image:void 0!==r.data&&(s.image.width=r.width,s.image.height=r.height,s.image.data=r.data),s.wrapS=void 0!==r.wrapS?r.wrapS:1001,s.wrapT=void 0!==r.wrapT?r.wrapT:1001,s.magFilter=void 0!==r.magFilter?r.magFilter:1006,s.minFilter=void 0!==r.minFilter?r.minFilter:1006,s.anisotropy=void 0!==r.anisotropy?r.anisotropy:1,void 0!==r.colorSpace&&(s.colorSpace=r.colorSpace),void 0!==r.flipY&&(s.flipY=r.flipY),void 0!==r.format&&(s.format=r.format),void 0!==r.type&&(s.type=r.type),void 0!==r.mipmaps&&(s.mipmaps=r.mipmaps,s.minFilter=1008),1===r.mipmapCount&&(s.minFilter=1006),void 0!==r.generateMipmaps&&(s.generateMipmaps=r.generateMipmaps),s.needsUpdate=!0,t&&t(s,r)},r,i),s}}class s0 extends sG{constructor(e){super(e)}load(e,t,r,i){let n=new ed,s=new sK(this.manager);return s.setCrossOrigin(this.crossOrigin),s.setPath(this.path),s.load(e,function(e){n.image=e,n.needsUpdate=!0,void 0!==t&&t(n)},r,i),n}}class s2 extends tc{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new tT(e),this.intensity=t}dispose(){this.dispatchEvent({type:"dispose"})}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){let t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,t}}class s9 extends s2{constructor(e,t,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(tc.DEFAULT_UP),this.updateMatrix(),this.groundColor=new tT(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}toJSON(e){let t=super.toJSON(e);return t.object.groundColor=this.groundColor.getHex(),t}}let s3=new eq,s4=new Z,s8=new Z;class s6{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Y(512,512),this.mapType=1009,this.map=null,this.mapPass=null,this.matrix=new eq,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new ix,this._frameExtents=new Y(1,1),this._viewportCount=1,this._viewports=[new ep(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){let t=this.camera,r=this.matrix;s4.setFromMatrixPosition(e.matrixWorld),t.position.copy(s4),s8.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(s8),t.updateMatrixWorld(),s3.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(s3,t.coordinateSystem,t.reversedDepth),t.reversedDepth?r.set(.5,0,0,.5,0,.5,0,.5,0,0,1,0,0,0,0,1):r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(s3)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){let e={};return 1!==this.intensity&&(e.intensity=this.intensity),0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),(512!==this.mapSize.x||512!==this.mapSize.y)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class s5 extends s6{constructor(){super(new rx(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1,this.aspect=1}updateMatrices(e){let t=this.camera,r=2*F*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height*this.aspect,n=e.distance||t.far;(r!==t.fov||i!==t.aspect||n!==t.far)&&(t.fov=r,t.aspect=i,t.far=n,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class s7 extends s2{constructor(e,t,r=0,i=Math.PI/3,n=0,s=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(tc.DEFAULT_UP),this.updateMatrix(),this.target=new tc,this.distance=r,this.angle=i,this.penumbra=n,this.decay=s,this.map=null,this.shadow=new s5}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){super.dispose(),this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.map=e.map,this.shadow=e.shadow.clone(),this}toJSON(e){let t=super.toJSON(e);return t.object.distance=this.distance,t.object.angle=this.angle,t.object.decay=this.decay,t.object.penumbra=this.penumbra,t.object.target=this.target.uuid,this.map&&this.map.isTexture&&(t.object.map=this.map.toJSON(e).uuid),t.object.shadow=this.shadow.toJSON(),t}}class ae extends s6{constructor(){super(new rx(90,1,.5,500)),this.isPointLightShadow=!0}}class at extends s2{constructor(e,t,r=0,i=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new ae}get power(){return 4*this.intensity*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){super.dispose(),this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}toJSON(e){let t=super.toJSON(e);return t.object.distance=this.distance,t.object.decay=this.decay,t.object.shadow=this.shadow.toJSON(),t}}class ar extends rf{constructor(e=-1,t=1,r=1,i=-1,n=.1,s=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=r,this.bottom=i,this.near=n,this.far=s,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}setViewOffset(e,t,r,i,n,s){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=n,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){let e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2,n=r-e,s=r+e,a=i+t,o=i-t;if(null!==this.view&&this.view.enabled){let e=(this.right-this.left)/this.view.fullWidth/this.zoom,t=(this.top-this.bottom)/this.view.fullHeight/this.zoom;n+=e*this.view.offsetX,s=n+e*this.view.width,a-=t*this.view.offsetY,o=a-t*this.view.height}this.projectionMatrix.makeOrthographic(n,s,a,o,this.near,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){let t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}class ai extends s6{constructor(){super(new ar(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class an extends s2{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(tc.DEFAULT_UP),this.updateMatrix(),this.target=new tc,this.shadow=new ai}dispose(){super.dispose(),this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}toJSON(e){let t=super.toJSON(e);return t.object.shadow=this.shadow.toJSON(),t.object.target=this.target.uuid,t}}class as extends s2{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class aa extends s2{constructor(e,t,r=10,i=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){let t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class ao{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new Z)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){let r=e.x,i=e.y,n=e.z,s=this.coefficients;return t.copy(s[0]).multiplyScalar(.282095),t.addScaledVector(s[1],.488603*i),t.addScaledVector(s[2],.488603*n),t.addScaledVector(s[3],.488603*r),t.addScaledVector(s[4],r*i*1.092548),t.addScaledVector(s[5],i*n*1.092548),t.addScaledVector(s[6],.315392*(3*n*n-1)),t.addScaledVector(s[7],r*n*1.092548),t.addScaledVector(s[8],.546274*(r*r-i*i)),t}getIrradianceAt(e,t){let r=e.x,i=e.y,n=e.z,s=this.coefficients;return t.copy(s[0]).multiplyScalar(.886227),t.addScaledVector(s[1],1.023328*i),t.addScaledVector(s[2],1.023328*n),t.addScaledVector(s[3],1.023328*r),t.addScaledVector(s[4],.858086*r*i),t.addScaledVector(s[5],.858086*i*n),t.addScaledVector(s[6],.743125*n*n-.247708),t.addScaledVector(s[7],.858086*r*n),t.addScaledVector(s[8],.429043*(r*r-i*i)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){let r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,t+3*i);return this}toArray(e=[],t=0){let r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,t+3*i);return e}static getBasisAt(e,t){let r=e.x,i=e.y,n=e.z;t[0]=.282095,t[1]=.488603*i,t[2]=.488603*n,t[3]=.488603*r,t[4]=1.092548*r*i,t[5]=1.092548*i*n,t[6]=.315392*(3*n*n-1),t[7]=1.092548*r*n,t[8]=.546274*(r*r-i*i)}}class al extends s2{constructor(e=new ao,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}toJSON(e){let t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class au extends sG{constructor(e){super(e),this.textures={}}load(e,t,r,i){let n=this,s=new sY(n.manager);s.setPath(n.path),s.setRequestHeader(n.requestHeader),s.setWithCredentials(n.withCredentials),s.load(e,function(r){try{t(n.parse(JSON.parse(r)))}catch(t){i?i(t):j(t),n.manager.itemError(e)}},r,i)}parse(e){let t=this.textures;function r(e){return void 0===t[e]&&N("MaterialLoader: Undefined texture",e),t[e]}let i=this.createMaterialFromType(e.type);if(void 0!==e.uuid&&(i.uuid=e.uuid),void 0!==e.name&&(i.name=e.name),void 0!==e.color&&void 0!==i.color&&i.color.setHex(e.color),void 0!==e.roughness&&(i.roughness=e.roughness),void 0!==e.metalness&&(i.metalness=e.metalness),void 0!==e.sheen&&(i.sheen=e.sheen),void 0!==e.sheenColor&&(i.sheenColor=new tT().setHex(e.sheenColor)),void 0!==e.sheenRoughness&&(i.sheenRoughness=e.sheenRoughness),void 0!==e.emissive&&void 0!==i.emissive&&i.emissive.setHex(e.emissive),void 0!==e.specular&&void 0!==i.specular&&i.specular.setHex(e.specular),void 0!==e.specularIntensity&&(i.specularIntensity=e.specularIntensity),void 0!==e.specularColor&&void 0!==i.specularColor&&i.specularColor.setHex(e.specularColor),void 0!==e.shininess&&(i.shininess=e.shininess),void 0!==e.clearcoat&&(i.clearcoat=e.clearcoat),void 0!==e.clearcoatRoughness&&(i.clearcoatRoughness=e.clearcoatRoughness),void 0!==e.dispersion&&(i.dispersion=e.dispersion),void 0!==e.iridescence&&(i.iridescence=e.iridescence),void 0!==e.iridescenceIOR&&(i.iridescenceIOR=e.iridescenceIOR),void 0!==e.iridescenceThicknessRange&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),void 0!==e.transmission&&(i.transmission=e.transmission),void 0!==e.thickness&&(i.thickness=e.thickness),void 0!==e.attenuationDistance&&(i.attenuationDistance=e.attenuationDistance),void 0!==e.attenuationColor&&void 0!==i.attenuationColor&&i.attenuationColor.setHex(e.attenuationColor),void 0!==e.anisotropy&&(i.anisotropy=e.anisotropy),void 0!==e.anisotropyRotation&&(i.anisotropyRotation=e.anisotropyRotation),void 0!==e.fog&&(i.fog=e.fog),void 0!==e.flatShading&&(i.flatShading=e.flatShading),void 0!==e.blending&&(i.blending=e.blending),void 0!==e.combine&&(i.combine=e.combine),void 0!==e.side&&(i.side=e.side),void 0!==e.shadowSide&&(i.shadowSide=e.shadowSide),void 0!==e.opacity&&(i.opacity=e.opacity),void 0!==e.transparent&&(i.transparent=e.transparent),void 0!==e.alphaTest&&(i.alphaTest=e.alphaTest),void 0!==e.alphaHash&&(i.alphaHash=e.alphaHash),void 0!==e.depthFunc&&(i.depthFunc=e.depthFunc),void 0!==e.depthTest&&(i.depthTest=e.depthTest),void 0!==e.depthWrite&&(i.depthWrite=e.depthWrite),void 0!==e.colorWrite&&(i.colorWrite=e.colorWrite),void 0!==e.blendSrc&&(i.blendSrc=e.blendSrc),void 0!==e.blendDst&&(i.blendDst=e.blendDst),void 0!==e.blendEquation&&(i.blendEquation=e.blendEquation),void 0!==e.blendSrcAlpha&&(i.blendSrcAlpha=e.blendSrcAlpha),void 0!==e.blendDstAlpha&&(i.blendDstAlpha=e.blendDstAlpha),void 0!==e.blendEquationAlpha&&(i.blendEquationAlpha=e.blendEquationAlpha),void 0!==e.blendColor&&void 0!==i.blendColor&&i.blendColor.setHex(e.blendColor),void 0!==e.blendAlpha&&(i.blendAlpha=e.blendAlpha),void 0!==e.stencilWriteMask&&(i.stencilWriteMask=e.stencilWriteMask),void 0!==e.stencilFunc&&(i.stencilFunc=e.stencilFunc),void 0!==e.stencilRef&&(i.stencilRef=e.stencilRef),void 0!==e.stencilFuncMask&&(i.stencilFuncMask=e.stencilFuncMask),void 0!==e.stencilFail&&(i.stencilFail=e.stencilFail),void 0!==e.stencilZFail&&(i.stencilZFail=e.stencilZFail),void 0!==e.stencilZPass&&(i.stencilZPass=e.stencilZPass),void 0!==e.stencilWrite&&(i.stencilWrite=e.stencilWrite),void 0!==e.wireframe&&(i.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(i.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.wireframeLinecap&&(i.wireframeLinecap=e.wireframeLinecap),void 0!==e.wireframeLinejoin&&(i.wireframeLinejoin=e.wireframeLinejoin),void 0!==e.rotation&&(i.rotation=e.rotation),void 0!==e.linewidth&&(i.linewidth=e.linewidth),void 0!==e.dashSize&&(i.dashSize=e.dashSize),void 0!==e.gapSize&&(i.gapSize=e.gapSize),void 0!==e.scale&&(i.scale=e.scale),void 0!==e.polygonOffset&&(i.polygonOffset=e.polygonOffset),void 0!==e.polygonOffsetFactor&&(i.polygonOffsetFactor=e.polygonOffsetFactor),void 0!==e.polygonOffsetUnits&&(i.polygonOffsetUnits=e.polygonOffsetUnits),void 0!==e.dithering&&(i.dithering=e.dithering),void 0!==e.alphaToCoverage&&(i.alphaToCoverage=e.alphaToCoverage),void 0!==e.premultipliedAlpha&&(i.premultipliedAlpha=e.premultipliedAlpha),void 0!==e.forceSinglePass&&(i.forceSinglePass=e.forceSinglePass),void 0!==e.allowOverride&&(i.allowOverride=e.allowOverride),void 0!==e.visible&&(i.visible=e.visible),void 0!==e.toneMapped&&(i.toneMapped=e.toneMapped),void 0!==e.userData&&(i.userData=e.userData),void 0!==e.vertexColors&&("number"==typeof e.vertexColors?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),void 0!==e.uniforms)for(let t in e.uniforms){let n=e.uniforms[t];switch(i.uniforms[t]={},n.type){case"t":i.uniforms[t].value=r(n.value);break;case"c":i.uniforms[t].value=new tT().setHex(n.value);break;case"v2":i.uniforms[t].value=new Y().fromArray(n.value);break;case"v3":i.uniforms[t].value=new Z().fromArray(n.value);break;case"v4":i.uniforms[t].value=new ep().fromArray(n.value);break;case"m3":i.uniforms[t].value=new Q().fromArray(n.value);break;case"m4":i.uniforms[t].value=new eq().fromArray(n.value);break;default:i.uniforms[t].value=n.value}}if(void 0!==e.defines&&(i.defines=e.defines),void 0!==e.vertexShader&&(i.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(i.fragmentShader=e.fragmentShader),void 0!==e.glslVersion&&(i.glslVersion=e.glslVersion),void 0!==e.extensions)for(let t in e.extensions)i.extensions[t]=e.extensions[t];if(void 0!==e.lights&&(i.lights=e.lights),void 0!==e.clipping&&(i.clipping=e.clipping),void 0!==e.size&&(i.size=e.size),void 0!==e.sizeAttenuation&&(i.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(i.map=r(e.map)),void 0!==e.matcap&&(i.matcap=r(e.matcap)),void 0!==e.alphaMap&&(i.alphaMap=r(e.alphaMap)),void 0!==e.bumpMap&&(i.bumpMap=r(e.bumpMap)),void 0!==e.bumpScale&&(i.bumpScale=e.bumpScale),void 0!==e.normalMap&&(i.normalMap=r(e.normalMap)),void 0!==e.normalMapType&&(i.normalMapType=e.normalMapType),void 0!==e.normalScale){let t=e.normalScale;!1===Array.isArray(t)&&(t=[t,t]),i.normalScale=new Y().fromArray(t)}return void 0!==e.displacementMap&&(i.displacementMap=r(e.displacementMap)),void 0!==e.displacementScale&&(i.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(i.displacementBias=e.displacementBias),void 0!==e.roughnessMap&&(i.roughnessMap=r(e.roughnessMap)),void 0!==e.metalnessMap&&(i.metalnessMap=r(e.metalnessMap)),void 0!==e.emissiveMap&&(i.emissiveMap=r(e.emissiveMap)),void 0!==e.emissiveIntensity&&(i.emissiveIntensity=e.emissiveIntensity),void 0!==e.specularMap&&(i.specularMap=r(e.specularMap)),void 0!==e.specularIntensityMap&&(i.specularIntensityMap=r(e.specularIntensityMap)),void 0!==e.specularColorMap&&(i.specularColorMap=r(e.specularColorMap)),void 0!==e.envMap&&(i.envMap=r(e.envMap)),void 0!==e.envMapRotation&&i.envMapRotation.fromArray(e.envMapRotation),void 0!==e.envMapIntensity&&(i.envMapIntensity=e.envMapIntensity),void 0!==e.reflectivity&&(i.reflectivity=e.reflectivity),void 0!==e.refractionRatio&&(i.refractionRatio=e.refractionRatio),void 0!==e.lightMap&&(i.lightMap=r(e.lightMap)),void 0!==e.lightMapIntensity&&(i.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(i.aoMap=r(e.aoMap)),void 0!==e.aoMapIntensity&&(i.aoMapIntensity=e.aoMapIntensity),void 0!==e.gradientMap&&(i.gradientMap=r(e.gradientMap)),void 0!==e.clearcoatMap&&(i.clearcoatMap=r(e.clearcoatMap)),void 0!==e.clearcoatRoughnessMap&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),void 0!==e.clearcoatNormalMap&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),void 0!==e.clearcoatNormalScale&&(i.clearcoatNormalScale=new Y().fromArray(e.clearcoatNormalScale)),void 0!==e.iridescenceMap&&(i.iridescenceMap=r(e.iridescenceMap)),void 0!==e.iridescenceThicknessMap&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),void 0!==e.transmissionMap&&(i.transmissionMap=r(e.transmissionMap)),void 0!==e.thicknessMap&&(i.thicknessMap=r(e.thicknessMap)),void 0!==e.anisotropyMap&&(i.anisotropyMap=r(e.anisotropyMap)),void 0!==e.sheenColorMap&&(i.sheenColorMap=r(e.sheenColorMap)),void 0!==e.sheenRoughnessMap&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return au.createMaterialFromType(e)}static createMaterialFromType(e){return new({ShadowMaterial:sd,SpriteMaterial:rE,RawShaderMaterial:sp,ShaderMaterial:rp,PointsMaterial:iQ,MeshPhysicalMaterial:sm,MeshStandardMaterial:sf,MeshPhongMaterial:sg,MeshToonMaterial:sy,MeshNormalMaterial:sx,MeshLambertMaterial:sv,MeshDepthMaterial:sb,MeshDistanceMaterial:sw,MeshBasicMaterial:tj,MeshMatcapMaterial:s_,LineDashedMaterial:sS,LineBasicMaterial:iL,Material:tN})[e]}}class ac{static extractUrlBase(e){let t=e.lastIndexOf("/");return -1===t?"./":e.slice(0,t+1)}static resolveURL(e,t){return"string"!=typeof e||""===e?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e))?e:t+e}}class ah extends t3{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){let e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class ad extends sG{constructor(e){super(e)}load(e,t,r,i){let n=this,s=new sY(n.manager);s.setPath(n.path),s.setRequestHeader(n.requestHeader),s.setWithCredentials(n.withCredentials),s.load(e,function(r){try{t(n.parse(JSON.parse(r)))}catch(t){i?i(t):j(t),n.manager.itemError(e)}},r,i)}parse(e){let t={},r={};function i(e,i){if(void 0!==t[i])return t[i];let n=e.interleavedBuffers[i],s=function(e,t){if(void 0!==r[t])return r[t];let i=new Uint32Array(e.arrayBuffers[t]).buffer;return r[t]=i,i}(e,n.buffer),a=new rI(S(n.type,s),n.stride);return a.uuid=n.uuid,t[i]=a,a}let n=e.isInstancedBufferGeometry?new ah:new t3,s=e.data.index;if(void 0!==s){let e=S(s.type,s.array);n.setIndex(new tV(e,1))}let a=e.data.attributes;for(let t in a){let r,s=a[t];if(s.isInterleavedBufferAttribute)r=new rz(i(e.data,s.data),s.itemSize,s.offset,s.normalized);else{let e=S(s.type,s.array);r=new(s.isInstancedBufferAttribute?ie:tV)(e,s.itemSize,s.normalized)}void 0!==s.name&&(r.name=s.name),void 0!==s.usage&&r.setUsage(s.usage),n.setAttribute(t,r)}let o=e.data.morphAttributes;if(o)for(let t in o){let r=o[t],s=[];for(let t=0,n=r.length;t<n;t++){let n,a=r[t];n=a.isInterleavedBufferAttribute?new rz(i(e.data,a.data),a.itemSize,a.offset,a.normalized):new tV(S(a.type,a.array),a.itemSize,a.normalized),void 0!==a.name&&(n.name=a.name),s.push(n)}n.morphAttributes[t]=s}e.data.morphTargetsRelative&&(n.morphTargetsRelative=!0);let l=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==l)for(let e=0,t=l.length;e!==t;++e){let t=l[e];n.addGroup(t.start,t.count,t.materialIndex)}let u=e.data.boundingSphere;return void 0!==u&&(n.boundingSphere=new eB().fromJSON(u)),e.name&&(n.name=e.name),e.userData&&(n.userData=e.userData),n}}class ap extends sG{constructor(e){super(e)}load(e,t,r,i){let n=this,s=""===this.path?ac.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||s;let a=new sY(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(r){let s=null;try{s=JSON.parse(r)}catch(t){void 0!==i&&i(t),t("ObjectLoader: Can't parse "+e+".",t.message);return}let a=s.metadata;if(void 0===a||void 0===a.type||"geometry"===a.type.toLowerCase()){void 0!==i&&i(Error("THREE.ObjectLoader: Can't load "+e)),j("ObjectLoader: Can't load "+e);return}n.parse(s,t)},r,i)}async loadAsync(e,t){let r=""===this.path?ac.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;let i=new sY(this.manager);i.setPath(this.path),i.setRequestHeader(this.requestHeader),i.setWithCredentials(this.withCredentials);let n=JSON.parse(await i.loadAsync(e,t)),s=n.metadata;if(void 0===s||void 0===s.type||"geometry"===s.type.toLowerCase())throw Error("THREE.ObjectLoader: Can't load "+e);return await this.parseAsync(n)}parse(e,t){let r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),n=this.parseGeometries(e.geometries,i),s=this.parseImages(e.images,function(){void 0!==t&&t(l)}),a=this.parseTextures(e.textures,s),o=this.parseMaterials(e.materials,a),l=this.parseObject(e.object,n,o,a,r),u=this.parseSkeletons(e.skeletons,l);if(this.bindSkeletons(l,u),this.bindLightTargets(l),void 0!==t){let e=!1;for(let t in s)if(s[t].data instanceof HTMLImageElement){e=!0;break}!1===e&&t(l)}return l}async parseAsync(e){let t=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),n=await this.parseImagesAsync(e.images),s=this.parseTextures(e.textures,n),a=this.parseMaterials(e.materials,s),o=this.parseObject(e.object,i,a,s,t),l=this.parseSkeletons(e.skeletons,o);return this.bindSkeletons(o,l),this.bindLightTargets(o),o}parseShapes(e){let t={};if(void 0!==e)for(let r=0,i=e.length;r<i;r++){let i=new nL().fromJSON(e[r]);t[i.uuid]=i}return t}parseSkeletons(e,t){let r={},i={};if(t.traverse(function(e){e.isBone&&(i[e.uuid]=e)}),void 0!==e)for(let t=0,n=e.length;t<n;t++){let n=new r7().fromJSON(e[t],i);r[n.uuid]=n}return r}parseGeometries(e,t){let r={};if(void 0!==e){let i=new ad;for(let n=0,s=e.length;n<s;n++){let s,a=e[n];switch(a.type){case"BufferGeometry":case"InstancedBufferGeometry":s=i.parse(a);break;default:a.type in sh?s=sh[a.type].fromJSON(a,t):N(`ObjectLoader: Unsupported geometry type "${a.type}"`)}s.uuid=a.uuid,void 0!==a.name&&(s.name=a.name),void 0!==a.userData&&(s.userData=a.userData),r[a.uuid]=s}}return r}parseMaterials(e,t){let r={},i={};if(void 0!==e){let n=new au;n.setTextures(t);for(let t=0,s=e.length;t<s;t++){let s=e[t];void 0===r[s.uuid]&&(r[s.uuid]=n.parse(s)),i[s.uuid]=r[s.uuid]}}return i}parseAnimations(e){let t={};if(void 0!==e)for(let r=0;r<e.length;r++){let i=e[r],n=sV.parse(i);t[n.uuid]=n}return t}parseImages(e,t){let r,i=this,n={};function s(e){if("string"==typeof e){var t;return t=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(e)?e:i.resourcePath+e,i.manager.itemStart(t),r.load(t,function(){i.manager.itemEnd(t)},void 0,function(){i.manager.itemError(t),i.manager.itemEnd(t)})}return e.data?{data:S(e.type,e.data),width:e.width,height:e.height}:null}if(void 0!==e&&e.length>0){(r=new sK(new s$(t))).setCrossOrigin(this.crossOrigin);for(let t=0,r=e.length;t<r;t++){let r=e[t],i=r.url;if(Array.isArray(i)){let e=[];for(let t=0,r=i.length;t<r;t++){let r=s(i[t]);null!==r&&(r instanceof HTMLImageElement?e.push(r):e.push(new r8(r.data,r.width,r.height)))}n[r.uuid]=new el(e)}else{let e=s(r.url);n[r.uuid]=new el(e)}}}return n}async parseImagesAsync(e){let t,r=this,i={};async function n(e){if("string"==typeof e){let i=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(e)?e:r.resourcePath+e;return await t.loadAsync(i)}return e.data?{data:S(e.type,e.data),width:e.width,height:e.height}:null}if(void 0!==e&&e.length>0){(t=new sK(this.manager)).setCrossOrigin(this.crossOrigin);for(let t=0,r=e.length;t<r;t++){let r=e[t],s=r.url;if(Array.isArray(s)){let e=[];for(let t=0,r=s.length;t<r;t++){let r=s[t],i=await n(r);null!==i&&(i instanceof HTMLImageElement?e.push(i):e.push(new r8(i.data,i.width,i.height)))}i[r.uuid]=new el(e)}else{let e=await n(r.url);i[r.uuid]=new el(e)}}}return i}parseTextures(e,t){function r(e,t){return"number"==typeof e?e:(N("ObjectLoader.parseTexture: Constant should be in numeric form.",e),t[e])}let i={};if(void 0!==e)for(let n=0,s=e.length;n<s;n++){let s,a=e[n];void 0===a.image&&N('ObjectLoader: No "image" specified for',a.uuid),void 0===t[a.image]&&N("ObjectLoader: Undefined image",a.image);let o=t[a.image],l=o.data;Array.isArray(l)?(s=new rb,6===l.length&&(s.needsUpdate=!0)):(s=l&&l.data?new r8:new ed,l&&(s.needsUpdate=!0)),s.source=o,s.uuid=a.uuid,void 0!==a.name&&(s.name=a.name),void 0!==a.mapping&&(s.mapping=r(a.mapping,af)),void 0!==a.channel&&(s.channel=a.channel),void 0!==a.offset&&s.offset.fromArray(a.offset),void 0!==a.repeat&&s.repeat.fromArray(a.repeat),void 0!==a.center&&s.center.fromArray(a.center),void 0!==a.rotation&&(s.rotation=a.rotation),void 0!==a.wrap&&(s.wrapS=r(a.wrap[0],am),s.wrapT=r(a.wrap[1],am)),void 0!==a.format&&(s.format=a.format),void 0!==a.internalFormat&&(s.internalFormat=a.internalFormat),void 0!==a.type&&(s.type=a.type),void 0!==a.colorSpace&&(s.colorSpace=a.colorSpace),void 0!==a.minFilter&&(s.minFilter=r(a.minFilter,ag)),void 0!==a.magFilter&&(s.magFilter=r(a.magFilter,ag)),void 0!==a.anisotropy&&(s.anisotropy=a.anisotropy),void 0!==a.flipY&&(s.flipY=a.flipY),void 0!==a.generateMipmaps&&(s.generateMipmaps=a.generateMipmaps),void 0!==a.premultiplyAlpha&&(s.premultiplyAlpha=a.premultiplyAlpha),void 0!==a.unpackAlignment&&(s.unpackAlignment=a.unpackAlignment),void 0!==a.compareFunction&&(s.compareFunction=a.compareFunction),void 0!==a.userData&&(s.userData=a.userData),i[a.uuid]=s}return i}parseObject(e,t,r,i,n){let s,a,o;function l(e){return void 0===t[e]&&N("ObjectLoader: Undefined geometry",e),t[e]}function u(e){if(void 0!==e){if(Array.isArray(e)){let t=[];for(let i=0,n=e.length;i<n;i++){let n=e[i];void 0===r[n]&&N("ObjectLoader: Undefined material",n),t.push(r[n])}return t}return void 0===r[e]&&N("ObjectLoader: Undefined material",e),r[e]}}function c(e){return void 0===i[e]&&N("ObjectLoader: Undefined texture",e),i[e]}switch(e.type){case"Scene":s=new rA,void 0!==e.background&&(Number.isInteger(e.background)?s.background=new tT(e.background):s.background=c(e.background)),void 0!==e.environment&&(s.environment=c(e.environment)),void 0!==e.fog&&("Fog"===e.fog.type?s.fog=new rC(e.fog.color,e.fog.near,e.fog.far):"FogExp2"===e.fog.type&&(s.fog=new rM(e.fog.color,e.fog.density)),""!==e.fog.name&&(s.fog.name=e.fog.name)),void 0!==e.backgroundBlurriness&&(s.backgroundBlurriness=e.backgroundBlurriness),void 0!==e.backgroundIntensity&&(s.backgroundIntensity=e.backgroundIntensity),void 0!==e.backgroundRotation&&s.backgroundRotation.fromArray(e.backgroundRotation),void 0!==e.environmentIntensity&&(s.environmentIntensity=e.environmentIntensity),void 0!==e.environmentRotation&&s.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":s=new rx(e.fov,e.aspect,e.near,e.far),void 0!==e.focus&&(s.focus=e.focus),void 0!==e.zoom&&(s.zoom=e.zoom),void 0!==e.filmGauge&&(s.filmGauge=e.filmGauge),void 0!==e.filmOffset&&(s.filmOffset=e.filmOffset),void 0!==e.view&&(s.view=Object.assign({},e.view));break;case"OrthographicCamera":s=new ar(e.left,e.right,e.top,e.bottom,e.near,e.far),void 0!==e.zoom&&(s.zoom=e.zoom),void 0!==e.view&&(s.view=Object.assign({},e.view));break;case"AmbientLight":s=new as(e.color,e.intensity);break;case"DirectionalLight":(s=new an(e.color,e.intensity)).target=e.target||"";break;case"PointLight":s=new at(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":s=new aa(e.color,e.intensity,e.width,e.height);break;case"SpotLight":(s=new s7(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay)).target=e.target||"";break;case"HemisphereLight":s=new s9(e.color,e.groundColor,e.intensity);break;case"LightProbe":s=new al(new ao().fromArray(e.sh),e.intensity);break;case"SkinnedMesh":s=new r3(a=l(e.geometry),o=u(e.material)),void 0!==e.bindMode&&(s.bindMode=e.bindMode),void 0!==e.bindMatrix&&s.bindMatrix.fromArray(e.bindMatrix),void 0!==e.skeleton&&(s.skeleton=e.skeleton);break;case"Mesh":s=new ra(a=l(e.geometry),o=u(e.material));break;case"InstancedMesh":a=l(e.geometry),o=u(e.material);let h=e.count,d=e.instanceMatrix,p=e.instanceColor;(s=new iu(a,o,h)).instanceMatrix=new ie(new Float32Array(d.array),16),void 0!==p&&(s.instanceColor=new ie(new Float32Array(p.array),p.itemSize));break;case"BatchedMesh":a=l(e.geometry),o=u(e.material),(s=new iB(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,o)).geometry=a,s.perObjectFrustumCulled=e.perObjectFrustumCulled,s.sortObjects=e.sortObjects,s._drawRanges=e.drawRanges,s._reservedRanges=e.reservedRanges,s._geometryInfo=e.geometryInfo.map(e=>{let t=null,r=null;return void 0!==e.boundingBox&&(t=new eb().fromJSON(e.boundingBox)),void 0!==e.boundingSphere&&(r=new eB().fromJSON(e.boundingSphere)),{...e,boundingBox:t,boundingSphere:r}}),s._instanceInfo=e.instanceInfo,s._availableInstanceIds=e._availableInstanceIds,s._availableGeometryIds=e._availableGeometryIds,s._nextIndexStart=e.nextIndexStart,s._nextVertexStart=e.nextVertexStart,s._geometryCount=e.geometryCount,s._maxInstanceCount=e.maxInstanceCount,s._maxVertexCount=e.maxVertexCount,s._maxIndexCount=e.maxIndexCount,s._geometryInitialized=e.geometryInitialized,s._matricesTexture=c(e.matricesTexture.uuid),s._indirectTexture=c(e.indirectTexture.uuid),void 0!==e.colorsTexture&&(s._colorsTexture=c(e.colorsTexture.uuid)),void 0!==e.boundingSphere&&(s.boundingSphere=new eB().fromJSON(e.boundingSphere)),void 0!==e.boundingBox&&(s.boundingBox=new eb().fromJSON(e.boundingBox));break;case"LOD":s=new rY;break;case"Line":s=new iq(l(e.geometry),u(e.material));break;case"LineLoop":s=new iK(l(e.geometry),u(e.material));break;case"LineSegments":s=new iJ(l(e.geometry),u(e.material));break;case"PointCloud":case"Points":s=new i3(l(e.geometry),u(e.material));break;case"Sprite":s=new rW(u(e.material));break;case"Group":s=new r_;break;case"Bone":s=new r4;break;default:s=new tc}if(s.uuid=e.uuid,void 0!==e.name&&(s.name=e.name),void 0!==e.matrix?(s.matrix.fromArray(e.matrix),void 0!==e.matrixAutoUpdate&&(s.matrixAutoUpdate=e.matrixAutoUpdate),s.matrixAutoUpdate&&s.matrix.decompose(s.position,s.quaternion,s.scale)):(void 0!==e.position&&s.position.fromArray(e.position),void 0!==e.rotation&&s.rotation.fromArray(e.rotation),void 0!==e.quaternion&&s.quaternion.fromArray(e.quaternion),void 0!==e.scale&&s.scale.fromArray(e.scale)),void 0!==e.up&&s.up.fromArray(e.up),void 0!==e.castShadow&&(s.castShadow=e.castShadow),void 0!==e.receiveShadow&&(s.receiveShadow=e.receiveShadow),e.shadow&&(void 0!==e.shadow.intensity&&(s.shadow.intensity=e.shadow.intensity),void 0!==e.shadow.bias&&(s.shadow.bias=e.shadow.bias),void 0!==e.shadow.normalBias&&(s.shadow.normalBias=e.shadow.normalBias),void 0!==e.shadow.radius&&(s.shadow.radius=e.shadow.radius),void 0!==e.shadow.mapSize&&s.shadow.mapSize.fromArray(e.shadow.mapSize),void 0!==e.shadow.camera&&(s.shadow.camera=this.parseObject(e.shadow.camera))),void 0!==e.visible&&(s.visible=e.visible),void 0!==e.frustumCulled&&(s.frustumCulled=e.frustumCulled),void 0!==e.renderOrder&&(s.renderOrder=e.renderOrder),void 0!==e.userData&&(s.userData=e.userData),void 0!==e.layers&&(s.layers.mask=e.layers),void 0!==e.children){let a=e.children;for(let e=0;e<a.length;e++)s.add(this.parseObject(a[e],t,r,i,n))}if(void 0!==e.animations){let t=e.animations;for(let e=0;e<t.length;e++){let r=t[e];s.animations.push(n[r])}}if("LOD"===e.type){void 0!==e.autoUpdate&&(s.autoUpdate=e.autoUpdate);let t=e.levels;for(let e=0;e<t.length;e++){let r=t[e],i=s.getObjectByProperty("uuid",r.object);void 0!==i&&s.addLevel(i,r.distance,r.hysteresis)}}return s}bindSkeletons(e,t){0!==Object.keys(t).length&&e.traverse(function(e){if(!0===e.isSkinnedMesh&&void 0!==e.skeleton){let r=t[e.skeleton];void 0===r?N("ObjectLoader: No skeleton found with UUID:",e.skeleton):e.bind(r,e.bindMatrix)}})}bindLightTargets(e){e.traverse(function(t){if(t.isDirectionalLight||t.isSpotLight){let r=t.target,i=e.getObjectByProperty("uuid",r);void 0!==i?t.target=i:t.target=new tc}})}}let af={UVMapping:300,CubeReflectionMapping:301,CubeRefractionMapping:302,EquirectangularReflectionMapping:303,EquirectangularRefractionMapping:304,CubeUVReflectionMapping:306},am={RepeatWrapping:1e3,ClampToEdgeWrapping:1001,MirroredRepeatWrapping:1002},ag={NearestFilter:1003,NearestMipmapNearestFilter:1004,NearestMipmapLinearFilter:1005,LinearFilter:1006,LinearMipmapNearestFilter:1007,LinearMipmapLinearFilter:1008},ay=new WeakMap;class ax extends sG{constructor(e){super(e),this.isImageBitmapLoader=!0,"undefined"==typeof createImageBitmap&&N("ImageBitmapLoader: createImageBitmap() not supported."),"undefined"==typeof fetch&&N("ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"},this._abortController=new AbortController}setOptions(e){return this.options=e,this}load(e,t,r,i){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);let n=this,s=sU.get(`image-bitmap:${e}`);if(void 0!==s)return(n.manager.itemStart(e),s.then)?void s.then(r=>{if(!0!==ay.has(s))return t&&t(r),n.manager.itemEnd(e),r;i&&i(ay.get(s)),n.manager.itemError(e),n.manager.itemEnd(e)}):(setTimeout(function(){t&&t(s),n.manager.itemEnd(e)},0),s);let a={};a.credentials="anonymous"===this.crossOrigin?"same-origin":"include",a.headers=this.requestHeader,a.signal="function"==typeof AbortSignal.any?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal;let o=fetch(e,a).then(function(e){return e.blob()}).then(function(e){return createImageBitmap(e,Object.assign(n.options,{colorSpaceConversion:"none"}))}).then(function(r){return sU.add(`image-bitmap:${e}`,r),t&&t(r),n.manager.itemEnd(e),r}).catch(function(t){i&&i(t),ay.set(o,t),sU.remove(`image-bitmap:${e}`),n.manager.itemError(e),n.manager.itemEnd(e)});sU.add(`image-bitmap:${e}`,o),n.manager.itemStart(e)}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}class av{static getContext(){return void 0===i&&(i=new(window.AudioContext||window.webkitAudioContext)),i}static setContext(e){i=e}}class ab extends sG{constructor(e){super(e)}load(e,t,r,i){let n=this,s=new sY(this.manager);function a(t){i?i(t):j(t),n.manager.itemError(e)}s.setResponseType("arraybuffer"),s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(e){try{let r=e.slice(0);av.getContext().decodeAudioData(r,function(e){t(e)}).catch(a)}catch(e){a(e)}},r,i)}}let aw=new eq,a_=new eq,aS=new eq;class ak{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new rx,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new rx,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){let t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){let r,i;t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,aS.copy(e.projectionMatrix);let n=t.eyeSep/2,s=n*t.near/t.focus,a=t.near*Math.tan(L*t.fov*.5)/t.zoom;a_.elements[12]=-n,aw.elements[12]=n,r=-a*t.aspect+s,i=a*t.aspect+s,aS.elements[0]=2*t.near/(i-r),aS.elements[8]=(i+r)/(i-r),this.cameraL.projectionMatrix.copy(aS),r=-a*t.aspect-s,i=a*t.aspect-s,aS.elements[0]=2*t.near/(i-r),aS.elements[8]=(i+r)/(i-r),this.cameraR.projectionMatrix.copy(aS)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(a_),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(aw)}}class aM extends rx{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}class aC{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=performance.now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){let t=performance.now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}let aA=new Z,aI=new X,aT=new Z,az=new Z,aE=new Z;class aN extends tc{constructor(){super(),this.type="AudioListener",this.context=av.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new aC}getInput(){return this.gain}removeFilter(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);let t=this.context.listener;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(aA,aI,aT),az.set(0,0,-1).applyQuaternion(aI),aE.set(0,1,0).applyQuaternion(aI),t.positionX){let e=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(aA.x,e),t.positionY.linearRampToValueAtTime(aA.y,e),t.positionZ.linearRampToValueAtTime(aA.z,e),t.forwardX.linearRampToValueAtTime(az.x,e),t.forwardY.linearRampToValueAtTime(az.y,e),t.forwardZ.linearRampToValueAtTime(az.z,e),t.upX.linearRampToValueAtTime(aE.x,e),t.upY.linearRampToValueAtTime(aE.y,e),t.upZ.linearRampToValueAtTime(aE.z,e)}else t.setPosition(aA.x,aA.y,aA.z),t.setOrientation(az.x,az.y,az.z,aE.x,aE.y,aE.z)}}class aj extends tc{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(!0===this.isPlaying)return void N("Audio: Audio is already playing.");if(!1===this.hasPlaybackControl)return void N("Audio: this Audio has no playback control.");this._startedAt=this.context.currentTime+e;let t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){return!1===this.hasPlaybackControl?void N("Audio: this Audio has no playback control."):(!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this)}stop(e=0){return!1===this.hasPlaybackControl?void N("Audio: this Audio has no playback control."):(this._progress=0,null!==this.source&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this)}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(!1!==this._connected){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),!0===this._connected?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,!0===this.isPlaying&&void 0!==this.source.detune&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){return!1===this.hasPlaybackControl?void N("Audio: this Audio has no playback control."):(this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this)}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return!1===this.hasPlaybackControl?(N("Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){return!1===this.hasPlaybackControl?void N("Audio: this Audio has no playback control."):(this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this)}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,t){return(super.copy(e,t),"buffer"!==e.sourceType)?N("Audio: Audio source type cannot be copied."):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice()),this}clone(e){return new this.constructor(this.listener).copy(this,e)}}let aO=new Z,aD=new X,aP=new Z,aR=new Z;class aB extends aj{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),!0===this.hasPlaybackControl&&!1===this.isPlaying)return;this.matrixWorld.decompose(aO,aD,aP),aR.set(0,0,1).applyQuaternion(aD);let t=this.panner;if(t.positionX){let e=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(aO.x,e),t.positionY.linearRampToValueAtTime(aO.y,e),t.positionZ.linearRampToValueAtTime(aO.z,e),t.orientationX.linearRampToValueAtTime(aR.x,e),t.orientationY.linearRampToValueAtTime(aR.y,e),t.orientationZ.linearRampToValueAtTime(aR.z,e)}else t.setPosition(aO.x,aO.y,aO.z),t.setOrientation(aR.x,aR.y,aR.z)}}class aL{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0,t=this.getFrequencyData();for(let r=0;r<t.length;r++)e+=t[r];return e/t.length}}class aF{constructor(e,t,r){let i,n,s;switch(this.binding=e,this.valueSize=r,t){case"quaternion":i=this._slerp,n=this._slerpAdditive,s=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*r),this._workIndex=5;break;case"string":case"bool":i=this._select,n=this._select,s=this._setAdditiveIdentityOther,this.buffer=Array(5*r);break;default:i=this._lerp,n=this._lerpAdditive,s=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*r)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=n,this._setIdentity=s,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){let r=this.buffer,i=this.valueSize,n=e*i+i,s=this.cumulativeWeight;if(0===s){for(let e=0;e!==i;++e)r[n+e]=r[e];s=t}else{s+=t;let e=t/s;this._mixBufferRegion(r,n,0,e,i)}this.cumulativeWeight=s}accumulateAdditive(e){let t=this.buffer,r=this.valueSize,i=r*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){let t=this.valueSize,r=this.buffer,i=e*t+t,n=this.cumulativeWeight,s=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,n<1){let e=t*this._origIndex;this._mixBufferRegion(r,i,e,1-n,t)}s>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*t,1,t);for(let e=t,n=t+t;e!==n;++e)if(r[e]!==r[e+t]){a.setValue(r,i);break}}saveOriginalState(){let e=this.binding,t=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(t,i);for(let e=r;e!==i;++e)t[e]=t[i+e%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){let e=3*this.valueSize;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){let e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let r=e;r<t;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){let e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[t+r]=this.buffer[e+r]}_select(e,t,r,i,n){if(i>=.5)for(let i=0;i!==n;++i)e[t+i]=e[r+i]}_slerp(e,t,r,i){X.slerpFlat(e,t,e,t,e,r,i)}_slerpAdditive(e,t,r,i,n){let s=this._workIndex*n;X.multiplyQuaternionsFlat(e,s,e,t,e,r),X.slerpFlat(e,t,e,t,e,s,i)}_lerp(e,t,r,i,n){let s=1-i;for(let a=0;a!==n;++a){let n=t+a;e[n]=e[n]*s+e[r+a]*i}}_lerpAdditive(e,t,r,i,n){for(let s=0;s!==n;++s){let n=t+s;e[n]=e[n]+e[r+s]*i}}}let aV="\\[\\]\\.:\\/",aU=RegExp("["+aV+"]","g"),a$="[^"+aV+"]",aW="[^"+aV.replace("\\.","")+"]",aG=RegExp("^"+/((?:WC+[\/:])*)/.source.replace("WC",a$)+/(WCOD+)?/.source.replace("WCOD",aW)+/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",a$)+/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",a$)+"$"),aH=["material","materials","bones","map"];class aq{constructor(e,t,r){this.path=t,this.parsedPath=r||aq.parseTrackName(t),this.node=aq.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,r){return e&&e.isAnimationObjectGroup?new aq.Composite(e,t,r):new aq(e,t,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(aU,"")}static parseTrackName(e){let t=aG.exec(e);if(null===t)throw Error("PropertyBinding: Cannot parse trackName: "+e);let r={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(void 0!==i&&-1!==i){let e=r.nodeName.substring(i+1);-1!==aH.indexOf(e)&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=e)}if(null===r.propertyName||0===r.propertyName.length)throw Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,t){if(void 0===t||""===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){let r=e.skeleton.getBoneByName(t);if(void 0!==r)return r}if(e.children){let r=function(e){for(let i=0;i<e.length;i++){let n=e[i];if(n.name===t||n.uuid===t)return n;let s=r(n.children);if(s)return s}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){let r=this.resolvedProperty;for(let i=0,n=r.length;i!==n;++i)e[t++]=r[i]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){let r=this.resolvedProperty;for(let i=0,n=r.length;i!==n;++i)r[i]=e[t++]}_setValue_array_setNeedsUpdate(e,t){let r=this.resolvedProperty;for(let i=0,n=r.length;i!==n;++i)r[i]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){let r=this.resolvedProperty;for(let i=0,n=r.length;i!==n;++i)r[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node,t=this.parsedPath,r=t.objectName,i=t.propertyName,n=t.propertyIndex;if(e||(e=aq.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e)return void N("PropertyBinding: No target node found for track: "+this.path+".");if(r){let i=t.objectIndex;switch(r){case"materials":if(!e.material)return void j("PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void j("PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void j("PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);e=e.skeleton.bones;for(let t=0;t<e.length;t++)if(e[t].name===i){i=t;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material)return void j("PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.map)return void j("PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);e=e.material.map;break;default:if(void 0===e[r])return void j("PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[r]}if(void 0!==i){if(void 0===e[i])return void j("PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[i]}}let s=e[i];if(void 0===s)return void j("PropertyBinding: Trying to update property for track: "+t.nodeName+"."+i+" but it wasn't found.",e);let a=this.Versioning.None;this.targetObject=e,!0===e.isMaterial?a=this.Versioning.NeedsUpdate:!0===e.isObject3D&&(a=this.Versioning.MatrixWorldNeedsUpdate);let o=this.BindingType.Direct;if(void 0!==n){if("morphTargetInfluences"===i){if(!e.geometry)return void j("PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!e.geometry.morphAttributes)return void j("PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==e.morphTargetDictionary[n]&&(n=e.morphTargetDictionary[n])}o=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=n}else void 0!==s.fromArray&&void 0!==s.toArray?(o=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(o=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=i;this.getValue=this.GetterByBindingType[o],this.setValue=this.SetterByBindingTypeAndVersioning[o][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}aq.Composite=class{constructor(e,t,r){const i=r||aq.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();let r=this._targetGroup.nCachedObjects_,i=this._bindings[r];void 0!==i&&i.getValue(e,t)}setValue(e,t){let r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,n=r.length;i!==n;++i)r[i].setValue(e,t)}bind(){let e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].bind()}unbind(){let e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].unbind()}},aq.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},aq.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},aq.prototype.GetterByBindingType=[aq.prototype._getValue_direct,aq.prototype._getValue_array,aq.prototype._getValue_arrayElement,aq.prototype._getValue_toArray],aq.prototype.SetterByBindingTypeAndVersioning=[[aq.prototype._setValue_direct,aq.prototype._setValue_direct_setNeedsUpdate,aq.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[aq.prototype._setValue_array,aq.prototype._setValue_array_setNeedsUpdate,aq.prototype._setValue_array_setMatrixWorldNeedsUpdate],[aq.prototype._setValue_arrayElement,aq.prototype._setValue_arrayElement_setNeedsUpdate,aq.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[aq.prototype._setValue_fromArray,aq.prototype._setValue_fromArray_setNeedsUpdate,aq.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class aY{constructor(){this.isAnimationObjectGroup=!0,this.uuid=V(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let t=0,r=arguments.length;t!==r;++t)e[arguments[t].uuid]=t;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){let e=this._objects,t=this._indicesByUUID,r=this._paths,i=this._parsedPaths,n=this._bindings,s=n.length,a,o=e.length,l=this.nCachedObjects_;for(let u=0,c=arguments.length;u!==c;++u){let c=arguments[u],h=c.uuid,d=t[h];if(void 0===d){d=o++,t[h]=d,e.push(c);for(let e=0;e!==s;++e)n[e].push(new aq(c,r[e],i[e]))}else if(d<l){a=e[d];let o=--l,u=e[o];t[u.uuid]=d,e[d]=u,t[h]=o,e[o]=c;for(let e=0;e!==s;++e){let t=n[e],s=t[o],a=t[d];t[d]=s,void 0===a&&(a=new aq(c,r[e],i[e])),t[o]=a}}else e[d]!==a&&j("AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=l}remove(){let e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length,n=this.nCachedObjects_;for(let s=0,a=arguments.length;s!==a;++s){let a=arguments[s],o=a.uuid,l=t[o];if(void 0!==l&&l>=n){let s=n++,u=e[s];t[u.uuid]=l,e[l]=u,t[o]=s,e[s]=a;for(let e=0;e!==i;++e){let t=r[e],i=t[s],n=t[l];t[l]=i,t[s]=n}}}this.nCachedObjects_=n}uncache(){let e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length,n=this.nCachedObjects_,s=e.length;for(let a=0,o=arguments.length;a!==o;++a){let o=arguments[a],l=o.uuid,u=t[l];if(void 0!==u)if(delete t[l],u<n){let a=--n,o=e[a],l=--s,c=e[l];t[o.uuid]=u,e[u]=o,t[c.uuid]=a,e[a]=c,e.pop();for(let e=0;e!==i;++e){let t=r[e],i=t[a],n=t[l];t[u]=i,t[a]=n,t.pop()}}else{let n=--s,a=e[n];n>0&&(t[a.uuid]=u),e[u]=a,e.pop();for(let e=0;e!==i;++e){let t=r[e];t[u]=t[n],t.pop()}}}this.nCachedObjects_=n}subscribe_(e,t){let r=this._bindingsIndicesByPath,i=r[e],n=this._bindings;if(void 0!==i)return n[i];let s=this._paths,a=this._parsedPaths,o=this._objects,l=o.length,u=this.nCachedObjects_,c=Array(l);i=n.length,r[e]=i,s.push(e),a.push(t),n.push(c);for(let r=u,i=o.length;r!==i;++r){let i=o[r];c[r]=new aq(i,e,t)}return c}unsubscribe_(e){let t=this._bindingsIndicesByPath,r=t[e];if(void 0!==r){let i=this._paths,n=this._parsedPaths,s=this._bindings,a=s.length-1,o=s[a];t[e[a]]=r,s[r]=o,s.pop(),n[r]=n[a],n.pop(),i[r]=i[a],i.pop()}}}class aX{constructor(e,t,r=null,i=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=r,this.blendMode=i;const n=t.tracks,s=n.length,a=Array(s),o={endingStart:2400,endingEnd:2400};for(let e=0;e!==s;++e){const t=n[e].createInterpolant(null);a[e]=t,t.settings=o}this._interpolantSettings=o,this._interpolants=a,this._propertyBindings=Array(s),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=2201,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,r=!1){if(e.fadeOut(t),this.fadeIn(t),!0===r){let r=this._clip.duration,i=e._clip.duration;e.warp(1,i/r,t),this.warp(r/i,1,t)}return this}crossFadeTo(e,t,r=!1){return e.crossFadeFrom(this,t,r)}stopFading(){let e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,r){let i=this._mixer,n=i.time,s=this.timeScale,a=this._timeScaleInterpolant;null===a&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);let o=a.parameterPositions,l=a.sampleValues;return o[0]=n,o[1]=n+r,l[0]=e/s,l[1]=t/s,this}stopWarping(){let e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,r,i){if(!this.enabled)return void this._updateWeight(e);let n=this._startTime;if(null!==n){let i=(e-n)*r;i<0||0===r?t=0:(this._startTime=null,t=r*i)}t*=this._updateTimeScale(e);let s=this._updateTime(t),a=this._updateWeight(e);if(a>0){let e=this._interpolants,t=this._propertyBindings;if(2501===this.blendMode)for(let r=0,i=e.length;r!==i;++r)e[r].evaluate(s),t[r].accumulateAdditive(a);else for(let r=0,n=e.length;r!==n;++r)e[r].evaluate(s),t[r].accumulate(i,a)}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;let r=this._weightInterpolant;if(null!==r){let i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopFading(),0===i&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;let r=this._timeScaleInterpolant;null!==r&&(t*=r.evaluate(e)[0],e>r.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t))}return this._effectiveTimeScale=t,t}_updateTime(e){let t=this._clip.duration,r=this.loop,i=this.time+e,n=this._loopCount,s=2202===r;if(0===e)return -1===n?i:s&&(1&n)==1?t-i:i;if(2200===r){-1===n&&(this._loopCount=0,this._setEndings(!0,!0,!1));n:{if(i>=t)i=t;else if(i<0)i=0;else{this.time=i;break n}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(-1===n&&(e>=0?(n=0,this._setEndings(!0,0===this.repetitions,s)):this._setEndings(0===this.repetitions,!0,s)),i>=t||i<0){let r=Math.floor(i/t);i-=t*r,n+=Math.abs(r);let a=this.repetitions-n;if(a<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?t:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(1===a){let t=e<0;this._setEndings(t,!t,s)}else this._setEndings(!1,!1,s);this._loopCount=n,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:r})}}else this.time=i;if(s&&(1&n)==1)return t-i}return i}_setEndings(e,t,r){let i=this._interpolantSettings;r?(i.endingStart=2401,i.endingEnd=2401):(e?i.endingStart=this.zeroSlopeAtStart?2401:2400:i.endingStart=2402,t?i.endingEnd=this.zeroSlopeAtEnd?2401:2400:i.endingEnd=2402)}_scheduleFading(e,t,r){let i=this._mixer,n=i.time,s=this._weightInterpolant;null===s&&(s=i._lendControlInterpolant(),this._weightInterpolant=s);let a=s.parameterPositions,o=s.sampleValues;return a[0]=n,o[0]=t,a[1]=n+e,o[1]=r,this}}let aZ=new Float32Array(1);class aJ extends P{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){let r=e._localRoot||this._root,i=e._clip.tracks,n=i.length,s=e._propertyBindings,a=e._interpolants,o=r.uuid,l=this._bindingsByRootAndName,u=l[o];void 0===u&&(u={},l[o]=u);for(let e=0;e!==n;++e){let n=i[e],l=n.name,c=u[l];if(void 0!==c)++c.referenceCount,s[e]=c;else{if(void 0!==(c=s[e])){null===c._cacheIndex&&(++c.referenceCount,this._addInactiveBinding(c,o,l));continue}let i=t&&t._propertyBindings[e].binding.parsedPath;c=new aF(aq.create(r,l,i),n.ValueTypeName,n.getValueSize()),++c.referenceCount,this._addInactiveBinding(c,o,l),s[e]=c}a[e].resultBuffer=c.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){let t=(e._localRoot||this._root).uuid,r=e._clip.uuid,i=this._actionsByClip[r];this._bindAction(e,i&&i.knownActions[0]),this._addInactiveAction(e,r,t)}let t=e._propertyBindings;for(let e=0,r=t.length;e!==r;++e){let r=t[e];0==r.useCount++&&(this._lendBinding(r),r.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){let t=e._propertyBindings;for(let e=0,r=t.length;e!==r;++e){let r=t[e];0==--r.useCount&&(r.restoreOriginalState(),this._takeBackBinding(r))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;let e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){let t=e._cacheIndex;return null!==t&&t<this._nActiveActions}_addInactiveAction(e,t,r){let i=this._actions,n=this._actionsByClip,s=n[t];if(void 0===s)s={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,n[t]=s;else{let t=s.knownActions;e._byClipCacheIndex=t.length,t.push(e)}e._cacheIndex=i.length,i.push(e),s.actionByRoot[r]=e}_removeInactiveAction(e){let t=this._actions,r=t[t.length-1],i=e._cacheIndex;r._cacheIndex=i,t[i]=r,t.pop(),e._cacheIndex=null;let n=e._clip.uuid,s=this._actionsByClip,a=s[n],o=a.knownActions,l=o[o.length-1],u=e._byClipCacheIndex;l._byClipCacheIndex=u,o[u]=l,o.pop(),e._byClipCacheIndex=null;let c=a.actionByRoot,h=(e._localRoot||this._root).uuid;delete c[h],0===o.length&&delete s[n],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){let t=e._propertyBindings;for(let e=0,r=t.length;e!==r;++e){let r=t[e];0==--r.referenceCount&&this._removeInactiveBinding(r)}}_lendAction(e){let t=this._actions,r=e._cacheIndex,i=this._nActiveActions++,n=t[i];e._cacheIndex=i,t[i]=e,n._cacheIndex=r,t[r]=n}_takeBackAction(e){let t=this._actions,r=e._cacheIndex,i=--this._nActiveActions,n=t[i];e._cacheIndex=i,t[i]=e,n._cacheIndex=r,t[r]=n}_addInactiveBinding(e,t,r){let i=this._bindingsByRootAndName,n=this._bindings,s=i[t];void 0===s&&(s={},i[t]=s),s[r]=e,e._cacheIndex=n.length,n.push(e)}_removeInactiveBinding(e){let t=this._bindings,r=e.binding,i=r.rootNode.uuid,n=r.path,s=this._bindingsByRootAndName,a=s[i],o=t[t.length-1],l=e._cacheIndex;o._cacheIndex=l,t[l]=o,t.pop(),delete a[n],0===Object.keys(a).length&&delete s[i]}_lendBinding(e){let t=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,n=t[i];e._cacheIndex=i,t[i]=e,n._cacheIndex=r,t[r]=n}_takeBackBinding(e){let t=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,n=t[i];e._cacheIndex=i,t[i]=e,n._cacheIndex=r,t[r]=n}_lendControlInterpolant(){let e=this._controlInterpolants,t=this._nActiveControlInterpolants++,r=e[t];return void 0===r&&((r=new sE(new Float32Array(2),new Float32Array(2),1,aZ)).__cacheIndex=t,e[t]=r),r}_takeBackControlInterpolant(e){let t=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,n=t[i];e.__cacheIndex=i,t[i]=e,n.__cacheIndex=r,t[r]=n}clipAction(e,t,r){let i=t||this._root,n=i.uuid,s="string"==typeof e?sV.findByName(i,e):e,a=null!==s?s.uuid:e,o=this._actionsByClip[a],l=null;if(void 0===r&&(r=null!==s?s.blendMode:2500),void 0!==o){let e=o.actionByRoot[n];if(void 0!==e&&e.blendMode===r)return e;l=o.knownActions[0],null===s&&(s=l._clip)}if(null===s)return null;let u=new aX(this,s,t,r);return this._bindAction(u,l),this._addInactiveAction(u,a,n),u}existingAction(e,t){let r=t||this._root,i=r.uuid,n="string"==typeof e?sV.findByName(r,e):e,s=n?n.uuid:e,a=this._actionsByClip[s];return void 0!==a&&a.actionByRoot[i]||null}stopAllAction(){let e=this._actions,t=this._nActiveActions;for(let r=t-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;let t=this._actions,r=this._nActiveActions,i=this.time+=e,n=Math.sign(e),s=this._accuIndex^=1;for(let a=0;a!==r;++a)t[a]._update(i,e,n,s);let a=this._bindings,o=this._nActiveBindings;for(let e=0;e!==o;++e)a[e].apply(s);return this}setTime(e){this.time=0;for(let e=0;e<this._actions.length;e++)this._actions[e].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){let t=this._actions,r=e.uuid,i=this._actionsByClip,n=i[r];if(void 0!==n){let e=n.knownActions;for(let r=0,i=e.length;r!==i;++r){let i=e[r];this._deactivateAction(i);let n=i._cacheIndex,s=t[t.length-1];i._cacheIndex=null,i._byClipCacheIndex=null,s._cacheIndex=n,t[n]=s,t.pop(),this._removeInactiveBindingsForAction(i)}delete i[r]}}uncacheRoot(e){let t=e.uuid,r=this._actionsByClip;for(let e in r){let i=r[e].actionByRoot[t];void 0!==i&&(this._deactivateAction(i),this._removeInactiveAction(i))}let i=this._bindingsByRootAndName[t];if(void 0!==i)for(let e in i){let t=i[e];t.restoreOriginalState(),this._removeInactiveBinding(t)}}uncacheAction(e,t){let r=this.existingAction(e,t);null!==r&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class aK extends ef{constructor(e=1,t=1,r=1,i={}){super(e,t,i),this.isRenderTarget3D=!0,this.depth=r,this.texture=new ex(null,e,t,r),this._setTextureOptions(i),this.texture.isRenderTargetTexture=!0}}class aQ{constructor(e){this.value=e}clone(){return new aQ(void 0===this.value.clone?this.value:this.value.clone())}}let a1=0;class a0 extends P{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:a1++}),this.name="",this.usage=35044,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){let t=this.uniforms.indexOf(e);return -1!==t&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(e){this.name=e.name,this.usage=e.usage;let t=e.uniforms;this.uniforms.length=0;for(let e=0,r=t.length;e<r;e++){let r=Array.isArray(t[e])?t[e]:[t[e]];for(let e=0;e<r.length;e++)this.uniforms.push(r[e].clone())}return this}clone(){return new this.constructor().copy(this)}}class a2 extends rI{constructor(e,t,r=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){let t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){let t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class a9{constructor(e,t,r,i,n,s=!1){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=r,this.elementSize=i,this.count=n,this.normalized=s,this.version=0}set needsUpdate(e){!0===e&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}let a3=new eq;class a4{constructor(e,t,r=0,i=1/0){this.ray=new eH(e,t),this.near=r,this.far=i,this.camera=null,this.layers=new e3,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):j("Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return a3.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(a3),this}intersectObject(e,t=!0,r=[]){return a6(e,this,r,t),r.sort(a8),r}intersectObjects(e,t=!0,r=[]){for(let i=0,n=e.length;i<n;i++)a6(e[i],this,r,t);return r.sort(a8),r}}function a8(e,t){return e.distance-t.distance}function a6(e,t,r,i){let n=!0;if(e.layers.test(t.layers)&&!1===e.raycast(t,r)&&(n=!1),!0===n&&!0===i){let i=e.children;for(let e=0,n=i.length;e<n;e++)a6(i[e],t,r,!0)}}class a5{constructor(){this._previousTime=0,this._currentTime=0,this._startTime=performance.now(),this._delta=0,this._elapsed=0,this._timescale=1,this._document=null,this._pageVisibilityHandler=null}connect(e){this._document=e,void 0!==e.hidden&&(this._pageVisibilityHandler=a7.bind(this),e.addEventListener("visibilitychange",this._pageVisibilityHandler,!1))}disconnect(){null!==this._pageVisibilityHandler&&(this._document.removeEventListener("visibilitychange",this._pageVisibilityHandler),this._pageVisibilityHandler=null),this._document=null}getDelta(){return this._delta/1e3}getElapsed(){return this._elapsed/1e3}getTimescale(){return this._timescale}setTimescale(e){return this._timescale=e,this}reset(){return this._currentTime=performance.now()-this._startTime,this}dispose(){this.disconnect()}update(e){return null!==this._pageVisibilityHandler&&!0===this._document.hidden?this._delta=0:(this._previousTime=this._currentTime,this._currentTime=(void 0!==e?e:performance.now())-this._startTime,this._delta=(this._currentTime-this._previousTime)*this._timescale,this._elapsed+=this._delta),this}}function a7(){!1===this._document.hidden&&this.reset()}class oe{constructor(e=1,t=0,r=0){this.radius=e,this.phi=t,this.theta=r}set(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=U(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+t*t+r*r),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(U(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class ot{constructor(e=1,t=0,r=0){this.radius=e,this.theta=t,this.y=r}set(e,t,r){return this.radius=e,this.theta=t,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=t,this}clone(){return new this.constructor().copy(this)}}class or{constructor(e,t,r,i){or.prototype.isMatrix2=!0,this.elements=[1,0,0,1],void 0!==e&&this.set(e,t,r,i)}identity(){return this.set(1,0,0,1),this}fromArray(e,t=0){for(let r=0;r<4;r++)this.elements[r]=e[r+t];return this}set(e,t,r,i){let n=this.elements;return n[0]=e,n[2]=t,n[1]=r,n[3]=i,this}}let oi=new Y;class on{constructor(e=new Y(Infinity,Infinity),t=new Y(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){let r=oi.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=Infinity,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,oi).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}let os=new Z,oa=new Z,oo=new Z,ol=new Z,ou=new Z,oc=new Z,oh=new Z;class od{constructor(e=new Z,t=new Z){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){os.subVectors(e,this.start),oa.subVectors(this.end,this.start);let r=oa.dot(oa),i=oa.dot(os)/r;return t&&(i=U(i,0,1)),i}closestPointToPoint(e,t,r){let i=this.closestPointToPointParameter(e,t);return this.delta(r).multiplyScalar(i).add(this.start)}distanceSqToLine3(e,t=oc,r=oh){let i,n,s=1e-8*1e-8,a=this.start,o=e.start,l=this.end,u=e.end;oo.subVectors(l,a),ol.subVectors(u,o),ou.subVectors(a,o);let c=oo.dot(oo),h=ol.dot(ol),d=ol.dot(ou);if(c<=s&&h<=s)return t.copy(a),r.copy(o),t.sub(r),t.dot(t);if(c<=s)i=0,n=U(n=d/h,0,1);else{let e=oo.dot(ou);if(h<=s)n=0,i=U(-e/c,0,1);else{let t=oo.dot(ol),r=c*h-t*t;i=0!==r?U((t*d-e*h)/r,0,1):0,(n=(t*i+d)/h)<0?(n=0,i=U(-e/c,0,1)):n>1&&(n=1,i=U((t-e)/c,0,1))}}return t.copy(a).add(oo.multiplyScalar(i)),r.copy(o).add(ol.multiplyScalar(n)),t.sub(r),t.dot(t)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}let op=new Z;class of extends tc{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const r=new t3,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let e=0,t=1;e<32;e++,t++){const r=e/32*Math.PI*2,n=t/32*Math.PI*2;i.push(Math.cos(r),Math.sin(r),1,Math.cos(n),Math.sin(n),1)}r.setAttribute("position",new tZ(i,3));const n=new iL({fog:!1,toneMapped:!1});this.cone=new iJ(r,n),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);let e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),op.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(op),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}let om=new Z,og=new eq,oy=new eq;class ox extends iJ{constructor(e){const t=function e(t){let r=[];!0===t.isBone&&r.push(t);for(let i=0;i<t.children.length;i++)r.push(...e(t.children[i]));return r}(e),r=new t3,i=[],n=[];for(let e=0;e<t.length;e++){const r=t[e];r.parent&&r.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),n.push(0,0,0),n.push(0,0,0))}r.setAttribute("position",new tZ(i,3)),r.setAttribute("color",new tZ(n,3)),super(r,new iL({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0})),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1;const s=new tT(255),a=new tT(65280);this.setColors(s,a)}updateMatrixWorld(e){let t=this.bones,r=this.geometry,i=r.getAttribute("position");oy.copy(this.root.matrixWorld).invert();for(let e=0,r=0;e<t.length;e++){let n=t[e];n.parent&&n.parent.isBone&&(og.multiplyMatrices(oy,n.matrixWorld),om.setFromMatrixPosition(og),i.setXYZ(r,om.x,om.y,om.z),og.multiplyMatrices(oy,n.parent.matrixWorld),om.setFromMatrixPosition(og),i.setXYZ(r+1,om.x,om.y,om.z),r+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}setColors(e,t){let r=this.geometry.getAttribute("color");for(let i=0;i<r.count;i+=2)r.setXYZ(i,e.r,e.g,e.b),r.setXYZ(i+1,t.r,t.g,t.b);return r.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class ov extends ra{constructor(e,t,r){super(new sn(t,4,2),new tj({wireframe:!0,fog:!1,toneMapped:!1})),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}let ob=new Z,ow=new tT,o_=new tT;class oS extends tc{constructor(e,t,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new se(t);i.rotateY(.5*Math.PI),this.material=new tj({wireframe:!0,fog:!1,toneMapped:!1}),void 0===this.color&&(this.material.vertexColors=!0);const n=new Float32Array(3*i.getAttribute("position").count);i.setAttribute("color",new tV(n,3)),this.add(new ra(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){let e=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{let t=e.geometry.getAttribute("color");ow.copy(this.light.color),o_.copy(this.light.groundColor);for(let e=0,r=t.count;e<r;e++){let i=e<r/2?ow:o_;t.setXYZ(e,i.r,i.g,i.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(ob.setFromMatrixPosition(this.light.matrixWorld).negate())}}class ok extends iJ{constructor(e=10,t=10,r=4473924,i=8947848){r=new tT(r),i=new tT(i);const n=t/2,s=e/t,a=e/2,o=[],l=[];for(let e=0,u=0,c=-a;e<=t;e++,c+=s){o.push(-a,0,c,a,0,c),o.push(c,0,-a,c,0,a);const t=e===n?r:i;t.toArray(l,u),u+=3,t.toArray(l,u),u+=3,t.toArray(l,u),u+=3,t.toArray(l,u),u+=3}const u=new t3;u.setAttribute("position",new tZ(o,3)),u.setAttribute("color",new tZ(l,3)),super(u,new iL({vertexColors:!0,toneMapped:!1})),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class oM extends iJ{constructor(e=10,t=16,r=8,i=64,n=4473924,s=8947848){n=new tT(n),s=new tT(s);const a=[],o=[];if(t>1)for(let r=0;r<t;r++){const i=r/t*(2*Math.PI),l=Math.sin(i)*e,u=Math.cos(i)*e;a.push(0,0,0),a.push(l,0,u);const c=1&r?n:s;o.push(c.r,c.g,c.b),o.push(c.r,c.g,c.b)}for(let t=0;t<r;t++){const l=1&t?n:s,u=e-e/r*t;for(let e=0;e<i;e++){let t=e/i*(2*Math.PI),r=Math.sin(t)*u,n=Math.cos(t)*u;a.push(r,0,n),o.push(l.r,l.g,l.b),r=Math.sin(t=(e+1)/i*(2*Math.PI))*u,n=Math.cos(t)*u,a.push(r,0,n),o.push(l.r,l.g,l.b)}}const l=new t3;l.setAttribute("position",new tZ(a,3)),l.setAttribute("color",new tZ(o,3)),super(l,new iL({vertexColors:!0,toneMapped:!1})),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}let oC=new Z,oA=new Z,oI=new Z;class oT extends tc{constructor(e,t,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",void 0===t&&(t=1);let i=new t3;i.setAttribute("position",new tZ([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const n=new iL({fog:!1,toneMapped:!1});this.lightPlane=new iq(i,n),this.add(this.lightPlane),(i=new t3).setAttribute("position",new tZ([0,0,0,0,0,1],3)),this.targetLine=new iq(i,n),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),oC.setFromMatrixPosition(this.light.matrixWorld),oA.setFromMatrixPosition(this.light.target.matrixWorld),oI.subVectors(oA,oC),this.lightPlane.lookAt(oA),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(oA),this.targetLine.scale.z=oI.length()}}let oz=new Z,oE=new rf;class oN extends iJ{constructor(e){const t=new t3,r=new iL({color:0xffffff,vertexColors:!0,toneMapped:!1}),i=[],n=[],s={};function a(e,t){o(e),o(t)}function o(e){i.push(0,0,0),n.push(0,0,0),void 0===s[e]&&(s[e]=[]),s[e].push(i.length/3-1)}a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4"),t.setAttribute("position",new tZ(i,3)),t.setAttribute("color",new tZ(n,3)),super(t,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=s,this.update();const l=new tT(0xffaa00),u=new tT(0xff0000),c=new tT(43775),h=new tT(0xffffff),d=new tT(3355443);this.setColors(l,u,c,h,d)}setColors(e,t,r,i,n){let s=this.geometry.getAttribute("color");return s.setXYZ(0,e.r,e.g,e.b),s.setXYZ(1,e.r,e.g,e.b),s.setXYZ(2,e.r,e.g,e.b),s.setXYZ(3,e.r,e.g,e.b),s.setXYZ(4,e.r,e.g,e.b),s.setXYZ(5,e.r,e.g,e.b),s.setXYZ(6,e.r,e.g,e.b),s.setXYZ(7,e.r,e.g,e.b),s.setXYZ(8,e.r,e.g,e.b),s.setXYZ(9,e.r,e.g,e.b),s.setXYZ(10,e.r,e.g,e.b),s.setXYZ(11,e.r,e.g,e.b),s.setXYZ(12,e.r,e.g,e.b),s.setXYZ(13,e.r,e.g,e.b),s.setXYZ(14,e.r,e.g,e.b),s.setXYZ(15,e.r,e.g,e.b),s.setXYZ(16,e.r,e.g,e.b),s.setXYZ(17,e.r,e.g,e.b),s.setXYZ(18,e.r,e.g,e.b),s.setXYZ(19,e.r,e.g,e.b),s.setXYZ(20,e.r,e.g,e.b),s.setXYZ(21,e.r,e.g,e.b),s.setXYZ(22,e.r,e.g,e.b),s.setXYZ(23,e.r,e.g,e.b),s.setXYZ(24,t.r,t.g,t.b),s.setXYZ(25,t.r,t.g,t.b),s.setXYZ(26,t.r,t.g,t.b),s.setXYZ(27,t.r,t.g,t.b),s.setXYZ(28,t.r,t.g,t.b),s.setXYZ(29,t.r,t.g,t.b),s.setXYZ(30,t.r,t.g,t.b),s.setXYZ(31,t.r,t.g,t.b),s.setXYZ(32,r.r,r.g,r.b),s.setXYZ(33,r.r,r.g,r.b),s.setXYZ(34,r.r,r.g,r.b),s.setXYZ(35,r.r,r.g,r.b),s.setXYZ(36,r.r,r.g,r.b),s.setXYZ(37,r.r,r.g,r.b),s.setXYZ(38,i.r,i.g,i.b),s.setXYZ(39,i.r,i.g,i.b),s.setXYZ(40,n.r,n.g,n.b),s.setXYZ(41,n.r,n.g,n.b),s.setXYZ(42,n.r,n.g,n.b),s.setXYZ(43,n.r,n.g,n.b),s.setXYZ(44,n.r,n.g,n.b),s.setXYZ(45,n.r,n.g,n.b),s.setXYZ(46,n.r,n.g,n.b),s.setXYZ(47,n.r,n.g,n.b),s.setXYZ(48,n.r,n.g,n.b),s.setXYZ(49,n.r,n.g,n.b),s.needsUpdate=!0,this}update(){let e,t,r=this.geometry,i=this.pointMap;if(oE.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),!0===this.camera.reversedDepth)e=1,t=0;else if(2e3===this.camera.coordinateSystem)e=-1,t=1;else if(2001===this.camera.coordinateSystem)e=0,t=1;else throw Error("THREE.CameraHelper.update(): Invalid coordinate system: "+this.camera.coordinateSystem);oj("c",i,r,oE,0,0,e),oj("t",i,r,oE,0,0,t),oj("n1",i,r,oE,-1,-1,e),oj("n2",i,r,oE,1,-1,e),oj("n3",i,r,oE,-1,1,e),oj("n4",i,r,oE,1,1,e),oj("f1",i,r,oE,-1,-1,t),oj("f2",i,r,oE,1,-1,t),oj("f3",i,r,oE,-1,1,t),oj("f4",i,r,oE,1,1,t),oj("u1",i,r,oE,.7,1.1,e),oj("u2",i,r,oE,-.7,1.1,e),oj("u3",i,r,oE,0,2,e),oj("cf1",i,r,oE,-1,0,t),oj("cf2",i,r,oE,1,0,t),oj("cf3",i,r,oE,0,-1,t),oj("cf4",i,r,oE,0,1,t),oj("cn1",i,r,oE,-1,0,e),oj("cn2",i,r,oE,1,0,e),oj("cn3",i,r,oE,0,-1,e),oj("cn4",i,r,oE,0,1,e),r.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function oj(e,t,r,i,n,s,a){oz.set(n,s,a).unproject(i);let o=t[e];if(void 0!==o){let e=r.getAttribute("position");for(let t=0,r=o.length;t<r;t++)e.setXYZ(o[t],oz.x,oz.y,oz.z)}}let oO=new eb;class oD extends iJ{constructor(e,t=0xffff00){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(24),n=new t3;n.setIndex(new tV(r,1)),n.setAttribute("position",new tV(i,3)),super(n,new iL({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(void 0!==this.object&&oO.setFromObject(this.object),oO.isEmpty())return;let e=oO.min,t=oO.max,r=this.geometry.attributes.position,i=r.array;i[0]=t.x,i[1]=t.y,i[2]=t.z,i[3]=e.x,i[4]=t.y,i[5]=t.z,i[6]=e.x,i[7]=e.y,i[8]=t.z,i[9]=t.x,i[10]=e.y,i[11]=t.z,i[12]=t.x,i[13]=t.y,i[14]=e.z,i[15]=e.x,i[16]=t.y,i[17]=e.z,i[18]=e.x,i[19]=e.y,i[20]=e.z,i[21]=t.x,i[22]=e.y,i[23]=e.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class oP extends iJ{constructor(e,t=0xffff00){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new t3;i.setIndex(new tV(r,1)),i.setAttribute("position",new tZ([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),super(i,new iL({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){let t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class oR extends iq{constructor(e,t=1,r=0xffff00){const i=new t3;i.setAttribute("position",new tZ([1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],3)),i.computeBoundingSphere(),super(i,new iL({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const n=new t3;n.setAttribute("position",new tZ([1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],3)),n.computeBoundingSphere(),this.add(new ra(n,new tj({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}let oB=new Z;class oL extends tc{constructor(e=new Z(0,0,1),t=new Z(0,0,0),r=1,i=0xffff00,a=.2*r,o=.2*a){super(),this.type="ArrowHelper",void 0===n&&((n=new t3).setAttribute("position",new tZ([0,0,0,0,1,0],3)),(s=new nu(.5,1,5,1)).translate(0,-.5,0)),this.position.copy(t),this.line=new iq(n,new iL({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new ra(s,new tj({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,a,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{oB.set(e.z,0,-e.x).normalize();let t=Math.acos(e.y);this.quaternion.setFromAxisAngle(oB,t)}}setLength(e,t=.2*e,r=.2*t){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(r,t,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class oF extends iJ{constructor(e=1){const t=new t3;t.setAttribute("position",new tZ([0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],3)),t.setAttribute("color",new tZ([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3)),super(t,new iL({vertexColors:!0,toneMapped:!1})),this.type="AxesHelper"}setColors(e,t,r){let i=new tT,n=this.geometry.attributes.color.array;return i.set(e),i.toArray(n,0),i.toArray(n,3),i.set(t),i.toArray(n,6),i.toArray(n,9),i.set(r),i.toArray(n,12),i.toArray(n,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class oV{constructor(){this.type="ShapePath",this.color=new tT,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new nB,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,r,i){return this.currentPath.quadraticCurveTo(e,t,r,i),this}bezierCurveTo(e,t,r,i,n,s){return this.currentPath.bezierCurveTo(e,t,r,i,n,s),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){let t,r,i,n,s,a=n9.isClockWise,o=this.subPaths;if(0===o.length)return[];let l=[];if(1===o.length)return r=o[0],(i=new nL).curves=r.curves,l.push(i),l;let u=!a(o[0].getPoints());u=e?!u:u;let c=[],h=[],d=[],p=0;h[0]=void 0,d[p]=[];for(let i=0,s=o.length;i<s;i++)t=a(n=(r=o[i]).getPoints()),(t=e?!t:t)?(!u&&h[p]&&p++,h[p]={s:new nL,p:n},h[p].s.curves=r.curves,u&&p++,d[p]=[]):d[p].push({h:r,p:n[0]});if(!h[0])return function(e){let t=[];for(let r=0,i=e.length;r<i;r++){let i=e[r],n=new nL;n.curves=i.curves,t.push(n)}return t}(o);if(h.length>1){let e=!1,t=0;for(let e=0,t=h.length;e<t;e++)c[e]=[];for(let r=0,i=h.length;r<i;r++){let i=d[r];for(let n=0;n<i.length;n++){let s=i[n],a=!0;for(let i=0;i<h.length;i++)(function(e,t){let r=t.length,i=!1;for(let n=r-1,s=0;s<r;n=s++){let r=t[n],a=t[s],o=a.x-r.x,l=a.y-r.y;if(Math.abs(l)>Number.EPSILON){if(l<0&&(r=t[s],o=-o,a=t[n],l=-l),e.y<r.y||e.y>a.y)continue;if(e.y===r.y){if(e.x===r.x)return!0}else{let t=l*(e.x-r.x)-o*(e.y-r.y);if(0===t)return!0;if(t<0)continue;i=!i}}else{if(e.y!==r.y)continue;if(a.x<=e.x&&e.x<=r.x||r.x<=e.x&&e.x<=a.x)return!0}}return i})(s.p,h[i].p)&&(r!==i&&t++,a?(a=!1,c[i].push(s)):e=!0);a&&c[r].push(s)}}t>0&&!1===e&&(d=c)}for(let e=0,t=h.length;e<t;e++){i=h[e].s,l.push(i),s=d[e];for(let e=0,t=s.length;e<t;e++)i.holes.push(s[e].h)}return l}}class oU extends P{constructor(e,t=null){super(),this.object=e,this.domElement=t,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){void 0===e?N("Controls: connect() now requires an element."):(null!==this.domElement&&this.disconnect(),this.domElement=e)}disconnect(){}dispose(){}update(){}}function o$(e,t,r,i){let n=function(e){switch(e){case 1009:case 1010:return{byteLength:1,components:1};case 1012:case 1011:case 1016:return{byteLength:2,components:1};case 1017:case 1018:return{byteLength:2,components:4};case 1014:case 1013:case 1015:return{byteLength:4,components:1};case 35902:case 35899:return{byteLength:4,components:3}}throw Error(`Unknown texture type ${e}.`)}(i);switch(r){case 1021:return e*t;case 1028:case 1029:return e*t/n.components*n.byteLength;case 1030:case 1031:return e*t*2/n.components*n.byteLength;case 1022:return e*t*3/n.components*n.byteLength;case 1023:case 1033:return e*t*4/n.components*n.byteLength;case 33776:case 33777:case 36196:case 37492:case 37488:case 37489:return Math.floor((e+3)/4)*Math.floor((t+3)/4)*8;case 33778:case 33779:case 37496:case 37490:case 37491:case 37808:return Math.floor((e+3)/4)*Math.floor((t+3)/4)*16;case 35841:case 35843:return Math.max(e,16)*Math.max(t,8)/4;case 35840:case 35842:return Math.max(e,8)*Math.max(t,8)/2;case 37809:return Math.floor((e+4)/5)*Math.floor((t+3)/4)*16;case 37810:return Math.floor((e+4)/5)*Math.floor((t+4)/5)*16;case 37811:return Math.floor((e+5)/6)*Math.floor((t+4)/5)*16;case 37812:return Math.floor((e+5)/6)*Math.floor((t+5)/6)*16;case 37813:return Math.floor((e+7)/8)*Math.floor((t+4)/5)*16;case 37814:return Math.floor((e+7)/8)*Math.floor((t+5)/6)*16;case 37815:return Math.floor((e+7)/8)*Math.floor((t+7)/8)*16;case 37816:return Math.floor((e+9)/10)*Math.floor((t+4)/5)*16;case 37817:return Math.floor((e+9)/10)*Math.floor((t+5)/6)*16;case 37818:return Math.floor((e+9)/10)*Math.floor((t+7)/8)*16;case 37819:return Math.floor((e+9)/10)*Math.floor((t+9)/10)*16;case 37820:return Math.floor((e+11)/12)*Math.floor((t+9)/10)*16;case 37821:return Math.floor((e+11)/12)*Math.floor((t+11)/12)*16;case 36492:case 36494:case 36495:case 36285:case 36286:return Math.ceil(e/4)*Math.ceil(t/4)*16;case 36283:case 36284:return Math.ceil(e/4)*Math.ceil(t/4)*8}throw Error(`Unable to determine texture byte length for ${r} format.`)}class oW{static contain(e,t){let r;return(r=e.image&&e.image.width?e.image.width/e.image.height:1)>t?(e.repeat.x=1,e.repeat.y=r/t,e.offset.x=0,e.offset.y=(1-e.repeat.y)/2):(e.repeat.x=t/r,e.repeat.y=1,e.offset.x=(1-e.repeat.x)/2,e.offset.y=0),e}static cover(e,t){let r;return(r=e.image&&e.image.width?e.image.width/e.image.height:1)>t?(e.repeat.x=t/r,e.repeat.y=1,e.offset.x=(1-e.repeat.x)/2,e.offset.y=0):(e.repeat.x=1,e.repeat.y=r/t,e.offset.x=0,e.offset.y=(1-e.repeat.y)/2),e}static fill(e){return e.repeat.x=1,e.repeat.y=1,e.offset.x=0,e.offset.y=0,e}static getByteLength(e,t,r,i){return o$(e,t,r,i)}}"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"182"}})),"undefined"!=typeof window&&(window.__THREE__?N("WARNING: Multiple instances of Three.js being imported."):window.__THREE__="182"),e.s(["ACESFilmicToneMapping",()=>4,"AddEquation",()=>100,"AddOperation",()=>2,"AdditiveAnimationBlendMode",()=>2501,"AdditiveBlending",()=>2,"AgXToneMapping",()=>6,"AlphaFormat",()=>1021,"AlwaysCompare",()=>519,"AlwaysDepth",()=>1,"AlwaysStencilFunc",()=>519,"AmbientLight",()=>as,"AnimationAction",()=>aX,"AnimationClip",()=>sV,"AnimationLoader",()=>sX,"AnimationMixer",()=>aJ,"AnimationObjectGroup",()=>aY,"AnimationUtils",()=>sI,"ArcCurve",()=>nv,"ArrayCamera",()=>aM,"ArrowHelper",()=>oL,"AttachedBindMode",()=>d,"Audio",()=>aj,"AudioAnalyser",()=>aL,"AudioContext",()=>av,"AudioListener",()=>aN,"AudioLoader",()=>ab,"AxesHelper",()=>oF,"BackSide",()=>1,"BasicDepthPacking",()=>3200,"BasicShadowMap",()=>0,"BatchedMesh",()=>iB,"Bone",()=>r4,"BooleanKeyframeTrack",()=>sO,"Box2",()=>on,"Box3",()=>eb,"Box3Helper",()=>oP,"BoxGeometry",()=>rl,"BoxHelper",()=>oD,"BufferAttribute",()=>tV,"BufferGeometry",()=>t3,"BufferGeometryLoader",()=>ad,"ByteType",()=>1010,"Cache",()=>sU,"Camera",()=>rf,"CameraHelper",()=>oN,"CanvasTexture",()=>nr,"CapsuleGeometry",()=>na,"CatmullRomCurve3",()=>nM,"CineonToneMapping",()=>3,"CircleGeometry",()=>no,"ClampToEdgeWrapping",()=>1001,"Clock",()=>aC,"Color",()=>tT,"ColorKeyframeTrack",()=>sD,"ColorManagement",()=>ei,"CompressedArrayTexture",()=>ne,"CompressedCubeTexture",()=>nt,"CompressedTexture",()=>i7,"CompressedTextureLoader",()=>sZ,"ConeGeometry",()=>nu,"ConstantAlphaFactor",()=>213,"ConstantColorFactor",()=>211,"Controls",()=>oU,"CubeCamera",()=>rv,"CubeDepthTexture",()=>nn,"CubeReflectionMapping",()=>301,"CubeRefractionMapping",()=>302,"CubeTexture",()=>rb,"CubeTextureLoader",()=>sQ,"CubeUVReflectionMapping",()=>306,"CubicBezierCurve",()=>nT,"CubicBezierCurve3",()=>nz,"CubicInterpolant",()=>sz,"CullFaceBack",()=>1,"CullFaceFront",()=>2,"CullFaceFrontBack",()=>3,"CullFaceNone",()=>0,"Curve",()=>ny,"CurvePath",()=>nR,"CustomBlending",()=>5,"CustomToneMapping",()=>5,"CylinderGeometry",()=>nl,"Cylindrical",()=>ot,"Data3DTexture",()=>ex,"DataArrayTexture",()=>eg,"DataTexture",()=>r8,"DataTextureLoader",()=>s1,"DataUtils",()=>tR,"DecrementStencilOp",()=>7683,"DecrementWrapStencilOp",()=>34056,"DefaultLoadingManager",()=>sW,"DepthFormat",()=>1026,"DepthStencilFormat",()=>1027,"DepthTexture",()=>ni,"DetachedBindMode",()=>p,"DirectionalLight",()=>an,"DirectionalLightHelper",()=>oT,"DiscreteInterpolant",()=>sN,"DodecahedronGeometry",()=>nh,"DoubleSide",()=>2,"DstAlphaFactor",()=>206,"DstColorFactor",()=>208,"DynamicCopyUsage",()=>35050,"DynamicDrawUsage",()=>35048,"DynamicReadUsage",()=>35049,"EdgesGeometry",()=>ng,"EllipseCurve",()=>nx,"EqualCompare",()=>514,"EqualDepth",()=>4,"EqualStencilFunc",()=>514,"EquirectangularReflectionMapping",()=>303,"EquirectangularRefractionMapping",()=>304,"Euler",()=>e9,"EventDispatcher",()=>P,"ExternalTexture",()=>ns,"ExtrudeGeometry",()=>n8,"FileLoader",()=>sY,"Float16BufferAttribute",()=>tX,"Float32BufferAttribute",()=>tZ,"FloatType",()=>1015,"Fog",()=>rC,"FogExp2",()=>rM,"FramebufferTexture",()=>i5,"FrontSide",()=>0,"Frustum",()=>ix,"FrustumArray",()=>iw,"GLBufferAttribute",()=>a9,"GLSL1",()=>"100","GLSL3",()=>"300 es","GreaterCompare",()=>516,"GreaterDepth",()=>6,"GreaterEqualCompare",()=>518,"GreaterEqualDepth",()=>5,"GreaterEqualStencilFunc",()=>518,"GreaterStencilFunc",()=>516,"GridHelper",()=>ok,"Group",()=>r_,"HalfFloatType",()=>1016,"HemisphereLight",()=>s9,"HemisphereLightHelper",()=>oS,"IcosahedronGeometry",()=>n5,"ImageBitmapLoader",()=>ax,"ImageLoader",()=>sK,"ImageUtils",()=>ea,"IncrementStencilOp",()=>7682,"IncrementWrapStencilOp",()=>34055,"InstancedBufferAttribute",()=>ie,"InstancedBufferGeometry",()=>ah,"InstancedInterleavedBuffer",()=>a2,"InstancedMesh",()=>iu,"Int16BufferAttribute",()=>tG,"Int32BufferAttribute",()=>tq,"Int8BufferAttribute",()=>tU,"IntType",()=>1013,"InterleavedBuffer",()=>rI,"InterleavedBufferAttribute",()=>rz,"Interpolant",()=>sT,"InterpolateDiscrete",()=>2300,"InterpolateLinear",()=>2301,"InterpolateSmooth",()=>2302,"InterpolationSamplingMode",()=>b,"InterpolationSamplingType",()=>v,"InvertStencilOp",()=>5386,"KeepStencilOp",()=>7680,"KeyframeTrack",()=>sj,"LOD",()=>rY,"LatheGeometry",()=>n7,"Layers",()=>e3,"LessCompare",()=>513,"LessDepth",()=>2,"LessEqualCompare",()=>515,"LessEqualDepth",()=>3,"LessEqualStencilFunc",()=>515,"LessStencilFunc",()=>513,"Light",()=>s2,"LightProbe",()=>al,"Line",()=>iq,"Line3",()=>od,"LineBasicMaterial",()=>iL,"LineCurve",()=>nE,"LineCurve3",()=>nN,"LineDashedMaterial",()=>sS,"LineLoop",()=>iK,"LineSegments",()=>iJ,"LinearFilter",()=>1006,"LinearInterpolant",()=>sE,"LinearMipMapLinearFilter",()=>1008,"LinearMipMapNearestFilter",()=>1007,"LinearMipmapLinearFilter",()=>1008,"LinearMipmapNearestFilter",()=>1007,"LinearSRGBColorSpace",()=>m,"LinearToneMapping",()=>1,"LinearTransfer",()=>g,"Loader",()=>sG,"LoaderUtils",()=>ac,"LoadingManager",()=>s$,"LoopOnce",()=>2200,"LoopPingPong",()=>2202,"LoopRepeat",()=>2201,"MOUSE",()=>c,"Material",()=>tN,"MaterialLoader",()=>au,"MathUtils",()=>q,"Matrix2",()=>or,"Matrix3",()=>Q,"Matrix4",()=>eq,"MaxEquation",()=>104,"Mesh",()=>ra,"MeshBasicMaterial",()=>tj,"MeshDepthMaterial",()=>sb,"MeshDistanceMaterial",()=>sw,"MeshLambertMaterial",()=>sv,"MeshMatcapMaterial",()=>s_,"MeshNormalMaterial",()=>sx,"MeshPhongMaterial",()=>sg,"MeshPhysicalMaterial",()=>sm,"MeshStandardMaterial",()=>sf,"MeshToonMaterial",()=>sy,"MinEquation",()=>103,"MirroredRepeatWrapping",()=>1002,"MixOperation",()=>1,"MultiplyBlending",()=>4,"MultiplyOperation",()=>0,"NearestFilter",()=>1003,"NearestMipMapLinearFilter",()=>1005,"NearestMipMapNearestFilter",()=>1004,"NearestMipmapLinearFilter",()=>1005,"NearestMipmapNearestFilter",()=>1004,"NeutralToneMapping",()=>7,"NeverCompare",()=>512,"NeverDepth",()=>0,"NeverStencilFunc",()=>512,"NoBlending",()=>0,"NoColorSpace",()=>"","NoNormalPacking",()=>"","NoToneMapping",()=>0,"NormalAnimationBlendMode",()=>2500,"NormalBlending",()=>1,"NormalGAPacking",()=>"ga","NormalRGPacking",()=>"rg","NotEqualCompare",()=>517,"NotEqualDepth",()=>7,"NotEqualStencilFunc",()=>517,"NumberKeyframeTrack",()=>sP,"Object3D",()=>tc,"ObjectLoader",()=>ap,"ObjectSpaceNormalMap",()=>1,"OctahedronGeometry",()=>se,"OneFactor",()=>201,"OneMinusConstantAlphaFactor",()=>214,"OneMinusConstantColorFactor",()=>212,"OneMinusDstAlphaFactor",()=>207,"OneMinusDstColorFactor",()=>209,"OneMinusSrcAlphaFactor",()=>205,"OneMinusSrcColorFactor",()=>203,"OrthographicCamera",()=>ar,"PCFShadowMap",()=>1,"PCFSoftShadowMap",()=>2,"Path",()=>nB,"PerspectiveCamera",()=>rx,"Plane",()=>ip,"PlaneGeometry",()=>st,"PlaneHelper",()=>oR,"PointLight",()=>at,"PointLightHelper",()=>ov,"Points",()=>i3,"PointsMaterial",()=>iQ,"PolarGridHelper",()=>oM,"PolyhedronGeometry",()=>nc,"PositionalAudio",()=>aB,"PropertyBinding",()=>aq,"PropertyMixer",()=>aF,"QuadraticBezierCurve",()=>nj,"QuadraticBezierCurve3",()=>nO,"Quaternion",()=>X,"QuaternionKeyframeTrack",()=>sB,"QuaternionLinearInterpolant",()=>sR,"R11_EAC_Format",()=>37488,"RAD2DEG",()=>F,"RED_GREEN_RGTC2_Format",()=>36285,"RED_RGTC1_Format",()=>36283,"REVISION",()=>"182","RG11_EAC_Format",()=>37490,"RGBADepthPacking",()=>3201,"RGBAFormat",()=>1023,"RGBAIntegerFormat",()=>1033,"RGBA_ASTC_10x10_Format",()=>37819,"RGBA_ASTC_10x5_Format",()=>37816,"RGBA_ASTC_10x6_Format",()=>37817,"RGBA_ASTC_10x8_Format",()=>37818,"RGBA_ASTC_12x10_Format",()=>37820,"RGBA_ASTC_12x12_Format",()=>37821,"RGBA_ASTC_4x4_Format",()=>37808,"RGBA_ASTC_5x4_Format",()=>37809,"RGBA_ASTC_5x5_Format",()=>37810,"RGBA_ASTC_6x5_Format",()=>37811,"RGBA_ASTC_6x6_Format",()=>37812,"RGBA_ASTC_8x5_Format",()=>37813,"RGBA_ASTC_8x6_Format",()=>37814,"RGBA_ASTC_8x8_Format",()=>37815,"RGBA_BPTC_Format",()=>36492,"RGBA_ETC2_EAC_Format",()=>37496,"RGBA_PVRTC_2BPPV1_Format",()=>35843,"RGBA_PVRTC_4BPPV1_Format",()=>35842,"RGBA_S3TC_DXT1_Format",()=>33777,"RGBA_S3TC_DXT3_Format",()=>33778,"RGBA_S3TC_DXT5_Format",()=>33779,"RGBDepthPacking",()=>3202,"RGBFormat",()=>1022,"RGBIntegerFormat",()=>1032,"RGB_BPTC_SIGNED_Format",()=>36494,"RGB_BPTC_UNSIGNED_Format",()=>36495,"RGB_ETC1_Format",()=>36196,"RGB_ETC2_Format",()=>37492,"RGB_PVRTC_2BPPV1_Format",()=>35841,"RGB_PVRTC_4BPPV1_Format",()=>35840,"RGB_S3TC_DXT1_Format",()=>33776,"RGDepthPacking",()=>3203,"RGFormat",()=>1030,"RGIntegerFormat",()=>1031,"RawShaderMaterial",()=>sp,"Ray",()=>eH,"Raycaster",()=>a4,"RectAreaLight",()=>aa,"RedFormat",()=>1028,"RedIntegerFormat",()=>1029,"ReinhardToneMapping",()=>2,"RenderTarget",()=>ef,"RenderTarget3D",()=>aK,"RepeatWrapping",()=>1e3,"ReplaceStencilOp",()=>7681,"ReverseSubtractEquation",()=>102,"RingGeometry",()=>sr,"SIGNED_R11_EAC_Format",()=>37489,"SIGNED_RED_GREEN_RGTC2_Format",()=>36286,"SIGNED_RED_RGTC1_Format",()=>36284,"SIGNED_RG11_EAC_Format",()=>37491,"SRGBColorSpace",()=>f,"SRGBTransfer",()=>y,"Scene",()=>rA,"ShaderMaterial",()=>rp,"ShadowMaterial",()=>sd,"Shape",()=>nL,"ShapeGeometry",()=>si,"ShapePath",()=>oV,"ShapeUtils",()=>n9,"ShortType",()=>1011,"Skeleton",()=>r7,"SkeletonHelper",()=>ox,"SkinnedMesh",()=>r3,"Source",()=>el,"Sphere",()=>eB,"SphereGeometry",()=>sn,"Spherical",()=>oe,"SphericalHarmonics3",()=>ao,"SplineCurve",()=>nD,"SpotLight",()=>s7,"SpotLightHelper",()=>of,"Sprite",()=>rW,"SpriteMaterial",()=>rE,"SrcAlphaFactor",()=>204,"SrcAlphaSaturateFactor",()=>210,"SrcColorFactor",()=>202,"StaticCopyUsage",()=>35046,"StaticDrawUsage",()=>35044,"StaticReadUsage",()=>35045,"StereoCamera",()=>ak,"StreamCopyUsage",()=>35042,"StreamDrawUsage",()=>35040,"StreamReadUsage",()=>35041,"StringKeyframeTrack",()=>sL,"SubtractEquation",()=>101,"SubtractiveBlending",()=>3,"TOUCH",()=>h,"TangentSpaceNormalMap",()=>0,"TetrahedronGeometry",()=>ss,"Texture",()=>ed,"TextureLoader",()=>s0,"TextureUtils",()=>oW,"Timer",()=>a5,"TimestampQuery",()=>x,"TorusGeometry",()=>sa,"TorusKnotGeometry",()=>so,"Triangle",()=>tk,"TriangleFanDrawMode",()=>2,"TriangleStripDrawMode",()=>1,"TrianglesDrawMode",()=>0,"TubeGeometry",()=>sl,"UVMapping",()=>300,"Uint16BufferAttribute",()=>tH,"Uint32BufferAttribute",()=>tY,"Uint8BufferAttribute",()=>t$,"Uint8ClampedBufferAttribute",()=>tW,"Uniform",()=>aQ,"UniformsGroup",()=>a0,"UniformsUtils",()=>rd,"UnsignedByteType",()=>1009,"UnsignedInt101111Type",()=>35899,"UnsignedInt248Type",()=>1020,"UnsignedInt5999Type",()=>35902,"UnsignedIntType",()=>1014,"UnsignedShort4444Type",()=>1017,"UnsignedShort5551Type",()=>1018,"UnsignedShortType",()=>1012,"VSMShadowMap",()=>3,"Vector2",()=>Y,"Vector3",()=>Z,"Vector4",()=>ep,"VectorKeyframeTrack",()=>sF,"VideoFrameTexture",()=>i6,"VideoTexture",()=>i8,"WebGL3DRenderTarget",()=>ev,"WebGLArrayRenderTarget",()=>ey,"WebGLCoordinateSystem",()=>2e3,"WebGLCubeRenderTarget",()=>rw,"WebGLRenderTarget",()=>em,"WebGPUCoordinateSystem",()=>2001,"WebXRController",()=>rk,"WireframeGeometry",()=>su,"WrapAroundEnding",()=>2402,"ZeroCurvatureEnding",()=>2400,"ZeroFactor",()=>200,"ZeroSlopeEnding",()=>2401,"ZeroStencilOp",()=>0,"arrayNeedsUint32",()=>w,"cloneUniforms",()=>ru,"createCanvasElement",()=>C,"createElementNS",()=>M,"error",()=>j,"getByteLength",()=>o$,"getConsoleFunction",()=>z,"getUnlitUniformColorSpace",()=>rh,"log",()=>E,"mergeUniforms",()=>rc,"probeAsync",()=>D,"setConsoleFunction",()=>T,"warn",()=>N,"warnOnce",()=>O])},87904,27550,72508,3546,13105,85503,82296,50814,25613,70736,34801,98988,81872,e=>{"use strict";e.s(["useGlobalStore",()=>v],87904);var t,r,i,n,s,a,o,l,u,c=e.i(87628),h=e.i(9858);e.s([],13105);let d={Accent:{interpolate:!1,colors:[[.498,.7882,.498],[.7451,.6824,.8314],[.9922,.7529,.5255],[1,1,.6],[.2196,.4235,.6902],[.9412,.0078,.498],[.749,.3569,.0902],[.4,.4,.4]]},Blues:{interpolate:!0,colors:[[.9686,.9843,1],[.9656,.9823,.999],[.9625,.9804,.998],[.9594,.9784,.997],[.9563,.9764,.9961],[.9532,.9745,.9951],[.9502,.9725,.9941],[.9471,.9705,.9931],[.944,.9686,.9921],[.9409,.9666,.9911],[.9379,.9646,.9902],[.9348,.9627,.9892],[.9317,.9607,.9882],[.9286,.9587,.9872],[.9256,.9568,.9862],[.9225,.9548,.9852],[.9194,.9528,.9843],[.9163,.9508,.9833],[.9133,.9489,.9823],[.9102,.9469,.9813],[.9071,.9449,.9803],[.904,.943,.9793],[.901,.941,.9783],[.8979,.939,.9774],[.8948,.9371,.9764],[.8917,.9351,.9754],[.8887,.9331,.9744],[.8856,.9312,.9734],[.8825,.9292,.9724],[.8794,.9272,.9715],[.8764,.9253,.9705],[.8733,.9233,.9695],[.8702,.9213,.9685],[.8673,.9194,.9675],[.8643,.9174,.9665],[.8614,.9154,.9656],[.8584,.9134,.9646],[.8555,.9115,.9636],[.8525,.9095,.9626],[.8496,.9075,.9616],[.8466,.9056,.9606],[.8436,.9036,.9596],[.8407,.9016,.9587],[.8377,.8997,.9577],[.8348,.8977,.9567],[.8318,.8957,.9557],[.8289,.8938,.9547],[.8259,.8918,.9537],[.823,.8898,.9528],[.82,.8879,.9518],[.8171,.8859,.9508],[.8141,.8839,.9498],[.8112,.882,.9488],[.8082,.88,.9478],[.8053,.878,.9469],[.8023,.876,.9459],[.7994,.8741,.9449],[.7964,.8721,.9439],[.7934,.8701,.9429],[.7905,.8682,.9419],[.7875,.8662,.9409],[.7846,.8642,.94],[.7816,.8623,.939],[.7787,.8603,.938],[.7752,.8583,.9368],[.7703,.8562,.9351],[.7654,.8541,.9334],[.7605,.852,.9317],[.7556,.8499,.9299],[.7506,.8478,.9282],[.7457,.8458,.9265],[.7408,.8437,.9248],[.7359,.8416,.923],[.7309,.8395,.9213],[.726,.8374,.9196],[.7211,.8353,.9179],[.7162,.8332,.9162],[.7113,.8311,.9144],[.7063,.829,.9127],[.7014,.8269,.911],[.6965,.8248,.9093],[.6916,.8227,.9075],[.6867,.8207,.9058],[.6817,.8186,.9041],[.6768,.8165,.9024],[.6719,.8144,.9007],[.667,.8123,.8989],[.6621,.8102,.8972],[.6571,.8081,.8955],[.6522,.806,.8938],[.6473,.8039,.892],[.6424,.8018,.8903],[.6374,.7997,.8886],[.6325,.7976,.8869],[.6276,.7956,.8852],[.6227,.7935,.8834],[.6173,.7909,.8818],[.611,.7874,.8805],[.6047,.784,.8791],[.5984,.7805,.8778],[.5922,.7771,.8764],[.5859,.7736,.8751],[.5796,.7702,.8737],[.5733,.7668,.8724],[.5671,.7633,.871],[.5608,.7599,.8697],[.5545,.7564,.8683],[.5482,.753,.867],[.542,.7495,.8656],[.5357,.7461,.8643],[.5294,.7426,.8629],[.5231,.7392,.8615],[.5169,.7357,.8602],[.5106,.7323,.8588],[.5043,.7289,.8575],[.498,.7254,.8561],[.4918,.722,.8548],[.4855,.7185,.8534],[.4792,.7151,.8521],[.4729,.7116,.8507],[.4667,.7082,.8494],[.4604,.7047,.848],[.4541,.7013,.8467],[.4478,.6979,.8453],[.4416,.6944,.844],[.4353,.691,.8426],[.429,.6875,.8412],[.4227,.6841,.8399],[.4171,.6806,.8382],[.412,.6772,.8363],[.407,.6737,.8343],[.402,.6703,.8323],[.3969,.6669,.8304],[.3919,.6634,.8284],[.3868,.66,.8264],[.3818,.6565,.8245],[.3767,.6531,.8225],[.3717,.6496,.8205],[.3666,.6462,.8185],[.3616,.6427,.8166],[.3566,.6393,.8146],[.3515,.6358,.8126],[.3465,.6324,.8107],[.3414,.629,.8087],[.3364,.6255,.8067],[.3313,.6221,.8048],[.3263,.6186,.8028],[.3212,.6152,.8008],[.3162,.6117,.7989],[.3112,.6083,.7969],[.3061,.6048,.7949],[.3011,.6014,.793],[.296,.598,.791],[.291,.5945,.789],[.2859,.5911,.7871],[.2809,.5876,.7851],[.2758,.5842,.7831],[.2708,.5807,.7811],[.2658,.5773,.7792],[.2607,.5738,.7772],[.2563,.57,.7752],[.2522,.566,.7731],[.2482,.5619,.771],[.2441,.5578,.7689],[.24,.5538,.7668],[.236,.5497,.7647],[.2319,.5457,.7626],[.2279,.5416,.7605],[.2238,.5375,.7584],[.2197,.5335,.7563],[.2157,.5294,.7542],[.2116,.5254,.7522],[.2076,.5213,.7501],[.2035,.5172,.748],[.1994,.5132,.7459],[.1954,.5091,.7438],[.1913,.5051,.7417],[.1873,.501,.7396],[.1832,.4969,.7375],[.1791,.4929,.7354],[.1751,.4888,.7333],[.171,.4848,.7312],[.167,.4807,.7292],[.1629,.4766,.7271],[.1588,.4726,.725],[.1548,.4685,.7229],[.1507,.4645,.7208],[.1467,.4604,.7187],[.1426,.4563,.7166],[.1385,.4523,.7145],[.1345,.4482,.7124],[.1304,.4442,.7103],[.1271,.4402,.7075],[.124,.4362,.7044],[.121,.4323,.7013],[.1179,.4284,.6983],[.1148,.4244,.6952],[.1117,.4205,.6921],[.1087,.4166,.689],[.1056,.4126,.686],[.1025,.4087,.6829],[.0994,.4048,.6798],[.0963,.4008,.6767],[.0933,.3969,.6737],[.0902,.3929,.6706],[.0871,.389,.6675],[.084,.3851,.6644],[.081,.3811,.6614],[.0779,.3772,.6583],[.0748,.3733,.6552],[.0717,.3693,.6521],[.0687,.3654,.6491],[.0656,.3614,.646],[.0625,.3575,.6429],[.0594,.3536,.6398],[.0564,.3496,.6368],[.0533,.3457,.6337],[.0502,.3418,.6306],[.0471,.3378,.6275],[.0441,.3339,.6245],[.041,.33,.6214],[.0379,.326,.6183],[.0348,.3221,.6152],[.0318,.3181,.6121],[.0314,.3141,.6065],[.0314,.31,.6005],[.0314,.306,.5944],[.0314,.3019,.5884],[.0314,.2979,.5824],[.0314,.2938,.5763],[.0314,.2897,.5703],[.0314,.2857,.5643],[.0314,.2816,.5583],[.0314,.2776,.5522],[.0314,.2735,.5462],[.0314,.2694,.5402],[.0314,.2654,.5341],[.0314,.2613,.5281],[.0314,.2573,.5221],[.0314,.2532,.5161],[.0314,.2491,.51],[.0314,.2451,.504],[.0314,.241,.498],[.0314,.237,.4919],[.0314,.2329,.4859],[.0314,.2288,.4799],[.0314,.2248,.4739],[.0314,.2207,.4678],[.0314,.2167,.4618],[.0314,.2126,.4558],[.0314,.2085,.4498],[.0314,.2045,.4437],[.0314,.2004,.4377],[.0314,.1964,.4317],[.0314,.1923,.4256],[.0314,.1882,.4196]]},BrBG:{interpolate:!0,colors:[[.3294,.1882,.0196],[.338,.1933,.0204],[.3466,.1984,.0211],[.3552,.2035,.0219],[.3639,.2085,.0227],[.3725,.2136,.0235],[.3811,.2187,.0242],[.3897,.2238,.025],[.3983,.2288,.0258],[.4069,.2339,.0265],[.4155,.239,.0273],[.4241,.2441,.0281],[.4328,.2491,.0288],[.4414,.2542,.0296],[.45,.2593,.0304],[.4586,.2644,.0311],[.4672,.2694,.0319],[.4758,.2745,.0327],[.4844,.2796,.0334],[.493,.2847,.0342],[.5017,.2897,.035],[.5103,.2948,.0358],[.5189,.2999,.0365],[.5275,.305,.0373],[.5361,.31,.0381],[.5447,.3151,.0388],[.5529,.3213,.0419],[.5608,.3287,.0473],[.5686,.3361,.0527],[.5765,.3435,.0581],[.5843,.3509,.0634],[.5922,.3582,.0688],[.6,.3656,.0742],[.6078,.373,.0796],[.6157,.3804,.085],[.6235,.3878,.0903],[.6314,.3952,.0957],[.6392,.4025,.1011],[.6471,.4099,.1065],[.6549,.4173,.1119],[.6627,.4247,.1173],[.6706,.4321,.1226],[.6784,.4394,.128],[.6863,.4468,.1334],[.6941,.4542,.1388],[.702,.4616,.1442],[.7098,.469,.1496],[.7176,.4764,.1549],[.7255,.4837,.1603],[.7333,.4911,.1657],[.7412,.4985,.1711],[.749,.5059,.1765],[.7539,.5159,.1888],[.7589,.5259,.2011],[.7638,.5359,.2134],[.7687,.5459,.2257],[.7736,.5559,.238],[.7785,.5659,.2503],[.7835,.5759,.2626],[.7884,.5859,.2749],[.7933,.5958,.2872],[.7982,.6058,.2995],[.8032,.6158,.3118],[.8081,.6258,.3241],[.813,.6358,.3364],[.8179,.6458,.3487],[.8228,.6558,.361],[.8278,.6658,.3733],[.8327,.6758,.3856],[.8376,.6858,.3979],[.8425,.6958,.4102],[.8474,.7058,.4225],[.8524,.7158,.4348],[.8573,.7258,.4471],[.8622,.7358,.4594],[.8671,.7458,.4717],[.872,.7558,.484],[.8763,.7637,.4956],[.8798,.7696,.5063],[.8834,.7754,.5171],[.8869,.7812,.5279],[.8904,.7871,.5386],[.894,.7929,.5494],[.8975,.7988,.5602],[.901,.8046,.5709],[.9046,.8105,.5817],[.9081,.8163,.5925],[.9116,.8221,.6032],[.9152,.828,.614],[.9187,.8338,.6248],[.9223,.8397,.6355],[.9258,.8455,.6463],[.9293,.8514,.6571],[.9329,.8572,.6678],[.9364,.8631,.6786],[.9399,.8689,.6894],[.9435,.8747,.7001],[.947,.8806,.7109],[.9506,.8864,.7216],[.9541,.8923,.7324],[.9576,.8981,.7432],[.9612,.904,.7539],[.9647,.9098,.7647],[.9646,.9118,.7724],[.9644,.9138,.7801],[.9642,.9158,.7878],[.9641,.9178,.7955],[.9639,.9198,.8032],[.9638,.9218,.8108],[.9636,.9238,.8185],[.9635,.9258,.8262],[.9633,.9278,.8339],[.9632,.9298,.8416],[.963,.9318,.8493],[.9629,.9338,.857],[.9627,.9358,.8647],[.9626,.9378,.8724],[.9624,.9398,.88],[.9622,.9418,.8877],[.9621,.9438,.8954],[.9619,.9458,.9031],[.9618,.9478,.9108],[.9616,.9498,.9185],[.9615,.9518,.9262],[.9613,.9538,.9339],[.9612,.9558,.9416],[.961,.9578,.9493],[.9609,.9598,.9569],[.9572,.9599,.9596],[.9502,.9582,.9571],[.9431,.9566,.9546],[.936,.9549,.9522],[.929,.9532,.9497],[.9219,.9515,.9473],[.9148,.9498,.9448],[.9077,.9481,.9423],[.9007,.9464,.9399],[.8936,.9447,.9374],[.8865,.943,.9349],[.8794,.9413,.9325],[.8724,.9396,.93],[.8653,.9379,.9276],[.8582,.9363,.9251],[.8511,.9346,.9226],[.8441,.9329,.9202],[.837,.9312,.9177],[.8299,.9295,.9153],[.8228,.9278,.9128],[.8158,.9261,.9103],[.8087,.9244,.9079],[.8016,.9227,.9054],[.7945,.921,.903],[.7875,.9193,.9005],[.7804,.9176,.898],[.7695,.9132,.8925],[.7586,.9087,.887],[.7476,.9043,.8814],[.7367,.8998,.8759],[.7258,.8953,.8704],[.7149,.8909,.8648],[.704,.8864,.8593],[.693,.882,.8537],[.6821,.8775,.8482],[.6712,.873,.8427],[.6603,.8686,.8371],[.6494,.8641,.8316],[.6384,.8597,.8261],[.6275,.8552,.8205],[.6166,.8507,.815],[.6057,.8463,.8095],[.5948,.8418,.8039],[.5839,.8374,.7984],[.5729,.8329,.7928],[.562,.8285,.7873],[.5511,.824,.7818],[.5402,.8195,.7762],[.5293,.8151,.7707],[.5183,.8106,.7652],[.5074,.8062,.7596],[.4962,.7998,.753],[.4847,.7915,.7453],[.4731,.7832,.7376],[.4616,.7749,.73],[.4501,.7666,.7223],[.4385,.7582,.7146],[.427,.7499,.7069],[.4155,.7416,.6992],[.4039,.7333,.6915],[.3924,.725,.6838],[.3809,.7167,.6761],[.3693,.7084,.6684],[.3578,.7001,.6607],[.3463,.6918,.6531],[.3347,.6835,.6454],[.3232,.6752,.6377],[.3116,.6669,.63],[.3001,.6586,.6223],[.2886,.6503,.6146],[.277,.642,.6069],[.2655,.6337,.5992],[.254,.6254,.5915],[.2424,.6171,.5839],[.2309,.6088,.5762],[.2194,.6005,.5685],[.2078,.5922,.5608],[.1998,.5846,.5532],[.1918,.5771,.5457],[.1839,.5696,.5382],[.1759,.562,.5306],[.1679,.5545,.5231],[.1599,.5469,.5156],[.1519,.5394,.508],[.1439,.5319,.5005],[.1359,.5243,.493],[.1279,.5168,.4854],[.1199,.5093,.4779],[.1119,.5017,.4704],[.1039,.4942,.4628],[.0959,.4867,.4553],[.0879,.4791,.4478],[.0799,.4716,.4402],[.0719,.4641,.4327],[.0639,.4565,.4251],[.0559,.449,.4176],[.0479,.4414,.4101],[.0399,.4339,.4025],[.0319,.4264,.395],[.0239,.4188,.3875],[.0159,.4113,.3799],[.0079,.4038,.3724],[.0038,.3968,.3651],[.0037,.3903,.358],[.0035,.3839,.3509],[.0034,.3774,.3439],[.0032,.3709,.3368],[.0031,.3645,.3297],[.0029,.358,.3226],[.0028,.3516,.3156],[.0026,.3451,.3085],[.0025,.3386,.3014],[.0023,.3322,.2943],[.0022,.3257,.2873],[.002,.3193,.2802],[.0018,.3128,.2731],[.0017,.3063,.2661],[.0015,.2999,.259],[.0014,.2934,.2519],[.0012,.287,.2448],[.0011,.2805,.2378],[9e-4,.274,.2307],[8e-4,.2676,.2236],[6e-4,.2611,.2165],[5e-4,.2547,.2095],[3e-4,.2482,.2024],[2e-4,.2418,.1953],[0,.2353,.1882]]},BuGn:{interpolate:!0,colors:[[.9686,.9882,.9922],[.9664,.9874,.9917],[.9642,.9865,.9912],[.962,.9857,.9907],[.9598,.9848,.9902],[.9576,.9839,.9897],[.9553,.9831,.9892],[.9531,.9822,.9887],[.9509,.9813,.9882],[.9487,.9805,.9877],[.9465,.9796,.9872],[.9443,.9788,.9867],[.9421,.9779,.9863],[.9398,.977,.9858],[.9376,.9762,.9853],[.9354,.9753,.9848],[.9332,.9745,.9843],[.931,.9736,.9838],[.9288,.9727,.9833],[.9266,.9719,.9828],[.9243,.971,.9823],[.9221,.9701,.9818],[.9199,.9693,.9813],[.9177,.9684,.9808],[.9155,.9676,.9803],[.9133,.9667,.9799],[.911,.9658,.9794],[.9088,.965,.9789],[.9066,.9641,.9784],[.9044,.9633,.9779],[.9022,.9624,.9774],[.9,.9615,.9769],[.8977,.9606,.9762],[.8946,.9595,.9738],[.8915,.9584,.9715],[.8884,.9573,.9692],[.8854,.9562,.9668],[.8823,.9551,.9645],[.8792,.954,.9622],[.8761,.9529,.9598],[.873,.9518,.9575],[.87,.9507,.9551],[.8669,.9496,.9528],[.8638,.9485,.9505],[.8607,.9474,.9481],[.8577,.9463,.9458],[.8546,.9451,.9435],[.8515,.944,.9411],[.8484,.9429,.9388],[.8454,.9418,.9364],[.8423,.9407,.9341],[.8392,.9396,.9318],[.8361,.9385,.9294],[.8331,.9374,.9271],[.83,.9363,.9248],[.8269,.9352,.9224],[.8238,.9341,.9201],[.8208,.933,.9177],[.8177,.9319,.9154],[.8146,.9307,.9131],[.8115,.9296,.9107],[.8085,.9285,.9084],[.8054,.9274,.9061],[.8023,.9263,.9037],[.7984,.9249,.9011],[.7922,.9224,.8975],[.7859,.92,.8939],[.7796,.9175,.8904],[.7733,.915,.8868],[.7671,.9126,.8832],[.7608,.9101,.8797],[.7545,.9077,.8761],[.7482,.9052,.8725],[.742,.9027,.869],[.7357,.9003,.8654],[.7294,.8978,.8618],[.7231,.8953,.8583],[.7169,.8929,.8547],[.7106,.8904,.8511],[.7043,.888,.8476],[.698,.8855,.844],[.6918,.883,.8404],[.6855,.8806,.8368],[.6792,.8781,.8333],[.6729,.8757,.8297],[.6667,.8732,.8261],[.6604,.8707,.8226],[.6541,.8683,.819],[.6478,.8658,.8154],[.6416,.8634,.8119],[.6353,.8609,.8083],[.629,.8584,.8047],[.6227,.856,.8012],[.6165,.8535,.7976],[.6102,.8511,.794],[.6039,.8486,.7905],[.5976,.846,.7865],[.5914,.8433,.782],[.5851,.8406,.7774],[.5788,.8379,.7729],[.5725,.8352,.7683],[.5663,.8325,.7638],[.56,.8298,.7592],[.5537,.8271,.7547],[.5475,.8244,.7501],[.5412,.8217,.7456],[.5349,.819,.741],[.5286,.8163,.7365],[.5224,.8136,.7319],[.5161,.8109,.7274],[.5098,.8082,.7228],[.5035,.8054,.7182],[.4973,.8027,.7137],[.491,.8,.7091],[.4847,.7973,.7046],[.4784,.7946,.7],[.4722,.7919,.6955],[.4659,.7892,.6909],[.4596,.7865,.6864],[.4533,.7838,.6818],[.4471,.7811,.6773],[.4408,.7784,.6727],[.4345,.7757,.6682],[.4282,.773,.6636],[.422,.7703,.6591],[.4157,.7676,.6545],[.4094,.7648,.65],[.4031,.7621,.6454],[.3977,.7596,.6403],[.3932,.7571,.6346],[.3886,.7546,.629],[.3841,.7522,.6233],[.3795,.7497,.6177],[.375,.7473,.612],[.3704,.7448,.6064],[.3659,.7423,.6007],[.3613,.7399,.595],[.3568,.7374,.5894],[.3522,.7349,.5837],[.3477,.7325,.5781],[.3431,.73,.5724],[.3385,.7276,.5667],[.334,.7251,.5611],[.3294,.7226,.5554],[.3249,.7202,.5498],[.3203,.7177,.5441],[.3158,.7153,.5384],[.3112,.7128,.5328],[.3067,.7103,.5271],[.3021,.7079,.5215],[.2976,.7054,.5158],[.293,.703,.5101],[.2885,.7005,.5045],[.2839,.698,.4988],[.2794,.6956,.4932],[.2748,.6931,.4875],[.2703,.6907,.4818],[.2657,.6882,.4762],[.2612,.6857,.4705],[.2566,.6833,.4649],[.2526,.6797,.459],[.2489,.6754,.4529],[.2452,.671,.4469],[.2415,.6667,.4409],[.2378,.6624,.4349],[.2341,.6581,.4288],[.2304,.6538,.4228],[.2268,.6495,.4168],[.2231,.6452,.4107],[.2194,.6409,.4047],[.2157,.6366,.3987],[.212,.6323,.3927],[.2083,.628,.3866],[.2046,.6237,.3806],[.2009,.6194,.3746],[.1972,.6151,.3686],[.1935,.6108,.3625],[.1899,.6065,.3565],[.1862,.6022,.3505],[.1825,.5978,.3444],[.1788,.5935,.3384],[.1751,.5892,.3324],[.1714,.5849,.3264],[.1677,.5806,.3203],[.164,.5763,.3143],[.1603,.572,.3083],[.1566,.5677,.3022],[.1529,.5634,.2962],[.1493,.5591,.2902],[.1456,.5548,.2842],[.1419,.5505,.2781],[.1382,.5462,.2721],[.134,.5423,.2683],[.1297,.5386,.2652],[.1254,.5349,.2621],[.1211,.5313,.2591],[.1168,.5276,.256],[.1125,.5239,.2529],[.1082,.5202,.2498],[.1039,.5165,.2468],[.0996,.5128,.2437],[.0953,.5091,.2406],[.091,.5054,.2375],[.0867,.5017,.2344],[.0824,.498,.2314],[.078,.4943,.2283],[.0737,.4907,.2252],[.0694,.487,.2221],[.0651,.4833,.2191],[.0608,.4796,.216],[.0565,.4759,.2129],[.0522,.4722,.2098],[.0479,.4685,.2068],[.0436,.4648,.2037],[.0393,.4611,.2006],[.035,.4574,.1975],[.0307,.4537,.1945],[.0264,.4501,.1914],[.0221,.4464,.1883],[.0178,.4427,.1852],[.0135,.439,.1822],[.0092,.4353,.1791],[.0048,.4316,.176],[5e-4,.4279,.1729],[0,.423,.1707],[0,.418,.1686],[0,.4129,.1665],[0,.4079,.1644],[0,.4029,.1624],[0,.3978,.1603],[0,.3928,.1582],[0,.3877,.1561],[0,.3827,.154],[0,.3776,.1519],[0,.3726,.1498],[0,.3676,.1477],[0,.3625,.1456],[0,.3575,.1435],[0,.3524,.1414],[0,.3474,.1393],[0,.3423,.1373],[0,.3373,.1352],[0,.3322,.1331],[0,.3272,.131],[0,.3222,.1289],[0,.3171,.1268],[0,.3121,.1247],[0,.307,.1226],[0,.302,.1205],[0,.2969,.1184],[0,.2919,.1163],[0,.2868,.1142],[0,.2818,.1122],[0,.2768,.1101],[0,.2717,.108],[0,.2667,.1059]]},BuPu:{interpolate:!0,colors:[[.9686,.9882,.9922],[.9658,.9863,.991],[.963,.9843,.9899],[.9601,.9823,.9888],[.9573,.9804,.9877],[.9545,.9784,.9866],[.9516,.9764,.9855],[.9488,.9745,.9844],[.946,.9725,.9833],[.9432,.9705,.9822],[.9403,.9686,.9811],[.9375,.9666,.98],[.9347,.9646,.9789],[.9318,.9626,.9778],[.929,.9607,.9767],[.9262,.9587,.9755],[.9234,.9567,.9744],[.9205,.9548,.9733],[.9177,.9528,.9722],[.9149,.9508,.9711],[.912,.9489,.97],[.9092,.9469,.9689],[.9064,.9449,.9678],[.9035,.943,.9667],[.9007,.941,.9656],[.8979,.939,.9645],[.8951,.9371,.9634],[.8922,.9351,.9623],[.8894,.9331,.9612],[.8866,.9311,.96],[.8837,.9292,.9589],[.8809,.9272,.9578],[.8779,.9251,.9566],[.8739,.922,.9549],[.8698,.919,.9532],[.8657,.9159,.9515],[.8617,.9128,.9498],[.8576,.9097,.948],[.8536,.9067,.9463],[.8495,.9036,.9446],[.8454,.9005,.9429],[.8414,.8974,.9411],[.8373,.8943,.9394],[.8333,.8913,.9377],[.8292,.8882,.936],[.8251,.8851,.9343],[.8211,.882,.9325],[.817,.879,.9308],[.813,.8759,.9291],[.8089,.8728,.9274],[.8048,.8697,.9256],[.8008,.8667,.9239],[.7967,.8636,.9222],[.7927,.8605,.9205],[.7886,.8574,.9188],[.7845,.8544,.917],[.7805,.8513,.9153],[.7764,.8482,.9136],[.7724,.8451,.9119],[.7683,.8421,.9101],[.7642,.839,.9084],[.7602,.8359,.9067],[.7561,.8328,.905],[.7521,.8298,.9033],[.748,.8267,.9016],[.7439,.8239,.9001],[.7399,.8211,.8986],[.7358,.8183,.8972],[.7318,.8154,.8957],[.7277,.8126,.8942],[.7236,.8098,.8927],[.7196,.8069,.8913],[.7155,.8041,.8898],[.7115,.8013,.8883],[.7074,.7984,.8868],[.7033,.7956,.8854],[.6993,.7928,.8839],[.6952,.79,.8824],[.6912,.7871,.8809],[.6871,.7843,.8794],[.683,.7815,.878],[.679,.7786,.8765],[.6749,.7758,.875],[.6709,.773,.8735],[.6668,.7701,.8721],[.6627,.7673,.8706],[.6587,.7645,.8691],[.6546,.7617,.8676],[.6506,.7588,.8662],[.6465,.756,.8647],[.6424,.7532,.8632],[.6384,.7503,.8617],[.6343,.7475,.8603],[.6303,.7447,.8588],[.6262,.7419,.8573],[.6221,.739,.8558],[.6188,.7355,.854],[.6166,.7308,.8515],[.6143,.7262,.8491],[.6121,.7215,.8466],[.6099,.7168,.8441],[.6077,.7121,.8417],[.6055,.7075,.8392],[.6033,.7028,.8368],[.6011,.6981,.8343],[.5988,.6934,.8318],[.5966,.6888,.8294],[.5944,.6841,.8269],[.5922,.6794,.8245],[.59,.6747,.822],[.5878,.67,.8195],[.5856,.6654,.8171],[.5833,.6607,.8146],[.5811,.656,.8121],[.5789,.6513,.8097],[.5767,.6467,.8072],[.5745,.642,.8048],[.5723,.6373,.8023],[.5701,.6326,.7998],[.5678,.628,.7974],[.5656,.6233,.7949],[.5634,.6186,.7925],[.5612,.6139,.79],[.559,.6093,.7875],[.5568,.6046,.7851],[.5546,.5999,.7826],[.5523,.5952,.7802],[.5501,.5906,.7777],[.549,.5856,.7752],[.549,.5803,.7726],[.549,.575,.77],[.549,.5697,.7674],[.549,.5644,.7648],[.549,.5591,.7623],[.549,.5538,.7597],[.549,.5486,.7571],[.549,.5433,.7545],[.549,.538,.7519],[.549,.5327,.7493],[.549,.5274,.7468],[.549,.5221,.7442],[.549,.5168,.7416],[.549,.5115,.739],[.549,.5062,.7364],[.549,.5009,.7338],[.549,.4957,.7313],[.549,.4904,.7287],[.549,.4851,.7261],[.549,.4798,.7235],[.549,.4745,.7209],[.549,.4692,.7183],[.549,.4639,.7158],[.549,.4586,.7132],[.549,.4533,.7106],[.549,.448,.708],[.549,.4428,.7054],[.549,.4375,.7028],[.549,.4322,.7003],[.549,.4269,.6977],[.549,.4216,.6951],[.5487,.4164,.6926],[.5482,.4112,.6901],[.5477,.406,.6877],[.5472,.4009,.6852],[.5467,.3957,.6827],[.5463,.3905,.6803],[.5458,.3854,.6778],[.5453,.3802,.6754],[.5448,.375,.6729],[.5443,.3699,.6704],[.5438,.3647,.668],[.5433,.3595,.6655],[.5428,.3544,.6631],[.5423,.3492,.6606],[.5418,.344,.6581],[.5413,.3389,.6557],[.5408,.3337,.6532],[.5403,.3285,.6507],[.5399,.3234,.6483],[.5394,.3182,.6458],[.5389,.313,.6434],[.5384,.3079,.6409],[.5379,.3027,.6384],[.5374,.2975,.636],[.5369,.2924,.6335],[.5364,.2872,.6311],[.5359,.282,.6286],[.5354,.2769,.6261],[.5349,.2717,.6237],[.5344,.2665,.6212],[.5339,.2614,.6188],[.5335,.2562,.6163],[.5327,.2503,.6126],[.5318,.2441,.6086],[.531,.238,.6045],[.5301,.2318,.6005],[.5292,.2257,.5964],[.5284,.2195,.5923],[.5275,.2134,.5883],[.5267,.2072,.5842],[.5258,.2011,.5802],[.5249,.1949,.5761],[.5241,.1888,.572],[.5232,.1826,.568],[.5224,.1765,.5639],[.5215,.1703,.5599],[.5206,.1642,.5558],[.5198,.158,.5517],[.5189,.1519,.5477],[.518,.1457,.5436],[.5172,.1396,.5396],[.5163,.1334,.5355],[.5155,.1273,.5314],[.5146,.1211,.5274],[.5137,.115,.5233],[.5129,.1088,.5193],[.512,.1027,.5152],[.5112,.0965,.5111],[.5103,.0903,.5071],[.5094,.0842,.503],[.5086,.078,.499],[.5077,.0719,.4949],[.5069,.0657,.4908],[.506,.0596,.4868],[.5003,.0572,.481],[.4939,.0554,.475],[.4875,.0535,.4689],[.4811,.0517,.4629],[.4747,.0498,.4569],[.4683,.048,.4509],[.4619,.0461,.4448],[.4555,.0443,.4388],[.4491,.0424,.4328],[.4427,.0406,.4267],[.4363,.0388,.4207],[.4299,.0369,.4147],[.4235,.0351,.4087],[.4171,.0332,.4026],[.4107,.0314,.3966],[.4043,.0295,.3906],[.3979,.0277,.3845],[.3915,.0258,.3785],[.3851,.024,.3725],[.3787,.0221,.3665],[.3723,.0203,.3604],[.3659,.0185,.3544],[.3595,.0166,.3484],[.3531,.0148,.3423],[.3467,.0129,.3363],[.3403,.0111,.3303],[.3339,.0092,.3243],[.3276,.0074,.3182],[.3212,.0055,.3122],[.3148,.0037,.3062],[.3084,.0018,.3001],[.302,0,.2941]]},CMRmap:{interpolate:!0,colors:[[0,0,0],[.0047,.0047,.0157],[.0094,.0094,.0314],[.0141,.0141,.0471],[.0188,.0188,.0627],[.0235,.0235,.0784],[.0282,.0282,.0941],[.0329,.0329,.1098],[.0376,.0376,.1255],[.0424,.0424,.1412],[.0471,.0471,.1569],[.0518,.0518,.1725],[.0565,.0565,.1882],[.0612,.0612,.2039],[.0659,.0659,.2196],[.0706,.0706,.2353],[.0753,.0753,.251],[.08,.08,.2667],[.0847,.0847,.2824],[.0894,.0894,.298],[.0941,.0941,.3137],[.0988,.0988,.3294],[.1035,.1035,.3451],[.1082,.1082,.3608],[.1129,.1129,.3765],[.1176,.1176,.3922],[.1224,.1224,.4078],[.1271,.1271,.4235],[.1318,.1318,.4392],[.1365,.1365,.4549],[.1412,.1412,.4706],[.1459,.1459,.4863],[.1506,.15,.501],[.1553,.15,.5088],[.16,.15,.5167],[.1647,.15,.5245],[.1694,.15,.5324],[.1741,.15,.5402],[.1788,.15,.548],[.1835,.15,.5559],[.1882,.15,.5637],[.1929,.15,.5716],[.1976,.15,.5794],[.2024,.15,.5873],[.2071,.15,.5951],[.2118,.15,.6029],[.2165,.15,.6108],[.2212,.15,.6186],[.2259,.15,.6265],[.2306,.15,.6343],[.2353,.15,.6422],[.24,.15,.65],[.2447,.15,.6578],[.2494,.15,.6657],[.2541,.15,.6735],[.2588,.15,.6814],[.2635,.15,.6892],[.2682,.15,.6971],[.2729,.15,.7049],[.2776,.15,.7127],[.2824,.15,.7206],[.2871,.15,.7284],[.2918,.15,.7363],[.2965,.15,.7441],[.3024,.1504,.748],[.3118,.152,.7402],[.3212,.1535,.7324],[.3306,.1551,.7245],[.34,.1567,.7167],[.3494,.1582,.7088],[.3588,.1598,.701],[.3682,.1614,.6931],[.3776,.1629,.6853],[.3871,.1645,.6775],[.3965,.1661,.6696],[.4059,.1676,.6618],[.4153,.1692,.6539],[.4247,.1708,.6461],[.4341,.1724,.6382],[.4435,.1739,.6304],[.4529,.1755,.6225],[.4624,.1771,.6147],[.4718,.1786,.6069],[.4812,.1802,.599],[.4906,.1818,.5912],[.5,.1833,.5833],[.5094,.1849,.5755],[.5188,.1865,.5676],[.5282,.188,.5598],[.5376,.1896,.552],[.5471,.1912,.5441],[.5565,.1927,.5363],[.5659,.1943,.5284],[.5753,.1959,.5206],[.5847,.1975,.5127],[.5941,.199,.5049],[.6047,.2006,.4959],[.6173,.2022,.4849],[.6298,.2037,.4739],[.6424,.2053,.4629],[.6549,.2069,.452],[.6675,.2084,.441],[.68,.21,.43],[.6925,.2116,.419],[.7051,.2131,.408],[.7176,.2147,.3971],[.7302,.2163,.3861],[.7427,.2178,.3751],[.7553,.2194,.3641],[.7678,.221,.3531],[.7804,.2225,.3422],[.7929,.2241,.3312],[.8055,.2257,.3202],[.818,.2273,.3092],[.8306,.2288,.2982],[.8431,.2304,.2873],[.8557,.232,.2763],[.8682,.2335,.2653],[.8808,.2351,.2543],[.8933,.2367,.2433],[.9059,.2382,.2324],[.9184,.2398,.2214],[.931,.2414,.2104],[.9435,.2429,.1994],[.9561,.2445,.1884],[.9686,.2461,.1775],[.9812,.2476,.1665],[.9937,.2492,.1555],[.9984,.2539,.1476],[.9953,.2618,.1429],[.9922,.2696,.1382],[.989,.2775,.1335],[.9859,.2853,.1288],[.9827,.2931,.1241],[.9796,.301,.1194],[.9765,.3088,.1147],[.9733,.3167,.11],[.9702,.3245,.1053],[.9671,.3324,.1006],[.9639,.3402,.0959],[.9608,.348,.0912],[.9576,.3559,.0865],[.9545,.3637,.0818],[.9514,.3716,.0771],[.9482,.3794,.0724],[.9451,.3873,.0676],[.942,.3951,.0629],[.9388,.4029,.0582],[.9357,.4108,.0535],[.9325,.4186,.0488],[.9294,.4265,.0441],[.9263,.4343,.0394],[.9231,.4422,.0347],[.92,.45,.03],[.9169,.4578,.0253],[.9137,.4657,.0206],[.9106,.4735,.0159],[.9075,.4814,.0112],[.9043,.4892,.0065],[.9012,.4971,.0018],[.9,.5049,.002],[.9,.5127,.0051],[.9,.5206,.0082],[.9,.5284,.0114],[.9,.5363,.0145],[.9,.5441,.0176],[.9,.552,.0208],[.9,.5598,.0239],[.9,.5676,.0271],[.9,.5755,.0302],[.9,.5833,.0333],[.9,.5912,.0365],[.9,.599,.0396],[.9,.6069,.0427],[.9,.6147,.0459],[.9,.6225,.049],[.9,.6304,.0522],[.9,.6382,.0553],[.9,.6461,.0584],[.9,.6539,.0616],[.9,.6618,.0647],[.9,.6696,.0678],[.9,.6775,.071],[.9,.6853,.0741],[.9,.6931,.0773],[.9,.701,.0804],[.9,.7088,.0835],[.9,.7167,.0867],[.9,.7245,.0898],[.9,.7324,.0929],[.9,.7402,.0961],[.9,.748,.0992],[.9,.7535,.1094],[.9,.7582,.122],[.9,.7629,.1345],[.9,.7676,.1471],[.9,.7724,.1596],[.9,.7771,.1722],[.9,.7818,.1847],[.9,.7865,.1973],[.9,.7912,.2098],[.9,.7959,.2224],[.9,.8006,.2349],[.9,.8053,.2475],[.9,.81,.26],[.9,.8147,.2725],[.9,.8194,.2851],[.9,.8241,.2976],[.9,.8288,.3102],[.9,.8335,.3227],[.9,.8382,.3353],[.9,.8429,.3478],[.9,.8476,.3604],[.9,.8524,.3729],[.9,.8571,.3855],[.9,.8618,.398],[.9,.8665,.4106],[.9,.8712,.4231],[.9,.8759,.4357],[.9,.8806,.4482],[.9,.8853,.4608],[.9,.89,.4733],[.9,.8947,.4859],[.9,.8994,.4984],[.9027,.9027,.5137],[.9059,.9059,.5294],[.909,.909,.5451],[.9122,.9122,.5608],[.9153,.9153,.5765],[.9184,.9184,.5922],[.9216,.9216,.6078],[.9247,.9247,.6235],[.9278,.9278,.6392],[.931,.931,.6549],[.9341,.9341,.6706],[.9373,.9373,.6863],[.9404,.9404,.702],[.9435,.9435,.7176],[.9467,.9467,.7333],[.9498,.9498,.749],[.9529,.9529,.7647],[.9561,.9561,.7804],[.9592,.9592,.7961],[.9624,.9624,.8118],[.9655,.9655,.8275],[.9686,.9686,.8431],[.9718,.9718,.8588],[.9749,.9749,.8745],[.978,.978,.8902],[.9812,.9812,.9059],[.9843,.9843,.9216],[.9875,.9875,.9373],[.9906,.9906,.9529],[.9937,.9937,.9686],[.9969,.9969,.9843],[1,1,1]]},Dark2:{interpolate:!1,colors:[[.1059,.6196,.4667],[.851,.3725,.0078],[.4588,.4392,.702],[.9059,.1608,.5412],[.4,.651,.1176],[.902,.6706,.0078],[.651,.4627,.1137],[.4,.4,.4]]},GnBu:{interpolate:!0,colors:[[.9686,.9882,.9412],[.9658,.9871,.9386],[.963,.986,.936],[.9601,.9849,.9334],[.9573,.9838,.9308],[.9545,.9827,.9283],[.9516,.9816,.9257],[.9488,.9805,.9231],[.946,.9794,.9205],[.9432,.9783,.9179],[.9403,.9772,.9153],[.9375,.9761,.9128],[.9347,.9749,.9102],[.9318,.9738,.9076],[.929,.9727,.905],[.9262,.9716,.9024],[.9234,.9705,.8998],[.9205,.9694,.8973],[.9177,.9683,.8947],[.9149,.9672,.8921],[.912,.9661,.8895],[.9092,.965,.8869],[.9064,.9639,.8843],[.9035,.9628,.8818],[.9007,.9617,.8792],[.8979,.9606,.8766],[.8951,.9594,.874],[.8922,.9583,.8714],[.8894,.9572,.8688],[.8866,.9561,.8663],[.8837,.955,.8637],[.8809,.9539,.8611],[.8781,.9528,.8585],[.8757,.9518,.8558],[.8732,.9508,.8531],[.8707,.9499,.8504],[.8683,.9489,.8477],[.8658,.9479,.845],[.8634,.9469,.8422],[.8609,.9459,.8395],[.8584,.9449,.8368],[.856,.944,.8341],[.8535,.943,.8314],[.8511,.942,.8287],[.8486,.941,.826],[.8461,.94,.8233],[.8437,.939,.8206],[.8412,.9381,.8179],[.8388,.9371,.8152],[.8363,.9361,.8125],[.8338,.9351,.8098],[.8314,.9341,.8071],[.8289,.9331,.8044],[.8265,.9321,.8016],[.824,.9312,.7989],[.8215,.9302,.7962],[.8191,.9292,.7935],[.8166,.9282,.7908],[.8141,.9272,.7881],[.8117,.9262,.7854],[.8092,.9253,.7827],[.8068,.9243,.78],[.8043,.9233,.7773],[.8018,.9223,.7746],[.7989,.9211,.7721],[.7945,.9194,.7701],[.79,.9177,.7681],[.7856,.916,.7662],[.7812,.9142,.7642],[.7767,.9125,.7622],[.7723,.9108,.7602],[.7679,.9091,.7583],[.7635,.9074,.7563],[.759,.9056,.7543],[.7546,.9039,.7524],[.7502,.9022,.7504],[.7457,.9005,.7484],[.7413,.8987,.7465],[.7369,.897,.7445],[.7325,.8953,.7425],[.728,.8936,.7406],[.7236,.8919,.7386],[.7192,.8901,.7366],[.7147,.8884,.7347],[.7103,.8867,.7327],[.7059,.885,.7307],[.7015,.8832,.7288],[.697,.8815,.7268],[.6926,.8798,.7248],[.6882,.8781,.7228],[.6837,.8764,.7209],[.6793,.8746,.7189],[.6749,.8729,.7169],[.6704,.8712,.715],[.666,.8695,.713],[.6616,.8677,.711],[.6567,.8659,.7105],[.6512,.8638,.7123],[.6457,.8617,.7142],[.6401,.8596,.716],[.6346,.8575,.7179],[.6291,.8554,.7197],[.6235,.8533,.7216],[.618,.8512,.7234],[.6125,.8492,.7253],[.6069,.8471,.7271],[.6014,.845,.729],[.5958,.8429,.7308],[.5903,.8408,.7326],[.5848,.8387,.7345],[.5792,.8366,.7363],[.5737,.8345,.7382],[.5682,.8324,.74],[.5626,.8303,.7419],[.5571,.8282,.7437],[.5516,.8261,.7456],[.546,.8241,.7474],[.5405,.822,.7493],[.5349,.8199,.7511],[.5294,.8178,.7529],[.5239,.8157,.7548],[.5183,.8136,.7566],[.5128,.8115,.7585],[.5073,.8094,.7603],[.5017,.8073,.7622],[.4962,.8052,.764],[.4907,.8031,.7659],[.4851,.801,.7677],[.4796,.7985,.7696],[.474,.7954,.7714],[.4685,.7923,.7732],[.463,.7892,.7751],[.4574,.7862,.7769],[.4519,.7831,.7788],[.4464,.78,.7806],[.4408,.7769,.7825],[.4353,.7739,.7843],[.4298,.7708,.7862],[.4242,.7677,.788],[.4187,.7646,.7899],[.4131,.7616,.7917],[.4076,.7585,.7935],[.4021,.7554,.7954],[.3965,.7523,.7972],[.391,.7493,.7991],[.3855,.7462,.8009],[.3799,.7431,.8028],[.3744,.74,.8046],[.3689,.7369,.8065],[.3633,.7339,.8083],[.3578,.7308,.8101],[.3522,.7277,.812],[.3467,.7246,.8138],[.3412,.7216,.8157],[.3356,.7185,.8175],[.3301,.7154,.8194],[.3246,.7123,.8212],[.319,.7093,.8231],[.3135,.7062,.8249],[.308,.7031,.8268],[.3032,.699,.8258],[.2989,.6942,.8233],[.2946,.6894,.8207],[.2903,.6846,.8181],[.286,.6798,.8155],[.2817,.675,.8129],[.2774,.6702,.8103],[.273,.6654,.8078],[.2687,.6606,.8052],[.2644,.6558,.8026],[.2601,.651,.8],[.2558,.6462,.7974],[.2515,.6414,.7948],[.2472,.6366,.7922],[.2429,.6318,.7897],[.2386,.627,.7871],[.2343,.6222,.7845],[.23,.6174,.7819],[.2257,.6126,.7793],[.2214,.6078,.7767],[.2171,.603,.7742],[.2128,.5982,.7716],[.2085,.5934,.769],[.2042,.5886,.7664],[.1998,.5838,.7638],[.1955,.579,.7612],[.1912,.5742,.7587],[.1869,.5694,.7561],[.1826,.5646,.7535],[.1783,.5598,.7509],[.174,.555,.7483],[.1697,.5502,.7457],[.1654,.5457,.7434],[.1611,.5413,.7412],[.1568,.5368,.739],[.1525,.5324,.7368],[.1482,.528,.7346],[.1439,.5236,.7324],[.1396,.5191,.7301],[.1353,.5147,.7279],[.1309,.5103,.7257],[.1266,.5058,.7235],[.1223,.5014,.7213],[.118,.497,.7191],[.1137,.4925,.7169],[.1094,.4881,.7146],[.1051,.4837,.7124],[.1008,.4793,.7102],[.0965,.4748,.708],[.0922,.4704,.7058],[.0879,.466,.7036],[.0836,.4615,.7014],[.0793,.4571,.6991],[.075,.4527,.6969],[.0707,.4483,.6947],[.0664,.4438,.6925],[.0621,.4394,.6903],[.0577,.435,.6881],[.0534,.4305,.6859],[.0491,.4261,.6836],[.0448,.4217,.6814],[.0405,.4173,.6792],[.0362,.4128,.677],[.0319,.4084,.6748],[.0314,.4035,.6699],[.0314,.3986,.6646],[.0314,.3937,.6593],[.0314,.3888,.654],[.0314,.3839,.6487],[.0314,.3789,.6434],[.0314,.374,.6381],[.0314,.3691,.6328],[.0314,.3642,.6276],[.0314,.3592,.6223],[.0314,.3543,.617],[.0314,.3494,.6117],[.0314,.3445,.6064],[.0314,.3396,.6011],[.0314,.3346,.5958],[.0314,.3297,.5905],[.0314,.3248,.5852],[.0314,.3199,.5799],[.0314,.315,.5747],[.0314,.31,.5694],[.0314,.3051,.5641],[.0314,.3002,.5588],[.0314,.2953,.5535],[.0314,.2903,.5482],[.0314,.2854,.5429],[.0314,.2805,.5376],[.0314,.2756,.5323],[.0314,.2707,.527],[.0314,.2657,.5218],[.0314,.2608,.5165],[.0314,.2559,.5112],[.0314,.251,.5059]]},Greens:{interpolate:!0,colors:[[.9686,.9882,.9608],[.9664,.9874,.9582],[.9642,.9865,.9556],[.962,.9857,.953],[.9598,.9848,.9504],[.9576,.9839,.9479],[.9553,.9831,.9453],[.9531,.9822,.9427],[.9509,.9813,.9401],[.9487,.9805,.9375],[.9465,.9796,.9349],[.9443,.9788,.9324],[.9421,.9779,.9298],[.9398,.977,.9272],[.9376,.9762,.9246],[.9354,.9753,.922],[.9332,.9745,.9194],[.931,.9736,.9169],[.9288,.9727,.9143],[.9266,.9719,.9117],[.9243,.971,.9091],[.9221,.9701,.9065],[.9199,.9693,.9039],[.9177,.9684,.9014],[.9155,.9676,.8988],[.9133,.9667,.8962],[.911,.9658,.8936],[.9088,.965,.891],[.9066,.9641,.8884],[.9044,.9633,.8859],[.9022,.9624,.8833],[.9,.9615,.8807],[.8976,.9606,.8779],[.8939,.9591,.874],[.8902,.9576,.8701],[.8865,.9562,.8661],[.8828,.9547,.8622],[.8791,.9532,.8583],[.8754,.9517,.8543],[.8717,.9503,.8504],[.8681,.9488,.8464],[.8644,.9473,.8425],[.8607,.9458,.8386],[.857,.9444,.8346],[.8533,.9429,.8307],[.8496,.9414,.8268],[.8459,.9399,.8228],[.8422,.9385,.8189],[.8385,.937,.8149],[.8348,.9355,.811],[.8311,.934,.8071],[.8275,.9325,.8031],[.8238,.9311,.7992],[.8201,.9296,.7953],[.8164,.9281,.7913],[.8127,.9266,.7874],[.809,.9252,.7835],[.8053,.9237,.7795],[.8016,.9222,.7756],[.7979,.9207,.7716],[.7942,.9193,.7677],[.7905,.9178,.7638],[.7869,.9163,.7598],[.7832,.9148,.7559],[.7792,.9132,.7518],[.7745,.9113,.7473],[.7699,.9093,.7427],[.7652,.9073,.7381],[.7605,.9054,.7336],[.7558,.9034,.729],[.7512,.9014,.7245],[.7465,.8995,.7199],[.7418,.8975,.7154],[.7371,.8955,.7108],[.7325,.8935,.7063],[.7278,.8916,.7017],[.7231,.8896,.6972],[.7184,.8876,.6926],[.7138,.8857,.6881],[.7091,.8837,.6835],[.7044,.8817,.679],[.6997,.8798,.6744],[.6951,.8778,.6699],[.6904,.8758,.6653],[.6857,.8739,.6608],[.681,.8719,.6562],[.6764,.8699,.6517],[.6717,.868,.6471],[.667,.866,.6426],[.6623,.864,.638],[.6577,.8621,.6334],[.653,.8601,.6289],[.6483,.8581,.6243],[.6436,.8561,.6198],[.639,.8542,.6152],[.6343,.8522,.6107],[.6293,.85,.6061],[.6238,.8474,.6016],[.6182,.8448,.597],[.6127,.8423,.5925],[.6072,.8397,.5879],[.6016,.8371,.5834],[.5961,.8345,.5788],[.5905,.8319,.5743],[.585,.8293,.5697],[.5795,.8268,.5652],[.5739,.8242,.5606],[.5684,.8216,.5561],[.5629,.819,.5515],[.5573,.8164,.547],[.5518,.8138,.5424],[.5463,.8113,.5379],[.5407,.8087,.5333],[.5352,.8061,.5288],[.5296,.8035,.5242],[.5241,.8009,.5196],[.5186,.7983,.5151],[.513,.7958,.5105],[.5075,.7932,.506],[.502,.7906,.5014],[.4964,.788,.4969],[.4909,.7854,.4923],[.4854,.7828,.4878],[.4798,.7803,.4832],[.4743,.7777,.4787],[.4687,.7751,.4741],[.4632,.7725,.4696],[.4577,.7699,.465],[.4518,.7671,.4612],[.4455,.764,.4581],[.4392,.7609,.4551],[.4329,.7579,.452],[.4267,.7548,.4489],[.4204,.7517,.4458],[.4141,.7486,.4428],[.4078,.7456,.4397],[.4016,.7425,.4366],[.3953,.7394,.4335],[.389,.7363,.4304],[.3827,.7333,.4274],[.3765,.7302,.4243],[.3702,.7271,.4212],[.3639,.724,.4181],[.3576,.721,.4151],[.3514,.7179,.412],[.3451,.7148,.4089],[.3388,.7117,.4058],[.3325,.7087,.4028],[.3263,.7056,.3997],[.32,.7025,.3966],[.3137,.6994,.3935],[.3075,.6963,.3905],[.3012,.6933,.3874],[.2949,.6902,.3843],[.2886,.6871,.3812],[.2824,.684,.3782],[.2761,.681,.3751],[.2698,.6779,.372],[.2635,.6748,.3689],[.2573,.6717,.3659],[.2526,.6681,.3629],[.2489,.6642,.3599],[.2452,.6603,.357],[.2415,.6563,.354],[.2378,.6524,.351],[.2341,.6484,.3481],[.2304,.6445,.3451],[.2268,.6406,.3422],[.2231,.6366,.3392],[.2194,.6327,.3363],[.2157,.6288,.3333],[.212,.6248,.3304],[.2083,.6209,.3274],[.2046,.6169,.3245],[.2009,.613,.3215],[.1972,.6091,.3186],[.1935,.6051,.3156],[.1899,.6012,.3127],[.1862,.5973,.3097],[.1825,.5933,.3068],[.1788,.5894,.3038],[.1751,.5855,.3009],[.1714,.5815,.2979],[.1677,.5776,.2949],[.164,.5736,.292],[.1603,.5697,.289],[.1566,.5658,.2861],[.1529,.5618,.2831],[.1493,.5579,.2802],[.1456,.554,.2772],[.1419,.55,.2743],[.1382,.5461,.2713],[.134,.5423,.2683],[.1297,.5386,.2652],[.1254,.5349,.2621],[.1211,.5313,.2591],[.1168,.5276,.256],[.1125,.5239,.2529],[.1082,.5202,.2498],[.1039,.5165,.2468],[.0996,.5128,.2437],[.0953,.5091,.2406],[.091,.5054,.2375],[.0867,.5017,.2344],[.0824,.498,.2314],[.078,.4943,.2283],[.0737,.4907,.2252],[.0694,.487,.2221],[.0651,.4833,.2191],[.0608,.4796,.216],[.0565,.4759,.2129],[.0522,.4722,.2098],[.0479,.4685,.2068],[.0436,.4648,.2037],[.0393,.4611,.2006],[.035,.4574,.1975],[.0307,.4537,.1945],[.0264,.4501,.1914],[.0221,.4464,.1883],[.0178,.4427,.1852],[.0135,.439,.1822],[.0092,.4353,.1791],[.0048,.4316,.176],[5e-4,.4279,.1729],[0,.423,.1707],[0,.418,.1686],[0,.4129,.1665],[0,.4079,.1644],[0,.4029,.1624],[0,.3978,.1603],[0,.3928,.1582],[0,.3877,.1561],[0,.3827,.154],[0,.3776,.1519],[0,.3726,.1498],[0,.3676,.1477],[0,.3625,.1456],[0,.3575,.1435],[0,.3524,.1414],[0,.3474,.1393],[0,.3423,.1373],[0,.3373,.1352],[0,.3322,.1331],[0,.3272,.131],[0,.3222,.1289],[0,.3171,.1268],[0,.3121,.1247],[0,.307,.1226],[0,.302,.1205],[0,.2969,.1184],[0,.2919,.1163],[0,.2868,.1142],[0,.2818,.1122],[0,.2768,.1101],[0,.2717,.108],[0,.2667,.1059]]},Greys:{interpolate:!0,colors:[[1,1,1],[.9982,.9982,.9982],[.9963,.9963,.9963],[.9945,.9945,.9945],[.9926,.9926,.9926],[.9908,.9908,.9908],[.9889,.9889,.9889],[.9871,.9871,.9871],[.9852,.9852,.9852],[.9834,.9834,.9834],[.9815,.9815,.9815],[.9797,.9797,.9797],[.9779,.9779,.9779],[.976,.976,.976],[.9742,.9742,.9742],[.9723,.9723,.9723],[.9705,.9705,.9705],[.9686,.9686,.9686],[.9668,.9668,.9668],[.9649,.9649,.9649],[.9631,.9631,.9631],[.9612,.9612,.9612],[.9594,.9594,.9594],[.9576,.9576,.9576],[.9557,.9557,.9557],[.9539,.9539,.9539],[.952,.952,.952],[.9502,.9502,.9502],[.9483,.9483,.9483],[.9465,.9465,.9465],[.9446,.9446,.9446],[.9428,.9428,.9428],[.9408,.9408,.9408],[.938,.938,.938],[.9352,.9352,.9352],[.9323,.9323,.9323],[.9295,.9295,.9295],[.9267,.9267,.9267],[.9238,.9238,.9238],[.921,.921,.921],[.9182,.9182,.9182],[.9154,.9154,.9154],[.9125,.9125,.9125],[.9097,.9097,.9097],[.9069,.9069,.9069],[.904,.904,.904],[.9012,.9012,.9012],[.8984,.8984,.8984],[.8955,.8955,.8955],[.8927,.8927,.8927],[.8899,.8899,.8899],[.8871,.8871,.8871],[.8842,.8842,.8842],[.8814,.8814,.8814],[.8786,.8786,.8786],[.8757,.8757,.8757],[.8729,.8729,.8729],[.8701,.8701,.8701],[.8673,.8673,.8673],[.8644,.8644,.8644],[.8616,.8616,.8616],[.8588,.8588,.8588],[.8559,.8559,.8559],[.8531,.8531,.8531],[.8501,.8501,.8501],[.8467,.8467,.8467],[.8432,.8432,.8432],[.8398,.8398,.8398],[.8363,.8363,.8363],[.8329,.8329,.8329],[.8295,.8295,.8295],[.826,.826,.826],[.8226,.8226,.8226],[.8191,.8191,.8191],[.8157,.8157,.8157],[.8122,.8122,.8122],[.8088,.8088,.8088],[.8053,.8053,.8053],[.8019,.8019,.8019],[.7984,.7984,.7984],[.795,.795,.795],[.7916,.7916,.7916],[.7881,.7881,.7881],[.7847,.7847,.7847],[.7812,.7812,.7812],[.7778,.7778,.7778],[.7743,.7743,.7743],[.7709,.7709,.7709],[.7674,.7674,.7674],[.764,.764,.764],[.7606,.7606,.7606],[.7571,.7571,.7571],[.7537,.7537,.7537],[.7502,.7502,.7502],[.7468,.7468,.7468],[.7433,.7433,.7433],[.7394,.7394,.7394],[.7346,.7346,.7346],[.7298,.7298,.7298],[.725,.725,.725],[.7202,.7202,.7202],[.7154,.7154,.7154],[.7106,.7106,.7106],[.7058,.7058,.7058],[.701,.701,.701],[.6962,.6962,.6962],[.6914,.6914,.6914],[.6866,.6866,.6866],[.6818,.6818,.6818],[.677,.677,.677],[.6722,.6722,.6722],[.6674,.6674,.6674],[.6626,.6626,.6626],[.6578,.6578,.6578],[.653,.653,.653],[.6482,.6482,.6482],[.6434,.6434,.6434],[.6386,.6386,.6386],[.6338,.6338,.6338],[.629,.629,.629],[.6242,.6242,.6242],[.6194,.6194,.6194],[.6146,.6146,.6146],[.6098,.6098,.6098],[.605,.605,.605],[.6002,.6002,.6002],[.5954,.5954,.5954],[.5906,.5906,.5906],[.5861,.5861,.5861],[.5818,.5818,.5818],[.5775,.5775,.5775],[.5732,.5732,.5732],[.5689,.5689,.5689],[.5646,.5646,.5646],[.5602,.5602,.5602],[.5559,.5559,.5559],[.5516,.5516,.5516],[.5473,.5473,.5473],[.543,.543,.543],[.5387,.5387,.5387],[.5344,.5344,.5344],[.5301,.5301,.5301],[.5258,.5258,.5258],[.5215,.5215,.5215],[.5172,.5172,.5172],[.5129,.5129,.5129],[.5086,.5086,.5086],[.5043,.5043,.5043],[.5,.5,.5],[.4957,.4957,.4957],[.4913,.4913,.4913],[.487,.487,.487],[.4827,.4827,.4827],[.4784,.4784,.4784],[.4741,.4741,.4741],[.4698,.4698,.4698],[.4655,.4655,.4655],[.4612,.4612,.4612],[.4569,.4569,.4569],[.4526,.4526,.4526],[.4484,.4484,.4484],[.4444,.4444,.4444],[.4403,.4403,.4403],[.4363,.4363,.4363],[.4322,.4322,.4322],[.4281,.4281,.4281],[.4241,.4241,.4241],[.42,.42,.42],[.416,.416,.416],[.4119,.4119,.4119],[.4078,.4078,.4078],[.4038,.4038,.4038],[.3997,.3997,.3997],[.3957,.3957,.3957],[.3916,.3916,.3916],[.3875,.3875,.3875],[.3835,.3835,.3835],[.3794,.3794,.3794],[.3754,.3754,.3754],[.3713,.3713,.3713],[.3672,.3672,.3672],[.3632,.3632,.3632],[.3591,.3591,.3591],[.3551,.3551,.3551],[.351,.351,.351],[.3469,.3469,.3469],[.3429,.3429,.3429],[.3388,.3388,.3388],[.3348,.3348,.3348],[.3307,.3307,.3307],[.3266,.3266,.3266],[.3226,.3226,.3226],[.3174,.3174,.3174],[.3119,.3119,.3119],[.3063,.3063,.3063],[.3008,.3008,.3008],[.2953,.2953,.2953],[.2897,.2897,.2897],[.2842,.2842,.2842],[.2787,.2787,.2787],[.2731,.2731,.2731],[.2676,.2676,.2676],[.2621,.2621,.2621],[.2565,.2565,.2565],[.251,.251,.251],[.2454,.2454,.2454],[.2399,.2399,.2399],[.2344,.2344,.2344],[.2288,.2288,.2288],[.2233,.2233,.2233],[.2178,.2178,.2178],[.2122,.2122,.2122],[.2067,.2067,.2067],[.2012,.2012,.2012],[.1956,.1956,.1956],[.1901,.1901,.1901],[.1845,.1845,.1845],[.179,.179,.179],[.1735,.1735,.1735],[.1679,.1679,.1679],[.1624,.1624,.1624],[.1569,.1569,.1569],[.1513,.1513,.1513],[.1458,.1458,.1458],[.1411,.1411,.1411],[.1366,.1366,.1366],[.132,.132,.132],[.1275,.1275,.1275],[.1229,.1229,.1229],[.1184,.1184,.1184],[.1138,.1138,.1138],[.1093,.1093,.1093],[.1047,.1047,.1047],[.1001,.1001,.1001],[.0956,.0956,.0956],[.091,.091,.091],[.0865,.0865,.0865],[.0819,.0819,.0819],[.0774,.0774,.0774],[.0728,.0728,.0728],[.0683,.0683,.0683],[.0637,.0637,.0637],[.0592,.0592,.0592],[.0546,.0546,.0546],[.0501,.0501,.0501],[.0455,.0455,.0455],[.041,.041,.041],[.0364,.0364,.0364],[.0319,.0319,.0319],[.0273,.0273,.0273],[.0228,.0228,.0228],[.0182,.0182,.0182],[.0137,.0137,.0137],[.0091,.0091,.0091],[.0046,.0046,.0046],[0,0,0]]},OrRd:{interpolate:!0,colors:[[1,.9686,.9255],[.9999,.9668,.9211],[.9998,.9649,.9166],[.9996,.9631,.9122],[.9995,.9612,.9078],[.9994,.9594,.9033],[.9993,.9576,.8989],[.9991,.9557,.8945],[.999,.9539,.8901],[.9989,.952,.8856],[.9988,.9502,.8812],[.9986,.9483,.8768],[.9985,.9465,.8723],[.9984,.9446,.8679],[.9983,.9428,.8635],[.9982,.9409,.8591],[.998,.9391,.8546],[.9979,.9373,.8502],[.9978,.9354,.8458],[.9977,.9336,.8413],[.9975,.9317,.8369],[.9974,.9299,.8325],[.9973,.928,.8281],[.9972,.9262,.8236],[.997,.9243,.8192],[.9969,.9225,.8148],[.9968,.9206,.8103],[.9967,.9188,.8059],[.9966,.917,.8015],[.9964,.9151,.797],[.9963,.9133,.7926],[.9962,.9114,.7882],[.9961,.9095,.7837],[.9959,.907,.7785],[.9958,.9046,.7733],[.9957,.9021,.7682],[.9956,.8997,.763],[.9954,.8972,.7578],[.9953,.8947,.7527],[.9952,.8923,.7475],[.9951,.8898,.7423],[.995,.8874,.7372],[.9948,.8849,.732],[.9947,.8824,.7268],[.9946,.88,.7217],[.9945,.8775,.7165],[.9943,.875,.7113],[.9942,.8726,.7062],[.9941,.8701,.701],[.994,.8677,.6958],[.9938,.8652,.6907],[.9937,.8627,.6855],[.9936,.8603,.6803],[.9935,.8578,.6752],[.9934,.8554,.67],[.9932,.8529,.6648],[.9931,.8504,.6597],[.993,.848,.6545],[.9929,.8455,.6493],[.9927,.8431,.6442],[.9926,.8406,.639],[.9925,.8381,.6338],[.9924,.8357,.6287],[.9922,.8332,.6235],[.9922,.8306,.6188],[.9922,.8275,.6156],[.9922,.8245,.6124],[.9922,.8214,.6092],[.9922,.8183,.606],[.9922,.8152,.6028],[.9922,.8121,.5996],[.9922,.8091,.5964],[.9922,.806,.5932],[.9922,.8029,.59],[.9922,.7998,.5868],[.9922,.7968,.5836],[.9922,.7937,.5804],[.9922,.7906,.5772],[.9922,.7875,.574],[.9922,.7845,.5708],[.9922,.7814,.5676],[.9922,.7783,.5644],[.9922,.7752,.5612],[.9922,.7722,.558],[.9922,.7691,.5548],[.9922,.766,.5516],[.9922,.7629,.5484],[.9922,.7599,.5452],[.9922,.7568,.542],[.9922,.7537,.5388],[.9922,.7506,.5356],[.9922,.7476,.5324],[.9922,.7445,.5292],[.9922,.7414,.526],[.9922,.7383,.5228],[.9922,.7353,.5196],[.9921,.7312,.5157],[.992,.7256,.5104],[.9919,.7199,.5051],[.9917,.7142,.4998],[.9916,.7086,.4945],[.9915,.7029,.4892],[.9914,.6973,.4839],[.9912,.6916,.4786],[.9911,.6859,.4733],[.991,.6803,.4681],[.9909,.6746,.4628],[.9908,.669,.4575],[.9906,.6633,.4522],[.9905,.6576,.4469],[.9904,.652,.4416],[.9903,.6463,.4363],[.9901,.6407,.431],[.99,.635,.4257],[.9899,.6293,.4204],[.9898,.6237,.4151],[.9897,.618,.4099],[.9895,.6124,.4046],[.9894,.6067,.3993],[.9893,.601,.394],[.9892,.5954,.3887],[.989,.5897,.3834],[.9889,.5841,.3781],[.9888,.5784,.3728],[.9887,.5727,.3675],[.9885,.5671,.3622],[.9884,.5614,.357],[.9883,.5558,.3517],[.9874,.5505,.348],[.9858,.5456,.3459],[.9842,.5406,.3438],[.9826,.5357,.3417],[.981,.5308,.3396],[.9794,.5259,.3375],[.9778,.521,.3354],[.9762,.516,.3333],[.9746,.5111,.3312],[.973,.5062,.3292],[.9714,.5013,.3271],[.9698,.4963,.325],[.9682,.4914,.3229],[.9666,.4865,.3208],[.965,.4816,.3187],[.9634,.4767,.3166],[.9618,.4717,.3145],[.9602,.4668,.3124],[.9586,.4619,.3103],[.957,.457,.3082],[.9554,.4521,.3061],[.9538,.4471,.3041],[.9522,.4422,.302],[.9506,.4373,.2999],[.9491,.4324,.2978],[.9475,.4275,.2957],[.9459,.4225,.2936],[.9443,.4176,.2915],[.9427,.4127,.2894],[.9411,.4078,.2873],[.9395,.4028,.2852],[.9379,.3979,.2831],[.9354,.392,.2792],[.9325,.3855,.2742],[.9295,.379,.2691],[.9266,.3724,.2641],[.9236,.3659,.259],[.9206,.3594,.254],[.9177,.3529,.2489],[.9147,.3464,.2439],[.9118,.3398,.2388],[.9088,.3333,.2338],[.9059,.3268,.2288],[.9029,.3203,.2237],[.9,.3138,.2187],[.897,.3072,.2136],[.8941,.3007,.2086],[.8911,.2942,.2035],[.8882,.2877,.1985],[.8852,.2812,.1934],[.8823,.2746,.1884],[.8793,.2681,.1834],[.8764,.2616,.1783],[.8734,.2551,.1733],[.8704,.2486,.1682],[.8675,.242,.1632],[.8645,.2355,.1581],[.8616,.229,.1531],[.8586,.2225,.1481],[.8557,.2159,.143],[.8527,.2094,.138],[.8498,.2029,.1329],[.8468,.1964,.1279],[.8439,.1899,.1228],[.8398,.1838,.1187],[.8354,.1779,.1149],[.831,.172,.1111],[.8265,.1661,.1073],[.8221,.1602,.1035],[.8177,.1543,.0996],[.8132,.1484,.0958],[.8088,.1425,.092],[.8044,.1366,.0882],[.8,.1307,.0844],[.7955,.1248,.0806],[.7911,.1188,.0768],[.7867,.1129,.0729],[.7822,.107,.0691],[.7778,.1011,.0653],[.7734,.0952,.0615],[.769,.0893,.0577],[.7645,.0834,.0539],[.7601,.0775,.0501],[.7557,.0716,.0462],[.7512,.0657,.0424],[.7468,.0598,.0386],[.7424,.0539,.0348],[.7379,.048,.031],[.7335,.0421,.0272],[.7291,.0362,.0234],[.7247,.0303,.0195],[.7202,.0244,.0157],[.7158,.0185,.0119],[.7114,.0125,.0081],[.7069,.0066,.0043],[.7025,7e-4,5e-4],[.6964,0,0],[.69,0,0],[.6836,0,0],[.6772,0,0],[.6708,0,0],[.6644,0,0],[.658,0,0],[.6516,0,0],[.6452,0,0],[.6388,0,0],[.6324,0,0],[.626,0,0],[.6196,0,0],[.6132,0,0],[.6068,0,0],[.6004,0,0],[.594,0,0],[.5876,0,0],[.5812,0,0],[.5748,0,0],[.5684,0,0],[.562,0,0],[.5556,0,0],[.5492,0,0],[.5428,0,0],[.5364,0,0],[.53,0,0],[.5236,0,0],[.5172,0,0],[.5108,0,0],[.5044,0,0],[.498,0,0]]},Oranges:{interpolate:!0,colors:[[1,.9608,.9216],[.9999,.9589,.918],[.9998,.9571,.9144],[.9996,.9552,.9109],[.9995,.9534,.9073],[.9994,.9516,.9037],[.9993,.9497,.9002],[.9991,.9479,.8966],[.999,.946,.893],[.9989,.9442,.8895],[.9988,.9423,.8859],[.9986,.9405,.8823],[.9985,.9386,.8788],[.9984,.9368,.8752],[.9983,.9349,.8716],[.9982,.9331,.8681],[.998,.9313,.8645],[.9979,.9294,.8609],[.9978,.9276,.8573],[.9977,.9257,.8538],[.9975,.9239,.8502],[.9974,.922,.8466],[.9973,.9202,.8431],[.9972,.9183,.8395],[.997,.9165,.8359],[.9969,.9146,.8324],[.9968,.9128,.8288],[.9967,.911,.8252],[.9966,.9091,.8217],[.9964,.9073,.8181],[.9963,.9054,.8145],[.9962,.9036,.811],[.9961,.9016,.8072],[.9959,.8989,.8018],[.9958,.8962,.7963],[.9957,.8935,.7909],[.9956,.8908,.7855],[.9954,.8881,.7801],[.9953,.8854,.7747],[.9952,.8827,.7693],[.9951,.88,.7639],[.995,.8773,.7584],[.9948,.8746,.753],[.9947,.8718,.7476],[.9946,.8691,.7422],[.9945,.8664,.7368],[.9943,.8637,.7314],[.9942,.861,.726],[.9941,.8583,.7206],[.994,.8556,.7151],[.9938,.8529,.7097],[.9937,.8502,.7043],[.9936,.8475,.6989],[.9935,.8448,.6935],[.9934,.8421,.6881],[.9932,.8394,.6827],[.9931,.8367,.6772],[.993,.834,.6718],[.9929,.8312,.6664],[.9927,.8285,.661],[.9926,.8258,.6556],[.9925,.8231,.6502],[.9924,.8204,.6448],[.9922,.8177,.6394],[.9922,.8146,.6336],[.9922,.8105,.6268],[.9922,.8063,.6201],[.9922,.8021,.6133],[.9922,.7979,.6065],[.9922,.7937,.5998],[.9922,.7895,.593],[.9922,.7854,.5862],[.9922,.7812,.5795],[.9922,.777,.5727],[.9922,.7728,.5659],[.9922,.7686,.5592],[.9922,.7644,.5524],[.9922,.7603,.5456],[.9922,.7561,.5389],[.9922,.7519,.5321],[.9922,.7477,.5253],[.9922,.7435,.5186],[.9922,.7393,.5118],[.9922,.7352,.505],[.9922,.731,.4983],[.9922,.7268,.4915],[.9922,.7226,.4847],[.9922,.7184,.478],[.9922,.7142,.4712],[.9922,.7101,.4644],[.9922,.7059,.4577],[.9922,.7017,.4509],[.9922,.6975,.4441],[.9922,.6933,.4374],[.9922,.6892,.4306],[.9922,.685,.4238],[.9922,.6808,.4174],[.9922,.6768,.4117],[.9922,.6727,.4059],[.9922,.6687,.4001],[.9922,.6646,.3943],[.9922,.6605,.3885],[.9922,.6565,.3827],[.9922,.6524,.377],[.9922,.6484,.3712],[.9922,.6443,.3654],[.9922,.6402,.3596],[.9922,.6362,.3538],[.9922,.6321,.3481],[.9922,.6281,.3423],[.9922,.624,.3365],[.9922,.6199,.3307],[.9922,.6159,.3249],[.9922,.6118,.3191],[.9922,.6078,.3134],[.9922,.6037,.3076],[.9922,.5996,.3018],[.9922,.5956,.296],[.9922,.5915,.2902],[.9922,.5875,.2844],[.9922,.5834,.2787],[.9922,.5793,.2729],[.9922,.5753,.2671],[.9922,.5712,.2613],[.9922,.5672,.2555],[.9922,.5631,.2498],[.9922,.559,.244],[.9922,.555,.2382],[.9914,.5507,.2328],[.9899,.5463,.2277],[.9885,.5419,.2227],[.987,.5374,.2176],[.9855,.533,.2126],[.984,.5286,.2076],[.9826,.5242,.2025],[.9811,.5197,.1975],[.9796,.5153,.1924],[.9781,.5109,.1874],[.9767,.5064,.1823],[.9752,.502,.1773],[.9737,.4976,.1722],[.9722,.4931,.1672],[.9707,.4887,.1622],[.9693,.4843,.1571],[.9678,.4799,.1521],[.9663,.4754,.147],[.9648,.471,.142],[.9634,.4666,.1369],[.9619,.4621,.1319],[.9604,.4577,.1268],[.9589,.4533,.1218],[.9575,.4489,.1168],[.956,.4444,.1117],[.9545,.44,.1067],[.953,.4356,.1016],[.9516,.4311,.0966],[.9501,.4267,.0915],[.9486,.4223,.0865],[.9471,.4179,.0814],[.9457,.4134,.0764],[.9433,.4092,.0731],[.9403,.4052,.0709],[.9373,.4011,.0687],[.9344,.397,.0665],[.9314,.393,.0643],[.9285,.3889,.0621],[.9255,.3849,.0598],[.9226,.3808,.0576],[.9196,.3767,.0554],[.9167,.3727,.0532],[.9137,.3686,.051],[.9108,.3646,.0488],[.9078,.3605,.0466],[.9049,.3564,.0443],[.9019,.3524,.0421],[.899,.3483,.0399],[.896,.3443,.0377],[.8931,.3402,.0355],[.8901,.3361,.0333],[.8872,.3321,.031],[.8842,.328,.0288],[.8812,.324,.0266],[.8783,.3199,.0244],[.8753,.3158,.0222],[.8724,.3118,.02],[.8694,.3077,.0178],[.8665,.3037,.0155],[.8635,.2996,.0133],[.8606,.2955,.0111],[.8576,.2915,.0089],[.8547,.2874,.0067],[.8517,.2834,.0045],[.8463,.2807,.0041],[.84,.2785,.0044],[.8337,.2763,.0046],[.8275,.274,.0048],[.8212,.2718,.0051],[.8149,.2696,.0053],[.8086,.2674,.0056],[.8024,.2652,.0058],[.7961,.263,.0061],[.7898,.2608,.0063],[.7835,.2585,.0066],[.7773,.2563,.0068],[.771,.2541,.0071],[.7647,.2519,.0073],[.7584,.2497,.0076],[.7522,.2475,.0078],[.7459,.2453,.008],[.7396,.243,.0083],[.7333,.2408,.0085],[.7271,.2386,.0088],[.7208,.2364,.009],[.7145,.2342,.0093],[.7082,.232,.0095],[.702,.2298,.0098],[.6957,.2275,.01],[.6894,.2253,.0103],[.6831,.2231,.0105],[.6769,.2209,.0107],[.6706,.2187,.011],[.6643,.2165,.0112],[.658,.2143,.0115],[.6518,.212,.0117],[.6468,.2101,.0119],[.642,.2083,.012],[.6372,.2065,.0121],[.6324,.2046,.0122],[.6276,.2028,.0124],[.6228,.2009,.0125],[.618,.1991,.0126],[.6132,.1972,.0127],[.6084,.1954,.0129],[.6036,.1935,.013],[.5988,.1917,.0131],[.594,.1899,.0132],[.5892,.188,.0133],[.5844,.1862,.0135],[.5796,.1843,.0136],[.5748,.1825,.0137],[.57,.1806,.0138],[.5652,.1788,.014],[.5604,.1769,.0141],[.5556,.1751,.0142],[.5508,.1732,.0143],[.546,.1714,.0145],[.5412,.1696,.0146],[.5364,.1677,.0147],[.5316,.1659,.0148],[.5268,.164,.0149],[.522,.1622,.0151],[.5172,.1603,.0152],[.5124,.1585,.0153],[.5076,.1566,.0154],[.5028,.1548,.0156],[.498,.1529,.0157]]},PRGn:{interpolate:!0,colors:[[.251,0,.2941],[.2593,.0065,.3027],[.2676,.0129,.3113],[.2759,.0194,.32],[.2842,.0258,.3286],[.2925,.0323,.3372],[.3008,.0388,.3458],[.3091,.0452,.3544],[.3174,.0517,.363],[.3257,.0581,.3716],[.334,.0646,.3802],[.3423,.071,.3889],[.3506,.0775,.3975],[.3589,.084,.4061],[.3672,.0904,.4147],[.3755,.0969,.4233],[.3839,.1033,.4319],[.3922,.1098,.4405],[.4005,.1163,.4491],[.4088,.1227,.4577],[.4171,.1292,.4664],[.4254,.1356,.475],[.4337,.1421,.4836],[.442,.1486,.4922],[.4503,.155,.5008],[.4586,.1615,.5094],[.4654,.1701,.5168],[.4708,.1809,.523],[.4762,.1916,.5291],[.4816,.2024,.5353],[.487,.2131,.5414],[.4923,.2239,.5476],[.4977,.2347,.5537],[.5031,.2454,.5599],[.5085,.2562,.566],[.5139,.267,.5722],[.5193,.2777,.5783],[.5246,.2885,.5845],[.53,.2993,.5906],[.5354,.31,.5968],[.5408,.3208,.6029],[.5462,.3316,.6091],[.5516,.3423,.6152],[.5569,.3531,.6214],[.5623,.3639,.6275],[.5677,.3746,.6337],[.5731,.3854,.6398],[.5785,.3962,.646],[.5839,.4069,.6521],[.5892,.4177,.6583],[.5946,.4285,.6644],[.6,.4392,.6706],[.6063,.4474,.6761],[.6126,.4555,.6817],[.6189,.4637,.6872],[.6252,.4718,.6927],[.6315,.48,.6983],[.6378,.4881,.7038],[.6441,.4963,.7093],[.6504,.5044,.7149],[.6567,.5126,.7204],[.6631,.5207,.726],[.6694,.5289,.7315],[.6757,.537,.737],[.682,.5452,.7426],[.6883,.5533,.7481],[.6946,.5615,.7536],[.7009,.5696,.7592],[.7072,.5778,.7647],[.7135,.5859,.7702],[.7198,.5941,.7758],[.7261,.6022,.7813],[.7324,.6104,.7869],[.7387,.6185,.7924],[.745,.6267,.7979],[.7513,.6348,.8035],[.7576,.643,.809],[.7636,.6507,.8137],[.7693,.6579,.8175],[.775,.6651,.8214],[.7807,.6724,.8252],[.7864,.6796,.8291],[.7921,.6868,.8329],[.7978,.694,.8368],[.8035,.7013,.8406],[.8092,.7085,.8444],[.8148,.7157,.8483],[.8205,.723,.8521],[.8262,.7302,.856],[.8319,.7374,.8598],[.8376,.7446,.8637],[.8433,.7519,.8675],[.849,.7591,.8714],[.8547,.7663,.8752],[.8604,.7735,.879],[.8661,.7808,.8829],[.8717,.788,.8867],[.8774,.7952,.8906],[.8831,.8025,.8944],[.8888,.8097,.8983],[.8945,.8169,.9021],[.9002,.8241,.906],[.9059,.8314,.9098],[.9083,.8368,.9121],[.9108,.8421,.9144],[.9133,.8475,.9167],[.9157,.8529,.919],[.9182,.8583,.9213],[.9206,.8637,.9236],[.9231,.8691,.926],[.9256,.8744,.9283],[.928,.8798,.9306],[.9305,.8852,.9329],[.9329,.8906,.9352],[.9354,.896,.9375],[.9379,.9013,.9398],[.9403,.9067,.9421],[.9428,.9121,.9444],[.9453,.9175,.9467],[.9477,.9229,.949],[.9502,.9283,.9513],[.9526,.9336,.9536],[.9551,.939,.9559],[.9576,.9444,.9582],[.96,.9498,.9606],[.9625,.9552,.9629],[.9649,.9606,.9652],[.9674,.9659,.9675],[.9663,.9681,.9659],[.9617,.967,.9603],[.9571,.9659,.9548],[.9525,.9649,.9493],[.9479,.9638,.9437],[.9433,.9627,.9382],[.9386,.9616,.9326],[.934,.9606,.9271],[.9294,.9595,.9216],[.9248,.9584,.916],[.9202,.9573,.9105],[.9156,.9562,.905],[.911,.9552,.8994],[.9063,.9541,.8939],[.9017,.953,.8884],[.8971,.9519,.8828],[.8925,.9509,.8773],[.8879,.9498,.8717],[.8833,.9487,.8662],[.8787,.9476,.8607],[.874,.9466,.8551],[.8694,.9455,.8496],[.8648,.9444,.8441],[.8602,.9433,.8385],[.8556,.9423,.833],[.851,.9412,.8275],[.8431,.9379,.8196],[.8353,.9347,.8118],[.8275,.9315,.8039],[.8196,.9283,.7961],[.8118,.925,.7882],[.8039,.9218,.7804],[.7961,.9186,.7725],[.7882,.9153,.7647],[.7804,.9121,.7569],[.7725,.9089,.749],[.7647,.9057,.7412],[.7569,.9024,.7333],[.749,.8992,.7255],[.7412,.896,.7176],[.7333,.8927,.7098],[.7255,.8895,.702],[.7176,.8863,.6941],[.7098,.883,.6863],[.702,.8798,.6784],[.6941,.8766,.6706],[.6863,.8734,.6627],[.6784,.8701,.6549],[.6706,.8669,.6471],[.6627,.8637,.6392],[.6549,.8604,.6314],[.6451,.8554,.6226],[.6334,.8484,.6129],[.6218,.8415,.6032],[.6101,.8346,.5935],[.5984,.8277,.5839],[.5867,.8208,.5742],[.575,.8138,.5645],[.5633,.8069,.5548],[.5516,.8,.5451],[.5399,.7931,.5354],[.5283,.7862,.5257],[.5166,.7792,.516],[.5049,.7723,.5063],[.4932,.7654,.4967],[.4815,.7585,.487],[.4698,.7516,.4773],[.4581,.7446,.4676],[.4464,.7377,.4579],[.4348,.7308,.4482],[.4231,.7239,.4385],[.4114,.717,.4288],[.3997,.71,.4191],[.388,.7031,.4095],[.3763,.6962,.3998],[.3646,.6893,.3901],[.3529,.6824,.3804],[.3433,.674,.3739],[.3336,.6657,.3675],[.3239,.6574,.361],[.3142,.6491,.3546],[.3045,.6408,.3481],[.2948,.6325,.3416],[.2851,.6242,.3352],[.2754,.6159,.3287],[.2657,.6076,.3223],[.2561,.5993,.3158],[.2464,.591,.3093],[.2367,.5827,.3029],[.227,.5744,.2964],[.2173,.5661,.29],[.2076,.5578,.2835],[.1979,.5495,.277],[.1882,.5412,.2706],[.1785,.5329,.2641],[.1689,.5246,.2577],[.1592,.5163,.2512],[.1495,.508,.2448],[.1398,.4997,.2383],[.1301,.4913,.2318],[.1204,.483,.2254],[.1107,.4747,.2189],[.1038,.4666,.2135],[.0997,.4586,.2092],[.0955,.4506,.2049],[.0913,.4426,.2006],[.0872,.4346,.1963],[.083,.4266,.192],[.0789,.4186,.1877],[.0747,.4106,.1834],[.0706,.4026,.1791],[.0664,.3946,.1748],[.0623,.3866,.1705],[.0581,.3786,.1662],[.054,.3706,.1619],[.0498,.3626,.1576],[.0457,.3546,.1532],[.0415,.3466,.1489],[.0374,.3386,.1446],[.0332,.3306,.1403],[.0291,.3226,.136],[.0249,.3146,.1317],[.0208,.3067,.1274],[.0166,.2987,.1231],[.0125,.2907,.1188],[.0083,.2827,.1145],[.0042,.2747,.1102],[0,.2667,.1059]]},Paired:{interpolate:!1,colors:[[.651,.8078,.8902],[.1216,.4706,.7059],[.698,.8745,.5412],[.2,.6275,.1725],[.9843,.6039,.6],[.8902,.102,.1098],[.9922,.749,.4353],[1,.498,0],[.7922,.698,.8392],[.4157,.2392,.6039],[1,1,.6],[.6941,.349,.1569]]},Pastel1:{interpolate:!1,colors:[[.9843,.7059,.6824],[.702,.8039,.8902],[.8,.9216,.7725],[.8706,.7961,.8941],[.9961,.851,.651],[1,1,.8],[.898,.8471,.7412],[.9922,.8549,.9255],[.949,.949,.949]]},Pastel2:{interpolate:!1,colors:[[.702,.8863,.8039],[.9922,.8039,.6745],[.7961,.8353,.9098],[.9569,.7922,.8941],[.902,.9608,.7882],[1,.949,.6824],[.9451,.8863,.8],[.8,.8,.8]]},PiYG:{interpolate:!0,colors:[[.5569,.0039,.3216],[.5653,.0079,.3282],[.5738,.0119,.3348],[.5822,.0159,.3414],[.5907,.0199,.348],[.5992,.0239,.3546],[.6076,.0279,.3612],[.6161,.0319,.3679],[.6245,.0359,.3745],[.633,.0399,.3811],[.6414,.0439,.3877],[.6499,.0479,.3943],[.6584,.0519,.4009],[.6668,.0559,.4075],[.6753,.0599,.4141],[.6837,.0639,.4208],[.6922,.0679,.4274],[.7007,.0719,.434],[.7091,.0759,.4406],[.7176,.0799,.4472],[.726,.0839,.4538],[.7345,.0879,.4604],[.7429,.0919,.4671],[.7514,.0959,.4737],[.7599,.0999,.4803],[.7683,.1039,.4869],[.7745,.113,.494],[.7783,.1271,.5015],[.7822,.1413,.509],[.786,.1554,.5166],[.7899,.1696,.5241],[.7937,.1837,.5316],[.7975,.1978,.5392],[.8014,.212,.5467],[.8052,.2261,.5542],[.8091,.2403,.5618],[.8129,.2544,.5693],[.8168,.2686,.5769],[.8206,.2827,.5844],[.8245,.2969,.5919],[.8283,.311,.5995],[.8321,.3252,.607],[.836,.3393,.6145],[.8398,.3535,.6221],[.8437,.3676,.6296],[.8475,.3818,.6371],[.8514,.3959,.6447],[.8552,.4101,.6522],[.8591,.4242,.6597],[.8629,.4384,.6673],[.8667,.4525,.6748],[.8706,.4667,.6824],[.8735,.4764,.6891],[.8764,.486,.6959],[.8794,.4957,.7027],[.8823,.5054,.7094],[.8852,.5151,.7162],[.8881,.5248,.723],[.891,.5345,.7297],[.894,.5442,.7365],[.8969,.5539,.7433],[.8998,.5636,.75],[.9027,.5732,.7568],[.9057,.5829,.7636],[.9086,.5926,.7703],[.9115,.6023,.7771],[.9144,.612,.7839],[.9173,.6217,.7906],[.9203,.6314,.7974],[.9232,.6411,.8042],[.9261,.6507,.8109],[.929,.6604,.8177],[.9319,.6701,.8245],[.9349,.6798,.8312],[.9378,.6895,.838],[.9407,.6992,.8448],[.9436,.7089,.8515],[.946,.717,.8565],[.9479,.7234,.8597],[.9497,.7299,.863],[.9516,.7363,.8662],[.9534,.7428,.8694],[.9552,.7493,.8727],[.9571,.7557,.8759],[.9589,.7622,.8791],[.9608,.7686,.8824],[.9626,.7751,.8856],[.9645,.7815,.8888],[.9663,.788,.892],[.9682,.7945,.8953],[.97,.8009,.8985],[.9719,.8074,.9017],[.9737,.8138,.905],[.9755,.8203,.9082],[.9774,.8268,.9114],[.9792,.8332,.9146],[.9811,.8397,.9179],[.9829,.8461,.9211],[.9848,.8526,.9243],[.9866,.8591,.9276],[.9885,.8655,.9308],[.9903,.872,.934],[.9922,.8784,.9373],[.9912,.882,.9385],[.9903,.8855,.9397],[.9894,.889,.9409],[.9885,.8926,.9422],[.9875,.8961,.9434],[.9866,.8997,.9446],[.9857,.9032,.9459],[.9848,.9067,.9471],[.9839,.9103,.9483],[.9829,.9138,.9496],[.982,.9173,.9508],[.9811,.9209,.952],[.9802,.9244,.9532],[.9792,.928,.9545],[.9783,.9315,.9557],[.9774,.935,.9569],[.9765,.9386,.9582],[.9755,.9421,.9594],[.9746,.9456,.9606],[.9737,.9492,.9619],[.9728,.9527,.9631],[.9719,.9562,.9643],[.9709,.9598,.9656],[.97,.9633,.9668],[.9691,.9669,.968],[.9673,.9685,.9656],[.9647,.9682,.9596],[.9621,.9679,.9536],[.9595,.9676,.9476],[.9569,.9672,.9416],[.9542,.9669,.9356],[.9516,.9666,.9296],[.949,.9663,.9236],[.9464,.966,.9176],[.9438,.9657,.9116],[.9412,.9654,.9057],[.9386,.9651,.8997],[.9359,.9648,.8937],[.9333,.9645,.8877],[.9307,.9642,.8817],[.9281,.9639,.8757],[.9255,.9636,.8697],[.9229,.9632,.8637],[.9203,.9629,.8577],[.9176,.9626,.8517],[.915,.9623,.8457],[.9124,.962,.8397],[.9098,.9617,.8337],[.9072,.9614,.8277],[.9046,.9611,.8217],[.902,.9608,.8157],[.8949,.9577,.8043],[.8878,.9546,.7929],[.8807,.9516,.7815],[.8737,.9485,.7702],[.8666,.9454,.7588],[.8595,.9423,.7474],[.8524,.9393,.736],[.8454,.9362,.7246],[.8383,.9331,.7133],[.8312,.93,.7019],[.8241,.927,.6905],[.8171,.9239,.6791],[.81,.9208,.6677],[.8029,.9177,.6564],[.7958,.9146,.645],[.7888,.9116,.6336],[.7817,.9085,.6222],[.7746,.9054,.6108],[.7676,.9023,.5995],[.7605,.8993,.5881],[.7534,.8962,.5767],[.7463,.8931,.5653],[.7393,.89,.5539],[.7322,.887,.5426],[.7251,.8839,.5312],[.7172,.8795,.5202],[.7084,.8738,.5096],[.6997,.8681,.499],[.6909,.8624,.4884],[.6821,.8567,.4777],[.6734,.8511,.4671],[.6646,.8454,.4565],[.6558,.8397,.4459],[.6471,.834,.4353],[.6383,.8283,.4247],[.6295,.8226,.4141],[.6208,.8169,.4035],[.612,.8112,.3928],[.6032,.8055,.3822],[.5945,.7998,.3716],[.5857,.7942,.361],[.5769,.7885,.3504],[.5682,.7828,.3398],[.5594,.7771,.3292],[.5506,.7714,.3186],[.5419,.7657,.308],[.5331,.76,.2973],[.5243,.7543,.2867],[.5156,.7486,.2761],[.5068,.7429,.2655],[.498,.7373,.2549],[.4903,.7308,.25],[.4827,.7243,.2451],[.475,.7179,.2401],[.4673,.7114,.2352],[.4596,.705,.2303],[.4519,.6985,.2254],[.4442,.692,.2205],[.4365,.6856,.2155],[.4288,.6791,.2106],[.4211,.6727,.2057],[.4135,.6662,.2008],[.4058,.6597,.1958],[.3981,.6533,.1909],[.3904,.6468,.186],[.3827,.6404,.1811],[.375,.6339,.1762],[.3673,.6275,.1712],[.3596,.621,.1663],[.3519,.6145,.1614],[.3443,.6081,.1565],[.3366,.6016,.1516],[.3289,.5952,.1466],[.3212,.5887,.1417],[.3135,.5822,.1368],[.3058,.5758,.1319],[.299,.569,.1288],[.2932,.5619,.1276],[.2874,.5549,.1263],[.2815,.5478,.1251],[.2757,.5407,.1239],[.2698,.5336,.1226],[.264,.5266,.1214],[.2581,.5195,.1202],[.2523,.5124,.119],[.2464,.5053,.1177],[.2406,.4983,.1165],[.2348,.4912,.1153],[.2289,.4841,.114],[.2231,.477,.1128],[.2172,.47,.1116],[.2114,.4629,.1103],[.2055,.4558,.1091],[.1997,.4488,.1079],[.1938,.4417,.1067],[.188,.4346,.1054],[.1822,.4275,.1042],[.1763,.4205,.103],[.1705,.4134,.1017],[.1646,.4063,.1005],[.1588,.3992,.0993],[.1529,.3922,.098]]},PuBu:{interpolate:!0,colors:[[1,.9686,.9843],[.9977,.9667,.9832],[.9953,.9647,.9821],[.993,.9627,.981],[.9906,.9608,.9799],[.9883,.9588,.9788],[.986,.9568,.9777],[.9836,.9548,.9766],[.9813,.9529,.9755],[.979,.9509,.9743],[.9766,.9489,.9732],[.9743,.947,.9721],[.9719,.945,.971],[.9696,.943,.9699],[.9673,.9411,.9688],[.9649,.9391,.9677],[.9626,.9371,.9666],[.9603,.9352,.9655],[.9579,.9332,.9644],[.9556,.9312,.9633],[.9532,.9293,.9622],[.9509,.9273,.9611],[.9486,.9253,.96],[.9462,.9234,.9588],[.9439,.9214,.9577],[.9416,.9194,.9566],[.9392,.9174,.9555],[.9369,.9155,.9544],[.9345,.9135,.9533],[.9322,.9115,.9522],[.9299,.9096,.9511],[.9275,.9076,.95],[.9251,.9055,.9488],[.9216,.9028,.9474],[.9182,.9001,.9459],[.9147,.8974,.9444],[.9113,.8947,.9429],[.9078,.892,.9415],[.9044,.8893,.94],[.9009,.8866,.9385],[.8975,.8839,.937],[.8941,.8812,.9355],[.8906,.8785,.9341],[.8872,.8758,.9326],[.8837,.8731,.9311],[.8803,.8704,.9296],[.8768,.8677,.9282],[.8734,.8649,.9267],[.8699,.8622,.9252],[.8665,.8595,.9237],[.8631,.8568,.9223],[.8596,.8541,.9208],[.8562,.8514,.9193],[.8527,.8487,.9178],[.8493,.846,.9164],[.8458,.8433,.9149],[.8424,.8406,.9134],[.8389,.8379,.9119],[.8355,.8352,.9104],[.832,.8325,.909],[.8286,.8298,.9075],[.8252,.8271,.906],[.8217,.8243,.9045],[.8183,.8216,.9031],[.8144,.819,.9016],[.8092,.8165,.9003],[.8041,.8141,.8989],[.7989,.8116,.8976],[.7937,.8092,.8962],[.7886,.8067,.8949],[.7834,.8042,.8935],[.7782,.8018,.8921],[.7731,.7993,.8908],[.7679,.7968,.8894],[.7627,.7944,.8881],[.7576,.7919,.8867],[.7524,.7895,.8854],[.7472,.787,.884],[.7421,.7845,.8827],[.7369,.7821,.8813],[.7317,.7796,.88],[.7266,.7772,.8786],[.7214,.7747,.8773],[.7162,.7722,.8759],[.711,.7698,.8746],[.7059,.7673,.8732],[.7007,.7649,.8718],[.6955,.7624,.8705],[.6904,.7599,.8691],[.6852,.7575,.8678],[.68,.755,.8664],[.6749,.7526,.8651],[.6697,.7501,.8637],[.6645,.7476,.8624],[.6594,.7452,.861],[.6542,.7427,.8597],[.6487,.7403,.8583],[.6425,.7378,.8568],[.6364,.7353,.8553],[.6302,.7329,.8538],[.6241,.7304,.8524],[.6179,.728,.8509],[.6118,.7255,.8494],[.6056,.723,.8479],[.5995,.7206,.8465],[.5933,.7181,.845],[.5872,.7156,.8435],[.581,.7132,.842],[.5749,.7107,.8406],[.5687,.7083,.8391],[.5626,.7058,.8376],[.5564,.7033,.8361],[.5502,.7009,.8346],[.5441,.6984,.8332],[.5379,.696,.8317],[.5318,.6935,.8302],[.5256,.691,.8287],[.5195,.6886,.8273],[.5133,.6861,.8258],[.5072,.6837,.8243],[.501,.6812,.8228],[.4949,.6787,.8214],[.4887,.6763,.8199],[.4826,.6738,.8184],[.4764,.6714,.8169],[.4703,.6689,.8155],[.4641,.6664,.814],[.458,.664,.8125],[.4511,.6612,.8108],[.4435,.6581,.809],[.4358,.6551,.8072],[.4282,.652,.8053],[.4206,.6489,.8035],[.4129,.6458,.8016],[.4053,.6428,.7998],[.3977,.6397,.7979],[.3901,.6366,.7961],[.3824,.6335,.7942],[.3748,.6304,.7924],[.3672,.6274,.7905],[.3596,.6243,.7887],[.3519,.6212,.7869],[.3443,.6181,.785],[.3367,.6151,.7832],[.329,.612,.7813],[.3214,.6089,.7795],[.3138,.6058,.7776],[.3062,.6028,.7758],[.2985,.5997,.7739],[.2909,.5966,.7721],[.2833,.5935,.7702],[.2756,.5905,.7684],[.268,.5874,.7666],[.2604,.5843,.7647],[.2528,.5812,.7629],[.2451,.5782,.761],[.2375,.5751,.7592],[.2299,.572,.7573],[.2223,.5689,.7555],[.2146,.5659,.7536],[.208,.5622,.7517],[.202,.5583,.7497],[.1959,.5544,.7478],[.1899,.5504,.7458],[.1839,.5465,.7438],[.1779,.5426,.7419],[.1718,.5386,.7399],[.1658,.5347,.7379],[.1598,.5307,.736],[.1537,.5268,.734],[.1477,.5229,.732],[.1417,.5189,.7301],[.1357,.515,.7281],[.1296,.5111,.7261],[.1236,.5071,.7242],[.1176,.5032,.7222],[.1115,.4993,.7202],[.1055,.4953,.7182],[.0995,.4914,.7163],[.0935,.4874,.7143],[.0874,.4835,.7123],[.0814,.4796,.7104],[.0754,.4756,.7084],[.0693,.4717,.7064],[.0633,.4678,.7045],[.0573,.4638,.7025],[.0513,.4599,.7005],[.0452,.4559,.6986],[.0392,.452,.6966],[.0332,.4481,.6946],[.0271,.4441,.6927],[.0211,.4402,.6907],[.0195,.4372,.687],[.0194,.4345,.6827],[.0193,.4318,.6784],[.0191,.4291,.674],[.019,.4264,.6697],[.0189,.4237,.6654],[.0188,.4209,.6611],[.0187,.4182,.6568],[.0185,.4155,.6525],[.0184,.4128,.6482],[.0183,.4101,.6439],[.0182,.4074,.6396],[.018,.4047,.6353],[.0179,.402,.631],[.0178,.3993,.6267],[.0177,.3966,.6224],[.0175,.3939,.6181],[.0174,.3912,.6138],[.0173,.3885,.6095],[.0172,.3858,.6052],[.0171,.3831,.6008],[.0169,.3803,.5965],[.0168,.3776,.5922],[.0167,.3749,.5879],[.0166,.3722,.5836],[.0164,.3695,.5793],[.0163,.3668,.575],[.0162,.3641,.5707],[.0161,.3614,.5664],[.0159,.3587,.5621],[.0158,.356,.5578],[.0157,.3533,.5535],[.0155,.3493,.5472],[.0152,.3451,.5407],[.015,.3409,.5342],[.0147,.3367,.5277],[.0145,.3325,.5212],[.0142,.3284,.5146],[.014,.3242,.5081],[.0137,.32,.5016],[.0135,.3158,.4951],[.0133,.3116,.4886],[.013,.3075,.482],[.0128,.3033,.4755],[.0125,.2991,.469],[.0123,.2949,.4625],[.012,.2907,.4559],[.0118,.2865,.4494],[.0115,.2824,.4429],[.0113,.2782,.4364],[.011,.274,.4299],[.0108,.2698,.4233],[.0105,.2656,.4168],[.0103,.2614,.4103],[.0101,.2573,.4038],[.0098,.2531,.3973],[.0096,.2489,.3907],[.0093,.2447,.3842],[.0091,.2405,.3777],[.0088,.2363,.3712],[.0086,.2322,.3647],[.0083,.228,.3581],[.0081,.2238,.3516],[.0078,.2196,.3451]]},PuBuGn:{interpolate:!0,colors:[[1,.9686,.9843],[.9977,.966,.983],[.9953,.9635,.9816],[.993,.9609,.9803],[.9906,.9583,.9789],[.9883,.9557,.9775],[.986,.9531,.9762],[.9836,.9505,.9748],[.9813,.948,.9735],[.979,.9454,.9721],[.9766,.9428,.9708],[.9743,.9402,.9694],[.9719,.9376,.9681],[.9696,.935,.9667],[.9673,.9325,.9654],[.9649,.9299,.964],[.9626,.9273,.9627],[.9603,.9247,.9613],[.9579,.9221,.96],[.9556,.9195,.9586],[.9532,.917,.9572],[.9509,.9144,.9559],[.9486,.9118,.9545],[.9462,.9092,.9532],[.9439,.9066,.9518],[.9416,.904,.9505],[.9392,.9015,.9491],[.9369,.8989,.9478],[.9345,.8963,.9464],[.9322,.8937,.9451],[.9299,.8911,.9437],[.9275,.8885,.9424],[.9251,.886,.941],[.9216,.8839,.9398],[.9182,.8818,.9386],[.9147,.8797,.9373],[.9113,.8776,.9361],[.9078,.8756,.9349],[.9044,.8735,.9336],[.9009,.8714,.9324],[.8975,.8693,.9312],[.8941,.8672,.93],[.8906,.8651,.9287],[.8872,.863,.9275],[.8837,.8609,.9263],[.8803,.8588,.925],[.8768,.8567,.9238],[.8734,.8546,.9226],[.8699,.8525,.9213],[.8665,.8505,.9201],[.8631,.8484,.9189],[.8596,.8463,.9176],[.8562,.8442,.9164],[.8527,.8421,.9152],[.8493,.84,.914],[.8458,.8379,.9127],[.8424,.8358,.9115],[.8389,.8337,.9103],[.8355,.8316,.909],[.832,.8295,.9078],[.8286,.8275,.9066],[.8252,.8254,.9053],[.8217,.8233,.9041],[.8183,.8212,.9029],[.8144,.819,.9016],[.8092,.8165,.9003],[.8041,.8141,.8989],[.7989,.8116,.8976],[.7937,.8092,.8962],[.7886,.8067,.8949],[.7834,.8042,.8935],[.7782,.8018,.8921],[.7731,.7993,.8908],[.7679,.7968,.8894],[.7627,.7944,.8881],[.7576,.7919,.8867],[.7524,.7895,.8854],[.7472,.787,.884],[.7421,.7845,.8827],[.7369,.7821,.8813],[.7317,.7796,.88],[.7266,.7772,.8786],[.7214,.7747,.8773],[.7162,.7722,.8759],[.711,.7698,.8746],[.7059,.7673,.8732],[.7007,.7649,.8718],[.6955,.7624,.8705],[.6904,.7599,.8691],[.6852,.7575,.8678],[.68,.755,.8664],[.6749,.7526,.8651],[.6697,.7501,.8637],[.6645,.7476,.8624],[.6594,.7452,.861],[.6542,.7427,.8597],[.6481,.7403,.8583],[.6403,.7378,.8568],[.6326,.7353,.8553],[.6248,.7329,.8538],[.6171,.7304,.8524],[.6093,.728,.8509],[.6016,.7255,.8494],[.5938,.723,.8479],[.5861,.7206,.8465],[.5783,.7181,.845],[.5706,.7156,.8435],[.5628,.7132,.842],[.5551,.7107,.8406],[.5473,.7083,.8391],[.5396,.7058,.8376],[.5318,.7033,.8361],[.5241,.7009,.8346],[.5163,.6984,.8332],[.5086,.696,.8317],[.5008,.6935,.8302],[.4931,.691,.8287],[.4853,.6886,.8273],[.4776,.6861,.8258],[.4698,.6837,.8243],[.4621,.6812,.8228],[.4543,.6787,.8214],[.4466,.6763,.8199],[.4388,.6738,.8184],[.431,.6714,.8169],[.4233,.6689,.8155],[.4155,.6664,.814],[.4078,.664,.8125],[.4009,.6612,.8108],[.3949,.6581,.809],[.3889,.6551,.8072],[.3828,.652,.8053],[.3768,.6489,.8035],[.3708,.6458,.8016],[.3647,.6428,.7998],[.3587,.6397,.7979],[.3527,.6366,.7961],[.3467,.6335,.7942],[.3406,.6304,.7924],[.3346,.6274,.7905],[.3286,.6243,.7887],[.3225,.6212,.7869],[.3165,.6181,.785],[.3105,.6151,.7832],[.3045,.612,.7813],[.2984,.6089,.7795],[.2924,.6058,.7776],[.2864,.6028,.7758],[.2803,.5997,.7739],[.2743,.5966,.7721],[.2683,.5935,.7702],[.2623,.5905,.7684],[.2562,.5874,.7666],[.2502,.5843,.7647],[.2442,.5812,.7629],[.2381,.5782,.761],[.2321,.5751,.7592],[.2261,.572,.7573],[.2201,.5689,.7555],[.214,.5659,.7536],[.2078,.5636,.7488],[.2014,.5617,.7421],[.195,.5599,.7355],[.1886,.558,.7289],[.1822,.5562,.7222],[.1758,.5543,.7156],[.1694,.5525,.7089],[.163,.5506,.7023],[.1566,.5488,.6956],[.1502,.5469,.689],[.1438,.5451,.6824],[.1374,.5433,.6757],[.131,.5414,.6691],[.1246,.5396,.6624],[.1182,.5377,.6558],[.1118,.5359,.6491],[.1054,.534,.6425],[.099,.5322,.6358],[.0926,.5303,.6292],[.0862,.5285,.6226],[.0798,.5266,.6159],[.0734,.5248,.6093],[.067,.523,.6026],[.0606,.5211,.596],[.0542,.5193,.5893],[.0478,.5174,.5827],[.0414,.5156,.5761],[.035,.5137,.5694],[.0286,.5119,.5628],[.0222,.51,.5561],[.0158,.5082,.5495],[.0094,.5063,.5428],[.0078,.5039,.5367],[.0076,.5014,.5306],[.0075,.4988,.5246],[.0074,.4962,.5186],[.0073,.4936,.5125],[.0071,.491,.5065],[.007,.4884,.5005],[.0069,.4859,.4945],[.0068,.4833,.4884],[.0066,.4807,.4824],[.0065,.4781,.4764],[.0064,.4755,.4703],[.0063,.4729,.4643],[.0062,.4704,.4583],[.006,.4678,.4523],[.0059,.4652,.4462],[.0058,.4626,.4402],[.0057,.46,.4342],[.0055,.4574,.4281],[.0054,.4549,.4221],[.0053,.4523,.4161],[.0052,.4497,.4101],[.005,.4471,.404],[.0049,.4445,.398],[.0048,.4419,.392],[.0047,.4394,.3859],[.0046,.4368,.3799],[.0044,.4342,.3739],[.0043,.4316,.3679],[.0042,.429,.3618],[.0041,.4264,.3558],[.0039,.4239,.3498],[.0039,.4194,.3453],[.0039,.4148,.3409],[.0039,.4101,.3366],[.0039,.4054,.3323],[.0039,.4007,.328],[.0039,.3961,.3237],[.0039,.3914,.3194],[.0039,.3867,.3151],[.0039,.382,.3108],[.0039,.3774,.3065],[.0039,.3727,.3022],[.0039,.368,.2979],[.0039,.3633,.2936],[.0039,.3587,.2893],[.0039,.354,.285],[.0039,.3493,.2807],[.0039,.3446,.2764],[.0039,.34,.272],[.0039,.3353,.2677],[.0039,.3306,.2634],[.0039,.3259,.2591],[.0039,.3213,.2548],[.0039,.3166,.2505],[.0039,.3119,.2462],[.0039,.3072,.2419],[.0039,.3026,.2376],[.0039,.2979,.2333],[.0039,.2932,.229],[.0039,.2885,.2247],[.0039,.2839,.2204],[.0039,.2792,.2161],[.0039,.2745,.2118]]},PuOr:{interpolate:!0,colors:[[.498,.2314,.0314],[.506,.2358,.0311],[.514,.2403,.0308],[.522,.2448,.0304],[.53,.2492,.0301],[.538,.2537,.0298],[.546,.2581,.0295],[.554,.2626,.0292],[.562,.2671,.0289],[.57,.2715,.0286],[.578,.276,.0283],[.586,.2804,.028],[.594,.2849,.0277],[.602,.2894,.0274],[.61,.2938,.0271],[.618,.2983,.0268],[.626,.3027,.0265],[.634,.3072,.0261],[.642,.3116,.0258],[.65,.3161,.0255],[.658,.3206,.0252],[.666,.325,.0249],[.674,.3295,.0246],[.682,.3339,.0243],[.69,.3384,.024],[.698,.3429,.0237],[.7054,.3483,.0246],[.7123,.3548,.0268],[.7193,.3612,.0289],[.7262,.3677,.0311],[.7331,.3742,.0332],[.74,.3806,.0354],[.7469,.3871,.0375],[.7539,.3935,.0397],[.7608,.4,.0418],[.7677,.4065,.044],[.7746,.4129,.0461],[.7815,.4194,.0483],[.7885,.4258,.0504],[.7954,.4323,.0526],[.8023,.4388,.0547],[.8092,.4452,.0569],[.8161,.4517,.0591],[.8231,.4581,.0612],[.83,.4646,.0634],[.8369,.471,.0655],[.8438,.4775,.0677],[.8507,.484,.0698],[.8577,.4904,.072],[.8646,.4969,.0741],[.8715,.5033,.0763],[.8784,.5098,.0784],[.8829,.5181,.0906],[.8874,.5264,.1027],[.8918,.5347,.1149],[.8963,.543,.127],[.9007,.5513,.1392],[.9052,.5596,.1513],[.9097,.5679,.1635],[.9141,.5762,.1756],[.9186,.5845,.1878],[.923,.5928,.1999],[.9275,.6012,.2121],[.9319,.6095,.2242],[.9364,.6178,.2364],[.9409,.6261,.2485],[.9453,.6344,.2607],[.9498,.6427,.2728],[.9542,.651,.285],[.9587,.6593,.2971],[.9632,.6676,.3093],[.9676,.6759,.3214],[.9721,.6842,.3336],[.9765,.6925,.3457],[.981,.7008,.3579],[.9855,.7091,.37],[.9899,.7174,.3822],[.9922,.7246,.3946],[.9924,.7308,.4074],[.9925,.7369,.4201],[.9927,.7431,.4329],[.9928,.7493,.4457],[.993,.7554,.4584],[.9932,.7616,.4712],[.9933,.7677,.484],[.9935,.7739,.4967],[.9936,.78,.5095],[.9938,.7862,.5223],[.9939,.7923,.535],[.9941,.7985,.5478],[.9942,.8046,.5606],[.9944,.8108,.5733],[.9945,.8169,.5861],[.9947,.8231,.5988],[.9948,.8292,.6116],[.995,.8354,.6244],[.9952,.8415,.6371],[.9953,.8477,.6499],[.9955,.8538,.6627],[.9956,.86,.6754],[.9958,.8661,.6882],[.9959,.8723,.701],[.9961,.8784,.7137],[.995,.882,.7237],[.9939,.8855,.7337],[.9928,.889,.7437],[.9918,.8926,.7537],[.9907,.8961,.7637],[.9896,.8997,.7737],[.9885,.9032,.7837],[.9875,.9067,.7937],[.9864,.9103,.8037],[.9853,.9138,.8137],[.9842,.9173,.8237],[.9832,.9209,.8337],[.9821,.9244,.8437],[.981,.928,.8537],[.9799,.9315,.8637],[.9789,.935,.8737],[.9778,.9386,.8837],[.9767,.9421,.8937],[.9756,.9456,.9037],[.9745,.9492,.9136],[.9735,.9527,.9236],[.9724,.9562,.9336],[.9713,.9598,.9436],[.9702,.9633,.9536],[.9692,.9669,.9636],[.9662,.9664,.9677],[.9615,.9619,.9659],[.9567,.9575,.964],[.9519,.953,.9622],[.9472,.9486,.9603],[.9424,.9441,.9585],[.9376,.9396,.9566],[.9329,.9352,.9548],[.9281,.9307,.9529],[.9233,.9263,.9511],[.9186,.9218,.9493],[.9138,.9173,.9474],[.909,.9129,.9456],[.9043,.9084,.9437],[.8995,.904,.9419],[.8947,.8995,.94],[.89,.895,.9382],[.8852,.8906,.9363],[.8804,.8861,.9345],[.8757,.8817,.9326],[.8709,.8772,.9308],[.8661,.8727,.929],[.8614,.8683,.9271],[.8566,.8638,.9253],[.8518,.8594,.9234],[.8471,.8549,.9216],[.8412,.8477,.9177],[.8354,.8404,.9139],[.8295,.8332,.91],[.8237,.826,.9062],[.8178,.8188,.9023],[.812,.8115,.8985],[.8062,.8043,.8947],[.8003,.7971,.8908],[.7945,.7899,.887],[.7886,.7826,.8831],[.7828,.7754,.8793],[.7769,.7682,.8754],[.7711,.7609,.8716],[.7652,.7537,.8677],[.7594,.7465,.8639],[.7536,.7393,.8601],[.7477,.732,.8562],[.7419,.7248,.8524],[.736,.7176,.8485],[.7302,.7103,.8447],[.7243,.7031,.8408],[.7185,.6959,.837],[.7126,.6887,.8331],[.7068,.6814,.8293],[.701,.6742,.8255],[.6942,.6663,.8206],[.6865,.6577,.8148],[.6788,.6491,.8089],[.6711,.6404,.8031],[.6634,.6318,.7972],[.6557,.6232,.7914],[.6481,.6146,.7855],[.6404,.606,.7797],[.6327,.5974,.7739],[.625,.5888,.768],[.6173,.5802,.7622],[.6096,.5715,.7563],[.6019,.5629,.7505],[.5942,.5543,.7446],[.5865,.5457,.7388],[.5789,.5371,.7329],[.5712,.5285,.7271],[.5635,.5199,.7213],[.5558,.5113,.7154],[.5481,.5027,.7096],[.5404,.494,.7037],[.5327,.4854,.6979],[.525,.4768,.692],[.5173,.4682,.6862],[.5097,.4596,.6804],[.502,.451,.6745],[.4952,.4393,.669],[.4884,.4276,.6634],[.4817,.4159,.6579],[.4749,.4042,.6524],[.4681,.3925,.6468],[.4614,.3809,.6413],[.4546,.3692,.6358],[.4478,.3575,.6302],[.4411,.3458,.6247],[.4343,.3341,.6191],[.4275,.3224,.6136],[.4208,.3107,.6081],[.414,.299,.6025],[.4072,.2874,.597],[.4005,.2757,.5915],[.3937,.264,.5859],[.3869,.2523,.5804],[.3802,.2406,.5749],[.3734,.2289,.5693],[.3666,.2172,.5638],[.3599,.2055,.5582],[.3531,.1938,.5527],[.3463,.1822,.5472],[.3396,.1705,.5416],[.3328,.1588,.5361],[.3264,.1499,.5286],[.3204,.1439,.5193],[.3144,.1379,.5099],[.3084,.1319,.5005],[.3024,.126,.4911],[.2964,.12,.4817],[.2904,.114,.4724],[.2844,.108,.463],[.2784,.102,.4536],[.2724,.096,.4442],[.2664,.09,.4348],[.2604,.084,.4255],[.2544,.078,.4161],[.2484,.072,.4067],[.2424,.066,.3973],[.2364,.06,.3879],[.2304,.054,.3785],[.2245,.048,.3692],[.2185,.042,.3598],[.2125,.036,.3504],[.2065,.03,.341],[.2005,.024,.3316],[.1945,.018,.3223],[.1885,.012,.3129],[.1825,.006,.3035],[.1765,0,.2941]]},PuRd:{interpolate:!0,colors:[[.9686,.9569,.9765],[.9667,.9545,.9752],[.9647,.9522,.974],[.9627,.9499,.9728],[.9608,.9475,.9715],[.9588,.9452,.9703],[.9568,.9428,.9691],[.9548,.9405,.9679],[.9529,.9382,.9666],[.9509,.9358,.9654],[.9489,.9335,.9642],[.947,.9311,.9629],[.945,.9288,.9617],[.943,.9265,.9605],[.9411,.9241,.9592],[.9391,.9218,.958],[.9371,.9195,.9568],[.9352,.9171,.9556],[.9332,.9148,.9543],[.9312,.9124,.9531],[.9293,.9101,.9519],[.9273,.9078,.9506],[.9253,.9054,.9494],[.9234,.9031,.9482],[.9214,.9008,.9469],[.9194,.8984,.9457],[.9174,.8961,.9445],[.9155,.8937,.9433],[.9135,.8914,.942],[.9115,.8891,.9408],[.9096,.8867,.9396],[.9076,.8844,.9383],[.9056,.8817,.9369],[.9033,.8768,.9343],[.9009,.8719,.9318],[.8986,.867,.9292],[.8962,.8621,.9266],[.8939,.8571,.924],[.8916,.8522,.9214],[.8892,.8473,.9188],[.8869,.8424,.9163],[.8846,.8374,.9137],[.8822,.8325,.9111],[.8799,.8276,.9085],[.8775,.8227,.9059],[.8752,.8178,.9033],[.8729,.8128,.9008],[.8705,.8079,.8982],[.8682,.803,.8956],[.8659,.7981,.893],[.8635,.7932,.8904],[.8612,.7882,.8878],[.8588,.7833,.8853],[.8565,.7784,.8827],[.8542,.7735,.8801],[.8518,.7686,.8775],[.8495,.7636,.8749],[.8472,.7587,.8723],[.8448,.7538,.8698],[.8425,.7489,.8672],[.8401,.7439,.8646],[.8378,.739,.862],[.8355,.7341,.8594],[.8331,.7292,.8568],[.831,.7244,.8543],[.8297,.7198,.852],[.8283,.7152,.8496],[.827,.7107,.8473],[.8256,.7061,.845],[.8243,.7016,.8426],[.8229,.697,.8403],[.8216,.6925,.838],[.8202,.6879,.8356],[.8189,.6834,.8333],[.8175,.6788,.8309],[.8161,.6743,.8286],[.8148,.6697,.8263],[.8134,.6652,.8239],[.8121,.6606,.8216],[.8107,.6561,.8193],[.8094,.6515,.8169],[.808,.647,.8146],[.8067,.6424,.8122],[.8053,.6379,.8099],[.804,.6333,.8076],[.8026,.6288,.8052],[.8013,.6242,.8029],[.7999,.6197,.8006],[.7986,.6151,.7982],[.7972,.6105,.7959],[.7958,.606,.7935],[.7945,.6014,.7912],[.7931,.5969,.7889],[.7918,.5923,.7865],[.7904,.5878,.7842],[.7891,.5832,.7819],[.7893,.5782,.7793],[.792,.5724,.7765],[.7947,.5667,.7737],[.7974,.5609,.7708],[.8001,.5551,.768],[.8028,.5493,.7652],[.8055,.5435,.7624],[.8082,.5377,.7595],[.8109,.532,.7567],[.8136,.5262,.7539],[.8163,.5204,.751],[.819,.5146,.7482],[.8217,.5088,.7454],[.8244,.5031,.7425],[.8271,.4973,.7397],[.8299,.4915,.7369],[.8326,.4857,.7341],[.8353,.4799,.7312],[.838,.4741,.7284],[.8407,.4684,.7256],[.8434,.4626,.7227],[.8461,.4568,.7199],[.8488,.451,.7171],[.8515,.4452,.7142],[.8542,.4394,.7114],[.8569,.4337,.7086],[.8596,.4279,.7058],[.8623,.4221,.7029],[.865,.4163,.7001],[.8677,.4105,.6973],[.8704,.4048,.6944],[.8732,.399,.6916],[.875,.3924,.6879],[.876,.385,.6832],[.877,.3776,.6785],[.878,.3702,.6738],[.8789,.3629,.6692],[.8799,.3555,.6645],[.8809,.3481,.6598],[.8819,.3407,.6551],[.8829,.3333,.6505],[.8839,.326,.6458],[.8848,.3186,.6411],[.8858,.3112,.6364],[.8868,.3038,.6318],[.8878,.2964,.6271],[.8888,.289,.6224],[.8898,.2817,.6177],[.8907,.2743,.6131],[.8917,.2669,.6084],[.8927,.2595,.6037],[.8937,.2521,.599],[.8947,.2448,.5944],[.8957,.2374,.5897],[.8967,.23,.585],[.8976,.2226,.5803],[.8986,.2152,.5757],[.8996,.2078,.571],[.9006,.2005,.5663],[.9016,.1931,.5616],[.9026,.1857,.557],[.9035,.1783,.5523],[.9045,.1709,.5476],[.9055,.1636,.5429],[.904,.159,.5372],[.9009,.1562,.5308],[.8978,.1534,.5244],[.8947,.1505,.518],[.8917,.1477,.5116],[.8886,.1449,.5052],[.8855,.142,.4988],[.8824,.1392,.4924],[.8794,.1364,.486],[.8763,.1335,.4796],[.8732,.1307,.4732],[.8701,.1279,.4668],[.8671,.1251,.4604],[.864,.1222,.454],[.8609,.1194,.4476],[.8578,.1166,.4412],[.8547,.1137,.4348],[.8517,.1109,.4284],[.8486,.1081,.422],[.8455,.1053,.4156],[.8424,.1024,.4092],[.8394,.0996,.4028],[.8363,.0968,.3964],[.8332,.0939,.39],[.8301,.0911,.3836],[.8271,.0883,.3772],[.824,.0854,.3708],[.8209,.0826,.3644],[.8178,.0798,.358],[.8148,.077,.3516],[.8117,.0741,.3453],[.8086,.0713,.3389],[.8029,.0689,.3355],[.7962,.0667,.3332],[.7896,.0645,.3308],[.7829,.0623,.3285],[.7763,.0601,.3262],[.7696,.0579,.3238],[.763,.0556,.3215],[.7564,.0534,.3191],[.7497,.0512,.3168],[.7431,.049,.3145],[.7364,.0468,.3121],[.7298,.0446,.3098],[.7231,.0424,.3075],[.7165,.0401,.3051],[.7099,.0379,.3028],[.7032,.0357,.3004],[.6966,.0335,.2981],[.6899,.0313,.2958],[.6833,.0291,.2934],[.6766,.0269,.2911],[.67,.0246,.2888],[.6633,.0224,.2864],[.6567,.0202,.2841],[.6501,.018,.2817],[.6434,.0158,.2794],[.6368,.0136,.2771],[.6301,.0113,.2747],[.6235,.0091,.2724],[.6168,.0069,.27],[.6102,.0047,.2677],[.6036,.0025,.2654],[.5969,3e-4,.263],[.5908,0,.2589],[.5848,0,.2544],[.5787,0,.25],[.5727,0,.2456],[.5667,0,.2412],[.5607,0,.2367],[.5546,0,.2323],[.5486,0,.2279],[.5426,0,.2234],[.5365,0,.219],[.5305,0,.2146],[.5245,0,.2101],[.5185,0,.2057],[.5124,0,.2013],[.5064,0,.1969],[.5004,0,.1924],[.4943,0,.188],[.4883,0,.1836],[.4823,0,.1791],[.4763,0,.1747],[.4702,0,.1703],[.4642,0,.1659],[.4582,0,.1614],[.4521,0,.157],[.4461,0,.1526],[.4401,0,.1481],[.4341,0,.1437],[.428,0,.1393],[.422,0,.1349],[.416,0,.1304],[.41,0,.126],[.4039,0,.1216]]},Purples:{interpolate:!0,colors:[[.9882,.9843,.9922],[.9866,.9826,.9912],[.985,.9809,.9902],[.9834,.9791,.9892],[.9818,.9774,.9882],[.9802,.9757,.9872],[.9786,.974,.9863],[.977,.9723,.9853],[.9754,.9705,.9843],[.9738,.9688,.9833],[.9722,.9671,.9823],[.9706,.9654,.9813],[.969,.9636,.9803],[.9674,.9619,.9794],[.9658,.9602,.9784],[.9642,.9585,.9774],[.9626,.9568,.9764],[.961,.955,.9754],[.9594,.9533,.9744],[.9578,.9516,.9735],[.9562,.9499,.9725],[.9546,.9481,.9715],[.953,.9464,.9705],[.9514,.9447,.9695],[.9499,.943,.9685],[.9483,.9413,.9676],[.9467,.9395,.9666],[.9451,.9378,.9656],[.9435,.9361,.9646],[.9419,.9344,.9636],[.9403,.9326,.9626],[.9387,.9309,.9616],[.9369,.9291,.9606],[.9343,.9268,.9594],[.9318,.9244,.9582],[.9292,.9221,.9569],[.9266,.9198,.9557],[.924,.9174,.9545],[.9214,.9151,.9532],[.9188,.9128,.952],[.9163,.9104,.9508],[.9137,.9081,.9496],[.9111,.9057,.9483],[.9085,.9034,.9471],[.9059,.9011,.9459],[.9033,.8987,.9446],[.9008,.8964,.9434],[.8982,.8941,.9422],[.8956,.8917,.9409],[.893,.8894,.9397],[.8904,.887,.9385],[.8878,.8847,.9373],[.8853,.8824,.936],[.8827,.88,.9348],[.8801,.8777,.9336],[.8775,.8754,.9323],[.8749,.873,.9311],[.8723,.8707,.9299],[.8698,.8683,.9286],[.8672,.866,.9274],[.8646,.8637,.9262],[.862,.8613,.925],[.8594,.859,.9237],[.8568,.8567,.9225],[.854,.854,.9211],[.8503,.8504,.9193],[.8466,.8469,.9174],[.8429,.8433,.9156],[.8392,.8397,.9137],[.8355,.8362,.9119],[.8318,.8326,.91],[.8281,.829,.9082],[.8245,.8255,.9063],[.8208,.8219,.9045],[.8171,.8183,.9027],[.8134,.8148,.9008],[.8097,.8112,.899],[.806,.8076,.8971],[.8023,.8041,.8953],[.7986,.8005,.8934],[.7949,.7969,.8916],[.7912,.7934,.8897],[.7875,.7898,.8879],[.7839,.7862,.886],[.7802,.7827,.8842],[.7765,.7791,.8824],[.7728,.7755,.8805],[.7691,.7719,.8787],[.7654,.7684,.8768],[.7617,.7648,.875],[.758,.7612,.8731],[.7543,.7577,.8713],[.7506,.7541,.8694],[.7469,.7505,.8676],[.7433,.747,.8657],[.7396,.7434,.8639],[.7359,.7396,.8618],[.7322,.7353,.8594],[.7285,.7309,.8569],[.7248,.7266,.8544],[.7211,.7223,.852],[.7174,.718,.8495],[.7137,.7137,.8471],[.71,.7094,.8446],[.7063,.7051,.8421],[.7027,.7008,.8397],[.699,.6965,.8372],[.6953,.6922,.8348],[.6916,.6879,.8323],[.6879,.6836,.8298],[.6842,.6793,.8274],[.6805,.675,.8249],[.6768,.6707,.8225],[.6731,.6664,.82],[.6694,.6621,.8175],[.6657,.6577,.8151],[.6621,.6534,.8126],[.6584,.6491,.8101],[.6547,.6448,.8077],[.651,.6405,.8052],[.6473,.6362,.8028],[.6436,.6319,.8003],[.6399,.6276,.7978],[.6362,.6233,.7954],[.6325,.619,.7929],[.6288,.6147,.7905],[.6251,.6104,.788],[.6215,.6061,.7855],[.6178,.6021,.7835],[.6141,.5986,.7817],[.6104,.595,.78],[.6067,.5914,.7783],[.603,.5879,.7766],[.5993,.5843,.7748],[.5956,.5807,.7731],[.5919,.5772,.7714],[.5882,.5736,.7697],[.5845,.57,.768],[.5809,.5665,.7662],[.5772,.5629,.7645],[.5735,.5593,.7628],[.5698,.5558,.7611],[.5661,.5522,.7593],[.5624,.5486,.7576],[.5587,.5451,.7559],[.555,.5415,.7542],[.5513,.5379,.7524],[.5476,.5343,.7507],[.5439,.5308,.749],[.5403,.5272,.7473],[.5366,.5236,.7456],[.5329,.5201,.7438],[.5292,.5165,.7421],[.5255,.5129,.7404],[.5218,.5094,.7387],[.5181,.5058,.7369],[.5144,.5022,.7352],[.5107,.4987,.7335],[.507,.4951,.7318],[.5033,.4915,.7301],[.5003,.4868,.7276],[.4976,.4814,.7248],[.4949,.476,.722],[.4921,.4706,.7192],[.4894,.4652,.7163],[.4867,.4597,.7135],[.484,.4543,.7107],[.4813,.4489,.7078],[.4786,.4435,.705],[.4759,.4381,.7022],[.4732,.4327,.6993],[.4705,.4273,.6965],[.4678,.4219,.6937],[.4651,.4164,.6909],[.4624,.411,.688],[.4597,.4056,.6852],[.457,.4002,.6824],[.4543,.3948,.6795],[.4515,.3894,.6767],[.4488,.384,.6739],[.4461,.3785,.671],[.4434,.3731,.6682],[.4407,.3677,.6654],[.438,.3623,.6626],[.4353,.3569,.6597],[.4326,.3515,.6569],[.4299,.3461,.6541],[.4272,.3407,.6512],[.4245,.3352,.6484],[.4218,.3298,.6456],[.4191,.3244,.6428],[.4164,.319,.6399],[.4137,.3138,.6374],[.4109,.3086,.6349],[.4082,.3034,.6324],[.4055,.2983,.63],[.4028,.2931,.6275],[.4001,.2879,.6251],[.3974,.2828,.6226],[.3947,.2776,.6201],[.392,.2724,.6177],[.3893,.2673,.6152],[.3866,.2621,.6128],[.3839,.2569,.6103],[.3812,.2518,.6078],[.3785,.2466,.6054],[.3758,.2414,.6029],[.3731,.2363,.6005],[.3703,.2311,.598],[.3676,.2259,.5955],[.3649,.2208,.5931],[.3622,.2156,.5906],[.3595,.2104,.5882],[.3568,.2053,.5857],[.3541,.2001,.5832],[.3514,.1949,.5808],[.3487,.1898,.5783],[.346,.1846,.5759],[.3433,.1794,.5734],[.3406,.1743,.5709],[.3379,.1691,.5685],[.3352,.1639,.566],[.3325,.1588,.5636],[.3298,.1536,.5611],[.3272,.1487,.5588],[.3246,.1439,.5566],[.322,.1391,.5544],[.3194,.1343,.5522],[.3168,.1296,.55],[.3142,.1248,.5478],[.3116,.12,.5456],[.3091,.1152,.5433],[.3065,.1104,.5411],[.3039,.1056,.5389],[.3013,.1008,.5367],[.2987,.096,.5345],[.2961,.0912,.5323],[.2936,.0864,.5301],[.291,.0816,.5278],[.2884,.0768,.5256],[.2858,.072,.5234],[.2832,.0672,.5212],[.2806,.0624,.519],[.2781,.0576,.5168],[.2755,.0528,.5146],[.2729,.048,.5123],[.2703,.0432,.5101],[.2677,.0384,.5079],[.2651,.0336,.5057],[.2626,.0288,.5035],[.26,.024,.5013],[.2574,.0192,.4991],[.2548,.0144,.4968],[.2522,.0096,.4946],[.2496,.0048,.4924],[.2471,0,.4902]]},RdBu:{interpolate:!0,colors:[[.4039,0,.1216],[.4155,.0037,.1234],[.427,.0074,.1253],[.4385,.0111,.1271],[.4501,.0148,.129],[.4616,.0185,.1308],[.4731,.0221,.1326],[.4847,.0258,.1345],[.4962,.0295,.1363],[.5077,.0332,.1382],[.5193,.0369,.14],[.5308,.0406,.1419],[.5423,.0443,.1437],[.5539,.048,.1456],[.5654,.0517,.1474],[.5769,.0554,.1493],[.5885,.0591,.1511],[.6,.0627,.1529],[.6115,.0664,.1548],[.6231,.0701,.1566],[.6346,.0738,.1585],[.6461,.0775,.1603],[.6577,.0812,.1622],[.6692,.0849,.164],[.6807,.0886,.1659],[.6923,.0923,.1677],[.7008,.0997,.1712],[.7063,.1107,.1765],[.7119,.1218,.1817],[.7174,.1329,.1869],[.723,.1439,.1922],[.7285,.155,.1974],[.734,.1661,.2026],[.7396,.1772,.2078],[.7451,.1882,.2131],[.7506,.1993,.2183],[.7562,.2104,.2235],[.7617,.2215,.2288],[.7672,.2325,.234],[.7728,.2436,.2392],[.7783,.2547,.2444],[.7839,.2657,.2497],[.7894,.2768,.2549],[.7949,.2879,.2601],[.8005,.299,.2654],[.806,.31,.2706],[.8115,.3211,.2758],[.8171,.3322,.281],[.8226,.3433,.2863],[.8281,.3543,.2915],[.8337,.3654,.2967],[.8392,.3765,.302],[.8438,.3871,.3101],[.8484,.3977,.3183],[.8531,.4083,.3264],[.8577,.4189,.3346],[.8623,.4295,.3427],[.8669,.4401,.3509],[.8715,.4507,.359],[.8761,.4614,.3672],[.8807,.472,.3753],[.8854,.4826,.3835],[.89,.4932,.3916],[.8946,.5038,.3998],[.8992,.5144,.4079],[.9038,.525,.4161],[.9084,.5356,.4242],[.913,.5463,.4324],[.9176,.5569,.4405],[.9223,.5675,.4487],[.9269,.5781,.4568],[.9315,.5887,.465],[.9361,.5993,.4731],[.9407,.6099,.4813],[.9453,.6205,.4894],[.9499,.6311,.4976],[.9546,.6418,.5057],[.9576,.6512,.5151],[.9589,.6595,.5257],[.9603,.6678,.5363],[.9617,.6761,.5469],[.9631,.6844,.5576],[.9645,.6927,.5682],[.9659,.701,.5788],[.9672,.7093,.5894],[.9686,.7176,.6],[.97,.726,.6106],[.9714,.7343,.6212],[.9728,.7426,.6318],[.9742,.7509,.6424],[.9755,.7592,.6531],[.9769,.7675,.6637],[.9783,.7758,.6743],[.9797,.7841,.6849],[.9811,.7924,.6955],[.9825,.8007,.7061],[.9839,.809,.7167],[.9852,.8173,.7273],[.9866,.8256,.7379],[.988,.8339,.7486],[.9894,.8422,.7592],[.9908,.8505,.7698],[.9922,.8588,.7804],[.9912,.8631,.7878],[.9903,.8674,.7952],[.9894,.8717,.8025],[.9885,.876,.8099],[.9875,.8804,.8173],[.9866,.8847,.8247],[.9857,.889,.8321],[.9848,.8933,.8394],[.9839,.8976,.8468],[.9829,.9019,.8542],[.982,.9062,.8616],[.9811,.9105,.869],[.9802,.9148,.8764],[.9792,.9191,.8837],[.9783,.9234,.8911],[.9774,.9277,.8985],[.9765,.932,.9059],[.9755,.9363,.9133],[.9746,.9406,.9206],[.9737,.9449,.928],[.9728,.9493,.9354],[.9719,.9536,.9428],[.9709,.9579,.9502],[.97,.9622,.9576],[.9691,.9665,.9649],[.9657,.9672,.9681],[.9599,.9645,.967],[.954,.9617,.9659],[.9482,.9589,.9649],[.9423,.9562,.9638],[.9365,.9534,.9627],[.9306,.9506,.9616],[.9248,.9479,.9606],[.919,.9451,.9595],[.9131,.9423,.9584],[.9073,.9396,.9573],[.9014,.9368,.9562],[.8956,.934,.9552],[.8897,.9313,.9541],[.8839,.9285,.953],[.878,.9257,.9519],[.8722,.923,.9509],[.8664,.9202,.9498],[.8605,.9174,.9487],[.8547,.9146,.9476],[.8488,.9119,.9466],[.843,.9091,.9455],[.8371,.9063,.9444],[.8313,.9036,.9433],[.8255,.9008,.9423],[.8196,.898,.9412],[.8099,.8931,.9384],[.8002,.8882,.9356],[.7905,.8833,.9329],[.7809,.8784,.9301],[.7712,.8734,.9273],[.7615,.8685,.9246],[.7518,.8636,.9218],[.7421,.8587,.919],[.7324,.8537,.9163],[.7227,.8488,.9135],[.713,.8439,.9107],[.7033,.839,.908],[.6937,.8341,.9052],[.684,.8291,.9024],[.6743,.8242,.8997],[.6646,.8193,.8969],[.6549,.8144,.8941],[.6452,.8095,.8913],[.6355,.8045,.8886],[.6258,.7996,.8858],[.6161,.7947,.883],[.6065,.7898,.8803],[.5968,.7849,.8775],[.5871,.7799,.8747],[.5774,.775,.872],[.5665,.7687,.8685],[.5543,.761,.8644],[.5422,.7533,.8602],[.53,.7456,.8561],[.5179,.7379,.8519],[.5057,.7303,.8478],[.4936,.7226,.8436],[.4814,.7149,.8394],[.4693,.7072,.8353],[.4571,.6995,.8311],[.445,.6918,.827],[.4328,.6841,.8228],[.4207,.6764,.8187],[.4085,.6687,.8145],[.3964,.6611,.8104],[.3842,.6534,.8062],[.3721,.6457,.8021],[.3599,.638,.7979],[.3478,.6303,.7938],[.3356,.6226,.7896],[.3235,.6149,.7855],[.3113,.6072,.7813],[.2992,.5995,.7772],[.287,.5918,.773],[.2749,.5842,.7689],[.2627,.5765,.7647],[.2575,.5696,.7612],[.2523,.5626,.7576],[.2471,.5557,.7541],[.2418,.5488,.7506],[.2366,.5419,.747],[.2314,.5349,.7435],[.2261,.528,.7399],[.2209,.5211,.7364],[.2157,.5142,.7329],[.2105,.5073,.7293],[.2052,.5003,.7258],[.2,.4934,.7223],[.1948,.4865,.7187],[.1895,.4796,.7152],[.1843,.4727,.7116],[.1791,.4657,.7081],[.1739,.4588,.7046],[.1686,.4519,.701],[.1634,.445,.6975],[.1582,.4381,.694],[.1529,.4311,.6904],[.1477,.4242,.6869],[.1425,.4173,.6834],[.1373,.4104,.6798],[.132,.4035,.6763],[.1273,.3958,.6687],[.123,.3875,.6572],[.1186,.3792,.6457],[.1143,.3709,.6341],[.11,.3626,.6226],[.1057,.3543,.6111],[.1014,.346,.5995],[.0971,.3377,.588],[.0928,.3294,.5765],[.0885,.3211,.5649],[.0842,.3128,.5534],[.0799,.3045,.5419],[.0756,.2962,.5303],[.0713,.2879,.5188],[.067,.2796,.5073],[.0627,.2713,.4957],[.0584,.263,.4842],[.0541,.2547,.4727],[.0498,.2464,.4611],[.0454,.2381,.4496],[.0411,.2298,.4381],[.0368,.2215,.4265],[.0325,.2131,.415],[.0282,.2048,.4035],[.0239,.1965,.3919],[.0196,.1882,.3804]]},RdGy:{interpolate:!0,colors:[[.4039,0,.1216],[.4155,.0037,.1234],[.427,.0074,.1253],[.4385,.0111,.1271],[.4501,.0148,.129],[.4616,.0185,.1308],[.4731,.0221,.1326],[.4847,.0258,.1345],[.4962,.0295,.1363],[.5077,.0332,.1382],[.5193,.0369,.14],[.5308,.0406,.1419],[.5423,.0443,.1437],[.5539,.048,.1456],[.5654,.0517,.1474],[.5769,.0554,.1493],[.5885,.0591,.1511],[.6,.0627,.1529],[.6115,.0664,.1548],[.6231,.0701,.1566],[.6346,.0738,.1585],[.6461,.0775,.1603],[.6577,.0812,.1622],[.6692,.0849,.164],[.6807,.0886,.1659],[.6923,.0923,.1677],[.7008,.0997,.1712],[.7063,.1107,.1765],[.7119,.1218,.1817],[.7174,.1329,.1869],[.723,.1439,.1922],[.7285,.155,.1974],[.734,.1661,.2026],[.7396,.1772,.2078],[.7451,.1882,.2131],[.7506,.1993,.2183],[.7562,.2104,.2235],[.7617,.2215,.2288],[.7672,.2325,.234],[.7728,.2436,.2392],[.7783,.2547,.2444],[.7839,.2657,.2497],[.7894,.2768,.2549],[.7949,.2879,.2601],[.8005,.299,.2654],[.806,.31,.2706],[.8115,.3211,.2758],[.8171,.3322,.281],[.8226,.3433,.2863],[.8281,.3543,.2915],[.8337,.3654,.2967],[.8392,.3765,.302],[.8438,.3871,.3101],[.8484,.3977,.3183],[.8531,.4083,.3264],[.8577,.4189,.3346],[.8623,.4295,.3427],[.8669,.4401,.3509],[.8715,.4507,.359],[.8761,.4614,.3672],[.8807,.472,.3753],[.8854,.4826,.3835],[.89,.4932,.3916],[.8946,.5038,.3998],[.8992,.5144,.4079],[.9038,.525,.4161],[.9084,.5356,.4242],[.913,.5463,.4324],[.9176,.5569,.4405],[.9223,.5675,.4487],[.9269,.5781,.4568],[.9315,.5887,.465],[.9361,.5993,.4731],[.9407,.6099,.4813],[.9453,.6205,.4894],[.9499,.6311,.4976],[.9546,.6418,.5057],[.9576,.6512,.5151],[.9589,.6595,.5257],[.9603,.6678,.5363],[.9617,.6761,.5469],[.9631,.6844,.5576],[.9645,.6927,.5682],[.9659,.701,.5788],[.9672,.7093,.5894],[.9686,.7176,.6],[.97,.726,.6106],[.9714,.7343,.6212],[.9728,.7426,.6318],[.9742,.7509,.6424],[.9755,.7592,.6531],[.9769,.7675,.6637],[.9783,.7758,.6743],[.9797,.7841,.6849],[.9811,.7924,.6955],[.9825,.8007,.7061],[.9839,.809,.7167],[.9852,.8173,.7273],[.9866,.8256,.7379],[.988,.8339,.7486],[.9894,.8422,.7592],[.9908,.8505,.7698],[.9922,.8588,.7804],[.9925,.8644,.789],[.9928,.8699,.7976],[.9931,.8754,.8062],[.9934,.881,.8148],[.9937,.8865,.8235],[.994,.892,.8321],[.9943,.8976,.8407],[.9946,.9031,.8493],[.9949,.9087,.8579],[.9952,.9142,.8665],[.9955,.9197,.8751],[.9958,.9253,.8837],[.9962,.9308,.8923],[.9965,.9363,.901],[.9968,.9419,.9096],[.9971,.9474,.9182],[.9974,.9529,.9268],[.9977,.9585,.9354],[.998,.964,.944],[.9983,.9696,.9526],[.9986,.9751,.9612],[.9989,.9806,.9699],[.9992,.9862,.9785],[.9995,.9917,.9871],[.9998,.9972,.9957],[.9976,.9976,.9976],[.9928,.9928,.9928],[.9881,.9881,.9881],[.9833,.9833,.9833],[.9785,.9785,.9785],[.9738,.9738,.9738],[.969,.969,.969],[.9642,.9642,.9642],[.9595,.9595,.9595],[.9547,.9547,.9547],[.9499,.9499,.9499],[.9452,.9452,.9452],[.9404,.9404,.9404],[.9356,.9356,.9356],[.9309,.9309,.9309],[.9261,.9261,.9261],[.9213,.9213,.9213],[.9166,.9166,.9166],[.9118,.9118,.9118],[.907,.907,.907],[.9023,.9023,.9023],[.8975,.8975,.8975],[.8927,.8927,.8927],[.888,.888,.888],[.8832,.8832,.8832],[.8784,.8784,.8784],[.8726,.8726,.8726],[.8667,.8667,.8667],[.8609,.8609,.8609],[.8551,.8551,.8551],[.8492,.8492,.8492],[.8434,.8434,.8434],[.8375,.8375,.8375],[.8317,.8317,.8317],[.8258,.8258,.8258],[.82,.82,.82],[.8141,.8141,.8141],[.8083,.8083,.8083],[.8025,.8025,.8025],[.7966,.7966,.7966],[.7908,.7908,.7908],[.7849,.7849,.7849],[.7791,.7791,.7791],[.7732,.7732,.7732],[.7674,.7674,.7674],[.7616,.7616,.7616],[.7557,.7557,.7557],[.7499,.7499,.7499],[.744,.744,.744],[.7382,.7382,.7382],[.7323,.7323,.7323],[.7255,.7255,.7255],[.7176,.7176,.7176],[.7098,.7098,.7098],[.702,.702,.702],[.6941,.6941,.6941],[.6863,.6863,.6863],[.6784,.6784,.6784],[.6706,.6706,.6706],[.6627,.6627,.6627],[.6549,.6549,.6549],[.6471,.6471,.6471],[.6392,.6392,.6392],[.6314,.6314,.6314],[.6235,.6235,.6235],[.6157,.6157,.6157],[.6078,.6078,.6078],[.6,.6,.6],[.5922,.5922,.5922],[.5843,.5843,.5843],[.5765,.5765,.5765],[.5686,.5686,.5686],[.5608,.5608,.5608],[.5529,.5529,.5529],[.5451,.5451,.5451],[.5373,.5373,.5373],[.5294,.5294,.5294],[.5205,.5205,.5205],[.5116,.5116,.5116],[.5027,.5027,.5027],[.4937,.4937,.4937],[.4848,.4848,.4848],[.4759,.4759,.4759],[.467,.467,.467],[.4581,.4581,.4581],[.4491,.4491,.4491],[.4402,.4402,.4402],[.4313,.4313,.4313],[.4224,.4224,.4224],[.4135,.4135,.4135],[.4045,.4045,.4045],[.3956,.3956,.3956],[.3867,.3867,.3867],[.3778,.3778,.3778],[.3689,.3689,.3689],[.3599,.3599,.3599],[.351,.351,.351],[.3421,.3421,.3421],[.3332,.3332,.3332],[.3243,.3243,.3243],[.3153,.3153,.3153],[.3064,.3064,.3064],[.298,.298,.298],[.2902,.2902,.2902],[.2824,.2824,.2824],[.2745,.2745,.2745],[.2667,.2667,.2667],[.2588,.2588,.2588],[.251,.251,.251],[.2431,.2431,.2431],[.2353,.2353,.2353],[.2275,.2275,.2275],[.2196,.2196,.2196],[.2118,.2118,.2118],[.2039,.2039,.2039],[.1961,.1961,.1961],[.1882,.1882,.1882],[.1804,.1804,.1804],[.1725,.1725,.1725],[.1647,.1647,.1647],[.1569,.1569,.1569],[.149,.149,.149],[.1412,.1412,.1412],[.1333,.1333,.1333],[.1255,.1255,.1255],[.1176,.1176,.1176],[.1098,.1098,.1098],[.102,.102,.102]]},RdPu:{interpolate:!0,colors:[[1,.9686,.9529],[.9998,.9658,.9502],[.9995,.963,.9475],[.9993,.9601,.9448],[.999,.9573,.9421],[.9988,.9545,.9394],[.9985,.9516,.9367],[.9983,.9488,.934],[.998,.946,.9313],[.9978,.9432,.9286],[.9975,.9403,.9259],[.9973,.9375,.9232],[.997,.9347,.9205],[.9968,.9318,.9178],[.9966,.929,.915],[.9963,.9262,.9123],[.9961,.9234,.9096],[.9958,.9205,.9069],[.9956,.9177,.9042],[.9953,.9149,.9015],[.9951,.912,.8988],[.9948,.9092,.8961],[.9946,.9064,.8934],[.9943,.9035,.8907],[.9941,.9007,.888],[.9938,.8979,.8853],[.9936,.8951,.8826],[.9934,.8922,.8799],[.9931,.8894,.8772],[.9929,.8866,.8744],[.9926,.8837,.8717],[.9924,.8809,.869],[.9921,.878,.8662],[.992,.8747,.8627],[.9919,.8714,.8591],[.9918,.8681,.8555],[.9916,.8647,.8519],[.9915,.8614,.8484],[.9914,.8581,.8448],[.9913,.8548,.8412],[.9912,.8514,.8377],[.991,.8481,.8341],[.9909,.8448,.8305],[.9908,.8415,.827],[.9907,.8382,.8234],[.9905,.8348,.8198],[.9904,.8315,.8163],[.9903,.8282,.8127],[.9902,.8249,.8091],[.99,.8215,.8056],[.9899,.8182,.802],[.9898,.8149,.7984],[.9897,.8116,.7949],[.9896,.8083,.7913],[.9894,.8049,.7877],[.9893,.8016,.7842],[.9892,.7983,.7806],[.9891,.795,.777],[.9889,.7916,.7735],[.9888,.7883,.7699],[.9887,.785,.7663],[.9886,.7817,.7628],[.9885,.7784,.7592],[.9883,.775,.7556],[.9882,.7714,.7526],[.9879,.7667,.7512],[.9877,.762,.7499],[.9874,.7574,.7485],[.9872,.7527,.7472],[.9869,.748,.7458],[.9867,.7433,.7445],[.9865,.7387,.7431],[.9862,.734,.7418],[.986,.7293,.7404],[.9857,.7246,.7391],[.9855,.72,.7377],[.9852,.7153,.7364],[.985,.7106,.735],[.9847,.7059,.7337],[.9845,.7013,.7323],[.9842,.6966,.7309],[.984,.6919,.7296],[.9837,.6872,.7282],[.9835,.6826,.7269],[.9833,.6779,.7255],[.983,.6732,.7242],[.9828,.6685,.7228],[.9825,.6639,.7215],[.9823,.6592,.7201],[.982,.6545,.7188],[.9818,.6498,.7174],[.9815,.6452,.7161],[.9813,.6405,.7147],[.981,.6358,.7134],[.9808,.6311,.712],[.9805,.6265,.7106],[.9803,.621,.7089],[.9799,.6142,.7064],[.9795,.6075,.704],[.9791,.6007,.7015],[.9788,.5939,.699],[.9784,.5872,.6966],[.978,.5804,.6941],[.9777,.5736,.6917],[.9773,.5669,.6892],[.9769,.5601,.6867],[.9766,.5533,.6843],[.9762,.5466,.6818],[.9758,.5398,.6794],[.9755,.533,.6769],[.9751,.5263,.6744],[.9747,.5195,.672],[.9743,.5127,.6695],[.974,.506,.6671],[.9736,.4992,.6646],[.9732,.4924,.6621],[.9729,.4857,.6597],[.9725,.4789,.6572],[.9721,.4721,.6547],[.9718,.4654,.6523],[.9714,.4586,.6498],[.971,.4518,.6474],[.9707,.4451,.6449],[.9703,.4383,.6424],[.9699,.4315,.64],[.9696,.4248,.6375],[.9692,.418,.6351],[.9688,.4112,.6326],[.967,.4046,.6308],[.9638,.3982,.6295],[.9606,.3918,.6283],[.9574,.3855,.6271],[.9542,.3791,.6258],[.951,.3727,.6246],[.9478,.3663,.6234],[.9446,.3599,.6221],[.9414,.3535,.6209],[.9382,.3471,.6197],[.935,.3407,.6185],[.9318,.3343,.6172],[.9286,.3279,.616],[.9254,.3215,.6148],[.9222,.3151,.6135],[.919,.3087,.6123],[.9158,.3023,.6111],[.9126,.2959,.6098],[.9095,.2895,.6086],[.9063,.2831,.6074],[.9031,.2767,.6062],[.8999,.2703,.6049],[.8967,.2639,.6037],[.8935,.2575,.6025],[.8903,.2511,.6012],[.8871,.2447,.6],[.8839,.2383,.5988],[.8807,.2319,.5975],[.8775,.2255,.5963],[.8743,.2191,.5951],[.8711,.2127,.5938],[.8679,.2063,.5926],[.8631,.2,.5902],[.8573,.1937,.5872],[.8515,.1875,.5841],[.8457,.1812,.581],[.8399,.1749,.5779],[.8341,.1686,.5749],[.8284,.1624,.5718],[.8226,.1561,.5687],[.8168,.1498,.5656],[.811,.1435,.5626],[.8052,.1373,.5595],[.7994,.131,.5564],[.7937,.1247,.5533],[.7879,.1184,.5502],[.7821,.1122,.5472],[.7763,.1059,.5441],[.7705,.0996,.541],[.7648,.0933,.5379],[.759,.0871,.5349],[.7532,.0808,.5318],[.7474,.0745,.5287],[.7416,.0682,.5256],[.7358,.062,.5226],[.7301,.0557,.5195],[.7243,.0494,.5164],[.7185,.0431,.5133],[.7127,.0369,.5103],[.7069,.0306,.5072],[.7011,.0243,.5041],[.6954,.018,.501],[.6896,.0118,.498],[.6838,.0055,.4949],[.6776,.0039,.4935],[.6712,.0039,.4926],[.6648,.0039,.4917],[.6584,.0039,.4909],[.652,.0039,.49],[.6456,.0039,.4892],[.6392,.0039,.4883],[.6328,.0039,.4874],[.6264,.0039,.4866],[.62,.0039,.4857],[.6136,.0039,.4849],[.6072,.0039,.484],[.6008,.0039,.4831],[.5944,.0039,.4823],[.588,.0039,.4814],[.5816,.0039,.4806],[.5752,.0039,.4797],[.5688,.0039,.4788],[.5624,.0039,.478],[.556,.0039,.4771],[.5496,.0039,.4762],[.5432,.0039,.4754],[.5368,.0039,.4745],[.5304,.0039,.4737],[.524,.0039,.4728],[.5176,.0039,.4719],[.5112,.0039,.4711],[.5048,.0039,.4702],[.4984,.0039,.4694],[.492,.0039,.4685],[.4856,.0039,.4676],[.4792,.0039,.4668],[.4732,.0038,.4653],[.4671,.0037,.4637],[.4611,.0036,.4621],[.4551,.0034,.4605],[.449,.0033,.4589],[.443,.0032,.4573],[.437,.0031,.4557],[.431,.003,.4541],[.4249,.0028,.4525],[.4189,.0027,.4509],[.4129,.0026,.4493],[.4068,.0025,.4477],[.4008,.0023,.4461],[.3948,.0022,.4445],[.3888,.0021,.4429],[.3827,.002,.4413],[.3767,.0018,.4397],[.3707,.0017,.4381],[.3646,.0016,.4365],[.3586,.0015,.4349],[.3526,.0014,.4333],[.3466,.0012,.4317],[.3405,.0011,.4301],[.3345,.001,.4285],[.3285,9e-4,.4269],[.3224,7e-4,.4253],[.3164,6e-4,.4237],[.3104,5e-4,.4221],[.3044,4e-4,.4205],[.2983,2e-4,.4189],[.2923,1e-4,.4173],[.2863,0,.4157]]},RdYlBu:{interpolate:!0,colors:[[.6471,0,.149],[.6547,.0074,.1492],[.6624,.0148,.1493],[.6701,.0221,.1495],[.6778,.0295,.1496],[.6855,.0369,.1498],[.6932,.0443,.1499],[.7009,.0517,.1501],[.7086,.0591,.1502],[.7163,.0664,.1504],[.724,.0738,.1506],[.7316,.0812,.1507],[.7393,.0886,.1509],[.747,.096,.151],[.7547,.1033,.1512],[.7624,.1107,.1513],[.7701,.1181,.1515],[.7778,.1255,.1516],[.7855,.1329,.1518],[.7932,.1403,.1519],[.8008,.1476,.1521],[.8085,.155,.1522],[.8162,.1624,.1524],[.8239,.1698,.1526],[.8316,.1772,.1527],[.8393,.1845,.1529],[.8454,.1929,.1551],[.8498,.2023,.1594],[.8543,.2117,.1637],[.8587,.2211,.168],[.8632,.2304,.1723],[.8677,.2398,.1766],[.8721,.2492,.1809],[.8766,.2586,.1852],[.881,.268,.1895],[.8855,.2774,.1938],[.89,.2867,.1982],[.8944,.2961,.2025],[.8989,.3055,.2068],[.9033,.3149,.2111],[.9078,.3243,.2154],[.9123,.3336,.2197],[.9167,.343,.224],[.9212,.3524,.2283],[.9256,.3618,.2326],[.9301,.3712,.2369],[.9346,.3805,.2412],[.939,.3899,.2455],[.9435,.3993,.2498],[.9479,.4087,.2541],[.9524,.4181,.2584],[.9569,.4275,.2627],[.9582,.4374,.2674],[.9596,.4474,.272],[.961,.4574,.2766],[.9624,.4674,.2812],[.9638,.4774,.2858],[.9652,.4874,.2904],[.9666,.4974,.295],[.9679,.5074,.2997],[.9693,.5174,.3043],[.9707,.5274,.3089],[.9721,.5374,.3135],[.9735,.5474,.3181],[.9749,.5574,.3227],[.9762,.5674,.3273],[.9776,.5774,.3319],[.979,.5874,.3366],[.9804,.5974,.3412],[.9818,.6074,.3458],[.9832,.6174,.3504],[.9845,.6274,.355],[.9859,.6374,.3596],[.9873,.6474,.3642],[.9887,.6574,.3689],[.9901,.6674,.3735],[.9915,.6774,.3781],[.9922,.6862,.384],[.9924,.6939,.3912],[.9925,.7016,.3985],[.9927,.7093,.4057],[.9928,.717,.4129],[.993,.7246,.4201],[.9932,.7323,.4274],[.9933,.74,.4346],[.9935,.7477,.4418],[.9936,.7554,.4491],[.9938,.7631,.4563],[.9939,.7708,.4635],[.9941,.7785,.4707],[.9942,.7862,.478],[.9944,.7938,.4852],[.9945,.8015,.4924],[.9947,.8092,.4997],[.9948,.8169,.5069],[.995,.8246,.5141],[.9952,.8323,.5213],[.9953,.84,.5286],[.9955,.8477,.5358],[.9956,.8554,.543],[.9958,.8631,.5502],[.9959,.8707,.5575],[.9961,.8784,.5647],[.9962,.8832,.5719],[.9964,.888,.5792],[.9965,.8927,.5864],[.9967,.8975,.5936],[.9968,.9023,.6008],[.997,.907,.6081],[.9972,.9118,.6153],[.9973,.9166,.6225],[.9975,.9213,.6298],[.9976,.9261,.637],[.9978,.9309,.6442],[.9979,.9356,.6514],[.9981,.9404,.6587],[.9982,.9452,.6659],[.9984,.9499,.6731],[.9985,.9547,.6804],[.9987,.9595,.6876],[.9988,.9642,.6948],[.999,.969,.702],[.9992,.9738,.7093],[.9993,.9785,.7165],[.9995,.9833,.7237],[.9996,.9881,.7309],[.9998,.9928,.7382],[.9999,.9976,.7454],[.9976,.9991,.7534],[.9928,.9972,.7622],[.9881,.9954,.7709],[.9833,.9935,.7797],[.9785,.9917,.7885],[.9738,.9899,.7972],[.969,.988,.806],[.9642,.9862,.8148],[.9595,.9843,.8235],[.9547,.9825,.8323],[.9499,.9806,.8411],[.9452,.9788,.8498],[.9404,.9769,.8586],[.9356,.9751,.8674],[.9309,.9732,.8761],[.9261,.9714,.8849],[.9213,.9696,.8937],[.9166,.9677,.9024],[.9118,.9659,.9112],[.907,.964,.92],[.9023,.9622,.9287],[.8975,.9603,.9375],[.8927,.9585,.9463],[.888,.9566,.955],[.8832,.9548,.9638],[.8784,.9529,.9725],[.8703,.9489,.9702],[.8621,.9449,.9679],[.854,.9409,.9656],[.8458,.9369,.9633],[.8377,.9329,.961],[.8295,.929,.9587],[.8214,.925,.9564],[.8132,.921,.9541],[.8051,.917,.9518],[.7969,.913,.9495],[.7888,.909,.9472],[.7806,.905,.9449],[.7725,.901,.9426],[.7643,.897,.9403],[.7562,.893,.9379],[.748,.889,.9356],[.7399,.885,.9333],[.7317,.881,.931],[.7236,.877,.9287],[.7154,.873,.9264],[.7073,.869,.9241],[.6991,.865,.9218],[.691,.861,.9195],[.6828,.857,.9172],[.6747,.853,.9149],[.6664,.8476,.9119],[.6579,.8408,.9082],[.6494,.8341,.9045],[.641,.8273,.9008],[.6325,.8205,.8971],[.6241,.8138,.8934],[.6156,.807,.8897],[.6072,.8002,.886],[.5987,.7935,.8824],[.5902,.7867,.8787],[.5818,.7799,.875],[.5733,.7732,.8713],[.5649,.7664,.8676],[.5564,.7596,.8639],[.5479,.7529,.8602],[.5395,.7461,.8565],[.531,.7393,.8528],[.5226,.7326,.8491],[.5141,.7258,.8454],[.5057,.719,.8418],[.4972,.7123,.8381],[.4887,.7055,.8344],[.4803,.6987,.8307],[.4718,.692,.827],[.4634,.6852,.8233],[.4549,.6784,.8196],[.4477,.6698,.8151],[.4404,.6612,.8107],[.4332,.6526,.8062],[.426,.644,.8018],[.4188,.6354,.7973],[.4115,.6268,.7928],[.4043,.6181,.7884],[.3971,.6095,.7839],[.3899,.6009,.7795],[.3826,.5923,.775],[.3754,.5837,.7705],[.3682,.5751,.7661],[.3609,.5665,.7616],[.3537,.5579,.7572],[.3465,.5493,.7527],[.3393,.5406,.7483],[.332,.532,.7438],[.3248,.5234,.7393],[.3176,.5148,.7349],[.3103,.5062,.7304],[.3031,.4976,.726],[.2959,.489,.7215],[.2887,.4804,.717],[.2814,.4717,.7126],[.2742,.4631,.7081],[.2691,.454,.7035],[.266,.4443,.6987],[.2629,.4346,.694],[.2598,.4249,.6892],[.2567,.4152,.6844],[.2537,.4055,.6797],[.2506,.3958,.6749],[.2475,.3862,.6701],[.2444,.3765,.6654],[.2414,.3668,.6606],[.2383,.3571,.6558],[.2352,.3474,.6511],[.2321,.3377,.6463],[.2291,.328,.6415],[.226,.3183,.6368],[.2229,.3087,.632],[.2198,.299,.6272],[.2168,.2893,.6225],[.2137,.2796,.6177],[.2106,.2699,.6129],[.2075,.2602,.6082],[.2045,.2505,.6034],[.2014,.2408,.5986],[.1983,.2311,.5938],[.1952,.2215,.5891],[.1922,.2118,.5843]]},RdYlGn:{interpolate:!0,colors:[[.6471,0,.149],[.6547,.0074,.1492],[.6624,.0148,.1493],[.6701,.0221,.1495],[.6778,.0295,.1496],[.6855,.0369,.1498],[.6932,.0443,.1499],[.7009,.0517,.1501],[.7086,.0591,.1502],[.7163,.0664,.1504],[.724,.0738,.1506],[.7316,.0812,.1507],[.7393,.0886,.1509],[.747,.096,.151],[.7547,.1033,.1512],[.7624,.1107,.1513],[.7701,.1181,.1515],[.7778,.1255,.1516],[.7855,.1329,.1518],[.7932,.1403,.1519],[.8008,.1476,.1521],[.8085,.155,.1522],[.8162,.1624,.1524],[.8239,.1698,.1526],[.8316,.1772,.1527],[.8393,.1845,.1529],[.8454,.1929,.1551],[.8498,.2023,.1594],[.8543,.2117,.1637],[.8587,.2211,.168],[.8632,.2304,.1723],[.8677,.2398,.1766],[.8721,.2492,.1809],[.8766,.2586,.1852],[.881,.268,.1895],[.8855,.2774,.1938],[.89,.2867,.1982],[.8944,.2961,.2025],[.8989,.3055,.2068],[.9033,.3149,.2111],[.9078,.3243,.2154],[.9123,.3336,.2197],[.9167,.343,.224],[.9212,.3524,.2283],[.9256,.3618,.2326],[.9301,.3712,.2369],[.9346,.3805,.2412],[.939,.3899,.2455],[.9435,.3993,.2498],[.9479,.4087,.2541],[.9524,.4181,.2584],[.9569,.4275,.2627],[.9582,.4374,.2674],[.9596,.4474,.272],[.961,.4574,.2766],[.9624,.4674,.2812],[.9638,.4774,.2858],[.9652,.4874,.2904],[.9666,.4974,.295],[.9679,.5074,.2997],[.9693,.5174,.3043],[.9707,.5274,.3089],[.9721,.5374,.3135],[.9735,.5474,.3181],[.9749,.5574,.3227],[.9762,.5674,.3273],[.9776,.5774,.3319],[.979,.5874,.3366],[.9804,.5974,.3412],[.9818,.6074,.3458],[.9832,.6174,.3504],[.9845,.6274,.355],[.9859,.6374,.3596],[.9873,.6474,.3642],[.9887,.6574,.3689],[.9901,.6674,.3735],[.9915,.6774,.3781],[.9922,.6862,.3836],[.9924,.6939,.3901],[.9925,.7016,.3965],[.9927,.7093,.403],[.9928,.717,.4095],[.993,.7246,.4159],[.9932,.7323,.4224],[.9933,.74,.4288],[.9935,.7477,.4353],[.9936,.7554,.4418],[.9938,.7631,.4482],[.9939,.7708,.4547],[.9941,.7785,.4611],[.9942,.7862,.4676],[.9944,.7938,.474],[.9945,.8015,.4805],[.9947,.8092,.487],[.9948,.8169,.4934],[.995,.8246,.4999],[.9952,.8323,.5063],[.9953,.84,.5128],[.9955,.8477,.5193],[.9956,.8554,.5257],[.9958,.8631,.5322],[.9959,.8707,.5386],[.9961,.8784,.5451],[.9962,.8832,.5531],[.9964,.888,.5611],[.9965,.8927,.5691],[.9967,.8975,.5771],[.9968,.9023,.5851],[.997,.907,.5931],[.9972,.9118,.6011],[.9973,.9166,.6091],[.9975,.9213,.6171],[.9976,.9261,.6251],[.9978,.9309,.6331],[.9979,.9356,.6411],[.9981,.9404,.6491],[.9982,.9452,.6571],[.9984,.9499,.6651],[.9985,.9547,.673],[.9987,.9595,.681],[.9988,.9642,.689],[.999,.969,.697],[.9992,.9738,.705],[.9993,.9785,.713],[.9995,.9833,.721],[.9996,.9881,.729],[.9998,.9928,.737],[.9999,.9976,.745],[.9971,.9988,.745],[.9912,.9963,.737],[.9854,.9938,.729],[.9795,.9914,.721],[.9737,.9889,.713],[.9679,.9865,.705],[.962,.984,.697],[.9562,.9815,.689],[.9503,.9791,.681],[.9445,.9766,.673],[.9386,.9742,.6651],[.9328,.9717,.6571],[.927,.9692,.6491],[.9211,.9668,.6411],[.9153,.9643,.6331],[.9094,.9619,.6251],[.9036,.9594,.6171],[.8977,.9569,.6091],[.8919,.9545,.6011],[.886,.952,.5931],[.8802,.9496,.5851],[.8744,.9471,.5771],[.8685,.9446,.5691],[.8627,.9422,.5611],[.8568,.9397,.5531],[.851,.9373,.5451],[.8431,.9339,.54],[.8353,.9305,.5349],[.8275,.9271,.5299],[.8196,.9237,.5248],[.8118,.9203,.5197],[.8039,.917,.5146],[.7961,.9136,.5096],[.7882,.9102,.5045],[.7804,.9068,.4994],[.7725,.9034,.4943],[.7647,.9,.4893],[.7569,.8967,.4842],[.749,.8933,.4791],[.7412,.8899,.474],[.7333,.8865,.469],[.7255,.8831,.4639],[.7176,.8797,.4588],[.7098,.8764,.4537],[.702,.873,.4487],[.6941,.8696,.4436],[.6863,.8662,.4385],[.6784,.8628,.4334],[.6706,.8594,.4284],[.6627,.8561,.4233],[.6549,.8527,.4182],[.6461,.8488,.4151],[.6362,.8445,.4141],[.6264,.8402,.413],[.6165,.8359,.4119],[.6067,.8316,.4108],[.5968,.8273,.4098],[.587,.823,.4087],[.5772,.8187,.4076],[.5673,.8144,.4065],[.5575,.8101,.4055],[.5476,.8058,.4044],[.5378,.8015,.4033],[.528,.7972,.4022],[.5181,.7928,.4012],[.5083,.7885,.4001],[.4984,.7842,.399],[.4886,.7799,.3979],[.4787,.7756,.3968],[.4689,.7713,.3958],[.4591,.767,.3947],[.4492,.7627,.3936],[.4394,.7584,.3925],[.4295,.7541,.3915],[.4197,.7498,.3904],[.4098,.7455,.3893],[.4,.7412,.3882],[.3883,.7355,.3853],[.3766,.7298,.3824],[.3649,.7241,.3795],[.3532,.7184,.3765],[.3416,.7127,.3736],[.3299,.707,.3707],[.3182,.7013,.3678],[.3065,.6957,.3649],[.2948,.69,.3619],[.2831,.6843,.359],[.2714,.6786,.3561],[.2597,.6729,.3532],[.2481,.6672,.3502],[.2364,.6615,.3473],[.2247,.6558,.3444],[.213,.6501,.3415],[.2013,.6444,.3386],[.1896,.6388,.3356],[.1779,.6331,.3327],[.1662,.6274,.3298],[.1546,.6217,.3269],[.1429,.616,.324],[.1312,.6103,.321],[.1195,.6046,.3181],[.1078,.5989,.3152],[.1,.5924,.3118],[.096,.585,.308],[.092,.5776,.3041],[.088,.5702,.3003],[.084,.5629,.2964],[.08,.5555,.2926],[.076,.5481,.2887],[.072,.5407,.2849],[.068,.5333,.281],[.064,.526,.2772],[.06,.5186,.2734],[.056,.5112,.2695],[.052,.5038,.2657],[.048,.4964,.2618],[.044,.489,.258],[.04,.4817,.2541],[.036,.4743,.2503],[.032,.4669,.2464],[.028,.4595,.2426],[.024,.4521,.2388],[.02,.4448,.2349],[.016,.4374,.2311],[.012,.43,.2272],[.008,.4226,.2234],[.004,.4152,.2195],[0,.4078,.2157]]},Reds:{interpolate:!0,colors:[[1,.9608,.9412],[.9999,.9582,.9375],[.9998,.9556,.9338],[.9996,.953,.9301],[.9995,.9504,.9264],[.9994,.9479,.9227],[.9993,.9453,.919],[.9991,.9427,.9153],[.999,.9401,.9116],[.9989,.9375,.908],[.9988,.9349,.9043],[.9986,.9324,.9006],[.9985,.9298,.8969],[.9984,.9272,.8932],[.9983,.9246,.8895],[.9982,.922,.8858],[.998,.9194,.8821],[.9979,.9169,.8784],[.9978,.9143,.8747],[.9977,.9117,.871],[.9975,.9091,.8674],[.9974,.9065,.8637],[.9973,.9039,.86],[.9972,.9014,.8563],[.997,.8988,.8526],[.9969,.8962,.8489],[.9968,.8936,.8452],[.9967,.891,.8415],[.9966,.8884,.8378],[.9964,.8859,.8341],[.9963,.8833,.8304],[.9962,.8807,.8268],[.996,.8779,.8228],[.9958,.8733,.8167],[.9956,.8688,.8107],[.9953,.8642,.8047],[.9951,.8597,.7987],[.9948,.8551,.7926],[.9946,.8505,.7866],[.9943,.846,.7806],[.9941,.8414,.7745],[.9938,.8369,.7685],[.9936,.8323,.7625],[.9933,.8278,.7565],[.9931,.8232,.7504],[.9928,.8187,.7444],[.9926,.8141,.7384],[.9924,.8096,.7323],[.9921,.805,.7263],[.9919,.8005,.7203],[.9916,.7959,.7143],[.9914,.7914,.7082],[.9911,.7868,.7022],[.9909,.7823,.6962],[.9906,.7777,.6901],[.9904,.7732,.6841],[.9901,.7686,.6781],[.9899,.7641,.6721],[.9897,.7595,.666],[.9894,.755,.66],[.9892,.7504,.654],[.9889,.7459,.648],[.9887,.7413,.6419],[.9884,.7367,.6359],[.9882,.7321,.6299],[.9882,.727,.6241],[.9882,.722,.6184],[.9882,.7169,.6126],[.9882,.7119,.6068],[.9882,.7069,.601],[.9882,.7018,.5952],[.9882,.6968,.5895],[.9882,.6917,.5837],[.9882,.6867,.5779],[.9882,.6816,.5721],[.9882,.6766,.5663],[.9882,.6715,.5605],[.9882,.6665,.5548],[.9882,.6615,.549],[.9882,.6564,.5432],[.9882,.6514,.5374],[.9882,.6463,.5316],[.9882,.6413,.5258],[.9882,.6362,.5201],[.9882,.6312,.5143],[.9882,.6261,.5085],[.9882,.6211,.5027],[.9882,.6161,.4969],[.9882,.611,.4911],[.9882,.606,.4854],[.9882,.6009,.4796],[.9882,.5959,.4738],[.9882,.5908,.468],[.9882,.5858,.4622],[.9882,.5807,.4565],[.9882,.5757,.4507],[.9882,.5707,.4452],[.9881,.5658,.4403],[.9879,.5609,.4354],[.9878,.5559,.4304],[.9877,.551,.4255],[.9876,.5461,.4206],[.9875,.5412,.4157],[.9873,.5363,.4108],[.9872,.5313,.4058],[.9871,.5264,.4009],[.987,.5215,.396],[.9868,.5166,.3911],[.9867,.5116,.3862],[.9866,.5067,.3812],[.9865,.5018,.3763],[.9863,.4969,.3714],[.9862,.492,.3665],[.9861,.487,.3616],[.986,.4821,.3566],[.9859,.4772,.3517],[.9857,.4723,.3468],[.9856,.4674,.3419],[.9855,.4624,.3369],[.9854,.4575,.332],[.9852,.4526,.3271],[.9851,.4477,.3222],[.985,.4428,.3173],[.9849,.4378,.3123],[.9847,.4329,.3074],[.9846,.428,.3025],[.9845,.4231,.2976],[.9844,.4181,.2927],[.9836,.4128,.2884],[.9821,.407,.2847],[.9806,.4012,.281],[.9791,.3954,.2773],[.9777,.3897,.2736],[.9762,.3839,.2699],[.9747,.3781,.2662],[.9732,.3723,.2625],[.9718,.3665,.2588],[.9703,.3608,.2551],[.9688,.355,.2514],[.9673,.3492,.2478],[.9659,.3434,.2441],[.9644,.3376,.2404],[.9629,.3318,.2367],[.9614,.3261,.233],[.96,.3203,.2293],[.9585,.3145,.2256],[.957,.3087,.2219],[.9555,.3029,.2182],[.954,.2971,.2145],[.9526,.2914,.2108],[.9511,.2856,.2072],[.9496,.2798,.2035],[.9481,.274,.1998],[.9467,.2682,.1961],[.9452,.2625,.1924],[.9437,.2567,.1887],[.9422,.2509,.185],[.9408,.2451,.1813],[.9393,.2393,.1776],[.9378,.2335,.1739],[.9345,.2287,.1714],[.9301,.2244,.1696],[.9256,.2201,.1677],[.9212,.2158,.1659],[.9168,.2115,.164],[.9123,.2072,.1622],[.9079,.2028,.1603],[.9035,.1985,.1585],[.8991,.1942,.1566],[.8946,.1899,.1548],[.8902,.1856,.1529],[.8858,.1813,.1511],[.8813,.177,.1493],[.8769,.1727,.1474],[.8725,.1684,.1456],[.8681,.1641,.1437],[.8636,.1598,.1419],[.8592,.1555,.14],[.8548,.1512,.1382],[.8503,.1469,.1363],[.8459,.1426,.1345],[.8415,.1383,.1326],[.837,.1339,.1308],[.8326,.1296,.129],[.8282,.1253,.1271],[.8238,.121,.1253],[.8193,.1167,.1234],[.8149,.1124,.1216],[.8105,.1081,.1197],[.806,.1038,.1179],[.8016,.0995,.116],[.7972,.0952,.1142],[.7926,.0933,.113],[.7879,.0922,.112],[.7832,.0911,.111],[.7785,.09,.11],[.7739,.0889,.1091],[.7692,.0878,.1081],[.7645,.0866,.1071],[.7598,.0855,.1061],[.7552,.0844,.1051],[.7505,.0833,.1041],[.7458,.0822,.1031],[.7411,.0811,.1022],[.7365,.08,.1012],[.7318,.0789,.1002],[.7271,.0778,.0992],[.7224,.0767,.0982],[.7178,.0756,.0972],[.7131,.0745,.0963],[.7084,.0734,.0953],[.7037,.0722,.0943],[.6991,.0711,.0933],[.6944,.07,.0923],[.6897,.0689,.0913],[.685,.0678,.0903],[.6804,.0667,.0894],[.6757,.0656,.0884],[.671,.0645,.0874],[.6663,.0634,.0864],[.6617,.0623,.0854],[.657,.0612,.0844],[.6523,.0601,.0835],[.6476,.059,.0825],[.6404,.0572,.0815],[.6328,.0554,.0805],[.6251,.0535,.0795],[.6175,.0517,.0785],[.6099,.0498,.0776],[.6022,.048,.0766],[.5946,.0461,.0756],[.587,.0443,.0746],[.5794,.0424,.0736],[.5717,.0406,.0726],[.5641,.0388,.0716],[.5565,.0369,.0707],[.5489,.0351,.0697],[.5412,.0332,.0687],[.5336,.0314,.0677],[.526,.0295,.0667],[.5183,.0277,.0657],[.5107,.0258,.0648],[.5031,.024,.0638],[.4955,.0221,.0628],[.4878,.0203,.0618],[.4802,.0185,.0608],[.4726,.0166,.0598],[.4649,.0148,.0589],[.4573,.0129,.0579],[.4497,.0111,.0569],[.4421,.0092,.0559],[.4344,.0074,.0549],[.4268,.0055,.0539],[.4192,.0037,.0529],[.4115,.0018,.052],[.4039,0,.051]]},Set1:{interpolate:!1,colors:[[.8941,.102,.1098],[.2157,.4941,.7216],[.302,.6863,.2902],[.5961,.3059,.6392],[1,.498,0],[1,1,.2],[.651,.3373,.1569],[.9686,.5059,.749],[.6,.6,.6]]},Set2:{interpolate:!1,colors:[[.4,.7608,.6471],[.9882,.5529,.3843],[.5529,.6275,.7961],[.9059,.5412,.7647],[.651,.8471,.3294],[1,.851,.1843],[.898,.7686,.5804],[.702,.702,.702]]},Set3:{interpolate:!1,colors:[[.5529,.8275,.7804],[1,1,.702],[.7451,.7294,.8549],[.9843,.502,.4471],[.502,.6941,.8275],[.9922,.7059,.3843],[.702,.8706,.4118],[.9882,.8039,.898],[.851,.851,.851],[.7373,.502,.7412],[.8,.9216,.7725],[1,.9294,.4353]]},Spectral:{interpolate:!0,colors:[[.6196,.0039,.2588],[.6281,.0133,.2608],[.6365,.0227,.2628],[.645,.0321,.2648],[.6534,.0414,.2668],[.6619,.0508,.2688],[.6704,.0602,.2708],[.6788,.0696,.2728],[.6873,.079,.2748],[.6957,.0884,.2768],[.7042,.0977,.2788],[.7126,.1071,.2808],[.7211,.1165,.2828],[.7296,.1259,.2848],[.738,.1353,.2868],[.7465,.1446,.2888],[.7549,.154,.2908],[.7634,.1634,.2928],[.7719,.1728,.2948],[.7803,.1822,.2968],[.7888,.1915,.2988],[.7972,.2009,.3008],[.8057,.2103,.3028],[.8141,.2197,.3048],[.8226,.2291,.3068],[.8311,.2384,.3088],[.8377,.2468,.3089],[.8424,.254,.307],[.8472,.2612,.3052],[.852,.2684,.3033],[.8567,.2757,.3015],[.8615,.2829,.2997],[.8663,.2901,.2978],[.871,.2973,.296],[.8758,.3046,.2941],[.8806,.3118,.2923],[.8854,.319,.2904],[.8901,.3263,.2886],[.8949,.3335,.2867],[.8997,.3407,.2849],[.9044,.3479,.283],[.9092,.3552,.2812],[.914,.3624,.2794],[.9187,.3696,.2775],[.9235,.3769,.2757],[.9283,.3841,.2738],[.933,.3913,.272],[.9378,.3985,.2701],[.9426,.4058,.2683],[.9473,.413,.2664],[.9521,.4202,.2646],[.9569,.4275,.2627],[.9582,.4374,.2674],[.9596,.4474,.272],[.961,.4574,.2766],[.9624,.4674,.2812],[.9638,.4774,.2858],[.9652,.4874,.2904],[.9666,.4974,.295],[.9679,.5074,.2997],[.9693,.5174,.3043],[.9707,.5274,.3089],[.9721,.5374,.3135],[.9735,.5474,.3181],[.9749,.5574,.3227],[.9762,.5674,.3273],[.9776,.5774,.3319],[.979,.5874,.3366],[.9804,.5974,.3412],[.9818,.6074,.3458],[.9832,.6174,.3504],[.9845,.6274,.355],[.9859,.6374,.3596],[.9873,.6474,.3642],[.9887,.6574,.3689],[.9901,.6674,.3735],[.9915,.6774,.3781],[.9922,.6862,.3836],[.9924,.6939,.3901],[.9925,.7016,.3965],[.9927,.7093,.403],[.9928,.717,.4095],[.993,.7246,.4159],[.9932,.7323,.4224],[.9933,.74,.4288],[.9935,.7477,.4353],[.9936,.7554,.4418],[.9938,.7631,.4482],[.9939,.7708,.4547],[.9941,.7785,.4611],[.9942,.7862,.4676],[.9944,.7938,.474],[.9945,.8015,.4805],[.9947,.8092,.487],[.9948,.8169,.4934],[.995,.8246,.4999],[.9952,.8323,.5063],[.9953,.84,.5128],[.9955,.8477,.5193],[.9956,.8554,.5257],[.9958,.8631,.5322],[.9959,.8707,.5386],[.9961,.8784,.5451],[.9962,.8832,.5531],[.9964,.888,.5611],[.9965,.8927,.5691],[.9967,.8975,.5771],[.9968,.9023,.5851],[.997,.907,.5931],[.9972,.9118,.6011],[.9973,.9166,.6091],[.9975,.9213,.6171],[.9976,.9261,.6251],[.9978,.9309,.6331],[.9979,.9356,.6411],[.9981,.9404,.6491],[.9982,.9452,.6571],[.9984,.9499,.6651],[.9985,.9547,.673],[.9987,.9595,.681],[.9988,.9642,.689],[.999,.969,.697],[.9992,.9738,.705],[.9993,.9785,.713],[.9995,.9833,.721],[.9996,.9881,.729],[.9998,.9928,.737],[.9999,.9976,.745],[.9981,.9992,.746],[.9942,.9977,.74],[.9904,.9962,.734],[.9865,.9946,.728],[.9827,.9931,.722],[.9789,.9915,.716],[.975,.99,.71],[.9712,.9885,.704],[.9673,.9869,.698],[.9635,.9854,.692],[.9596,.9839,.686],[.9558,.9823,.68],[.9519,.9808,.674],[.9481,.9792,.6681],[.9443,.9777,.6621],[.9404,.9762,.6561],[.9366,.9746,.6501],[.9327,.9731,.6441],[.9289,.9715,.6381],[.925,.97,.6321],[.9212,.9685,.6261],[.9173,.9669,.6201],[.9135,.9654,.6141],[.9097,.9639,.6081],[.9058,.9623,.6021],[.902,.9608,.5961],[.8929,.9571,.5979],[.8838,.9534,.5998],[.8747,.9497,.6016],[.8657,.946,.6035],[.8566,.9423,.6053],[.8475,.9386,.6072],[.8384,.9349,.609],[.8294,.9313,.6108],[.8203,.9276,.6127],[.8112,.9239,.6145],[.8022,.9202,.6164],[.7931,.9165,.6182],[.784,.9128,.6201],[.7749,.9091,.6219],[.7659,.9054,.6238],[.7568,.9017,.6256],[.7477,.898,.6275],[.7386,.8943,.6293],[.7296,.8907,.6311],[.7205,.887,.633],[.7114,.8833,.6348],[.7023,.8796,.6367],[.6933,.8759,.6385],[.6842,.8722,.6404],[.6751,.8685,.6422],[.6653,.8646,.6432],[.6547,.8604,.6434],[.6441,.8563,.6435],[.6334,.8521,.6437],[.6228,.848,.6438],[.6122,.8438,.644],[.6016,.8397,.6441],[.591,.8355,.6443],[.5804,.8314,.6444],[.5698,.8272,.6446],[.5592,.8231,.6448],[.5486,.8189,.6449],[.5379,.8148,.6451],[.5273,.8106,.6452],[.5167,.8065,.6454],[.5061,.8023,.6455],[.4955,.7982,.6457],[.4849,.794,.6458],[.4743,.7899,.646],[.4637,.7857,.6461],[.4531,.7815,.6463],[.4424,.7774,.6464],[.4318,.7732,.6466],[.4212,.7691,.6468],[.4106,.7649,.6469],[.4,.7608,.6471],[.392,.7519,.6507],[.384,.7429,.6544],[.376,.734,.6581],[.368,.7251,.6618],[.36,.7162,.6655],[.352,.7073,.6692],[.344,.6983,.6729],[.336,.6894,.6766],[.328,.6805,.6803],[.32,.6716,.684],[.312,.6627,.6877],[.304,.6537,.6913],[.296,.6448,.695],[.288,.6359,.6987],[.28,.627,.7024],[.272,.6181,.7061],[.2641,.6092,.7098],[.2561,.6002,.7135],[.2481,.5913,.7172],[.2401,.5824,.7209],[.2321,.5735,.7246],[.2241,.5646,.7283],[.2161,.5556,.7319],[.2081,.5467,.7356],[.2001,.5378,.7393],[.1995,.529,.7391],[.2062,.5202,.7349],[.213,.5114,.7308],[.2198,.5027,.7266],[.2265,.4939,.7225],[.2333,.4851,.7183],[.2401,.4764,.7142],[.2468,.4676,.71],[.2536,.4588,.7059],[.2604,.4501,.7017],[.2671,.4413,.6976],[.2739,.4325,.6934],[.2807,.4238,.6893],[.2874,.415,.6851],[.2942,.4062,.681],[.301,.3975,.6768],[.3077,.3887,.6727],[.3145,.3799,.6685],[.3213,.3712,.6644],[.328,.3624,.6602],[.3348,.3536,.6561],[.3416,.3449,.6519],[.3483,.3361,.6478],[.3551,.3273,.6436],[.3619,.3186,.6394],[.3686,.3098,.6353]]},Wistia:{interpolate:!0,colors:[[.8941,1,.4784],[.8958,.9986,.4725],[.8974,.9972,.4666],[.8991,.9958,.4607],[.9008,.9943,.4548],[.9024,.9929,.4489],[.9041,.9915,.443],[.9057,.9901,.4371],[.9074,.9887,.4312],[.9091,.9873,.4253],[.9107,.9859,.4194],[.9124,.9844,.4135],[.914,.983,.4076],[.9157,.9816,.4017],[.9174,.9802,.3958],[.919,.9788,.3899],[.9207,.9774,.3839],[.9224,.9759,.378],[.924,.9745,.3721],[.9257,.9731,.3662],[.9273,.9717,.3603],[.929,.9703,.3544],[.9307,.9689,.3485],[.9323,.9675,.3426],[.934,.966,.3367],[.9356,.9646,.3308],[.9373,.9632,.3249],[.939,.9618,.319],[.9406,.9604,.3131],[.9423,.959,.3072],[.9439,.9576,.3013],[.9456,.9561,.2954],[.9473,.9547,.2895],[.9489,.9533,.2836],[.9506,.9519,.2776],[.9522,.9505,.2717],[.9539,.9491,.2658],[.9556,.9477,.2599],[.9572,.9462,.254],[.9589,.9448,.2481],[.9606,.9434,.2422],[.9622,.942,.2363],[.9639,.9406,.2304],[.9655,.9392,.2245],[.9672,.9377,.2186],[.9689,.9363,.2127],[.9705,.9349,.2068],[.9722,.9335,.2009],[.9738,.9321,.195],[.9755,.9307,.1891],[.9772,.9293,.1832],[.9788,.9278,.1773],[.9805,.9264,.1713],[.9821,.925,.1654],[.9838,.9236,.1595],[.9855,.9222,.1536],[.9871,.9208,.1477],[.9888,.9194,.1418],[.9904,.9179,.1359],[.9921,.9165,.13],[.9938,.9151,.1241],[.9954,.9137,.1182],[.9971,.9123,.1123],[.9988,.9109,.1064],[1,.9091,.1016],[1,.9065,.1],[1,.9039,.0984],[1,.9012,.0968],[1,.8986,.0952],[1,.8959,.0936],[1,.8933,.092],[1,.8906,.0904],[1,.888,.0888],[1,.8853,.0872],[1,.8827,.0856],[1,.88,.084],[1,.8774,.0824],[1,.8748,.0808],[1,.8721,.0792],[1,.8695,.0776],[1,.8668,.076],[1,.8642,.0744],[1,.8615,.0728],[1,.8589,.0712],[1,.8562,.0696],[1,.8536,.068],[1,.8509,.0664],[1,.8483,.0648],[1,.8457,.0632],[1,.843,.0616],[1,.8404,.06],[1,.8377,.0584],[1,.8351,.0568],[1,.8324,.0552],[1,.8298,.0536],[1,.8271,.052],[1,.8245,.0504],[1,.8219,.0488],[1,.8192,.0472],[1,.8166,.0456],[1,.8139,.044],[1,.8113,.0424],[1,.8086,.0408],[1,.806,.0392],[1,.8033,.0376],[1,.8007,.036],[1,.798,.0344],[1,.7954,.0328],[1,.7928,.0312],[1,.7901,.0296],[1,.7875,.028],[1,.7848,.0264],[1,.7822,.0248],[1,.7795,.0232],[1,.7769,.0216],[1,.7742,.02],[1,.7716,.0184],[1,.769,.0168],[1,.7663,.0152],[1,.7637,.0136],[1,.761,.012],[1,.7584,.0104],[1,.7557,.0088],[1,.7531,.0072],[1,.7504,.0056],[1,.7478,.004],[1,.7451,.0024],[1,.7425,8e-4],[1,.7403,0],[1,.7385,0],[1,.7367,0],[1,.7349,0],[1,.7331,0],[1,.7314,0],[1,.7296,0],[1,.7278,0],[1,.726,0],[1,.7242,0],[1,.7224,0],[1,.7207,0],[1,.7189,0],[1,.7171,0],[1,.7153,0],[1,.7135,0],[1,.7117,0],[1,.71,0],[1,.7082,0],[1,.7064,0],[1,.7046,0],[1,.7028,0],[1,.701,0],[1,.6993,0],[1,.6975,0],[1,.6957,0],[1,.6939,0],[1,.6921,0],[1,.6903,0],[1,.6886,0],[1,.6868,0],[1,.685,0],[1,.6832,0],[1,.6814,0],[1,.6796,0],[1,.6778,0],[1,.6761,0],[1,.6743,0],[1,.6725,0],[1,.6707,0],[1,.6689,0],[1,.6671,0],[1,.6654,0],[1,.6636,0],[1,.6618,0],[1,.66,0],[1,.6582,0],[1,.6564,0],[1,.6547,0],[1,.6529,0],[1,.6511,0],[1,.6493,0],[1,.6475,0],[1,.6457,0],[1,.644,0],[1,.6422,0],[1,.6404,0],[1,.6386,0],[1,.6368,0],[1,.635,0],[1,.6332,0],[1,.6315,0],[1,.6297,0],[1,.6279,0],[.9999,.6259,0],[.9997,.6239,0],[.9995,.6219,0],[.9993,.6198,0],[.9991,.6178,0],[.9989,.6158,0],[.9988,.6137,0],[.9986,.6117,0],[.9984,.6097,0],[.9982,.6077,0],[.998,.6056,0],[.9978,.6036,0],[.9976,.6016,0],[.9975,.5995,0],[.9973,.5975,0],[.9971,.5955,0],[.9969,.5934,0],[.9967,.5914,0],[.9965,.5894,0],[.9964,.5874,0],[.9962,.5853,0],[.996,.5833,0],[.9958,.5813,0],[.9956,.5792,0],[.9954,.5772,0],[.9952,.5752,0],[.9951,.5731,0],[.9949,.5711,0],[.9947,.5691,0],[.9945,.5671,0],[.9943,.565,0],[.9941,.563,0],[.994,.561,0],[.9938,.5589,0],[.9936,.5569,0],[.9934,.5549,0],[.9932,.5528,0],[.993,.5508,0],[.9928,.5488,0],[.9927,.5468,0],[.9925,.5447,0],[.9923,.5427,0],[.9921,.5407,0],[.9919,.5386,0],[.9917,.5366,0],[.9916,.5346,0],[.9914,.5325,0],[.9912,.5305,0],[.991,.5285,0],[.9908,.5265,0],[.9906,.5244,0],[.9904,.5224,0],[.9903,.5204,0],[.9901,.5183,0],[.9899,.5163,0],[.9897,.5143,0],[.9895,.5122,0],[.9893,.5102,0],[.9892,.5082,0],[.989,.5062,0],[.9888,.5041,0],[.9886,.5021,0],[.9884,.5001,0],[.9882,.498,0]]},YlGn:{interpolate:!0,colors:[[1,1,.898],[.999,.9996,.8926],[.998,.9993,.8872],[.997,.9989,.8818],[.9961,.9985,.8764],[.9951,.9982,.871],[.9941,.9978,.8656],[.9931,.9974,.8601],[.9921,.997,.8547],[.9911,.9967,.8493],[.9902,.9963,.8439],[.9892,.9959,.8385],[.9882,.9956,.8331],[.9872,.9952,.8277],[.9862,.9948,.8223],[.9852,.9945,.8168],[.9843,.9941,.8114],[.9833,.9937,.806],[.9823,.9934,.8006],[.9813,.993,.7952],[.9803,.9926,.7898],[.9793,.9922,.7844],[.9783,.9919,.7789],[.9774,.9915,.7735],[.9764,.9911,.7681],[.9754,.9908,.7627],[.9744,.9904,.7573],[.9734,.99,.7519],[.9724,.9897,.7465],[.9715,.9893,.7411],[.9705,.9889,.7356],[.9695,.9886,.7302],[.9682,.9881,.7252],[.9645,.9866,.7224],[.9608,.9851,.7197],[.9571,.9836,.717],[.9534,.9821,.7143],[.9497,.9807,.7116],[.946,.9792,.7089],[.9423,.9777,.7062],[.9386,.9762,.7035],[.9349,.9748,.7008],[.9313,.9733,.6981],[.9276,.9718,.6954],[.9239,.9703,.6927],[.9202,.9689,.69],[.9165,.9674,.6873],[.9128,.9659,.6846],[.9091,.9644,.6818],[.9054,.963,.6791],[.9017,.9615,.6764],[.898,.96,.6737],[.8943,.9585,.671],[.8907,.957,.6683],[.887,.9556,.6656],[.8833,.9541,.6629],[.8796,.9526,.6602],[.8759,.9511,.6575],[.8722,.9497,.6548],[.8685,.9482,.6521],[.8648,.9467,.6494],[.8611,.9452,.6467],[.8574,.9438,.644],[.8537,.9423,.6412],[.8496,.9406,.6386],[.8442,.9383,.636],[.8388,.9359,.6334],[.8334,.9336,.6308],[.828,.9312,.6282],[.8226,.9289,.6257],[.8171,.9266,.6231],[.8117,.9242,.6205],[.8063,.9219,.6179],[.8009,.9196,.6153],[.7955,.9172,.6127],[.7901,.9149,.6101],[.7847,.9125,.6076],[.7793,.9102,.605],[.7738,.9079,.6024],[.7684,.9055,.5998],[.763,.9032,.5972],[.7576,.9009,.5946],[.7522,.8985,.5921],[.7468,.8962,.5895],[.7414,.8938,.5869],[.7359,.8915,.5843],[.7305,.8892,.5817],[.7251,.8868,.5791],[.7197,.8845,.5766],[.7143,.8822,.574],[.7089,.8798,.5714],[.7035,.8775,.5688],[.6981,.8751,.5662],[.6926,.8728,.5636],[.6872,.8705,.5611],[.6818,.8681,.5585],[.676,.8656,.5559],[.6695,.8628,.5533],[.6629,.8599,.5507],[.6564,.8571,.5481],[.6499,.8543,.5456],[.6434,.8515,.543],[.6369,.8486,.5404],[.6303,.8458,.5378],[.6238,.843,.5352],[.6173,.8401,.5326],[.6108,.8373,.5301],[.6043,.8345,.5275],[.5977,.8316,.5249],[.5912,.8288,.5223],[.5847,.826,.5197],[.5782,.8232,.5171],[.5717,.8203,.5146],[.5651,.8175,.512],[.5586,.8147,.5094],[.5521,.8118,.5068],[.5456,.809,.5042],[.5391,.8062,.5016],[.5325,.8034,.4991],[.526,.8005,.4965],[.5195,.7977,.4939],[.513,.7949,.4913],[.5065,.792,.4887],[.4999,.7892,.4861],[.4934,.7864,.4836],[.4869,.7835,.481],[.4804,.7807,.4784],[.4738,.7779,.4758],[.4672,.7748,.4728],[.4604,.7715,.4693],[.4537,.7682,.4659],[.4469,.7648,.4625],[.4401,.7615,.459],[.4334,.7582,.4556],[.4266,.7549,.4521],[.4198,.7516,.4487],[.4131,.7482,.4452],[.4063,.7449,.4418],[.3995,.7416,.4383],[.3928,.7383,.4349],[.386,.7349,.4314],[.3792,.7316,.428],[.3725,.7283,.4246],[.3657,.725,.4211],[.3589,.7217,.4177],[.3522,.7183,.4142],[.3454,.715,.4108],[.3386,.7117,.4073],[.3319,.7084,.4039],[.3251,.7051,.4004],[.3183,.7017,.397],[.3116,.6984,.3936],[.3048,.6951,.3901],[.298,.6918,.3867],[.2913,.6884,.3832],[.2845,.6851,.3798],[.2777,.6818,.3763],[.271,.6785,.3729],[.2642,.6752,.3694],[.2574,.6718,.366],[.2526,.6676,.3627],[.2489,.6628,.3595],[.2452,.658,.3563],[.2415,.6532,.3531],[.2378,.6484,.3499],[.2341,.6436,.3467],[.2304,.6388,.3435],[.2268,.634,.3403],[.2231,.6292,.3371],[.2194,.6244,.3339],[.2157,.6196,.3307],[.212,.6148,.3275],[.2083,.61,.3243],[.2046,.6052,.3211],[.2009,.6004,.3179],[.1972,.5956,.3147],[.1935,.5908,.3115],[.1899,.586,.3083],[.1862,.5812,.3051],[.1825,.5764,.3019],[.1788,.5716,.2987],[.1751,.5668,.2955],[.1714,.562,.2923],[.1677,.5572,.2891],[.164,.5524,.2859],[.1603,.5476,.2827],[.1566,.5428,.2795],[.1529,.538,.2763],[.1493,.5332,.2731],[.1456,.5284,.2699],[.1419,.5236,.2667],[.1382,.5188,.2635],[.134,.5151,.2616],[.1297,.5116,.2602],[.1254,.5082,.2587],[.1211,.5047,.2572],[.1168,.5013,.2557],[.1125,.4978,.2543],[.1082,.4944,.2528],[.1039,.4909,.2513],[.0996,.4875,.2498],[.0953,.4841,.2484],[.091,.4806,.2469],[.0867,.4772,.2454],[.0824,.4737,.2439],[.078,.4703,.2424],[.0737,.4668,.241],[.0694,.4634,.2395],[.0651,.4599,.238],[.0608,.4565,.2365],[.0565,.4531,.2351],[.0522,.4496,.2336],[.0479,.4462,.2321],[.0436,.4427,.2306],[.0393,.4393,.2292],[.035,.4358,.2277],[.0307,.4324,.2262],[.0264,.4289,.2247],[.0221,.4255,.2233],[.0178,.4221,.2218],[.0135,.4186,.2203],[.0092,.4152,.2188],[.0048,.4117,.2173],[5e-4,.4083,.2159],[0,.4041,.2142],[0,.3998,.2125],[0,.3955,.2107],[0,.3912,.209],[0,.3869,.2073],[0,.3825,.2056],[0,.3782,.2038],[0,.3739,.2021],[0,.3696,.2004],[0,.3653,.1987],[0,.361,.197],[0,.3567,.1952],[0,.3524,.1935],[0,.3481,.1918],[0,.3438,.1901],[0,.3395,.1883],[0,.3352,.1866],[0,.3309,.1849],[0,.3266,.1832],[0,.3223,.1815],[0,.318,.1797],[0,.3136,.178],[0,.3093,.1763],[0,.305,.1746],[0,.3007,.1728],[0,.2964,.1711],[0,.2921,.1694],[0,.2878,.1677],[0,.2835,.166],[0,.2792,.1642],[0,.2749,.1625],[0,.2706,.1608]]},YlGnBu:{interpolate:!0,colors:[[1,1,.851],[.9978,.9991,.8461],[.9956,.9983,.8411],[.9934,.9974,.8362],[.9911,.9966,.8313],[.9889,.9957,.8264],[.9867,.9948,.8215],[.9845,.994,.8165],[.9823,.9931,.8116],[.9801,.9922,.8067],[.9779,.9914,.8018],[.9756,.9905,.7968],[.9734,.9897,.7919],[.9712,.9888,.787],[.969,.9879,.7821],[.9668,.9871,.7772],[.9646,.9862,.7722],[.9624,.9854,.7673],[.9601,.9845,.7624],[.9579,.9836,.7575],[.9557,.9828,.7526],[.9535,.9819,.7476],[.9513,.9811,.7427],[.9491,.9802,.7378],[.9469,.9793,.7329],[.9446,.9785,.728],[.9424,.9776,.723],[.9402,.9767,.7181],[.938,.9759,.7132],[.9358,.975,.7083],[.9336,.9742,.7033],[.9313,.9733,.6984],[.9288,.9723,.6942],[.9242,.9705,.6945],[.9195,.9686,.6949],[.9148,.9668,.6953],[.9101,.9649,.6956],[.9055,.9631,.696],[.9008,.9612,.6964],[.8961,.9594,.6967],[.8914,.9576,.6971],[.8868,.9557,.6975],[.8821,.9539,.6979],[.8774,.952,.6982],[.8727,.9502,.6986],[.8681,.9483,.699],[.8634,.9465,.6993],[.8587,.9446,.6997],[.854,.9428,.7001],[.8494,.9409,.7004],[.8447,.9391,.7008],[.84,.9373,.7012],[.8353,.9354,.7015],[.8306,.9336,.7019],[.826,.9317,.7023],[.8213,.9299,.7027],[.8166,.928,.703],[.8119,.9262,.7034],[.8073,.9243,.7038],[.8026,.9225,.7041],[.7979,.9206,.7045],[.7932,.9188,.7049],[.7886,.917,.7052],[.7839,.9151,.7056],[.7782,.9129,.7061],[.7693,.9094,.707],[.7605,.906,.7078],[.7516,.9025,.7087],[.7427,.8991,.7095],[.7339,.8956,.7104],[.725,.8922,.7113],[.7162,.8888,.7121],[.7073,.8853,.713],[.6985,.8819,.7138],[.6896,.8784,.7147],[.6807,.875,.7156],[.6719,.8715,.7164],[.663,.8681,.7173],[.6542,.8646,.7182],[.6453,.8612,.719],[.6364,.8577,.7199],[.6276,.8543,.7207],[.6187,.8509,.7216],[.6099,.8474,.7225],[.601,.844,.7233],[.5922,.8405,.7242],[.5833,.8371,.725],[.5744,.8336,.7259],[.5656,.8302,.7268],[.5567,.8267,.7276],[.5479,.8233,.7285],[.539,.8199,.7294],[.5301,.8164,.7302],[.5213,.813,.7311],[.5124,.8095,.7319],[.5036,.8061,.7328],[.4952,.8029,.7337],[.4876,.8,.7349],[.4799,.7972,.736],[.4723,.7944,.7371],[.4647,.7915,.7382],[.457,.7887,.7393],[.4494,.7859,.7404],[.4418,.7831,.7415],[.4342,.7802,.7426],[.4265,.7774,.7437],[.4189,.7746,.7448],[.4113,.7717,.7459],[.4036,.7689,.747],[.396,.7661,.7481],[.3884,.7632,.7493],[.3808,.7604,.7504],[.3731,.7576,.7515],[.3655,.7548,.7526],[.3579,.7519,.7537],[.3502,.7491,.7548],[.3426,.7463,.7559],[.335,.7434,.757],[.3274,.7406,.7581],[.3197,.7378,.7592],[.3121,.7349,.7603],[.3045,.7321,.7614],[.2969,.7293,.7625],[.2892,.7265,.7636],[.2816,.7236,.7648],[.274,.7208,.7659],[.2663,.718,.767],[.2587,.7151,.7681],[.2527,.7114,.7684],[.2483,.7069,.7679],[.2438,.7023,.7674],[.2394,.6978,.7669],[.235,.6932,.7664],[.2305,.6887,.7659],[.2261,.6841,.7654],[.2217,.6796,.7649],[.2173,.675,.7644],[.2128,.6705,.764],[.2084,.6659,.7635],[.204,.6614,.763],[.1995,.6568,.7625],[.1951,.6523,.762],[.1907,.6477,.7615],[.1863,.6432,.761],[.1818,.6386,.7605],[.1774,.6341,.76],[.173,.6295,.7595],[.1685,.625,.759],[.1641,.6204,.7585],[.1597,.6159,.758],[.1552,.6113,.7576],[.1508,.6068,.7571],[.1464,.6022,.7566],[.142,.5976,.7561],[.1375,.5931,.7556],[.1331,.5885,.7551],[.1287,.584,.7546],[.1242,.5794,.7541],[.1198,.5749,.7536],[.1154,.5703,.7531],[.1141,.5647,.7511],[.1147,.5584,.7481],[.1153,.5522,.7452],[.116,.5459,.7422],[.1166,.5396,.7393],[.1172,.5333,.7363],[.1178,.5271,.7334],[.1184,.5208,.7304],[.119,.5145,.7275],[.1196,.5082,.7245],[.1203,.502,.7216],[.1209,.4957,.7186],[.1215,.4894,.7157],[.1221,.4831,.7127],[.1227,.4769,.7098],[.1233,.4706,.7068],[.124,.4643,.7039],[.1246,.458,.7009],[.1252,.4518,.6979],[.1258,.4455,.695],[.1264,.4392,.692],[.127,.4329,.6891],[.1276,.4267,.6861],[.1283,.4204,.6832],[.1289,.4141,.6802],[.1295,.4078,.6773],[.1301,.4016,.6743],[.1307,.3953,.6714],[.1313,.389,.6684],[.1319,.3827,.6655],[.1326,.3765,.6625],[.1332,.3702,.6596],[.1336,.3648,.657],[.134,.3596,.6545],[.1343,.3544,.6521],[.1347,.3493,.6496],[.1351,.3441,.6471],[.1355,.3389,.6447],[.1358,.3337,.6422],[.1362,.3286,.6398],[.1366,.3234,.6373],[.1369,.3182,.6348],[.1373,.3131,.6324],[.1377,.3079,.6299],[.138,.3027,.6275],[.1384,.2976,.625],[.1388,.2924,.6225],[.1391,.2872,.6201],[.1395,.2821,.6176],[.1399,.2769,.6151],[.1403,.2717,.6127],[.1406,.2666,.6102],[.141,.2614,.6078],[.1414,.2562,.6053],[.1417,.2511,.6028],[.1421,.2459,.6004],[.1425,.2407,.5979],[.1428,.2356,.5955],[.1432,.2304,.593],[.1436,.2252,.5905],[.1439,.2201,.5881],[.1443,.2149,.5856],[.1447,.2097,.5832],[.1451,.2046,.5807],[.142,.2014,.5739],[.1384,.1986,.5666],[.1348,.1958,.5592],[.1313,.193,.5518],[.1277,.1901,.5444],[.1241,.1873,.537],[.1206,.1845,.5296],[.117,.1816,.5223],[.1134,.1788,.5149],[.1099,.176,.5075],[.1063,.1731,.5001],[.1027,.1703,.4927],[.0992,.1675,.4854],[.0956,.1647,.478],[.092,.1618,.4706],[.0885,.159,.4632],[.0849,.1562,.4558],[.0813,.1533,.4484],[.0778,.1505,.4411],[.0742,.1477,.4337],[.0706,.1449,.4263],[.0671,.142,.4189],[.0635,.1392,.4115],[.0599,.1364,.4042],[.0563,.1335,.3968],[.0528,.1307,.3894],[.0492,.1279,.382],[.0456,.125,.3746],[.0421,.1222,.3672],[.0385,.1194,.3599],[.0349,.1166,.3525],[.0314,.1137,.3451]]},YlOrBr:{interpolate:!0,colors:[[1,1,.898],[1,.999,.893],[1,.998,.888],[1,.997,.8829],[1,.9961,.8779],[1,.9951,.8728],[1,.9941,.8678],[1,.9931,.8627],[1,.9921,.8577],[1,.9911,.8526],[1,.9902,.8476],[1,.9892,.8426],[1,.9882,.8375],[1,.9872,.8325],[1,.9862,.8274],[1,.9852,.8224],[1,.9843,.8173],[1,.9833,.8123],[1,.9823,.8072],[1,.9813,.8022],[1,.9803,.7972],[1,.9793,.7921],[1,.9783,.7871],[1,.9774,.782],[1,.9764,.777],[1,.9754,.7719],[1,.9744,.7669],[1,.9734,.7618],[1,.9724,.7568],[1,.9715,.7518],[1,.9705,.7467],[1,.9695,.7417],[1,.9683,.7366],[.9999,.9659,.7313],[.9997,.9634,.726],[.9996,.9609,.7207],[.9995,.9585,.7154],[.9994,.956,.7101],[.9992,.9536,.7049],[.9991,.9511,.6996],[.999,.9486,.6943],[.9989,.9462,.689],[.9988,.9437,.6837],[.9986,.9413,.6784],[.9985,.9388,.6731],[.9984,.9363,.6678],[.9983,.9339,.6625],[.9981,.9314,.6572],[.998,.929,.6519],[.9979,.9265,.6467],[.9978,.924,.6414],[.9976,.9216,.6361],[.9975,.9191,.6308],[.9974,.9166,.6255],[.9973,.9142,.6202],[.9972,.9117,.6149],[.997,.9093,.6096],[.9969,.9068,.6043],[.9968,.9043,.599],[.9967,.9019,.5938],[.9965,.8994,.5885],[.9964,.897,.5832],[.9963,.8945,.5779],[.9962,.892,.5726],[.9961,.8892,.5666],[.9961,.8854,.5585],[.9961,.8816,.5504],[.9961,.8778,.5422],[.9961,.874,.5341],[.9961,.8702,.526],[.9961,.8664,.5179],[.9961,.8625,.5098],[.9961,.8587,.5016],[.9961,.8549,.4935],[.9961,.8511,.4854],[.9961,.8473,.4773],[.9961,.8435,.4692],[.9961,.8397,.461],[.9961,.8358,.4529],[.9961,.832,.4448],[.9961,.8282,.4367],[.9961,.8244,.4286],[.9961,.8206,.4204],[.9961,.8168,.4123],[.9961,.813,.4042],[.9961,.8092,.3961],[.9961,.8053,.388],[.9961,.8015,.3798],[.9961,.7977,.3717],[.9961,.7939,.3636],[.9961,.7901,.3555],[.9961,.7863,.3474],[.9961,.7825,.3392],[.9961,.7786,.3311],[.9961,.7748,.323],[.9961,.771,.3149],[.9961,.7666,.3081],[.9961,.7614,.3034],[.9961,.7561,.2987],[.9961,.7508,.294],[.9961,.7455,.2894],[.9961,.7402,.2847],[.9961,.7349,.28],[.9961,.7296,.2753],[.9961,.7243,.2706],[.9961,.719,.266],[.9961,.7137,.2613],[.9961,.7085,.2566],[.9961,.7032,.2519],[.9961,.6979,.2473],[.9961,.6926,.2426],[.9961,.6873,.2379],[.9961,.682,.2332],[.9961,.6767,.2286],[.9961,.6714,.2239],[.9961,.6661,.2192],[.9961,.6608,.2145],[.9961,.6555,.2099],[.9961,.6503,.2052],[.9961,.645,.2005],[.9961,.6397,.1958],[.9961,.6344,.1912],[.9961,.6291,.1865],[.9961,.6238,.1818],[.9961,.6185,.1771],[.9961,.6132,.1725],[.9961,.6079,.1678],[.9961,.6026,.1631],[.995,.5975,.1595],[.9928,.5924,.1569],[.9905,.5874,.1543],[.9883,.5823,.1517],[.9861,.5773,.1492],[.9839,.5723,.1466],[.9817,.5672,.144],[.9795,.5622,.1414],[.9773,.5571,.1388],[.975,.5521,.1362],[.9728,.547,.1337],[.9706,.542,.1311],[.9684,.5369,.1285],[.9662,.5319,.1259],[.964,.5269,.1233],[.9618,.5218,.1207],[.9595,.5168,.1182],[.9573,.5117,.1156],[.9551,.5067,.113],[.9529,.5016,.1104],[.9507,.4966,.1078],[.9485,.4915,.1052],[.9463,.4865,.1027],[.944,.4815,.1001],[.9418,.4764,.0975],[.9396,.4714,.0949],[.9374,.4663,.0923],[.9352,.4613,.0897],[.933,.4562,.0872],[.9307,.4512,.0846],[.9285,.4462,.082],[.9263,.4411,.0794],[.923,.4364,.077],[.9191,.432,.0748],[.9152,.4276,.0726],[.9112,.4232,.0704],[.9073,.4187,.0682],[.9033,.4143,.066],[.8994,.4099,.0638],[.8955,.4054,.0615],[.8915,.401,.0593],[.8876,.3966,.0571],[.8837,.3922,.0549],[.8797,.3877,.0527],[.8758,.3833,.0505],[.8718,.3789,.0483],[.8679,.3744,.046],[.864,.37,.0438],[.86,.3656,.0416],[.8561,.3612,.0394],[.8522,.3567,.0372],[.8482,.3523,.035],[.8443,.3479,.0328],[.8404,.3434,.0305],[.8364,.339,.0283],[.8325,.3346,.0261],[.8285,.3301,.0239],[.8246,.3257,.0217],[.8207,.3213,.0195],[.8167,.3169,.0173],[.8128,.3124,.015],[.8089,.308,.0128],[.8049,.3036,.0106],[.801,.2991,.0084],[.7953,.2958,.008],[.789,.2929,.0083],[.7827,.2899,.0085],[.7765,.287,.0088],[.7702,.284,.009],[.7639,.2811,.0093],[.7576,.2781,.0095],[.7514,.2752,.0098],[.7451,.2722,.01],[.7388,.2693,.0102],[.7325,.2663,.0105],[.7263,.2633,.0107],[.72,.2604,.011],[.7137,.2574,.0112],[.7075,.2545,.0115],[.7012,.2515,.0117],[.6949,.2486,.012],[.6886,.2456,.0122],[.6824,.2427,.0125],[.6761,.2397,.0127],[.6698,.2368,.0129],[.6635,.2338,.0132],[.6573,.2309,.0134],[.651,.2279,.0137],[.6447,.225,.0139],[.6384,.222,.0142],[.6322,.2191,.0144],[.6259,.2161,.0147],[.6196,.2131,.0149],[.6133,.2102,.0152],[.6071,.2072,.0154],[.6008,.2043,.0157],[.5945,.2023,.0159],[.5882,.2005,.0161],[.582,.1986,.0164],[.5757,.1968,.0166],[.5694,.1949,.0169],[.5631,.1931,.0171],[.5569,.1912,.0174],[.5506,.1894,.0176],[.5443,.1875,.0179],[.538,.1857,.0181],[.5318,.1839,.0184],[.5255,.182,.0186],[.5192,.1802,.0189],[.5129,.1783,.0191],[.5067,.1765,.0193],[.5004,.1746,.0196],[.4941,.1728,.0198],[.4878,.1709,.0201],[.4816,.1691,.0203],[.4753,.1672,.0206],[.469,.1654,.0208],[.4627,.1636,.0211],[.4565,.1617,.0213],[.4502,.1599,.0216],[.4439,.158,.0218],[.4376,.1562,.0221],[.4314,.1543,.0223],[.4251,.1525,.0225],[.4188,.1506,.0228],[.4125,.1488,.023],[.4063,.1469,.0233],[.4,.1451,.0235]]},YlOrRd:{interpolate:!0,colors:[[1,1,.8],[1,.9978,.7946],[1,.9956,.7892],[1,.9934,.7838],[1,.9911,.7783],[1,.9889,.7729],[1,.9867,.7675],[1,.9845,.7621],[1,.9823,.7567],[1,.9801,.7513],[1,.9779,.7459],[1,.9756,.7405],[1,.9734,.735],[1,.9712,.7296],[1,.969,.7242],[1,.9668,.7188],[1,.9646,.7134],[1,.9624,.708],[1,.9601,.7026],[1,.9579,.6971],[1,.9557,.6917],[1,.9535,.6863],[1,.9513,.6809],[1,.9491,.6755],[1,.9469,.6701],[1,.9446,.6647],[1,.9424,.6593],[1,.9402,.6538],[1,.938,.6484],[1,.9358,.643],[1,.9336,.6376],[1,.9313,.6322],[1,.9291,.6268],[.9999,.9266,.6216],[.9997,.9242,.6165],[.9996,.9217,.6113],[.9995,.9193,.6061],[.9994,.9168,.601],[.9992,.9143,.5958],[.9991,.9119,.5906],[.999,.9094,.5855],[.9989,.907,.5803],[.9988,.9045,.5751],[.9986,.902,.57],[.9985,.8996,.5648],[.9984,.8971,.5596],[.9983,.8947,.5545],[.9981,.8922,.5493],[.998,.8897,.5441],[.9979,.8873,.539],[.9978,.8848,.5338],[.9976,.8824,.5286],[.9975,.8799,.5235],[.9974,.8774,.5183],[.9973,.875,.5131],[.9972,.8725,.508],[.997,.87,.5028],[.9969,.8676,.4976],[.9968,.8651,.4925],[.9967,.8627,.4873],[.9965,.8602,.4821],[.9964,.8577,.477],[.9963,.8553,.4718],[.9962,.8528,.4666],[.9961,.8498,.4615],[.9961,.845,.4563],[.9961,.8402,.4511],[.9961,.8354,.446],[.9961,.8306,.4408],[.9961,.8258,.4356],[.9961,.821,.4304],[.9961,.8162,.4253],[.9961,.8114,.4201],[.9961,.8066,.4149],[.9961,.8018,.4098],[.9961,.797,.4046],[.9961,.7922,.3994],[.9961,.7874,.3943],[.9961,.7826,.3891],[.9961,.7778,.3839],[.9961,.773,.3788],[.9961,.7682,.3736],[.9961,.7634,.3684],[.9961,.7586,.3633],[.9961,.7538,.3581],[.9961,.749,.3529],[.9961,.7442,.3478],[.9961,.7394,.3426],[.9961,.7346,.3374],[.9961,.7298,.3323],[.9961,.725,.3271],[.9961,.7202,.3219],[.9961,.7154,.3168],[.9961,.7106,.3116],[.9961,.7058,.3064],[.9961,.701,.3013],[.996,.6963,.2973],[.9959,.6918,.2953],[.9958,.6872,.2934],[.9957,.6827,.2914],[.9955,.6781,.2894],[.9954,.6736,.2875],[.9953,.669,.2855],[.9952,.6645,.2835],[.995,.6599,.2816],[.9949,.6554,.2796],[.9948,.6508,.2776],[.9947,.6463,.2756],[.9946,.6417,.2737],[.9944,.6372,.2717],[.9943,.6326,.2697],[.9942,.6281,.2678],[.9941,.6235,.2658],[.9939,.6189,.2638],[.9938,.6144,.2619],[.9937,.6098,.2599],[.9936,.6053,.2579],[.9934,.6007,.256],[.9933,.5962,.254],[.9932,.5916,.252],[.9931,.5871,.2501],[.993,.5825,.2481],[.9928,.578,.2461],[.9927,.5734,.2442],[.9926,.5689,.2422],[.9925,.5643,.2402],[.9923,.5598,.2382],[.9922,.5552,.2363],[.9921,.5491,.2342],[.992,.5413,.232],[.9918,.5336,.2298],[.9917,.5258,.2275],[.9916,.5181,.2253],[.9915,.5103,.2231],[.9914,.5026,.2209],[.9912,.4948,.2187],[.9911,.4871,.2165],[.991,.4793,.2143],[.9909,.4716,.212],[.9907,.4638,.2098],[.9906,.4561,.2076],[.9905,.4483,.2054],[.9904,.4406,.2032],[.9902,.4328,.201],[.9901,.4251,.1988],[.99,.4173,.1965],[.9899,.4096,.1943],[.9898,.4018,.1921],[.9896,.394,.1899],[.9895,.3863,.1877],[.9894,.3785,.1855],[.9893,.3708,.1833],[.9891,.363,.181],[.989,.3553,.1788],[.9889,.3475,.1766],[.9888,.3398,.1744],[.9887,.332,.1722],[.9885,.3243,.17],[.9884,.3165,.1678],[.9883,.3088,.1655],[.9863,.3019,.1636],[.9832,.2955,.1619],[.9802,.2891,.1602],[.9771,.2827,.1585],[.974,.2763,.1567],[.9709,.2699,.155],[.9679,.2635,.1533],[.9648,.2571,.1516],[.9617,.2507,.1499],[.9586,.2443,.1481],[.9556,.2379,.1464],[.9525,.2315,.1447],[.9494,.2251,.143],[.9463,.2187,.1412],[.9433,.2123,.1395],[.9402,.2059,.1378],[.9371,.1995,.1361],[.934,.1931,.1343],[.9309,.1867,.1326],[.9279,.1803,.1309],[.9248,.1739,.1292],[.9217,.1675,.1275],[.9186,.1611,.1257],[.9156,.1547,.124],[.9125,.1483,.1223],[.9094,.1419,.1206],[.9063,.1355,.1188],[.9033,.1292,.1171],[.9002,.1228,.1154],[.8971,.1164,.1137],[.894,.11,.112],[.891,.1036,.1102],[.8867,.0996,.1107],[.882,.0964,.112],[.8773,.0932,.1132],[.8727,.09,.1144],[.868,.0868,.1156],[.8633,.0836,.1169],[.8586,.0804,.1181],[.854,.0772,.1193],[.8493,.074,.1206],[.8446,.0708,.1218],[.8399,.0676,.123],[.8353,.0644,.1243],[.8306,.0612,.1255],[.8259,.058,.1267],[.8212,.0548,.128],[.8166,.0516,.1292],[.8119,.0484,.1304],[.8072,.0452,.1316],[.8025,.042,.1329],[.7979,.0388,.1341],[.7932,.0356,.1353],[.7885,.0324,.1366],[.7838,.0292,.1378],[.7792,.026,.139],[.7745,.0228,.1403],[.7698,.0196,.1415],[.7651,.0164,.1427],[.7605,.0132,.1439],[.7558,.01,.1452],[.7511,.0068,.1464],[.7464,.0036,.1476],[.7418,4e-4,.1489],[.7346,0,.149],[.7271,0,.149],[.7196,0,.149],[.7121,0,.149],[.7046,0,.149],[.6971,0,.149],[.6896,0,.149],[.6821,0,.149],[.6746,0,.149],[.6671,0,.149],[.6596,0,.149],[.6521,0,.149],[.6446,0,.149],[.637,0,.149],[.6295,0,.149],[.622,0,.149],[.6145,0,.149],[.607,0,.149],[.5995,0,.149],[.592,0,.149],[.5845,0,.149],[.577,0,.149],[.5695,0,.149],[.562,0,.149],[.5545,0,.149],[.547,0,.149],[.5395,0,.149],[.532,0,.149],[.5245,0,.149],[.517,0,.149],[.5095,0,.149],[.502,0,.149]]},afmhot:{interpolate:!0,colors:[[0,0,0],[.0078,0,0],[.0157,0,0],[.0235,0,0],[.0314,0,0],[.0392,0,0],[.0471,0,0],[.0549,0,0],[.0627,0,0],[.0706,0,0],[.0784,0,0],[.0863,0,0],[.0941,0,0],[.102,0,0],[.1098,0,0],[.1176,0,0],[.1255,0,0],[.1333,0,0],[.1412,0,0],[.149,0,0],[.1569,0,0],[.1647,0,0],[.1725,0,0],[.1804,0,0],[.1882,0,0],[.1961,0,0],[.2039,0,0],[.2118,0,0],[.2196,0,0],[.2275,0,0],[.2353,0,0],[.2431,0,0],[.251,0,0],[.2588,0,0],[.2667,0,0],[.2745,0,0],[.2824,0,0],[.2902,0,0],[.298,0,0],[.3059,0,0],[.3137,0,0],[.3216,0,0],[.3294,0,0],[.3373,0,0],[.3451,0,0],[.3529,0,0],[.3608,0,0],[.3686,0,0],[.3765,0,0],[.3843,0,0],[.3922,0,0],[.4,0,0],[.4078,0,0],[.4157,0,0],[.4235,0,0],[.4314,0,0],[.4392,0,0],[.4471,0,0],[.4549,0,0],[.4627,0,0],[.4706,0,0],[.4784,0,0],[.4863,0,0],[.4941,0,0],[.502,.002,0],[.5098,.0098,0],[.5176,.0176,0],[.5255,.0255,0],[.5333,.0333,0],[.5412,.0412,0],[.549,.049,0],[.5569,.0569,0],[.5647,.0647,0],[.5725,.0725,0],[.5804,.0804,0],[.5882,.0882,0],[.5961,.0961,0],[.6039,.1039,0],[.6118,.1118,0],[.6196,.1196,0],[.6275,.1275,0],[.6353,.1353,0],[.6431,.1431,0],[.651,.151,0],[.6588,.1588,0],[.6667,.1667,0],[.6745,.1745,0],[.6824,.1824,0],[.6902,.1902,0],[.698,.198,0],[.7059,.2059,0],[.7137,.2137,0],[.7216,.2216,0],[.7294,.2294,0],[.7373,.2373,0],[.7451,.2451,0],[.7529,.2529,0],[.7608,.2608,0],[.7686,.2686,0],[.7765,.2765,0],[.7843,.2843,0],[.7922,.2922,0],[.8,.3,0],[.8078,.3078,0],[.8157,.3157,0],[.8235,.3235,0],[.8314,.3314,0],[.8392,.3392,0],[.8471,.3471,0],[.8549,.3549,0],[.8627,.3627,0],[.8706,.3706,0],[.8784,.3784,0],[.8863,.3863,0],[.8941,.3941,0],[.902,.402,0],[.9098,.4098,0],[.9176,.4176,0],[.9255,.4255,0],[.9333,.4333,0],[.9412,.4412,0],[.949,.449,0],[.9569,.4569,0],[.9647,.4647,0],[.9725,.4725,0],[.9804,.4804,0],[.9882,.4882,0],[.9961,.4961,0],[1,.5039,.0039],[1,.5118,.0118],[1,.5196,.0196],[1,.5275,.0275],[1,.5353,.0353],[1,.5431,.0431],[1,.551,.051],[1,.5588,.0588],[1,.5667,.0667],[1,.5745,.0745],[1,.5824,.0824],[1,.5902,.0902],[1,.598,.098],[1,.6059,.1059],[1,.6137,.1137],[1,.6216,.1216],[1,.6294,.1294],[1,.6373,.1373],[1,.6451,.1451],[1,.6529,.1529],[1,.6608,.1608],[1,.6686,.1686],[1,.6765,.1765],[1,.6843,.1843],[1,.6922,.1922],[1,.7,.2],[1,.7078,.2078],[1,.7157,.2157],[1,.7235,.2235],[1,.7314,.2314],[1,.7392,.2392],[1,.7471,.2471],[1,.7549,.2549],[1,.7627,.2627],[1,.7706,.2706],[1,.7784,.2784],[1,.7863,.2863],[1,.7941,.2941],[1,.802,.302],[1,.8098,.3098],[1,.8176,.3176],[1,.8255,.3255],[1,.8333,.3333],[1,.8412,.3412],[1,.849,.349],[1,.8569,.3569],[1,.8647,.3647],[1,.8725,.3725],[1,.8804,.3804],[1,.8882,.3882],[1,.8961,.3961],[1,.9039,.4039],[1,.9118,.4118],[1,.9196,.4196],[1,.9275,.4275],[1,.9353,.4353],[1,.9431,.4431],[1,.951,.451],[1,.9588,.4588],[1,.9667,.4667],[1,.9745,.4745],[1,.9824,.4824],[1,.9902,.4902],[1,.998,.498],[1,1,.5059],[1,1,.5137],[1,1,.5216],[1,1,.5294],[1,1,.5373],[1,1,.5451],[1,1,.5529],[1,1,.5608],[1,1,.5686],[1,1,.5765],[1,1,.5843],[1,1,.5922],[1,1,.6],[1,1,.6078],[1,1,.6157],[1,1,.6235],[1,1,.6314],[1,1,.6392],[1,1,.6471],[1,1,.6549],[1,1,.6627],[1,1,.6706],[1,1,.6784],[1,1,.6863],[1,1,.6941],[1,1,.702],[1,1,.7098],[1,1,.7176],[1,1,.7255],[1,1,.7333],[1,1,.7412],[1,1,.749],[1,1,.7569],[1,1,.7647],[1,1,.7725],[1,1,.7804],[1,1,.7882],[1,1,.7961],[1,1,.8039],[1,1,.8118],[1,1,.8196],[1,1,.8275],[1,1,.8353],[1,1,.8431],[1,1,.851],[1,1,.8588],[1,1,.8667],[1,1,.8745],[1,1,.8824],[1,1,.8902],[1,1,.898],[1,1,.9059],[1,1,.9137],[1,1,.9216],[1,1,.9294],[1,1,.9373],[1,1,.9451],[1,1,.9529],[1,1,.9608],[1,1,.9686],[1,1,.9765],[1,1,.9843],[1,1,.9922],[1,1,1]]},autumn:{interpolate:!0,colors:[[1,0,0],[1,.0039,0],[1,.0078,0],[1,.0118,0],[1,.0157,0],[1,.0196,0],[1,.0235,0],[1,.0275,0],[1,.0314,0],[1,.0353,0],[1,.0392,0],[1,.0431,0],[1,.0471,0],[1,.051,0],[1,.0549,0],[1,.0588,0],[1,.0627,0],[1,.0667,0],[1,.0706,0],[1,.0745,0],[1,.0784,0],[1,.0824,0],[1,.0863,0],[1,.0902,0],[1,.0941,0],[1,.098,0],[1,.102,0],[1,.1059,0],[1,.1098,0],[1,.1137,0],[1,.1176,0],[1,.1216,0],[1,.1255,0],[1,.1294,0],[1,.1333,0],[1,.1373,0],[1,.1412,0],[1,.1451,0],[1,.149,0],[1,.1529,0],[1,.1569,0],[1,.1608,0],[1,.1647,0],[1,.1686,0],[1,.1725,0],[1,.1765,0],[1,.1804,0],[1,.1843,0],[1,.1882,0],[1,.1922,0],[1,.1961,0],[1,.2,0],[1,.2039,0],[1,.2078,0],[1,.2118,0],[1,.2157,0],[1,.2196,0],[1,.2235,0],[1,.2275,0],[1,.2314,0],[1,.2353,0],[1,.2392,0],[1,.2431,0],[1,.2471,0],[1,.251,0],[1,.2549,0],[1,.2588,0],[1,.2627,0],[1,.2667,0],[1,.2706,0],[1,.2745,0],[1,.2784,0],[1,.2824,0],[1,.2863,0],[1,.2902,0],[1,.2941,0],[1,.298,0],[1,.302,0],[1,.3059,0],[1,.3098,0],[1,.3137,0],[1,.3176,0],[1,.3216,0],[1,.3255,0],[1,.3294,0],[1,.3333,0],[1,.3373,0],[1,.3412,0],[1,.3451,0],[1,.349,0],[1,.3529,0],[1,.3569,0],[1,.3608,0],[1,.3647,0],[1,.3686,0],[1,.3725,0],[1,.3765,0],[1,.3804,0],[1,.3843,0],[1,.3882,0],[1,.3922,0],[1,.3961,0],[1,.4,0],[1,.4039,0],[1,.4078,0],[1,.4118,0],[1,.4157,0],[1,.4196,0],[1,.4235,0],[1,.4275,0],[1,.4314,0],[1,.4353,0],[1,.4392,0],[1,.4431,0],[1,.4471,0],[1,.451,0],[1,.4549,0],[1,.4588,0],[1,.4627,0],[1,.4667,0],[1,.4706,0],[1,.4745,0],[1,.4784,0],[1,.4824,0],[1,.4863,0],[1,.4902,0],[1,.4941,0],[1,.498,0],[1,.502,0],[1,.5059,0],[1,.5098,0],[1,.5137,0],[1,.5176,0],[1,.5216,0],[1,.5255,0],[1,.5294,0],[1,.5333,0],[1,.5373,0],[1,.5412,0],[1,.5451,0],[1,.549,0],[1,.5529,0],[1,.5569,0],[1,.5608,0],[1,.5647,0],[1,.5686,0],[1,.5725,0],[1,.5765,0],[1,.5804,0],[1,.5843,0],[1,.5882,0],[1,.5922,0],[1,.5961,0],[1,.6,0],[1,.6039,0],[1,.6078,0],[1,.6118,0],[1,.6157,0],[1,.6196,0],[1,.6235,0],[1,.6275,0],[1,.6314,0],[1,.6353,0],[1,.6392,0],[1,.6431,0],[1,.6471,0],[1,.651,0],[1,.6549,0],[1,.6588,0],[1,.6627,0],[1,.6667,0],[1,.6706,0],[1,.6745,0],[1,.6784,0],[1,.6824,0],[1,.6863,0],[1,.6902,0],[1,.6941,0],[1,.698,0],[1,.702,0],[1,.7059,0],[1,.7098,0],[1,.7137,0],[1,.7176,0],[1,.7216,0],[1,.7255,0],[1,.7294,0],[1,.7333,0],[1,.7373,0],[1,.7412,0],[1,.7451,0],[1,.749,0],[1,.7529,0],[1,.7569,0],[1,.7608,0],[1,.7647,0],[1,.7686,0],[1,.7725,0],[1,.7765,0],[1,.7804,0],[1,.7843,0],[1,.7882,0],[1,.7922,0],[1,.7961,0],[1,.8,0],[1,.8039,0],[1,.8078,0],[1,.8118,0],[1,.8157,0],[1,.8196,0],[1,.8235,0],[1,.8275,0],[1,.8314,0],[1,.8353,0],[1,.8392,0],[1,.8431,0],[1,.8471,0],[1,.851,0],[1,.8549,0],[1,.8588,0],[1,.8627,0],[1,.8667,0],[1,.8706,0],[1,.8745,0],[1,.8784,0],[1,.8824,0],[1,.8863,0],[1,.8902,0],[1,.8941,0],[1,.898,0],[1,.902,0],[1,.9059,0],[1,.9098,0],[1,.9137,0],[1,.9176,0],[1,.9216,0],[1,.9255,0],[1,.9294,0],[1,.9333,0],[1,.9373,0],[1,.9412,0],[1,.9451,0],[1,.949,0],[1,.9529,0],[1,.9569,0],[1,.9608,0],[1,.9647,0],[1,.9686,0],[1,.9725,0],[1,.9765,0],[1,.9804,0],[1,.9843,0],[1,.9882,0],[1,.9922,0],[1,.9961,0],[1,1,0]]},binary:{interpolate:!0,colors:[[1,1,1],[.9961,.9961,.9961],[.9922,.9922,.9922],[.9882,.9882,.9882],[.9843,.9843,.9843],[.9804,.9804,.9804],[.9765,.9765,.9765],[.9725,.9725,.9725],[.9686,.9686,.9686],[.9647,.9647,.9647],[.9608,.9608,.9608],[.9569,.9569,.9569],[.9529,.9529,.9529],[.949,.949,.949],[.9451,.9451,.9451],[.9412,.9412,.9412],[.9373,.9373,.9373],[.9333,.9333,.9333],[.9294,.9294,.9294],[.9255,.9255,.9255],[.9216,.9216,.9216],[.9176,.9176,.9176],[.9137,.9137,.9137],[.9098,.9098,.9098],[.9059,.9059,.9059],[.902,.902,.902],[.898,.898,.898],[.8941,.8941,.8941],[.8902,.8902,.8902],[.8863,.8863,.8863],[.8824,.8824,.8824],[.8784,.8784,.8784],[.8745,.8745,.8745],[.8706,.8706,.8706],[.8667,.8667,.8667],[.8627,.8627,.8627],[.8588,.8588,.8588],[.8549,.8549,.8549],[.851,.851,.851],[.8471,.8471,.8471],[.8431,.8431,.8431],[.8392,.8392,.8392],[.8353,.8353,.8353],[.8314,.8314,.8314],[.8275,.8275,.8275],[.8235,.8235,.8235],[.8196,.8196,.8196],[.8157,.8157,.8157],[.8118,.8118,.8118],[.8078,.8078,.8078],[.8039,.8039,.8039],[.8,.8,.8],[.7961,.7961,.7961],[.7922,.7922,.7922],[.7882,.7882,.7882],[.7843,.7843,.7843],[.7804,.7804,.7804],[.7765,.7765,.7765],[.7725,.7725,.7725],[.7686,.7686,.7686],[.7647,.7647,.7647],[.7608,.7608,.7608],[.7569,.7569,.7569],[.7529,.7529,.7529],[.749,.749,.749],[.7451,.7451,.7451],[.7412,.7412,.7412],[.7373,.7373,.7373],[.7333,.7333,.7333],[.7294,.7294,.7294],[.7255,.7255,.7255],[.7216,.7216,.7216],[.7176,.7176,.7176],[.7137,.7137,.7137],[.7098,.7098,.7098],[.7059,.7059,.7059],[.702,.702,.702],[.698,.698,.698],[.6941,.6941,.6941],[.6902,.6902,.6902],[.6863,.6863,.6863],[.6824,.6824,.6824],[.6784,.6784,.6784],[.6745,.6745,.6745],[.6706,.6706,.6706],[.6667,.6667,.6667],[.6627,.6627,.6627],[.6588,.6588,.6588],[.6549,.6549,.6549],[.651,.651,.651],[.6471,.6471,.6471],[.6431,.6431,.6431],[.6392,.6392,.6392],[.6353,.6353,.6353],[.6314,.6314,.6314],[.6275,.6275,.6275],[.6235,.6235,.6235],[.6196,.6196,.6196],[.6157,.6157,.6157],[.6118,.6118,.6118],[.6078,.6078,.6078],[.6039,.6039,.6039],[.6,.6,.6],[.5961,.5961,.5961],[.5922,.5922,.5922],[.5882,.5882,.5882],[.5843,.5843,.5843],[.5804,.5804,.5804],[.5765,.5765,.5765],[.5725,.5725,.5725],[.5686,.5686,.5686],[.5647,.5647,.5647],[.5608,.5608,.5608],[.5569,.5569,.5569],[.5529,.5529,.5529],[.549,.549,.549],[.5451,.5451,.5451],[.5412,.5412,.5412],[.5373,.5373,.5373],[.5333,.5333,.5333],[.5294,.5294,.5294],[.5255,.5255,.5255],[.5216,.5216,.5216],[.5176,.5176,.5176],[.5137,.5137,.5137],[.5098,.5098,.5098],[.5059,.5059,.5059],[.502,.502,.502],[.498,.498,.498],[.4941,.4941,.4941],[.4902,.4902,.4902],[.4863,.4863,.4863],[.4824,.4824,.4824],[.4784,.4784,.4784],[.4745,.4745,.4745],[.4706,.4706,.4706],[.4667,.4667,.4667],[.4627,.4627,.4627],[.4588,.4588,.4588],[.4549,.4549,.4549],[.451,.451,.451],[.4471,.4471,.4471],[.4431,.4431,.4431],[.4392,.4392,.4392],[.4353,.4353,.4353],[.4314,.4314,.4314],[.4275,.4275,.4275],[.4235,.4235,.4235],[.4196,.4196,.4196],[.4157,.4157,.4157],[.4118,.4118,.4118],[.4078,.4078,.4078],[.4039,.4039,.4039],[.4,.4,.4],[.3961,.3961,.3961],[.3922,.3922,.3922],[.3882,.3882,.3882],[.3843,.3843,.3843],[.3804,.3804,.3804],[.3765,.3765,.3765],[.3725,.3725,.3725],[.3686,.3686,.3686],[.3647,.3647,.3647],[.3608,.3608,.3608],[.3569,.3569,.3569],[.3529,.3529,.3529],[.349,.349,.349],[.3451,.3451,.3451],[.3412,.3412,.3412],[.3373,.3373,.3373],[.3333,.3333,.3333],[.3294,.3294,.3294],[.3255,.3255,.3255],[.3216,.3216,.3216],[.3176,.3176,.3176],[.3137,.3137,.3137],[.3098,.3098,.3098],[.3059,.3059,.3059],[.302,.302,.302],[.298,.298,.298],[.2941,.2941,.2941],[.2902,.2902,.2902],[.2863,.2863,.2863],[.2824,.2824,.2824],[.2784,.2784,.2784],[.2745,.2745,.2745],[.2706,.2706,.2706],[.2667,.2667,.2667],[.2627,.2627,.2627],[.2588,.2588,.2588],[.2549,.2549,.2549],[.251,.251,.251],[.2471,.2471,.2471],[.2431,.2431,.2431],[.2392,.2392,.2392],[.2353,.2353,.2353],[.2314,.2314,.2314],[.2275,.2275,.2275],[.2235,.2235,.2235],[.2196,.2196,.2196],[.2157,.2157,.2157],[.2118,.2118,.2118],[.2078,.2078,.2078],[.2039,.2039,.2039],[.2,.2,.2],[.1961,.1961,.1961],[.1922,.1922,.1922],[.1882,.1882,.1882],[.1843,.1843,.1843],[.1804,.1804,.1804],[.1765,.1765,.1765],[.1725,.1725,.1725],[.1686,.1686,.1686],[.1647,.1647,.1647],[.1608,.1608,.1608],[.1569,.1569,.1569],[.1529,.1529,.1529],[.149,.149,.149],[.1451,.1451,.1451],[.1412,.1412,.1412],[.1373,.1373,.1373],[.1333,.1333,.1333],[.1294,.1294,.1294],[.1255,.1255,.1255],[.1216,.1216,.1216],[.1176,.1176,.1176],[.1137,.1137,.1137],[.1098,.1098,.1098],[.1059,.1059,.1059],[.102,.102,.102],[.098,.098,.098],[.0941,.0941,.0941],[.0902,.0902,.0902],[.0863,.0863,.0863],[.0824,.0824,.0824],[.0784,.0784,.0784],[.0745,.0745,.0745],[.0706,.0706,.0706],[.0667,.0667,.0667],[.0627,.0627,.0627],[.0588,.0588,.0588],[.0549,.0549,.0549],[.051,.051,.051],[.0471,.0471,.0471],[.0431,.0431,.0431],[.0392,.0392,.0392],[.0353,.0353,.0353],[.0314,.0314,.0314],[.0275,.0275,.0275],[.0235,.0235,.0235],[.0196,.0196,.0196],[.0157,.0157,.0157],[.0118,.0118,.0118],[.0078,.0078,.0078],[.0039,.0039,.0039],[0,0,0]]},bone:{interpolate:!0,colors:[[0,0,0],[.0034,.0034,.0048],[.0069,.0069,.0095],[.0103,.0103,.0143],[.0137,.0137,.0191],[.0172,.0172,.0239],[.0206,.0206,.0286],[.024,.024,.0334],[.0275,.0275,.0382],[.0309,.0309,.043],[.0343,.0343,.0477],[.0377,.0377,.0525],[.0412,.0412,.0573],[.0446,.0446,.0621],[.048,.048,.0668],[.0515,.0515,.0716],[.0549,.0549,.0764],[.0583,.0583,.0812],[.0618,.0618,.0859],[.0652,.0652,.0907],[.0686,.0686,.0955],[.0721,.0721,.1003],[.0755,.0755,.105],[.0789,.0789,.1098],[.0824,.0824,.1146],[.0858,.0858,.1194],[.0892,.0892,.1241],[.0926,.0926,.1289],[.0961,.0961,.1337],[.0995,.0995,.1384],[.1029,.1029,.1432],[.1064,.1064,.148],[.1098,.1098,.1528],[.1132,.1132,.1575],[.1167,.1167,.1623],[.1201,.1201,.1671],[.1235,.1235,.1719],[.127,.127,.1766],[.1304,.1304,.1814],[.1338,.1338,.1862],[.1373,.1373,.191],[.1407,.1407,.1957],[.1441,.1441,.2005],[.1475,.1475,.2053],[.151,.151,.2101],[.1544,.1544,.2148],[.1578,.1578,.2196],[.1613,.1613,.2244],[.1647,.1647,.2292],[.1681,.1681,.2339],[.1716,.1716,.2387],[.175,.175,.2435],[.1784,.1784,.2483],[.1819,.1819,.253],[.1853,.1853,.2578],[.1887,.1887,.2626],[.1922,.1922,.2673],[.1956,.1956,.2721],[.199,.199,.2769],[.2025,.2025,.2817],[.2059,.2059,.2864],[.2093,.2093,.2912],[.2127,.2127,.296],[.2162,.2162,.3008],[.2196,.2196,.3055],[.223,.223,.3103],[.2265,.2265,.3151],[.2299,.2299,.3199],[.2333,.2333,.3246],[.2368,.2368,.3294],[.2402,.2402,.3342],[.2436,.2436,.339],[.2471,.2471,.3437],[.2505,.2505,.3485],[.2539,.2539,.3533],[.2574,.2574,.3581],[.2608,.2608,.3628],[.2642,.2642,.3676],[.2676,.2676,.3724],[.2711,.2711,.3772],[.2745,.2745,.3819],[.2779,.2779,.3867],[.2814,.2814,.3915],[.2848,.2848,.3962],[.2882,.2882,.401],[.2917,.2917,.4058],[.2951,.2951,.4106],[.2985,.2985,.4153],[.302,.302,.4201],[.3054,.3054,.4249],[.3088,.3088,.4297],[.3123,.3123,.4344],[.3157,.3157,.4392],[.3191,.3191,.444],[.3225,.3237,.4475],[.326,.3284,.451],[.3294,.3331,.4544],[.3328,.3379,.4578],[.3363,.3426,.4613],[.3397,.3473,.4647],[.3431,.352,.4681],[.3466,.3567,.4716],[.35,.3615,.475],[.3534,.3662,.4784],[.3569,.3709,.4819],[.3603,.3756,.4853],[.3637,.3803,.4887],[.3672,.385,.4922],[.3706,.3898,.4956],[.374,.3945,.499],[.3775,.3992,.5025],[.3809,.4039,.5059],[.3843,.4086,.5093],[.3877,.4134,.5127],[.3912,.4181,.5162],[.3946,.4228,.5196],[.398,.4275,.523],[.4015,.4322,.5265],[.4049,.4369,.5299],[.4083,.4417,.5333],[.4118,.4464,.5368],[.4152,.4511,.5402],[.4186,.4558,.5436],[.4221,.4605,.5471],[.4255,.4653,.5505],[.4289,.47,.5539],[.4324,.4747,.5574],[.4358,.4794,.5608],[.4392,.4841,.5642],[.4426,.4888,.5676],[.4461,.4936,.5711],[.4495,.4983,.5745],[.4529,.503,.5779],[.4564,.5077,.5814],[.4598,.5124,.5848],[.4632,.5172,.5882],[.4667,.5219,.5917],[.4701,.5266,.5951],[.4735,.5313,.5985],[.477,.536,.602],[.4804,.5407,.6054],[.4838,.5455,.6088],[.4873,.5502,.6123],[.4907,.5549,.6157],[.4941,.5596,.6191],[.4975,.5643,.6225],[.501,.5691,.626],[.5044,.5738,.6294],[.5078,.5785,.6328],[.5113,.5832,.6363],[.5147,.5879,.6397],[.5181,.5926,.6431],[.5216,.5974,.6466],[.525,.6021,.65],[.5284,.6068,.6534],[.5319,.6115,.6569],[.5353,.6162,.6603],[.5387,.621,.6637],[.5422,.6257,.6672],[.5456,.6304,.6706],[.549,.6351,.674],[.5525,.6398,.6775],[.5559,.6445,.6809],[.5593,.6493,.6843],[.5627,.654,.6877],[.5662,.6587,.6912],[.5696,.6634,.6946],[.573,.6681,.698],[.5765,.6729,.7015],[.5799,.6776,.7049],[.5833,.6823,.7083],[.5868,.687,.7118],[.5902,.6917,.7152],[.5936,.6964,.7186],[.5971,.7012,.7221],[.6005,.7059,.7255],[.6039,.7106,.7289],[.6074,.7153,.7324],[.6108,.72,.7358],[.6142,.7248,.7392],[.6176,.7295,.7426],[.6211,.7342,.7461],[.6245,.7389,.7495],[.6279,.7436,.7529],[.6314,.7483,.7564],[.6348,.7531,.7598],[.6382,.7578,.7632],[.6417,.7625,.7667],[.6451,.7672,.7701],[.6485,.7719,.7735],[.652,.7767,.777],[.6569,.7804,.7804],[.6622,.7838,.7838],[.6676,.7873,.7873],[.6729,.7907,.7907],[.6783,.7941,.7941],[.6837,.7975,.7975],[.689,.801,.801],[.6944,.8044,.8044],[.6998,.8078,.8078],[.7051,.8113,.8113],[.7105,.8147,.8147],[.7158,.8181,.8181],[.7212,.8216,.8216],[.7266,.825,.825],[.7319,.8284,.8284],[.7373,.8319,.8319],[.7426,.8353,.8353],[.748,.8387,.8387],[.7534,.8422,.8422],[.7587,.8456,.8456],[.7641,.849,.849],[.7695,.8525,.8525],[.7748,.8559,.8559],[.7802,.8593,.8593],[.7855,.8627,.8627],[.7909,.8662,.8662],[.7963,.8696,.8696],[.8016,.873,.873],[.807,.8765,.8765],[.8123,.8799,.8799],[.8177,.8833,.8833],[.8231,.8868,.8868],[.8284,.8902,.8902],[.8338,.8936,.8936],[.8392,.8971,.8971],[.8445,.9005,.9005],[.8499,.9039,.9039],[.8552,.9074,.9074],[.8606,.9108,.9108],[.866,.9142,.9142],[.8713,.9176,.9176],[.8767,.9211,.9211],[.882,.9245,.9245],[.8874,.9279,.9279],[.8928,.9314,.9314],[.8981,.9348,.9348],[.9035,.9382,.9382],[.9089,.9417,.9417],[.9142,.9451,.9451],[.9196,.9485,.9485],[.9249,.952,.952],[.9303,.9554,.9554],[.9357,.9588,.9588],[.941,.9623,.9623],[.9464,.9657,.9657],[.9517,.9691,.9691],[.9571,.9725,.9725],[.9625,.976,.976],[.9678,.9794,.9794],[.9732,.9828,.9828],[.9786,.9863,.9863],[.9839,.9897,.9897],[.9893,.9931,.9931],[.9946,.9966,.9966],[1,1,1]]},brg:{interpolate:!0,colors:[[0,0,1],[.0078,0,.9922],[.0157,0,.9843],[.0235,0,.9765],[.0314,0,.9686],[.0392,0,.9608],[.0471,0,.9529],[.0549,0,.9451],[.0627,0,.9373],[.0706,0,.9294],[.0784,0,.9216],[.0863,0,.9137],[.0941,0,.9059],[.102,0,.898],[.1098,0,.8902],[.1176,0,.8824],[.1255,0,.8745],[.1333,0,.8667],[.1412,0,.8588],[.149,0,.851],[.1569,0,.8431],[.1647,0,.8353],[.1725,0,.8275],[.1804,0,.8196],[.1882,0,.8118],[.1961,0,.8039],[.2039,0,.7961],[.2118,0,.7882],[.2196,0,.7804],[.2275,0,.7725],[.2353,0,.7647],[.2431,0,.7569],[.251,0,.749],[.2588,0,.7412],[.2667,0,.7333],[.2745,0,.7255],[.2824,0,.7176],[.2902,0,.7098],[.298,0,.702],[.3059,0,.6941],[.3137,0,.6863],[.3216,0,.6784],[.3294,0,.6706],[.3373,0,.6627],[.3451,0,.6549],[.3529,0,.6471],[.3608,0,.6392],[.3686,0,.6314],[.3765,0,.6235],[.3843,0,.6157],[.3922,0,.6078],[.4,0,.6],[.4078,0,.5922],[.4157,0,.5843],[.4235,0,.5765],[.4314,0,.5686],[.4392,0,.5608],[.4471,0,.5529],[.4549,0,.5451],[.4627,0,.5373],[.4706,0,.5294],[.4784,0,.5216],[.4863,0,.5137],[.4941,0,.5059],[.502,0,.498],[.5098,0,.4902],[.5176,0,.4824],[.5255,0,.4745],[.5333,0,.4667],[.5412,0,.4588],[.549,0,.451],[.5569,0,.4431],[.5647,0,.4353],[.5725,0,.4275],[.5804,0,.4196],[.5882,0,.4118],[.5961,0,.4039],[.6039,0,.3961],[.6118,0,.3882],[.6196,0,.3804],[.6275,0,.3725],[.6353,0,.3647],[.6431,0,.3569],[.651,0,.349],[.6588,0,.3412],[.6667,0,.3333],[.6745,0,.3255],[.6824,0,.3176],[.6902,0,.3098],[.698,0,.302],[.7059,0,.2941],[.7137,0,.2863],[.7216,0,.2784],[.7294,0,.2706],[.7373,0,.2627],[.7451,0,.2549],[.7529,0,.2471],[.7608,0,.2392],[.7686,0,.2314],[.7765,0,.2235],[.7843,0,.2157],[.7922,0,.2078],[.8,0,.2],[.8078,0,.1922],[.8157,0,.1843],[.8235,0,.1765],[.8314,0,.1686],[.8392,0,.1608],[.8471,0,.1529],[.8549,0,.1451],[.8627,0,.1373],[.8706,0,.1294],[.8784,0,.1216],[.8863,0,.1137],[.8941,0,.1059],[.902,0,.098],[.9098,0,.0902],[.9176,0,.0824],[.9255,0,.0745],[.9333,0,.0667],[.9412,0,.0588],[.949,0,.051],[.9569,0,.0431],[.9647,0,.0353],[.9725,0,.0275],[.9804,0,.0196],[.9882,0,.0118],[.9961,0,.0039],[.9961,.0039,0],[.9882,.0118,0],[.9804,.0196,0],[.9725,.0275,0],[.9647,.0353,0],[.9569,.0431,0],[.949,.051,0],[.9412,.0588,0],[.9333,.0667,0],[.9255,.0745,0],[.9176,.0824,0],[.9098,.0902,0],[.902,.098,0],[.8941,.1059,0],[.8863,.1137,0],[.8784,.1216,0],[.8706,.1294,0],[.8627,.1373,0],[.8549,.1451,0],[.8471,.1529,0],[.8392,.1608,0],[.8314,.1686,0],[.8235,.1765,0],[.8157,.1843,0],[.8078,.1922,0],[.8,.2,0],[.7922,.2078,0],[.7843,.2157,0],[.7765,.2235,0],[.7686,.2314,0],[.7608,.2392,0],[.7529,.2471,0],[.7451,.2549,0],[.7373,.2627,0],[.7294,.2706,0],[.7216,.2784,0],[.7137,.2863,0],[.7059,.2941,0],[.698,.302,0],[.6902,.3098,0],[.6824,.3176,0],[.6745,.3255,0],[.6667,.3333,0],[.6588,.3412,0],[.651,.349,0],[.6431,.3569,0],[.6353,.3647,0],[.6275,.3725,0],[.6196,.3804,0],[.6118,.3882,0],[.6039,.3961,0],[.5961,.4039,0],[.5882,.4118,0],[.5804,.4196,0],[.5725,.4275,0],[.5647,.4353,0],[.5569,.4431,0],[.549,.451,0],[.5412,.4588,0],[.5333,.4667,0],[.5255,.4745,0],[.5176,.4824,0],[.5098,.4902,0],[.502,.498,0],[.4941,.5059,0],[.4863,.5137,0],[.4784,.5216,0],[.4706,.5294,0],[.4627,.5373,0],[.4549,.5451,0],[.4471,.5529,0],[.4392,.5608,0],[.4314,.5686,0],[.4235,.5765,0],[.4157,.5843,0],[.4078,.5922,0],[.4,.6,0],[.3922,.6078,0],[.3843,.6157,0],[.3765,.6235,0],[.3686,.6314,0],[.3608,.6392,0],[.3529,.6471,0],[.3451,.6549,0],[.3373,.6627,0],[.3294,.6706,0],[.3216,.6784,0],[.3137,.6863,0],[.3059,.6941,0],[.298,.702,0],[.2902,.7098,0],[.2824,.7176,0],[.2745,.7255,0],[.2667,.7333,0],[.2588,.7412,0],[.251,.749,0],[.2431,.7569,0],[.2353,.7647,0],[.2275,.7725,0],[.2196,.7804,0],[.2118,.7882,0],[.2039,.7961,0],[.1961,.8039,0],[.1882,.8118,0],[.1804,.8196,0],[.1725,.8275,0],[.1647,.8353,0],[.1569,.8431,0],[.149,.851,0],[.1412,.8588,0],[.1333,.8667,0],[.1255,.8745,0],[.1176,.8824,0],[.1098,.8902,0],[.102,.898,0],[.0941,.9059,0],[.0863,.9137,0],[.0784,.9216,0],[.0706,.9294,0],[.0627,.9373,0],[.0549,.9451,0],[.0471,.9529,0],[.0392,.9608,0],[.0314,.9686,0],[.0235,.9765,0],[.0157,.9843,0],[.0078,.9922,0],[0,1,0]]},bwr:{interpolate:!0,colors:[[0,0,1],[.0078,.0078,1],[.0157,.0157,1],[.0235,.0235,1],[.0314,.0314,1],[.0392,.0392,1],[.0471,.0471,1],[.0549,.0549,1],[.0627,.0627,1],[.0706,.0706,1],[.0784,.0784,1],[.0863,.0863,1],[.0941,.0941,1],[.102,.102,1],[.1098,.1098,1],[.1176,.1176,1],[.1255,.1255,1],[.1333,.1333,1],[.1412,.1412,1],[.149,.149,1],[.1569,.1569,1],[.1647,.1647,1],[.1725,.1725,1],[.1804,.1804,1],[.1882,.1882,1],[.1961,.1961,1],[.2039,.2039,1],[.2118,.2118,1],[.2196,.2196,1],[.2275,.2275,1],[.2353,.2353,1],[.2431,.2431,1],[.251,.251,1],[.2588,.2588,1],[.2667,.2667,1],[.2745,.2745,1],[.2824,.2824,1],[.2902,.2902,1],[.298,.298,1],[.3059,.3059,1],[.3137,.3137,1],[.3216,.3216,1],[.3294,.3294,1],[.3373,.3373,1],[.3451,.3451,1],[.3529,.3529,1],[.3608,.3608,1],[.3686,.3686,1],[.3765,.3765,1],[.3843,.3843,1],[.3922,.3922,1],[.4,.4,1],[.4078,.4078,1],[.4157,.4157,1],[.4235,.4235,1],[.4314,.4314,1],[.4392,.4392,1],[.4471,.4471,1],[.4549,.4549,1],[.4627,.4627,1],[.4706,.4706,1],[.4784,.4784,1],[.4863,.4863,1],[.4941,.4941,1],[.502,.502,1],[.5098,.5098,1],[.5176,.5176,1],[.5255,.5255,1],[.5333,.5333,1],[.5412,.5412,1],[.549,.549,1],[.5569,.5569,1],[.5647,.5647,1],[.5725,.5725,1],[.5804,.5804,1],[.5882,.5882,1],[.5961,.5961,1],[.6039,.6039,1],[.6118,.6118,1],[.6196,.6196,1],[.6275,.6275,1],[.6353,.6353,1],[.6431,.6431,1],[.651,.651,1],[.6588,.6588,1],[.6667,.6667,1],[.6745,.6745,1],[.6824,.6824,1],[.6902,.6902,1],[.698,.698,1],[.7059,.7059,1],[.7137,.7137,1],[.7216,.7216,1],[.7294,.7294,1],[.7373,.7373,1],[.7451,.7451,1],[.7529,.7529,1],[.7608,.7608,1],[.7686,.7686,1],[.7765,.7765,1],[.7843,.7843,1],[.7922,.7922,1],[.8,.8,1],[.8078,.8078,1],[.8157,.8157,1],[.8235,.8235,1],[.8314,.8314,1],[.8392,.8392,1],[.8471,.8471,1],[.8549,.8549,1],[.8627,.8627,1],[.8706,.8706,1],[.8784,.8784,1],[.8863,.8863,1],[.8941,.8941,1],[.902,.902,1],[.9098,.9098,1],[.9176,.9176,1],[.9255,.9255,1],[.9333,.9333,1],[.9412,.9412,1],[.949,.949,1],[.9569,.9569,1],[.9647,.9647,1],[.9725,.9725,1],[.9804,.9804,1],[.9882,.9882,1],[.9961,.9961,1],[1,.9961,.9961],[1,.9882,.9882],[1,.9804,.9804],[1,.9725,.9725],[1,.9647,.9647],[1,.9569,.9569],[1,.949,.949],[1,.9412,.9412],[1,.9333,.9333],[1,.9255,.9255],[1,.9176,.9176],[1,.9098,.9098],[1,.902,.902],[1,.8941,.8941],[1,.8863,.8863],[1,.8784,.8784],[1,.8706,.8706],[1,.8627,.8627],[1,.8549,.8549],[1,.8471,.8471],[1,.8392,.8392],[1,.8314,.8314],[1,.8235,.8235],[1,.8157,.8157],[1,.8078,.8078],[1,.8,.8],[1,.7922,.7922],[1,.7843,.7843],[1,.7765,.7765],[1,.7686,.7686],[1,.7608,.7608],[1,.7529,.7529],[1,.7451,.7451],[1,.7373,.7373],[1,.7294,.7294],[1,.7216,.7216],[1,.7137,.7137],[1,.7059,.7059],[1,.698,.698],[1,.6902,.6902],[1,.6824,.6824],[1,.6745,.6745],[1,.6667,.6667],[1,.6588,.6588],[1,.651,.651],[1,.6431,.6431],[1,.6353,.6353],[1,.6275,.6275],[1,.6196,.6196],[1,.6118,.6118],[1,.6039,.6039],[1,.5961,.5961],[1,.5882,.5882],[1,.5804,.5804],[1,.5725,.5725],[1,.5647,.5647],[1,.5569,.5569],[1,.549,.549],[1,.5412,.5412],[1,.5333,.5333],[1,.5255,.5255],[1,.5176,.5176],[1,.5098,.5098],[1,.502,.502],[1,.4941,.4941],[1,.4863,.4863],[1,.4784,.4784],[1,.4706,.4706],[1,.4627,.4627],[1,.4549,.4549],[1,.4471,.4471],[1,.4392,.4392],[1,.4314,.4314],[1,.4235,.4235],[1,.4157,.4157],[1,.4078,.4078],[1,.4,.4],[1,.3922,.3922],[1,.3843,.3843],[1,.3765,.3765],[1,.3686,.3686],[1,.3608,.3608],[1,.3529,.3529],[1,.3451,.3451],[1,.3373,.3373],[1,.3294,.3294],[1,.3216,.3216],[1,.3137,.3137],[1,.3059,.3059],[1,.298,.298],[1,.2902,.2902],[1,.2824,.2824],[1,.2745,.2745],[1,.2667,.2667],[1,.2588,.2588],[1,.251,.251],[1,.2431,.2431],[1,.2353,.2353],[1,.2275,.2275],[1,.2196,.2196],[1,.2118,.2118],[1,.2039,.2039],[1,.1961,.1961],[1,.1882,.1882],[1,.1804,.1804],[1,.1725,.1725],[1,.1647,.1647],[1,.1569,.1569],[1,.149,.149],[1,.1412,.1412],[1,.1333,.1333],[1,.1255,.1255],[1,.1176,.1176],[1,.1098,.1098],[1,.102,.102],[1,.0941,.0941],[1,.0863,.0863],[1,.0784,.0784],[1,.0706,.0706],[1,.0627,.0627],[1,.0549,.0549],[1,.0471,.0471],[1,.0392,.0392],[1,.0314,.0314],[1,.0235,.0235],[1,.0157,.0157],[1,.0078,.0078],[1,0,0]]},cividis:{interpolate:!0,colors:[[0,.1351,.3048],[0,.1381,.3111],[0,.141,.3176],[0,.144,.324],[0,.1469,.3305],[0,.1498,.3371],[0,.1527,.3437],[0,.1554,.3505],[0,.1579,.3575],[0,.1605,.3645],[0,.1631,.3716],[0,.1656,.3788],[0,.1682,.3859],[0,.1708,.3931],[0,.1734,.4004],[0,.1761,.4076],[0,.1788,.4148],[0,.1816,.4219],[0,.1846,.4288],[0,.1869,.4355],[0,.1888,.4396],[0,.191,.4411],[0,.1934,.4416],[.0036,.1959,.4416],[.0179,.1985,.4412],[.0321,.2012,.4408],[.0462,.2039,.4402],[.0584,.2066,.4395],[.069,.2094,.4389],[.0786,.2121,.4381],[.0875,.2149,.4373],[.0956,.2176,.4366],[.1034,.2204,.4358],[.1107,.2232,.4351],[.1176,.2259,.4343],[.1243,.2287,.4335],[.1307,.2315,.4328],[.1368,.2342,.4321],[.1429,.237,.4314],[.1486,.2397,.4308],[.1543,.2425,.4301],[.1597,.2452,.4295],[.1651,.248,.4289],[.1704,.2507,.4283],[.1755,.2534,.4278],[.1805,.2562,.4273],[.1855,.2589,.4268],[.1903,.2616,.4263],[.1951,.2644,.4259],[.1998,.2671,.4255],[.2044,.2698,.4251],[.2089,.2725,.4248],[.2134,.2753,.4245],[.2179,.278,.4242],[.2223,.2807,.4239],[.2266,.2834,.4237],[.2309,.2861,.4235],[.2351,.2888,.4233],[.2393,.2916,.4232],[.2435,.2943,.423],[.2476,.297,.4229],[.2517,.2997,.4229],[.2557,.3024,.4228],[.2597,.3051,.4228],[.2637,.3078,.4228],[.2677,.3105,.4228],[.2716,.3133,.4228],[.2755,.316,.423],[.2794,.3187,.423],[.2832,.3214,.4232],[.2871,.3241,.4234],[.2909,.3268,.4235],[.2947,.3295,.4237],[.2984,.3322,.424],[.3022,.335,.4242],[.3059,.3377,.4245],[.3096,.3404,.4248],[.3133,.3431,.4251],[.3169,.3458,.4255],[.3206,.3486,.4259],[.3242,.3513,.4262],[.3279,.354,.4267],[.3315,.3567,.4271],[.3351,.3595,.4276],[.3387,.3622,.4281],[.3422,.3649,.4286],[.3458,.3677,.4291],[.3493,.3704,.4297],[.3529,.3732,.4302],[.3564,.3759,.4308],[.3599,.3786,.4315],[.3634,.3814,.4321],[.3669,.3841,.4328],[.3704,.3869,.4334],[.3739,.3896,.4342],[.3774,.3924,.4349],[.3808,.3952,.4357],[.3843,.3979,.4365],[.3877,.4007,.4373],[.3912,.4035,.4381],[.3946,.4062,.439],[.398,.409,.4398],[.4014,.4118,.4407],[.4048,.4146,.4416],[.4082,.4174,.4426],[.4116,.4201,.4436],[.415,.4229,.4446],[.4184,.4257,.4456],[.4217,.4285,.4466],[.4251,.4313,.4477],[.4285,.4341,.4489],[.4318,.437,.45],[.4352,.4398,.4511],[.4385,.4426,.4523],[.4418,.4454,.4537],[.4451,.4482,.4549],[.4484,.4511,.4563],[.4518,.4539,.4576],[.4551,.4567,.459],[.4584,.4596,.4605],[.4616,.4624,.462],[.4649,.4652,.4634],[.4683,.4681,.4649],[.4715,.471,.4664],[.4748,.4738,.4677],[.4782,.4767,.4688],[.4816,.4796,.4698],[.4851,.4825,.4704],[.4887,.4853,.471],[.4923,.4882,.4715],[.4959,.4911,.4718],[.4996,.494,.472],[.5032,.4969,.4723],[.5069,.4997,.4724],[.5105,.5026,.4726],[.5142,.5055,.4726],[.5179,.5085,.4727],[.5216,.5114,.4726],[.5253,.5143,.4727],[.5291,.5172,.4725],[.5328,.5201,.4724],[.5366,.5231,.4724],[.5403,.526,.4722],[.5441,.5289,.4719],[.5478,.5319,.4717],[.5516,.5348,.4714],[.5554,.5378,.4711],[.5592,.5408,.4708],[.563,.5437,.4705],[.5668,.5467,.47],[.5706,.5497,.4696],[.5744,.5527,.4692],[.5782,.5557,.4687],[.5821,.5587,.4681],[.5859,.5617,.4676],[.5898,.5647,.4671],[.5936,.5677,.4664],[.5975,.5707,.4658],[.6014,.5737,.4651],[.6052,.5768,.4644],[.6091,.5798,.4636],[.613,.5829,.463],[.6169,.5859,.4622],[.6208,.589,.4614],[.6247,.592,.4606],[.6286,.5951,.4596],[.6325,.5982,.4587],[.6364,.6013,.4578],[.6404,.6044,.4568],[.6443,.6074,.4559],[.6482,.6106,.4548],[.6522,.6137,.4537],[.6561,.6168,.4527],[.6601,.6199,.4515],[.6641,.623,.4503],[.668,.6262,.4493],[.672,.6293,.448],[.676,.6325,.4467],[.68,.6356,.4454],[.6839,.6388,.4443],[.688,.642,.4429],[.692,.6451,.4415],[.696,.6483,.4401],[.7,.6515,.4386],[.704,.6547,.4371],[.7081,.6579,.4356],[.7121,.6612,.4341],[.7162,.6644,.4324],[.7202,.6676,.4308],[.7243,.6709,.4292],[.7283,.6741,.4276],[.7324,.6774,.4257],[.7365,.6806,.424],[.7406,.6839,.4221],[.7447,.6872,.4204],[.7488,.6905,.4184],[.7529,.6938,.4165],[.757,.6971,.4147],[.7611,.7004,.4126],[.7652,.7037,.4106],[.7694,.707,.4085],[.7735,.7104,.4064],[.7777,.7137,.4041],[.7818,.7171,.402],[.786,.7204,.3996],[.7901,.7238,.3974],[.7943,.7272,.395],[.7985,.7306,.3926],[.8027,.734,.3902],[.8069,.7374,.3877],[.8111,.7408,.3852],[.8153,.7442,.3825],[.8195,.7477,.3798],[.8237,.7511,.377],[.828,.7546,.3743],[.8322,.758,.3715],[.8364,.7615,.3687],[.8407,.765,.3657],[.845,.7684,.3627],[.8492,.7719,.3597],[.8535,.7755,.3565],[.8578,.779,.3533],[.8621,.7825,.35],[.8664,.786,.3466],[.8707,.7896,.3433],[.8751,.7931,.3397],[.8794,.7967,.3362],[.8837,.8003,.3326],[.8881,.8038,.3288],[.8924,.8074,.325],[.8968,.811,.321],[.9012,.8146,.317],[.9056,.8183,.3129],[.91,.8219,.3086],[.9144,.8255,.3043],[.9188,.8292,.3],[.9233,.8328,.2952],[.9277,.8365,.2906],[.9322,.8402,.2859],[.9367,.8438,.2809],[.9411,.8475,.2758],[.9457,.8512,.2705],[.9502,.8549,.2651],[.9547,.8586,.2594],[.9593,.8624,.2536],[.9639,.8661,.2474],[.9685,.8698,.2413],[.9731,.8736,.2347],[.9778,.8773,.228],[.9825,.881,.2209],[.9873,.8847,.2133],[.9922,.8884,.2055],[.9948,.893,.2034],[.9952,.8984,.2076],[.9955,.9039,.2124],[.9957,.9093,.2178]]},cool:{interpolate:!0,colors:[[0,1,1],[.0039,.9961,1],[.0078,.9922,1],[.0118,.9882,1],[.0157,.9843,1],[.0196,.9804,1],[.0235,.9765,1],[.0275,.9725,1],[.0314,.9686,1],[.0353,.9647,1],[.0392,.9608,1],[.0431,.9569,1],[.0471,.9529,1],[.051,.949,1],[.0549,.9451,1],[.0588,.9412,1],[.0627,.9373,1],[.0667,.9333,1],[.0706,.9294,1],[.0745,.9255,1],[.0784,.9216,1],[.0824,.9176,1],[.0863,.9137,1],[.0902,.9098,1],[.0941,.9059,1],[.098,.902,1],[.102,.898,1],[.1059,.8941,1],[.1098,.8902,1],[.1137,.8863,1],[.1176,.8824,1],[.1216,.8784,1],[.1255,.8745,1],[.1294,.8706,1],[.1333,.8667,1],[.1373,.8627,1],[.1412,.8588,1],[.1451,.8549,1],[.149,.851,1],[.1529,.8471,1],[.1569,.8431,1],[.1608,.8392,1],[.1647,.8353,1],[.1686,.8314,1],[.1725,.8275,1],[.1765,.8235,1],[.1804,.8196,1],[.1843,.8157,1],[.1882,.8118,1],[.1922,.8078,1],[.1961,.8039,1],[.2,.8,1],[.2039,.7961,1],[.2078,.7922,1],[.2118,.7882,1],[.2157,.7843,1],[.2196,.7804,1],[.2235,.7765,1],[.2275,.7725,1],[.2314,.7686,1],[.2353,.7647,1],[.2392,.7608,1],[.2431,.7569,1],[.2471,.7529,1],[.251,.749,1],[.2549,.7451,1],[.2588,.7412,1],[.2627,.7373,1],[.2667,.7333,1],[.2706,.7294,1],[.2745,.7255,1],[.2784,.7216,1],[.2824,.7176,1],[.2863,.7137,1],[.2902,.7098,1],[.2941,.7059,1],[.298,.702,1],[.302,.698,1],[.3059,.6941,1],[.3098,.6902,1],[.3137,.6863,1],[.3176,.6824,1],[.3216,.6784,1],[.3255,.6745,1],[.3294,.6706,1],[.3333,.6667,1],[.3373,.6627,1],[.3412,.6588,1],[.3451,.6549,1],[.349,.651,1],[.3529,.6471,1],[.3569,.6431,1],[.3608,.6392,1],[.3647,.6353,1],[.3686,.6314,1],[.3725,.6275,1],[.3765,.6235,1],[.3804,.6196,1],[.3843,.6157,1],[.3882,.6118,1],[.3922,.6078,1],[.3961,.6039,1],[.4,.6,1],[.4039,.5961,1],[.4078,.5922,1],[.4118,.5882,1],[.4157,.5843,1],[.4196,.5804,1],[.4235,.5765,1],[.4275,.5725,1],[.4314,.5686,1],[.4353,.5647,1],[.4392,.5608,1],[.4431,.5569,1],[.4471,.5529,1],[.451,.549,1],[.4549,.5451,1],[.4588,.5412,1],[.4627,.5373,1],[.4667,.5333,1],[.4706,.5294,1],[.4745,.5255,1],[.4784,.5216,1],[.4824,.5176,1],[.4863,.5137,1],[.4902,.5098,1],[.4941,.5059,1],[.498,.502,1],[.502,.498,1],[.5059,.4941,1],[.5098,.4902,1],[.5137,.4863,1],[.5176,.4824,1],[.5216,.4784,1],[.5255,.4745,1],[.5294,.4706,1],[.5333,.4667,1],[.5373,.4627,1],[.5412,.4588,1],[.5451,.4549,1],[.549,.451,1],[.5529,.4471,1],[.5569,.4431,1],[.5608,.4392,1],[.5647,.4353,1],[.5686,.4314,1],[.5725,.4275,1],[.5765,.4235,1],[.5804,.4196,1],[.5843,.4157,1],[.5882,.4118,1],[.5922,.4078,1],[.5961,.4039,1],[.6,.4,1],[.6039,.3961,1],[.6078,.3922,1],[.6118,.3882,1],[.6157,.3843,1],[.6196,.3804,1],[.6235,.3765,1],[.6275,.3725,1],[.6314,.3686,1],[.6353,.3647,1],[.6392,.3608,1],[.6431,.3569,1],[.6471,.3529,1],[.651,.349,1],[.6549,.3451,1],[.6588,.3412,1],[.6627,.3373,1],[.6667,.3333,1],[.6706,.3294,1],[.6745,.3255,1],[.6784,.3216,1],[.6824,.3176,1],[.6863,.3137,1],[.6902,.3098,1],[.6941,.3059,1],[.698,.302,1],[.702,.298,1],[.7059,.2941,1],[.7098,.2902,1],[.7137,.2863,1],[.7176,.2824,1],[.7216,.2784,1],[.7255,.2745,1],[.7294,.2706,1],[.7333,.2667,1],[.7373,.2627,1],[.7412,.2588,1],[.7451,.2549,1],[.749,.251,1],[.7529,.2471,1],[.7569,.2431,1],[.7608,.2392,1],[.7647,.2353,1],[.7686,.2314,1],[.7725,.2275,1],[.7765,.2235,1],[.7804,.2196,1],[.7843,.2157,1],[.7882,.2118,1],[.7922,.2078,1],[.7961,.2039,1],[.8,.2,1],[.8039,.1961,1],[.8078,.1922,1],[.8118,.1882,1],[.8157,.1843,1],[.8196,.1804,1],[.8235,.1765,1],[.8275,.1725,1],[.8314,.1686,1],[.8353,.1647,1],[.8392,.1608,1],[.8431,.1569,1],[.8471,.1529,1],[.851,.149,1],[.8549,.1451,1],[.8588,.1412,1],[.8627,.1373,1],[.8667,.1333,1],[.8706,.1294,1],[.8745,.1255,1],[.8784,.1216,1],[.8824,.1176,1],[.8863,.1137,1],[.8902,.1098,1],[.8941,.1059,1],[.898,.102,1],[.902,.098,1],[.9059,.0941,1],[.9098,.0902,1],[.9137,.0863,1],[.9176,.0824,1],[.9216,.0784,1],[.9255,.0745,1],[.9294,.0706,1],[.9333,.0667,1],[.9373,.0627,1],[.9412,.0588,1],[.9451,.0549,1],[.949,.051,1],[.9529,.0471,1],[.9569,.0431,1],[.9608,.0392,1],[.9647,.0353,1],[.9686,.0314,1],[.9725,.0275,1],[.9765,.0235,1],[.9804,.0196,1],[.9843,.0157,1],[.9882,.0118,1],[.9922,.0078,1],[.9961,.0039,1],[1,0,1]]},coolwarm:{interpolate:!0,colors:[[.2298,.2987,.7537],[.2344,.3055,.7597],[.2389,.3124,.7657],[.2435,.3192,.7717],[.2481,.326,.7777],[.2527,.3328,.7837],[.2572,.3397,.7897],[.2618,.3465,.7957],[.2664,.3533,.8016],[.2711,.36,.8071],[.2758,.3667,.8126],[.2805,.3734,.818],[.2853,.3801,.8235],[.29,.3868,.8289],[.2947,.3935,.8344],[.2994,.4002,.8398],[.3042,.4069,.8453],[.3091,.4135,.8501],[.3139,.4201,.855],[.3188,.4266,.8599],[.3237,.4332,.8647],[.3286,.4397,.8696],[.3335,.4463,.8745],[.3384,.4528,.8793],[.3433,.4594,.8841],[.3483,.4657,.8883],[.3534,.4721,.8926],[.3584,.4784,.8968],[.3635,.4848,.901],[.3685,.4911,.9052],[.3736,.4975,.9095],[.3786,.5039,.9137],[.3837,.5102,.9178],[.3889,.5163,.9214],[.394,.5224,.9249],[.3992,.5285,.9285],[.4044,.5346,.932],[.4096,.5408,.9355],[.4148,.5469,.9391],[.42,.553,.9426],[.4252,.5591,.9461],[.4305,.5649,.9489],[.4358,.5707,.9517],[.4411,.5765,.9545],[.4464,.5824,.9574],[.4517,.5882,.9602],[.457,.594,.963],[.4624,.5998,.9659],[.4677,.6056,.9685],[.4731,.6111,.9706],[.4785,.6166,.9727],[.4839,.622,.9748],[.4892,.6275,.9769],[.4946,.633,.979],[.5,.6385,.9811],[.5054,.644,.9832],[.5108,.6494,.9851],[.5163,.6545,.9864],[.5217,.6596,.9877],[.5271,.6647,.9891],[.5326,.6698,.9904],[.538,.6749,.9917],[.5434,.68,.9931],[.5489,.6851,.9944],[.5543,.6901,.9955],[.5597,.6948,.9961],[.5652,.6994,.9966],[.5706,.7041,.9972],[.5761,.7088,.9978],[.5815,.7135,.9983],[.5869,.7181,.9989],[.5924,.7228,.9994],[.5978,.7273,.9998],[.6032,.7315,.9996],[.6085,.7357,.9994],[.6139,.7399,.9991],[.6193,.7441,.9989],[.6247,.7483,.9987],[.6301,.7525,.9985],[.6355,.7567,.9983],[.6408,.7608,.9978],[.6461,.7644,.9969],[.6514,.7681,.9959],[.6567,.7718,.9949],[.662,.7755,.9939],[.6673,.7792,.993],[.6725,.7829,.992],[.6778,.7865,.991],[.6831,.79,.9898],[.6882,.7932,.988],[.6933,.7963,.9863],[.6985,.7994,.9846],[.7036,.8026,.9828],[.7087,.8057,.9811],[.7139,.8089,.9794],[.719,.812,.9777],[.724,.8149,.9757],[.729,.8175,.9732],[.7339,.82,.9707],[.7388,.8226,.9683],[.7438,.8251,.9658],[.7487,.8277,.9633],[.7536,.8302,.9609],[.7585,.8328,.9584],[.7634,.8351,.9557],[.768,.837,.9525],[.7727,.839,.9493],[.7774,.8409,.9461],[.782,.8429,.943],[.7867,.8448,.9398],[.7914,.8468,.9366],[.7961,.8487,.9335],[.8006,.8504,.93],[.805,.8517,.9262],[.8093,.853,.9223],[.8137,.8543,.9185],[.8181,.8556,.9146],[.8224,.8569,.9108],[.8268,.8582,.907],[.8311,.8595,.9031],[.8353,.8605,.899],[.8394,.8612,.8945],[.8434,.8618,.89],[.8474,.8625,.8855],[.8514,.8631,.8811],[.8554,.8638,.8766],[.8594,.8644,.8721],[.8634,.8651,.8676],[.8674,.8644,.8626],[.8715,.8623,.857],[.8756,.8602,.8514],[.8796,.8582,.8458],[.8837,.8561,.8403],[.8878,.854,.8347],[.8918,.852,.8291],[.8959,.8499,.8235],[.8995,.8475,.8178],[.9028,.8448,.812],[.9062,.8421,.8062],[.9095,.8394,.8003],[.9128,.8367,.7945],[.9161,.834,.7887],[.9194,.8313,.7829],[.9227,.8286,.7771],[.9256,.8255,.7711],[.9281,.8222,.7651],[.9307,.8189,.7591],[.9332,.8156,.7532],[.9358,.8122,.7472],[.9383,.8089,.7412],[.9409,.8056,.7352],[.9434,.8023,.7292],[.9455,.7986,.7231],[.9473,.7947,.717],[.9492,.7908,.7109],[.951,.7869,.7048],[.9528,.783,.6986],[.9546,.7791,.6925],[.9564,.7751,.6864],[.9582,.7712,.6803],[.9595,.767,.6741],[.9606,.7625,.668],[.9616,.758,.6618],[.9627,.7536,.6556],[.9638,.7491,.6494],[.9648,.7446,.6432],[.9659,.7401,.6371],[.967,.7357,.6309],[.9675,.7308,.6247],[.9679,.7258,.6185],[.9682,.7208,.6123],[.9685,.7158,.6061],[.9689,.7108,.5999],[.9692,.7058,.5937],[.9695,.7008,.5875],[.9699,.6958,.5813],[.9697,.6905,.5751],[.9693,.685,.569],[.9689,.6795,.5628],[.9685,.674,.5566],[.9681,.6685,.5505],[.9677,.663,.5443],[.9673,.6575,.5382],[.9669,.652,.532],[.966,.6461,.5259],[.9649,.6402,.5198],[.9638,.6342,.5137],[.9627,.6282,.5076],[.9616,.6222,.5016],[.9605,.6163,.4955],[.9594,.6103,.4894],[.9583,.6043,.4833],[.9567,.598,.4773],[.9549,.5916,.4713],[.9531,.5852,.4654],[.9513,.5788,.4594],[.9495,.5724,.4534],[.9477,.566,.4475],[.9459,.5596,.4415],[.9441,.5532,.4355],[.9417,.5464,.4297],[.9393,.5396,.4239],[.9368,.5327,.4181],[.9343,.5259,.4123],[.9318,.5191,.4065],[.9294,.5123,.4007],[.9269,.5054,.3949],[.9244,.4986,.3891],[.9214,.4914,.3834],[.9183,.4842,.3778],[.9152,.4769,.3722],[.912,.4697,.3666],[.9089,.4624,.361],[.9058,.4552,.3553],[.9027,.4479,.3497],[.8995,.4407,.3441],[.8959,.4331,.3387],[.8921,.4254,.3333],[.8884,.4177,.3279],[.8846,.41,.3225],[.8809,.4023,.3171],[.8771,.3946,.3117],[.8734,.387,.3063],[.8697,.3793,.3009],[.8654,.3711,.2958],[.8611,.3629,.2906],[.8567,.3547,.2855],[.8524,.3465,.2803],[.848,.3383,.2752],[.8437,.3301,.2701],[.8394,.3219,.2649],[.835,.3136,.2598],[.8302,.3047,.2549],[.8253,.2957,.25],[.8204,.2868,.2452],[.8155,.2778,.2403],[.8106,.2688,.2354],[.8057,.2598,.2306],[.8008,.2508,.2257],[.7959,.2418,.2208],[.7906,.2314,.2162],[.7852,.2209,.2117],[.7797,.2103,.2071],[.7743,.1998,.2025],[.7689,.1892,.198],[.7635,.1787,.1934],[.7581,.1681,.1888],[.7527,.1576,.1843],[.7468,.14,.18],[.741,.1222,.1757],[.7351,.1045,.1715],[.7292,.0867,.1672],[.7233,.0689,.163],[.7174,.0511,.1587],[.7116,.0333,.1545],[.7057,.0156,.1502]]},copper:{interpolate:!0,colors:[[0,0,0],[.0048,.0031,.002],[.0097,.0061,.0039],[.0145,.0092,.0059],[.0194,.0123,.0078],[.0242,.0153,.0098],[.0291,.0184,.0117],[.0339,.0214,.0137],[.0388,.0245,.0156],[.0436,.0276,.0176],[.0484,.0306,.0195],[.0533,.0337,.0215],[.0581,.0368,.0234],[.063,.0398,.0254],[.0678,.0429,.0273],[.0727,.046,.0293],[.0775,.049,.0312],[.0824,.0521,.0332],[.0872,.0551,.0351],[.092,.0582,.0371],[.0969,.0613,.039],[.1017,.0643,.041],[.1066,.0674,.0429],[.1114,.0705,.0449],[.1163,.0735,.0468],[.1211,.0766,.0488],[.126,.0797,.0507],[.1308,.0827,.0527],[.1356,.0858,.0546],[.1405,.0888,.0566],[.1453,.0919,.0585],[.1502,.095,.0605],[.155,.098,.0624],[.1599,.1011,.0644],[.1647,.1042,.0663],[.1696,.1072,.0683],[.1744,.1103,.0702],[.1792,.1134,.0722],[.1841,.1164,.0741],[.1889,.1195,.0761],[.1938,.1225,.078],[.1986,.1256,.08],[.2035,.1287,.0819],[.2083,.1317,.0839],[.2131,.1348,.0858],[.218,.1379,.0878],[.2228,.1409,.0897],[.2277,.144,.0917],[.2325,.147,.0936],[.2374,.1501,.0956],[.2422,.1532,.0975],[.2471,.1562,.0995],[.2519,.1593,.1015],[.2567,.1624,.1034],[.2616,.1654,.1054],[.2664,.1685,.1073],[.2713,.1716,.1093],[.2761,.1746,.1112],[.281,.1777,.1132],[.2858,.1807,.1151],[.2907,.1838,.1171],[.2955,.1869,.119],[.3003,.1899,.121],[.3052,.193,.1229],[.31,.1961,.1249],[.3149,.1991,.1268],[.3197,.2022,.1288],[.3246,.2053,.1307],[.3294,.2083,.1327],[.3343,.2114,.1346],[.3391,.2144,.1366],[.3439,.2175,.1385],[.3488,.2206,.1405],[.3536,.2236,.1424],[.3585,.2267,.1444],[.3633,.2298,.1463],[.3682,.2328,.1483],[.373,.2359,.1502],[.3779,.239,.1522],[.3827,.242,.1541],[.3875,.2451,.1561],[.3924,.2481,.158],[.3972,.2512,.16],[.4021,.2543,.1619],[.4069,.2573,.1639],[.4118,.2604,.1658],[.4166,.2635,.1678],[.4215,.2665,.1697],[.4263,.2696,.1717],[.4311,.2727,.1736],[.436,.2757,.1756],[.4408,.2788,.1775],[.4457,.2818,.1795],[.4505,.2849,.1814],[.4554,.288,.1834],[.4602,.291,.1853],[.4651,.2941,.1873],[.4699,.2972,.1892],[.4747,.3002,.1912],[.4796,.3033,.1931],[.4844,.3064,.1951],[.4893,.3094,.197],[.4941,.3125,.199],[.499,.3155,.201],[.5038,.3186,.2029],[.5087,.3217,.2049],[.5135,.3247,.2068],[.5183,.3278,.2088],[.5232,.3309,.2107],[.528,.3339,.2127],[.5329,.337,.2146],[.5377,.3401,.2166],[.5426,.3431,.2185],[.5474,.3462,.2205],[.5522,.3492,.2224],[.5571,.3523,.2244],[.5619,.3554,.2263],[.5668,.3584,.2283],[.5716,.3615,.2302],[.5765,.3646,.2322],[.5813,.3676,.2341],[.5862,.3707,.2361],[.591,.3738,.238],[.5958,.3768,.24],[.6007,.3799,.2419],[.6055,.3829,.2439],[.6104,.386,.2458],[.6152,.3891,.2478],[.6201,.3921,.2497],[.6249,.3952,.2517],[.6298,.3983,.2536],[.6346,.4013,.2556],[.6394,.4044,.2575],[.6443,.4074,.2595],[.6491,.4105,.2614],[.654,.4136,.2634],[.6588,.4166,.2653],[.6637,.4197,.2673],[.6685,.4228,.2692],[.6734,.4258,.2712],[.6782,.4289,.2731],[.683,.432,.2751],[.6879,.435,.277],[.6927,.4381,.279],[.6976,.4411,.2809],[.7024,.4442,.2829],[.7073,.4473,.2848],[.7121,.4503,.2868],[.717,.4534,.2887],[.7218,.4565,.2907],[.7266,.4595,.2926],[.7315,.4626,.2946],[.7363,.4657,.2965],[.7412,.4687,.2985],[.746,.4718,.3005],[.7509,.4748,.3024],[.7557,.4779,.3044],[.7606,.481,.3063],[.7654,.484,.3083],[.7702,.4871,.3102],[.7751,.4902,.3122],[.7799,.4932,.3141],[.7848,.4963,.3161],[.7896,.4994,.318],[.7945,.5024,.32],[.7993,.5055,.3219],[.8042,.5085,.3239],[.809,.5116,.3258],[.8138,.5147,.3278],[.8187,.5177,.3297],[.8235,.5208,.3317],[.8284,.5239,.3336],[.8332,.5269,.3356],[.8381,.53,.3375],[.8429,.5331,.3395],[.8478,.5361,.3414],[.8526,.5392,.3434],[.8574,.5422,.3453],[.8623,.5453,.3473],[.8671,.5484,.3492],[.872,.5514,.3512],[.8768,.5545,.3531],[.8817,.5576,.3551],[.8865,.5606,.357],[.8913,.5637,.359],[.8962,.5668,.3609],[.901,.5698,.3629],[.9059,.5729,.3648],[.9107,.5759,.3668],[.9156,.579,.3687],[.9204,.5821,.3707],[.9253,.5851,.3726],[.9301,.5882,.3746],[.9349,.5913,.3765],[.9398,.5943,.3785],[.9446,.5974,.3804],[.9495,.6005,.3824],[.9543,.6035,.3843],[.9592,.6066,.3863],[.964,.6096,.3882],[.9689,.6127,.3902],[.9737,.6158,.3921],[.9785,.6188,.3941],[.9834,.6219,.396],[.9882,.625,.398],[.9931,.628,.4],[.9979,.6311,.4019],[1,.6342,.4039],[1,.6372,.4058],[1,.6403,.4078],[1,.6433,.4097],[1,.6464,.4117],[1,.6495,.4136],[1,.6525,.4156],[1,.6556,.4175],[1,.6587,.4195],[1,.6617,.4214],[1,.6648,.4234],[1,.6678,.4253],[1,.6709,.4273],[1,.674,.4292],[1,.677,.4312],[1,.6801,.4331],[1,.6832,.4351],[1,.6862,.437],[1,.6893,.439],[1,.6924,.4409],[1,.6954,.4429],[1,.6985,.4448],[1,.7015,.4468],[1,.7046,.4487],[1,.7077,.4507],[1,.7107,.4526],[1,.7138,.4546],[1,.7169,.4565],[1,.7199,.4585],[1,.723,.4604],[1,.7261,.4624],[1,.7291,.4643],[1,.7322,.4663],[1,.7352,.4682],[1,.7383,.4702],[1,.7414,.4721],[1,.7444,.4741],[1,.7475,.476],[1,.7506,.478],[1,.7536,.4799],[1,.7567,.4819],[1,.7598,.4838],[1,.7628,.4858],[1,.7659,.4877],[1,.7689,.4897],[1,.772,.4916],[1,.7751,.4936],[1,.7781,.4955],[1,.7812,.4975]]},cubehelix:{interpolate:!0,colors:[[0,0,0],[.0067,.0021,.006],[.0133,.0043,.0122],[.0196,.0065,.0186],[.0257,.0088,.0252],[.0317,.0112,.0319],[.0374,.0136,.0389],[.0429,.0161,.046],[.0482,.0187,.0533],[.0533,.0214,.0607],[.0581,.0242,.0682],[.0627,.0271,.0758],[.067,.0301,.0835],[.0711,.0332,.0912],[.0749,.0365,.0991],[.0785,.0398,.1069],[.0819,.0433,.1148],[.085,.0469,.1227],[.0879,.0506,.1306],[.0905,.0545,.1385],[.0928,.0584,.1464],[.095,.0625,.1542],[.0969,.0668,.1619],[.0985,.0712,.1696],[.1,.0757,.1771],[.1012,.0803,.1846],[.1022,.0851,.192],[.103,.09,.1992],[.1036,.095,.2062],[.104,.1001,.2131],[.1043,.1054,.2199],[.1043,.1108,.2264],[.1042,.1163,.2328],[.1039,.122,.2389],[.1035,.1277,.2448],[.103,.1336,.2505],[.1023,.1395,.256],[.1015,.1456,.2612],[.1007,.1518,.2662],[.0997,.158,.2709],[.0987,.1644,.2754],[.0976,.1708,.2796],[.0964,.1773,.2835],[.0952,.1839,.2871],[.094,.1905,.2904],[.0928,.1972,.2935],[.0916,.2039,.2962],[.0904,.2107,.2987],[.0892,.2176,.3009],[.0881,.2244,.3027],[.0871,.2313,.3043],[.0861,.2382,.3056],[.0851,.2452,.3066],[.0843,.2521,.3073],[.0836,.259,.3077],[.083,.2659,.3079],[.0826,.2728,.3077],[.0823,.2797,.3073],[.0821,.2866,.3066],[.0822,.2934,.3057],[.0824,.3001,.3045],[.0828,.3069,.303],[.0834,.3135,.3014],[.0842,.3201,.2994],[.0852,.3266,.2973],[.0865,.3331,.295],[.088,.3394,.2924],[.0898,.3457,.2897],[.0918,.3518,.2868],[.0941,.3579,.2838],[.0966,.3638,.2806],[.0994,.3697,.2772],[.1025,.3754,.2737],[.1059,.381,.2702],[.1096,.3864,.2665],[.1136,.3918,.2627],[.1179,.3969,.2589],[.1225,.402,.255],[.1274,.4069,.2511],[.1325,.4116,.2471],[.138,.4162,.2431],[.1438,.4207,.2392],[.1499,.4249,.2352],[.1563,.4291,.2313],[.163,.433,.2275],[.17,.4368,.2237],[.1773,.4404,.22],[.1849,.4439,.2164],[.1928,.4472,.2129],[.201,.4503,.2096],[.2094,.4533,.2064],[.2181,.4561,.2033],[.2271,.4587,.2004],[.2363,.4611,.1977],[.2457,.4634,.1952],[.2555,.4656,.1929],[.2654,.4676,.1908],[.2755,.4694,.189],[.2859,.4711,.1874],[.2965,.4726,.1861],[.3072,.474,.185],[.3182,.4752,.1842],[.3293,.4763,.1837],[.3405,.4772,.1835],[.3519,.4781,.1836],[.3635,.4788,.1841],[.3751,.4794,.1848],[.3869,.4798,.1859],[.3987,.4802,.1873],[.4106,.4804,.1891],[.4226,.4806,.1912],[.4346,.4807,.1937],[.4467,.4807,.1965],[.4588,.4806,.1997],[.4709,.4804,.2033],[.4829,.4802,.2072],[.495,.4799,.2115],[.507,.4796,.2161],[.519,.4792,.2211],[.5309,.4788,.2265],[.5427,.4784,.2322],[.5544,.4779,.2383],[.5661,.4774,.2448],[.5776,.477,.2516],[.5889,.4765,.2587],[.6002,.476,.2662],[.6112,.4756,.2741],[.6221,.4752,.2822],[.6328,.4748,.2907],[.6434,.4745,.2995],[.6537,.4742,.3086],[.6638,.4739,.318],[.6736,.4738,.3277],[.6832,.4737,.3376],[.6926,.4736,.3478],[.7017,.4737,.3583],[.7106,.4738,.369],[.7192,.4741,.38],[.7274,.4744,.3912],[.7355,.4749,.4025],[.7432,.4755,.4141],[.7506,.4761,.4258],[.7577,.477,.4378],[.7645,.4779,.4498],[.7709,.479,.462],[.7771,.4802,.4743],[.7829,.4816,.4867],[.7884,.4831,.4992],[.7936,.4848,.5118],[.7985,.4866,.5244],[.803,.4886,.5371],[.8072,.4907,.5498],[.8111,.493,.5625],[.8146,.4955,.5753],[.8179,.4981,.5879],[.8208,.5009,.6006],[.8234,.5039,.6132],[.8256,.5071,.6257],[.8276,.5104,.6382],[.8293,.5139,.6506],[.8307,.5175,.6628],[.8318,.5213,.6749],[.8326,.5253,.6869],[.8331,.5295,.6988],[.8334,.5338,.7104],[.8334,.5383,.7219],[.8332,.543,.7332],[.8327,.5478,.7443],[.832,.5528,.7552],[.8311,.5579,.7659],[.83,.5632,.7763],[.8286,.5686,.7864],[.8271,.5742,.7964],[.8254,.5799,.806],[.8236,.5857,.8154],[.8216,.5917,.8245],[.8195,.5978,.8333],[.8172,.604,.8418],[.8149,.6103,.85],[.8124,.6167,.8579],[.8099,.6233,.8654],[.8073,.6299,.8727],[.8046,.6366,.8797],[.8019,.6434,.8863],[.7992,.6502,.8926],[.7964,.6571,.8986],[.7937,.6641,.9042],[.791,.6712,.9096],[.7883,.6783,.9146],[.7856,.6854,.9193],[.783,.6926,.9236],[.7804,.6997,.9277],[.778,.7069,.9314],[.7756,.7142,.9349],[.7733,.7214,.938],[.7711,.7286,.9409],[.7691,.7358,.9434],[.7672,.743,.9457],[.7655,.7501,.9477],[.7639,.7573,.9494],[.7625,.7644,.9509],[.7613,.7714,.9521],[.7602,.7784,.9531],[.7594,.7853,.9538],[.7587,.7922,.9544],[.7583,.799,.9547],[.7581,.8057,.9549],[.7581,.8124,.9548],[.7584,.8189,.9546],[.7588,.8254,.9543],[.7596,.8318,.9538],[.7606,.838,.9531],[.7618,.8442,.9524],[.7633,.8502,.9516],[.765,.8562,.9506],[.767,.862,.9496],[.7693,.8677,.9486],[.7718,.8733,.9475],[.7745,.8787,.9463],[.7776,.884,.9452],[.7808,.8892,.9441],[.7844,.8943,.9429],[.7882,.8992,.9419],[.7922,.904,.9408],[.7965,.9087,.9398],[.801,.9132,.9389],[.8057,.9176,.9381],[.8107,.9218,.9374],[.8158,.926,.9368],[.8212,.93,.9363],[.8268,.9338,.936],[.8326,.9376,.9358],[.8386,.9412,.9358],[.8447,.9447,.9359],[.851,.9481,.9363],[.8575,.9513,.9368],[.8641,.9545,.9376],[.8708,.9575,.9386],[.8777,.9604,.9397],[.8847,.9633,.9412],[.8917,.966,.9429],[.8989,.9687,.9448],[.9061,.9712,.947],[.9134,.9737,.9494],[.9207,.9761,.9521],[.928,.9785,.9551],[.9354,.9808,.9583],[.9428,.983,.9619],[.9501,.9852,.9657],[.9574,.9874,.9697],[.9647,.9895,.9741],[.9719,.9917,.9787],[.9791,.9937,.9836],[.9862,.9958,.9888],[.9931,.9979,.9943],[1,1,1]]},flag:{interpolate:!0,colors:[[1,0,0],[1,.3784,.2098],[1,.7005,.4931],[1,.9185,.7774],[1,.9998,1],[.8029,.9325,1],[.5208,.7264,1],[.2355,.4124,1],[0,.037,1],[0,0,.8156],[0,0,.5346],[0,0,.2486],[0,0,0],[.1719,0,0],[.4515,0,0],[.7383,0,0],[.9897,0,0],[1,.309,.1595],[1,.6459,.4377],[1,.8868,.7252],[1,.9957,.9791],[.8528,.9566,1],[.5761,.7752,1],[.2881,.4785,1],[.0316,.1107,1],[0,0,.865],[0,0,.5899],[0,0,.3014],[0,0,.0425],[.123,0,0],[.3964,0,0],[.6852,0,0],[.9464,0,0],[1,.2379,.1111],[1,.5878,.3827],[1,.8502,.6717],[1,.9862,.9352],[.9007,.9755,1],[.631,.8197,1],[.3418,.5421,1],[.0761,.1837,1],[0,0,.9123],[0,0,.6446],[0,0,.3554],[0,0,.0877],[.0761,0,0],[.3418,0,0],[.631,0,0],[.9007,0,0],[1,.1656,.0648],[1,.5264,.3283],[1,.809,.6173],[1,.9713,.8889],[.9464,.9891,1],[.6852,.8598,1],[.3964,.6026,1],[.123,.2558,1],[0,0,.9575],[0,0,.6986],[0,0,.4101],[0,0,.135],[.0316,0,0],[.2881,0,0],[.5761,0,0],[.8528,0,0],[1,.0923,.0209],[1,.4622,.2748],[1,.7634,.5623],[1,.9511,.8405],[.9897,.9973,1],[.7383,.8952,1],[.4515,.6599,1],[.1719,.3265,1],[0,0,1],[0,0,.7514],[0,0,.4654],[0,0,.1844],[0,0,0],[.2355,0,0],[.5208,0,0],[.8029,0,0],[1,.0185,0],[1,.3955,.2226],[1,.7136,.5069],[1,.9256,.7902],[1,1,1],[.7902,.9256,1],[.5069,.7136,1],[.2226,.3955,1],[0,.0185,1],[0,0,.8029],[0,0,.5208],[0,0,.2355],[0,0,0],[.1844,0,0],[.4654,0,0],[.7514,0,0],[1,0,0],[1,.3265,.1719],[1,.6599,.4515],[1,.8952,.7383],[1,.9973,.9897],[.8405,.9511,1],[.5623,.7634,1],[.2748,.4622,1],[.0209,.0923,1],[0,0,.8528],[0,0,.5761],[0,0,.2881],[0,0,.0316],[.135,0,0],[.4101,0,0],[.6986,0,0],[.9575,0,0],[1,.2558,.123],[1,.6026,.3964],[1,.8598,.6852],[1,.9891,.9464],[.8889,.9713,1],[.6173,.809,1],[.3283,.5264,1],[.0648,.1656,1],[0,0,.9007],[0,0,.631],[0,0,.3418],[0,0,.0761],[.0877,0,0],[.3554,0,0],[.6446,0,0],[.9123,0,0],[1,.1837,.0761],[1,.5421,.3418],[1,.8197,.631],[1,.9755,.9007],[.9352,.9862,1],[.6717,.8502,1],[.3827,.5878,1],[.1111,.2379,1],[0,0,.9464],[0,0,.6852],[0,0,.3964],[0,0,.123],[.0425,0,0],[.3014,0,0],[.5899,0,0],[.865,0,0],[1,.1107,.0316],[1,.4785,.2881],[1,.7752,.5761],[1,.9566,.8528],[.9791,.9957,1],[.7252,.8868,1],[.4377,.6459,1],[.1595,.309,1],[0,0,.9897],[0,0,.7383],[0,0,.4515],[0,0,.1719],[0,0,0],[.2486,0,0],[.5346,0,0],[.8156,0,0],[1,.037,0],[1,.4124,.2355],[1,.7264,.5208],[1,.9325,.8029],[1,.9998,1],[.7774,.9185,1],[.4931,.7005,1],[.2098,.3784,1],[0,0,1],[0,0,.7902],[0,0,.5069],[0,0,.2226],[0,0,0],[.1971,0,0],[.4792,0,0],[.7645,0,0],[1,0,0],[1,.3439,.1844],[1,.6737,.4654],[1,.9032,.7514],[1,.9985,1],[.8281,.9452,1],[.5485,.7513,1],[.2617,.4457,1],[.0103,.0739,1],[0,0,.8405],[0,0,.5623],[0,0,.2748],[0,0,.0209],[.1472,0,0],[.4239,0,0],[.7119,0,0],[.9684,0,0],[1,.2737,.135],[1,.6173,.4101],[1,.8691,.6986],[1,.9916,.9575],[.877,.9667,1],[.6036,.798,1],[.3148,.5106,1],[.0536,.1473,1],[0,0,.8889],[0,0,.6173],[0,0,.3283],[0,0,.0648],[.0993,0,0],[.369,0,0],[.6582,0,0],[.9239,0,0],[1,.2019,.0877],[1,.5575,.3554],[1,.8302,.6446],[1,.9794,.9123],[.9239,.983,1],[.6582,.8403,1],[.369,.5727,1],[.0993,.2199,1],[0,0,.9352],[0,0,.6717],[0,0,.3827],[0,0,.1111],[.0536,0,0],[.3148,0,0],[.6036,0,0],[.877,0,0],[1,.129,.0425],[1,.4947,.3014],[1,.7867,.5899],[1,.9618,.865],[.9684,.9939,1],[.7119,.8781,1],[.4239,.6317,1],[.1472,.2914,1],[0,0,.9791],[0,0,.7252],[0,0,.4377],[0,0,.1595],[.0103,0,0],[.2617,0,0],[.5485,0,0],[.8281,0,0],[1,.0554,0],[1,.4291,.2486],[1,.739,.5346],[1,.939,.8156],[1,.9993,1],[.7645,.911,1],[.4792,.6872,1],[.1971,.3612,1],[0,0,1],[0,0,.7774],[0,0,.4931],[0,0,.2098],[0,0,0]]},gist_earth:{interpolate:!0,colors:[[0,0,0],[.0026,0,.1687],[.0052,0,.2217],[.0078,0,.2638],[.0105,0,.3059],[.0131,0,.3481],[.0157,0,.3902],[.0183,0,.4324],[.0209,.0089,.4547],[.0235,.0179,.4556],[.0261,.0269,.4563],[.0287,.036,.457],[.0314,.045,.4577],[.034,.054,.4584],[.0366,.063,.4592],[.0392,.072,.4599],[.0418,.0811,.4606],[.0444,.0901,.4613],[.047,.0991,.462],[.0497,.1081,.4627],[.0523,.1171,.4634],[.0549,.1262,.4641],[.0575,.1352,.4648],[.0601,.1442,.4656],[.0627,.1532,.4663],[.0653,.1622,.467],[.0679,.1713,.4677],[.0706,.1803,.4684],[.0732,.1893,.4691],[.0758,.1975,.4698],[.0784,.2056,.4705],[.081,.2138,.4712],[.0836,.2219,.472],[.0862,.2301,.4727],[.0889,.2383,.4734],[.0915,.2464,.4741],[.0941,.2546,.4748],[.0967,.2627,.4755],[.0993,.2709,.4762],[.1019,.279,.4769],[.1045,.2872,.4776],[.1072,.2954,.4784],[.1098,.3035,.4791],[.1124,.3108,.4798],[.115,.3182,.4805],[.1176,.3255,.4812],[.1202,.3328,.4819],[.1228,.3402,.4826],[.1254,.3475,.4833],[.1281,.3548,.484],[.1307,.3622,.4848],[.1333,.3695,.4855],[.1359,.3768,.4862],[.1385,.3842,.4869],[.1411,.3904,.4876],[.1437,.3966,.4883],[.1464,.4028,.489],[.149,.409,.4897],[.1516,.4152,.4904],[.1542,.4214,.4912],[.1568,.4276,.4919],[.1594,.4338,.4926],[.162,.4399,.4933],[.1646,.4461,.494],[.1673,.4523,.4947],[.1699,.4585,.4954],[.1725,.4647,.4961],[.1751,.4709,.4968],[.1777,.4771,.4975],[.1803,.4833,.4983],[.1829,.4895,.499],[.1856,.4957,.4997],[.1882,.5019,.5004],[.19,.5042,.4957],[.1919,.5065,.4909],[.1937,.5087,.4861],[.1956,.511,.4813],[.1974,.5133,.4765],[.1993,.5155,.4717],[.2011,.5178,.4669],[.203,.52,.4621],[.2048,.5223,.4573],[.2067,.5245,.4525],[.2085,.5268,.4477],[.2104,.5291,.4429],[.2122,.5313,.4381],[.2141,.5336,.4333],[.2159,.5358,.4285],[.2178,.5381,.4237],[.2196,.5404,.4189],[.2215,.5426,.4141],[.2233,.5449,.4093],[.2252,.5471,.4045],[.227,.5494,.3997],[.2289,.5516,.3948],[.2307,.5539,.39],[.2326,.5562,.3852],[.2344,.5584,.3804],[.2363,.5607,.3756],[.2381,.5629,.3708],[.24,.5652,.366],[.2418,.5674,.3612],[.2437,.5697,.3564],[.2455,.572,.3516],[.2474,.5742,.3468],[.2492,.5765,.342],[.2511,.5787,.3372],[.2529,.581,.3324],[.2548,.5832,.3276],[.2566,.5855,.3228],[.2585,.5878,.318],[.2603,.59,.3132],[.2622,.5923,.3084],[.264,.5945,.3036],[.2659,.5968,.2988],[.2677,.599,.294],[.2696,.6013,.2892],[.2715,.6036,.2844],[.2802,.6058,.2796],[.2889,.6081,.2748],[.2976,.6103,.2771],[.3063,.6126,.2794],[.315,.6148,.2816],[.3238,.6171,.2839],[.3325,.6194,.2862],[.3412,.6216,.2885],[.3499,.6239,.2908],[.3586,.6261,.2931],[.3673,.6284,.2954],[.3761,.6307,.2976],[.3848,.6329,.2999],[.3935,.6352,.3022],[.4022,.6374,.3045],[.4109,.6397,.3068],[.4196,.6414,.3091],[.4284,.6431,.3114],[.4371,.6448,.3136],[.4458,.6466,.3159],[.4545,.6483,.3182],[.4632,.65,.3205],[.4719,.6517,.3217],[.4784,.6535,.323],[.4849,.6552,.3242],[.4913,.6569,.3255],[.4978,.6586,.3267],[.5043,.6603,.3279],[.5107,.6621,.3292],[.5172,.6638,.3304],[.5237,.6655,.3317],[.5301,.6672,.3329],[.5366,.6689,.3341],[.5431,.6707,.3354],[.5495,.6724,.3366],[.556,.6741,.3379],[.5625,.6758,.3391],[.5689,.6775,.3403],[.5754,.6793,.3416],[.5819,.681,.3428],[.5883,.6827,.344],[.5948,.6844,.3453],[.6013,.6861,.3465],[.6077,.6879,.3478],[.6142,.6896,.349],[.6207,.6913,.3502],[.6271,.693,.3515],[.6336,.6947,.3527],[.6401,.6965,.354],[.6465,.6982,.3552],[.653,.6999,.3564],[.6595,.7016,.3577],[.6659,.7034,.3589],[.6724,.7051,.3602],[.6789,.7068,.3614],[.6853,.7085,.3626],[.6918,.7102,.3639],[.6983,.712,.3651],[.7047,.7137,.3664],[.7112,.7154,.3676],[.7176,.7171,.3688],[.7193,.7137,.3701],[.7209,.7103,.3713],[.7225,.7069,.3726],[.7242,.7035,.3738],[.7258,.7001,.375],[.7275,.6967,.3763],[.7291,.6934,.3775],[.7307,.69,.3788],[.7324,.6866,.38],[.734,.6832,.3812],[.7356,.6798,.3825],[.7373,.6764,.3837],[.7389,.673,.3849],[.7406,.6697,.3862],[.7422,.6663,.3874],[.7438,.6629,.3887],[.7455,.6595,.3899],[.7471,.6561,.3911],[.7488,.6527,.3924],[.7504,.6493,.3936],[.752,.6459,.3949],[.7537,.6426,.3961],[.7553,.6392,.4057],[.7597,.6413,.4153],[.7641,.643,.425],[.7685,.6447,.4346],[.7729,.6464,.4442],[.7773,.6481,.4538],[.7817,.6515,.4634],[.786,.6549,.473],[.7904,.6583,.4826],[.7948,.6617,.4922],[.7992,.6651,.5018],[.8036,.6685,.5114],[.808,.6719,.521],[.8124,.6753,.5306],[.8167,.6787,.5402],[.8211,.6821,.5499],[.8255,.6855,.5595],[.8299,.6889,.5691],[.8343,.6923,.5787],[.8387,.6957,.5883],[.8431,.6991,.5979],[.8475,.7047,.6075],[.8518,.7103,.6171],[.8562,.7159,.6267],[.8606,.7215,.6363],[.865,.7269,.6459],[.8694,.7323,.6555],[.8738,.7377,.6652],[.8782,.7431,.677],[.8825,.7507,.6888],[.8869,.7584,.7006],[.8913,.7661,.7124],[.8957,.7738,.7243],[.9001,.7814,.7361],[.9045,.7891,.7479],[.9089,.7968,.7597],[.9132,.8044,.7715],[.9176,.8121,.7834],[.922,.8198,.7952],[.9264,.8275,.807],[.9308,.8364,.8188],[.9352,.8454,.8306],[.9396,.8544,.8425],[.944,.8634,.8543],[.9483,.8725,.8661],[.9527,.8816,.8779],[.9571,.8931,.8897],[.9615,.9045,.9016],[.9659,.916,.9134],[.9703,.9274,.9252],[.9747,.9389,.937],[.979,.9503,.9488],[.9834,.9618,.9607],[.9878,.9732,.9725],[.9922,.9843,.9843]]},gist_gray:{interpolate:!0,colors:[[0,0,0],[.0039,.0039,.0039],[.0078,.0078,.0078],[.0118,.0118,.0118],[.0157,.0157,.0157],[.0196,.0196,.0196],[.0235,.0235,.0235],[.0275,.0275,.0275],[.0314,.0314,.0314],[.0353,.0353,.0353],[.0392,.0392,.0392],[.0431,.0431,.0431],[.0471,.0471,.0471],[.051,.051,.051],[.0549,.0549,.0549],[.0588,.0588,.0588],[.0627,.0627,.0627],[.0667,.0667,.0667],[.0706,.0706,.0706],[.0745,.0745,.0745],[.0784,.0784,.0784],[.0824,.0824,.0824],[.0863,.0863,.0863],[.0902,.0902,.0902],[.0941,.0941,.0941],[.098,.098,.098],[.102,.102,.102],[.1059,.1059,.1059],[.1098,.1098,.1098],[.1137,.1137,.1137],[.1176,.1176,.1176],[.1216,.1216,.1216],[.1255,.1255,.1255],[.1294,.1294,.1294],[.1333,.1333,.1333],[.1373,.1373,.1373],[.1412,.1412,.1412],[.1451,.1451,.1451],[.149,.149,.149],[.1529,.1529,.1529],[.1569,.1569,.1569],[.1608,.1608,.1608],[.1647,.1647,.1647],[.1686,.1686,.1686],[.1725,.1725,.1725],[.1765,.1765,.1765],[.1804,.1804,.1804],[.1843,.1843,.1843],[.1882,.1882,.1882],[.1922,.1922,.1922],[.1961,.1961,.1961],[.2,.2,.2],[.2039,.2039,.2039],[.2078,.2078,.2078],[.2118,.2118,.2118],[.2157,.2157,.2157],[.2196,.2196,.2196],[.2235,.2235,.2235],[.2275,.2275,.2275],[.2314,.2314,.2314],[.2353,.2353,.2353],[.2392,.2392,.2392],[.2431,.2431,.2431],[.2471,.2471,.2471],[.251,.251,.251],[.2549,.2549,.2549],[.2588,.2588,.2588],[.2627,.2627,.2627],[.2667,.2667,.2667],[.2706,.2706,.2706],[.2745,.2745,.2745],[.2784,.2784,.2784],[.2824,.2824,.2824],[.2863,.2863,.2863],[.2902,.2902,.2902],[.2941,.2941,.2941],[.298,.298,.298],[.302,.302,.302],[.3059,.3059,.3059],[.3098,.3098,.3098],[.3137,.3137,.3137],[.3176,.3176,.3176],[.3216,.3216,.3216],[.3255,.3255,.3255],[.3294,.3294,.3294],[.3333,.3333,.3333],[.3373,.3373,.3373],[.3412,.3412,.3412],[.3451,.3451,.3451],[.349,.349,.349],[.3529,.3529,.3529],[.3569,.3569,.3569],[.3608,.3608,.3608],[.3647,.3647,.3647],[.3686,.3686,.3686],[.3725,.3725,.3725],[.3765,.3765,.3765],[.3804,.3804,.3804],[.3843,.3843,.3843],[.3882,.3882,.3882],[.3922,.3922,.3922],[.3961,.3961,.3961],[.4,.4,.4],[.4039,.4039,.4039],[.4078,.4078,.4078],[.4118,.4118,.4118],[.4157,.4157,.4157],[.4196,.4196,.4196],[.4235,.4235,.4235],[.4275,.4275,.4275],[.4314,.4314,.4314],[.4353,.4353,.4353],[.4392,.4392,.4392],[.4431,.4431,.4431],[.4471,.4471,.4471],[.451,.451,.451],[.4549,.4549,.4549],[.4588,.4588,.4588],[.4627,.4627,.4627],[.4667,.4667,.4667],[.4706,.4706,.4706],[.4745,.4745,.4745],[.4784,.4784,.4784],[.4824,.4824,.4824],[.4863,.4863,.4863],[.4902,.4902,.4902],[.4941,.4941,.4941],[.498,.498,.498],[.502,.502,.502],[.5059,.5059,.5059],[.5098,.5098,.5098],[.5137,.5137,.5137],[.5176,.5176,.5176],[.5216,.5216,.5216],[.5255,.5255,.5255],[.5294,.5294,.5294],[.5333,.5333,.5333],[.5373,.5373,.5373],[.5412,.5412,.5412],[.5451,.5451,.5451],[.549,.549,.549],[.5529,.5529,.5529],[.5569,.5569,.5569],[.5608,.5608,.5608],[.5647,.5647,.5647],[.5686,.5686,.5686],[.5725,.5725,.5725],[.5765,.5765,.5765],[.5804,.5804,.5804],[.5843,.5843,.5843],[.5882,.5882,.5882],[.5922,.5922,.5922],[.5961,.5961,.5961],[.6,.6,.6],[.6039,.6039,.6039],[.6078,.6078,.6078],[.6118,.6118,.6118],[.6157,.6157,.6157],[.6196,.6196,.6196],[.6235,.6235,.6235],[.6275,.6275,.6275],[.6314,.6314,.6314],[.6353,.6353,.6353],[.6392,.6392,.6392],[.6431,.6431,.6431],[.6471,.6471,.6471],[.651,.651,.651],[.6549,.6549,.6549],[.6588,.6588,.6588],[.6627,.6627,.6627],[.6667,.6667,.6667],[.6706,.6706,.6706],[.6745,.6745,.6745],[.6784,.6784,.6784],[.6824,.6824,.6824],[.6863,.6863,.6863],[.6902,.6902,.6902],[.6941,.6941,.6941],[.698,.698,.698],[.702,.702,.702],[.7059,.7059,.7059],[.7098,.7098,.7098],[.7137,.7137,.7137],[.7176,.7176,.7176],[.7216,.7216,.7216],[.7255,.7255,.7255],[.7294,.7294,.7294],[.7333,.7333,.7333],[.7373,.7373,.7373],[.7412,.7412,.7412],[.7451,.7451,.7451],[.749,.749,.749],[.7529,.7529,.7529],[.7569,.7569,.7569],[.7608,.7608,.7608],[.7647,.7647,.7647],[.7686,.7686,.7686],[.7725,.7725,.7725],[.7765,.7765,.7765],[.7804,.7804,.7804],[.7843,.7843,.7843],[.7882,.7882,.7882],[.7922,.7922,.7922],[.7961,.7961,.7961],[.8,.8,.8],[.8039,.8039,.8039],[.8078,.8078,.8078],[.8118,.8118,.8118],[.8157,.8157,.8157],[.8196,.8196,.8196],[.8235,.8235,.8235],[.8275,.8275,.8275],[.8314,.8314,.8314],[.8353,.8353,.8353],[.8392,.8392,.8392],[.8431,.8431,.8431],[.8471,.8471,.8471],[.851,.851,.851],[.8549,.8549,.8549],[.8588,.8588,.8588],[.8627,.8627,.8627],[.8667,.8667,.8667],[.8706,.8706,.8706],[.8745,.8745,.8745],[.8784,.8784,.8784],[.8824,.8824,.8824],[.8863,.8863,.8863],[.8902,.8902,.8902],[.8941,.8941,.8941],[.898,.898,.898],[.902,.902,.902],[.9059,.9059,.9059],[.9098,.9098,.9098],[.9137,.9137,.9137],[.9176,.9176,.9176],[.9216,.9216,.9216],[.9255,.9255,.9255],[.9294,.9294,.9294],[.9333,.9333,.9333],[.9373,.9373,.9373],[.9412,.9412,.9412],[.9451,.9451,.9451],[.949,.949,.949],[.9529,.9529,.9529],[.9569,.9569,.9569],[.9608,.9608,.9608],[.9647,.9647,.9647],[.9686,.9686,.9686],[.9725,.9725,.9725],[.9765,.9765,.9765],[.9804,.9804,.9804],[.9843,.9843,.9843],[.9882,.9882,.9882],[.9922,.9922,.9922],[.9961,.9961,.9961],[1,1,1]]},gist_heat:{interpolate:!0,colors:[[0,0,0],[.0059,0,0],[.0118,0,0],[.0176,0,0],[.0235,0,0],[.0294,0,0],[.0353,0,0],[.0412,0,0],[.0471,0,0],[.0529,0,0],[.0588,0,0],[.0647,0,0],[.0706,0,0],[.0765,0,0],[.0824,0,0],[.0882,0,0],[.0941,0,0],[.1,0,0],[.1059,0,0],[.1118,0,0],[.1176,0,0],[.1235,0,0],[.1294,0,0],[.1353,0,0],[.1412,0,0],[.1471,0,0],[.1529,0,0],[.1588,0,0],[.1647,0,0],[.1706,0,0],[.1765,0,0],[.1824,0,0],[.1882,0,0],[.1941,0,0],[.2,0,0],[.2059,0,0],[.2118,0,0],[.2176,0,0],[.2235,0,0],[.2294,0,0],[.2353,0,0],[.2412,0,0],[.2471,0,0],[.2529,0,0],[.2588,0,0],[.2647,0,0],[.2706,0,0],[.2765,0,0],[.2824,0,0],[.2882,0,0],[.2941,0,0],[.3,0,0],[.3059,0,0],[.3118,0,0],[.3176,0,0],[.3235,0,0],[.3294,0,0],[.3353,0,0],[.3412,0,0],[.3471,0,0],[.3529,0,0],[.3588,0,0],[.3647,0,0],[.3706,0,0],[.3765,0,0],[.3824,0,0],[.3882,0,0],[.3941,0,0],[.4,0,0],[.4059,0,0],[.4118,0,0],[.4176,0,0],[.4235,0,0],[.4294,0,0],[.4353,0,0],[.4412,0,0],[.4471,0,0],[.4529,0,0],[.4588,0,0],[.4647,0,0],[.4706,0,0],[.4765,0,0],[.4824,0,0],[.4882,0,0],[.4941,0,0],[.5,0,0],[.5059,0,0],[.5118,0,0],[.5176,0,0],[.5235,0,0],[.5294,0,0],[.5353,0,0],[.5412,0,0],[.5471,0,0],[.5529,0,0],[.5588,0,0],[.5647,0,0],[.5706,0,0],[.5765,0,0],[.5824,0,0],[.5882,0,0],[.5941,0,0],[.6,0,0],[.6059,0,0],[.6118,0,0],[.6176,0,0],[.6235,0,0],[.6294,0,0],[.6353,0,0],[.6412,0,0],[.6471,0,0],[.6529,0,0],[.6588,0,0],[.6647,0,0],[.6706,0,0],[.6765,0,0],[.6824,0,0],[.6882,0,0],[.6941,0,0],[.7,0,0],[.7059,0,0],[.7118,0,0],[.7176,0,0],[.7235,0,0],[.7294,0,0],[.7353,0,0],[.7412,0,0],[.7471,0,0],[.7529,.0039,0],[.7588,.0118,0],[.7647,.0196,0],[.7706,.0275,0],[.7765,.0353,0],[.7824,.0431,0],[.7882,.051,0],[.7941,.0588,0],[.8,.0667,0],[.8059,.0745,0],[.8118,.0824,0],[.8176,.0902,0],[.8235,.098,0],[.8294,.1059,0],[.8353,.1137,0],[.8412,.1216,0],[.8471,.1294,0],[.8529,.1373,0],[.8588,.1451,0],[.8647,.1529,0],[.8706,.1608,0],[.8765,.1686,0],[.8824,.1765,0],[.8882,.1843,0],[.8941,.1922,0],[.9,.2,0],[.9059,.2078,0],[.9118,.2157,0],[.9176,.2235,0],[.9235,.2314,0],[.9294,.2392,0],[.9353,.2471,0],[.9412,.2549,0],[.9471,.2627,0],[.9529,.2706,0],[.9588,.2784,0],[.9647,.2863,0],[.9706,.2941,0],[.9765,.302,0],[.9824,.3098,0],[.9882,.3176,0],[.9941,.3255,0],[1,.3333,0],[1,.3412,0],[1,.349,0],[1,.3569,0],[1,.3647,0],[1,.3725,0],[1,.3804,0],[1,.3882,0],[1,.3961,0],[1,.4039,0],[1,.4118,0],[1,.4196,0],[1,.4275,0],[1,.4353,0],[1,.4431,0],[1,.451,0],[1,.4588,0],[1,.4667,0],[1,.4745,0],[1,.4824,0],[1,.4902,0],[1,.498,0],[1,.5059,.0118],[1,.5137,.0275],[1,.5216,.0431],[1,.5294,.0588],[1,.5373,.0745],[1,.5451,.0902],[1,.5529,.1059],[1,.5608,.1216],[1,.5686,.1373],[1,.5765,.1529],[1,.5843,.1686],[1,.5922,.1843],[1,.6,.2],[1,.6078,.2157],[1,.6157,.2314],[1,.6235,.2471],[1,.6314,.2627],[1,.6392,.2784],[1,.6471,.2941],[1,.6549,.3098],[1,.6627,.3255],[1,.6706,.3412],[1,.6784,.3569],[1,.6863,.3725],[1,.6941,.3882],[1,.702,.4039],[1,.7098,.4196],[1,.7176,.4353],[1,.7255,.451],[1,.7333,.4667],[1,.7412,.4824],[1,.749,.498],[1,.7569,.5137],[1,.7647,.5294],[1,.7725,.5451],[1,.7804,.5608],[1,.7882,.5765],[1,.7961,.5922],[1,.8039,.6078],[1,.8118,.6235],[1,.8196,.6392],[1,.8275,.6549],[1,.8353,.6706],[1,.8431,.6863],[1,.851,.702],[1,.8588,.7176],[1,.8667,.7333],[1,.8745,.749],[1,.8824,.7647],[1,.8902,.7804],[1,.898,.7961],[1,.9059,.8118],[1,.9137,.8275],[1,.9216,.8431],[1,.9294,.8588],[1,.9373,.8745],[1,.9451,.8902],[1,.9529,.9059],[1,.9608,.9216],[1,.9686,.9373],[1,.9765,.9529],[1,.9843,.9686],[1,.9922,.9843],[1,1,1]]},gist_ncar:{interpolate:!0,colors:[[0,0,.502],[0,.0286,.4651],[0,.0572,.4282],[0,.0859,.3913],[0,.1145,.3544],[0,.1431,.3175],[0,.1717,.2806],[0,.2003,.2437],[0,.229,.2069],[0,.2576,.17],[0,.2862,.1331],[0,.3148,.0962],[0,.3434,.0593],[0,.3721,.0224],[0,.3457,.0871],[0,.3192,.1523],[0,.2926,.2175],[0,.266,.2827],[0,.2394,.3479],[0,.2128,.4132],[0,.1862,.4784],[0,.1596,.5436],[0,.1331,.6088],[0,.1065,.674],[0,.0799,.7392],[0,.0533,.8044],[0,.0267,.8696],[0,1e-4,.9349],[0,.0551,1],[0,.1105,1],[0,.1659,1],[0,.2213,1],[0,.2766,1],[0,.332,1],[0,.3874,1],[0,.4428,1],[0,.4982,1],[0,.5535,1],[0,.6089,1],[0,.6643,1],[0,.7197,1],[0,.7536,1],[0,.7752,1],[0,.7925,1],[0,.8098,1],[0,.8271,1],[0,.8444,1],[0,.8617,1],[0,.8789,1],[0,.8962,1],[0,.9135,1],[0,.9308,1],[0,.9481,.9999],[0,.9654,.9741],[0,.9827,.9484],[0,.9999,.9227],[0,.9982,.897],[0,.9964,.8713],[0,.9947,.8456],[0,.9929,.8199],[0,.9911,.7942],[0,.9893,.7685],[0,.9875,.7428],[0,.9857,.717],[0,.984,.6913],[0,.9822,.6656],[0,.9804,.6399],[0,.9804,.614],[0,.9804,.5731],[0,.9804,.5322],[0,.982,.4913],[0,.9837,.4504],[0,.9853,.4095],[0,.9869,.3685],[0,.9886,.3276],[0,.9902,.2867],[0,.9918,.2458],[0,.9935,.2049],[0,.9951,.164],[0,.9967,.1231],[.025,.9984,.0822],[.05,.9998,.0412],[.0749,.9851,3e-4],[.0999,.9703,0],[.1249,.9556,0],[.1499,.9408,0],[.1748,.926,0],[.1998,.9113,0],[.2248,.8965,0],[.2498,.8818,0],[.2747,.867,0],[.2997,.8523,0],[.3247,.8375,0],[.3497,.8228,0],[.3746,.8082,0],[.3994,.821,0],[.4072,.8337,0],[.4149,.8465,0],[.4227,.8593,0],[.4305,.8721,0],[.4382,.8848,0],[.446,.8976,0],[.4538,.9104,0],[.4615,.9232,0],[.4693,.936,0],[.4771,.9487,0],[.4848,.9615,0],[.4926,.9743,.0156],[.5004,.9871,.0312],[.5183,.9998,.0468],[.5361,1,.0624],[.554,1,.078],[.5718,1,.0937],[.5897,1,.1093],[.6075,1,.1249],[.6254,1,.1405],[.6432,1,.1561],[.6611,1,.1718],[.6789,1,.1874],[.6968,1,.203],[.7146,1,.2186],[.7324,1,.2342],[.7503,1,.2185],[.7681,1,.2029],[.786,1,.1873],[.8038,1,.1717],[.8217,1,.1561],[.8395,1,.1404],[.8574,1,.1248],[.8752,1,.1092],[.8931,1,.0936],[.9109,1,.078],[.9288,1,.0623],[.9466,1,.0467],[.9645,.9904,.0311],[.9823,.9807,.0155],[1,.9711,0],[1,.9614,0],[1,.9517,0],[1,.942,0],[1,.9324,0],[1,.9227,0],[1,.913,0],[1,.9034,0],[1,.8937,0],[1,.884,0],[1,.8743,0],[1,.8647,0],[1,.855,0],[1,.8453,.0042],[1,.8357,.0084],[1,.826,.0127],[1,.8163,.0169],[1,.8066,.0211],[1,.797,.0253],[1,.7873,.0295],[1,.7776,.0338],[1,.768,.038],[1,.7583,.0422],[1,.7486,.0464],[1,.7389,.0506],[1,.7293,.0549],[1,.6973,.0513],[1,.6652,.0476],[1,.6331,.0439],[1,.601,.0403],[1,.5688,.0366],[1,.5367,.033],[1,.5046,.0293],[1,.4725,.0256],[1,.4404,.022],[1,.4083,.0183],[1,.3762,.0146],[1,.344,.011],[1,.3119,.0073],[1,.2798,.0037],[1,.2611,0],[1,.2424,0],[1,.2238,0],[1,.2051,0],[1,.1865,0],[1,.1678,0],[1,.1492,0],[1,.1305,0],[1,.1119,0],[1,.0932,0],[1,.0746,0],[1,.056,0],[1,.0373,0],[1,.0187,.0688],[1,0,.1383],[1,0,.2079],[1,0,.2774],[1,0,.347],[1,0,.4166],[1,0,.4861],[1,0,.5557],[1,0,.6252],[1,0,.6948],[1,0,.7644],[1,0,.8339],[1,0,.9035],[1,0,.973],[.9733,.0134,.9868],[.9463,.0269,1],[.9193,.0404,1],[.8922,.0539,1],[.8652,.0674,1],[.8382,.0809,1],[.8112,.0944,1],[.7842,.1079,1],[.7572,.1214,1],[.7301,.1349,1],[.7031,.1484,1],[.6761,.1619,1],[.6491,.1755,1],[.6221,.1987,.9952],[.6448,.2219,.9905],[.668,.2451,.9858],[.6913,.2683,.9811],[.7145,.2915,.9764],[.7378,.3147,.9717],[.761,.3379,.967],[.7843,.3611,.9623],[.8075,.3843,.9576],[.8308,.4075,.9529],[.854,.4307,.9482],[.8772,.4538,.9435],[.9005,.477,.9388],[.9235,.5002,.9341],[.9263,.5183,.9365],[.9291,.5365,.9389],[.9319,.5547,.9413],[.9347,.5728,.9437],[.9375,.591,.946],[.9403,.6092,.9484],[.9431,.6273,.9508],[.9459,.6455,.9532],[.9486,.6637,.9556],[.9514,.6818,.958],[.9542,.7,.9603],[.957,.7182,.9627],[.9598,.7363,.9651],[.9626,.7545,.9675],[.9654,.7727,.9699],[.9682,.7908,.9723],[.971,.809,.9746],[.9738,.8272,.977],[.9766,.8453,.9794],[.9794,.8635,.9818],[.9821,.8817,.9842],[.9849,.8998,.9866],[.9877,.918,.9889],[.9905,.9362,.9913],[.9933,.9543,.9937],[.9961,.9725,.9961]]},gist_rainbow:{interpolate:!0,colors:[[1,0,.16],[1,0,.1391],[1,0,.1182],[1,0,.0973],[1,0,.0763],[1,0,.0554],[1,0,.0345],[1,0,.0136],[1,.0074,0],[1,.0286,0],[1,.0498,0],[1,.071,0],[1,.0922,0],[1,.1134,0],[1,.1346,0],[1,.1558,0],[1,.177,0],[1,.1982,0],[1,.2194,0],[1,.2406,0],[1,.2618,0],[1,.283,0],[1,.3042,0],[1,.3254,0],[1,.3466,0],[1,.3678,0],[1,.389,0],[1,.4102,0],[1,.4314,0],[1,.4526,0],[1,.4738,0],[1,.495,0],[1,.5162,0],[1,.5374,0],[1,.5586,0],[1,.5798,0],[1,.601,0],[1,.6222,0],[1,.6433,0],[1,.6645,0],[1,.6857,0],[1,.7069,0],[1,.7281,0],[1,.7493,0],[1,.7705,0],[1,.7917,0],[1,.8129,0],[1,.8341,0],[1,.8553,0],[1,.8765,0],[1,.8977,0],[1,.9189,0],[1,.9401,0],[1,.9613,0],[1,.9825,0],[.9963,1,0],[.9751,1,0],[.9539,1,0],[.9327,1,0],[.9115,1,0],[.8903,1,0],[.8691,1,0],[.8479,1,0],[.8267,1,0],[.8055,1,0],[.7843,1,0],[.7631,1,0],[.7419,1,0],[.7207,1,0],[.6995,1,0],[.6783,1,0],[.6571,1,0],[.6359,1,0],[.6147,1,0],[.5935,1,0],[.5723,1,0],[.5511,1,0],[.5299,1,0],[.5087,1,0],[.4875,1,0],[.4663,1,0],[.4452,1,0],[.424,1,0],[.4028,1,0],[.3816,1,0],[.3604,1,0],[.3392,1,0],[.318,1,0],[.2968,1,0],[.2756,1,0],[.2544,1,0],[.2332,1,0],[.212,1,0],[.1908,1,0],[.1696,1,0],[.1484,1,0],[.1272,1,0],[.106,1,0],[.0848,1,0],[.0636,1,0],[.0424,1,0],[.0212,1,0],[0,1,0],[0,1,.0211],[0,1,.0422],[0,1,.0633],[0,1,.0843],[0,1,.1054],[0,1,.1265],[0,1,.1476],[0,1,.1687],[0,1,.1898],[0,1,.2108],[0,1,.2319],[0,1,.253],[0,1,.2741],[0,1,.2952],[0,1,.3163],[0,1,.3373],[0,1,.3584],[0,1,.3795],[0,1,.4006],[0,1,.4217],[0,1,.4428],[0,1,.4638],[0,1,.4849],[0,1,.506],[0,1,.5271],[0,1,.5482],[0,1,.5693],[0,1,.5903],[0,1,.6114],[0,1,.6325],[0,1,.6536],[0,1,.6747],[0,1,.6958],[0,1,.7168],[0,1,.7379],[0,1,.759],[0,1,.7801],[0,1,.8012],[0,1,.8223],[0,1,.8433],[0,1,.8644],[0,1,.8855],[0,1,.9066],[0,1,.9277],[0,1,.9488],[0,1,.9699],[0,1,.9909],[0,.9879,1],[0,.9665,1],[0,.9452,1],[0,.9239,1],[0,.9026,1],[0,.8813,1],[0,.86,1],[0,.8387,1],[0,.8173,1],[0,.796,1],[0,.7747,1],[0,.7534,1],[0,.7321,1],[0,.7108,1],[0,.6895,1],[0,.6682,1],[0,.6468,1],[0,.6255,1],[0,.6042,1],[0,.5829,1],[0,.5616,1],[0,.5403,1],[0,.519,1],[0,.4977,1],[0,.4763,1],[0,.455,1],[0,.4337,1],[0,.4124,1],[0,.3911,1],[0,.3698,1],[0,.3485,1],[0,.3272,1],[0,.3058,1],[0,.2845,1],[0,.2632,1],[0,.2419,1],[0,.2206,1],[0,.1993,1],[0,.178,1],[0,.1566,1],[0,.1353,1],[0,.114,1],[0,.0927,1],[0,.0714,1],[0,.0501,1],[0,.0288,1],[0,.0075,1],[.0139,0,1],[.0352,0,1],[.0565,0,1],[.0778,0,1],[.0991,0,1],[.1204,0,1],[.1417,0,1],[.163,0,1],[.1844,0,1],[.2057,0,1],[.227,0,1],[.2483,0,1],[.2696,0,1],[.2909,0,1],[.3122,0,1],[.3335,0,1],[.3549,0,1],[.3762,0,1],[.3975,0,1],[.4188,0,1],[.4401,0,1],[.4614,0,1],[.4827,0,1],[.504,0,1],[.5254,0,1],[.5467,0,1],[.568,0,1],[.5893,0,1],[.6106,0,1],[.6319,0,1],[.6532,0,1],[.6746,0,1],[.6959,0,1],[.7172,0,1],[.7385,0,1],[.7598,0,1],[.7811,0,1],[.8024,0,1],[.8237,0,1],[.8451,0,1],[.8664,0,1],[.8877,0,1],[.909,0,1],[.9303,0,1],[.9516,0,1],[.9729,0,1],[.9942,0,1],[1,0,.9844],[1,0,.9631],[1,0,.9418],[1,0,.9205],[1,0,.8992],[1,0,.8779],[1,0,.8566],[1,0,.8353],[1,0,.8139],[1,0,.7926],[1,0,.7713],[1,0,.75]]},gist_stern:{interpolate:!0,colors:[[0,0,0],[.0717,.0039,.0078],[.1434,.0078,.0157],[.2151,.0118,.0235],[.2868,.0157,.0314],[.3585,.0196,.0392],[.4302,.0235,.0471],[.5018,.0275,.0549],[.5735,.0314,.0627],[.6452,.0353,.0706],[.7169,.0392,.0784],[.7886,.0431,.0863],[.8603,.0471,.0941],[.932,.051,.102],[.999,.0549,.1098],[.9795,.0588,.1176],[.9599,.0627,.1255],[.9404,.0667,.1333],[.9208,.0706,.1412],[.9013,.0745,.149],[.8818,.0784,.1569],[.8622,.0824,.1647],[.8427,.0863,.1725],[.8232,.0902,.1804],[.8036,.0941,.1882],[.7841,.098,.1961],[.7645,.102,.2039],[.745,.1059,.2118],[.7255,.1098,.2196],[.7059,.1137,.2275],[.6864,.1176,.2353],[.6669,.1216,.2431],[.6473,.1255,.251],[.6278,.1294,.2588],[.6082,.1333,.2667],[.5887,.1373,.2745],[.5692,.1412,.2824],[.5496,.1451,.2902],[.5301,.149,.298],[.5106,.1529,.3059],[.491,.1569,.3137],[.4715,.1608,.3216],[.4519,.1647,.3294],[.4324,.1686,.3373],[.4129,.1725,.3451],[.3933,.1765,.3529],[.3738,.1804,.3608],[.3543,.1843,.3686],[.3347,.1882,.3765],[.3152,.1922,.3843],[.2956,.1961,.3922],[.2761,.2,.4],[.2566,.2039,.4078],[.237,.2078,.4157],[.2175,.2118,.4235],[.198,.2157,.4314],[.1784,.2196,.4392],[.1589,.2235,.4471],[.1393,.2275,.4549],[.1198,.2314,.4627],[.1003,.2353,.4706],[.0807,.2392,.4784],[.0612,.2431,.4863],[.0417,.2471,.4941],[.251,.251,.502],[.2549,.2549,.5098],[.2588,.2588,.5176],[.2627,.2627,.5255],[.2667,.2667,.5333],[.2706,.2706,.5412],[.2745,.2745,.549],[.2784,.2784,.5569],[.2824,.2824,.5647],[.2863,.2863,.5725],[.2902,.2902,.5804],[.2941,.2941,.5882],[.298,.298,.5961],[.302,.302,.6039],[.3059,.3059,.6118],[.3098,.3098,.6196],[.3137,.3137,.6275],[.3176,.3176,.6353],[.3216,.3216,.6431],[.3255,.3255,.651],[.3294,.3294,.6588],[.3333,.3333,.6667],[.3373,.3373,.6745],[.3412,.3412,.6824],[.3451,.3451,.6902],[.349,.349,.698],[.3529,.3529,.7059],[.3569,.3569,.7137],[.3608,.3608,.7216],[.3647,.3647,.7294],[.3686,.3686,.7373],[.3725,.3725,.7451],[.3765,.3765,.7529],[.3804,.3804,.7608],[.3843,.3843,.7686],[.3882,.3882,.7765],[.3922,.3922,.7843],[.3961,.3961,.7922],[.4,.4,.8],[.4039,.4039,.8078],[.4078,.4078,.8157],[.4118,.4118,.8235],[.4157,.4157,.8314],[.4196,.4196,.8392],[.4235,.4235,.8471],[.4275,.4275,.8549],[.4314,.4314,.8627],[.4353,.4353,.8706],[.4392,.4392,.8784],[.4431,.4431,.8863],[.4471,.4471,.8941],[.451,.451,.902],[.4549,.4549,.9098],[.4588,.4588,.9176],[.4627,.4627,.9255],[.4667,.4667,.9333],[.4706,.4706,.9412],[.4745,.4745,.949],[.4784,.4784,.9569],[.4824,.4824,.9647],[.4863,.4863,.9725],[.4902,.4902,.9804],[.4941,.4941,.9882],[.498,.498,.9961],[.502,.502,.9917],[.5059,.5059,.975],[.5098,.5098,.9583],[.5137,.5137,.9416],[.5176,.5176,.9249],[.5216,.5216,.9082],[.5255,.5255,.8915],[.5294,.5294,.8748],[.5333,.5333,.8582],[.5373,.5373,.8415],[.5412,.5412,.8248],[.5451,.5451,.8081],[.549,.549,.7914],[.5529,.5529,.7747],[.5569,.5569,.758],[.5608,.5608,.7413],[.5647,.5647,.7247],[.5686,.5686,.708],[.5725,.5725,.6913],[.5765,.5765,.6746],[.5804,.5804,.6579],[.5843,.5843,.6412],[.5882,.5882,.6245],[.5922,.5922,.6078],[.5961,.5961,.5912],[.6,.6,.5745],[.6039,.6039,.5578],[.6078,.6078,.5411],[.6118,.6118,.5244],[.6157,.6157,.5077],[.6196,.6196,.491],[.6235,.6235,.4743],[.6275,.6275,.4577],[.6314,.6314,.441],[.6353,.6353,.4243],[.6392,.6392,.4076],[.6431,.6431,.3909],[.6471,.6471,.3742],[.651,.651,.3575],[.6549,.6549,.3408],[.6588,.6588,.3242],[.6627,.6627,.3075],[.6667,.6667,.2908],[.6706,.6706,.2741],[.6745,.6745,.2574],[.6784,.6784,.2407],[.6824,.6824,.224],[.6863,.6863,.2073],[.6902,.6902,.1907],[.6941,.6941,.174],[.698,.698,.1573],[.702,.702,.1406],[.7059,.7059,.1239],[.7098,.7098,.1072],[.7137,.7137,.0905],[.7176,.7176,.0738],[.7216,.7216,.0572],[.7255,.7255,.0405],[.7294,.7294,.0238],[.7333,.7333,.0071],[.7373,.7373,.0085],[.7412,.7412,.0233],[.7451,.7451,.0381],[.749,.749,.0529],[.7529,.7529,.0677],[.7569,.7569,.0825],[.7608,.7608,.0973],[.7647,.7647,.1121],[.7686,.7686,.1269],[.7725,.7725,.1417],[.7765,.7765,.1565],[.7804,.7804,.1713],[.7843,.7843,.1861],[.7882,.7882,.2009],[.7922,.7922,.2157],[.7961,.7961,.2305],[.8,.8,.2453],[.8039,.8039,.2601],[.8078,.8078,.2749],[.8118,.8118,.2897],[.8157,.8157,.3045],[.8196,.8196,.3193],[.8235,.8235,.3341],[.8275,.8275,.3489],[.8314,.8314,.3637],[.8353,.8353,.3785],[.8392,.8392,.3933],[.8431,.8431,.4081],[.8471,.8471,.4229],[.851,.851,.4377],[.8549,.8549,.4525],[.8588,.8588,.4673],[.8627,.8627,.4821],[.8667,.8667,.4969],[.8706,.8706,.5117],[.8745,.8745,.5265],[.8784,.8784,.5413],[.8824,.8824,.556],[.8863,.8863,.5708],[.8902,.8902,.5856],[.8941,.8941,.6004],[.898,.898,.6152],[.902,.902,.63],[.9059,.9059,.6448],[.9098,.9098,.6596],[.9137,.9137,.6744],[.9176,.9176,.6892],[.9216,.9216,.704],[.9255,.9255,.7188],[.9294,.9294,.7336],[.9333,.9333,.7484],[.9373,.9373,.7632],[.9412,.9412,.778],[.9451,.9451,.7928],[.949,.949,.8076],[.9529,.9529,.8224],[.9569,.9569,.8372],[.9608,.9608,.852],[.9647,.9647,.8668],[.9686,.9686,.8816],[.9725,.9725,.8964],[.9765,.9765,.9112],[.9804,.9804,.926],[.9843,.9843,.9408],[.9882,.9882,.9556],[.9922,.9922,.9704],[.9961,.9961,.9852],[1,1,1]]},gist_yarg:{interpolate:!0,colors:[[1,1,1],[.9961,.9961,.9961],[.9922,.9922,.9922],[.9882,.9882,.9882],[.9843,.9843,.9843],[.9804,.9804,.9804],[.9765,.9765,.9765],[.9725,.9725,.9725],[.9686,.9686,.9686],[.9647,.9647,.9647],[.9608,.9608,.9608],[.9569,.9569,.9569],[.9529,.9529,.9529],[.949,.949,.949],[.9451,.9451,.9451],[.9412,.9412,.9412],[.9373,.9373,.9373],[.9333,.9333,.9333],[.9294,.9294,.9294],[.9255,.9255,.9255],[.9216,.9216,.9216],[.9176,.9176,.9176],[.9137,.9137,.9137],[.9098,.9098,.9098],[.9059,.9059,.9059],[.902,.902,.902],[.898,.898,.898],[.8941,.8941,.8941],[.8902,.8902,.8902],[.8863,.8863,.8863],[.8824,.8824,.8824],[.8784,.8784,.8784],[.8745,.8745,.8745],[.8706,.8706,.8706],[.8667,.8667,.8667],[.8627,.8627,.8627],[.8588,.8588,.8588],[.8549,.8549,.8549],[.851,.851,.851],[.8471,.8471,.8471],[.8431,.8431,.8431],[.8392,.8392,.8392],[.8353,.8353,.8353],[.8314,.8314,.8314],[.8275,.8275,.8275],[.8235,.8235,.8235],[.8196,.8196,.8196],[.8157,.8157,.8157],[.8118,.8118,.8118],[.8078,.8078,.8078],[.8039,.8039,.8039],[.8,.8,.8],[.7961,.7961,.7961],[.7922,.7922,.7922],[.7882,.7882,.7882],[.7843,.7843,.7843],[.7804,.7804,.7804],[.7765,.7765,.7765],[.7725,.7725,.7725],[.7686,.7686,.7686],[.7647,.7647,.7647],[.7608,.7608,.7608],[.7569,.7569,.7569],[.7529,.7529,.7529],[.749,.749,.749],[.7451,.7451,.7451],[.7412,.7412,.7412],[.7373,.7373,.7373],[.7333,.7333,.7333],[.7294,.7294,.7294],[.7255,.7255,.7255],[.7216,.7216,.7216],[.7176,.7176,.7176],[.7137,.7137,.7137],[.7098,.7098,.7098],[.7059,.7059,.7059],[.702,.702,.702],[.698,.698,.698],[.6941,.6941,.6941],[.6902,.6902,.6902],[.6863,.6863,.6863],[.6824,.6824,.6824],[.6784,.6784,.6784],[.6745,.6745,.6745],[.6706,.6706,.6706],[.6667,.6667,.6667],[.6627,.6627,.6627],[.6588,.6588,.6588],[.6549,.6549,.6549],[.651,.651,.651],[.6471,.6471,.6471],[.6431,.6431,.6431],[.6392,.6392,.6392],[.6353,.6353,.6353],[.6314,.6314,.6314],[.6275,.6275,.6275],[.6235,.6235,.6235],[.6196,.6196,.6196],[.6157,.6157,.6157],[.6118,.6118,.6118],[.6078,.6078,.6078],[.6039,.6039,.6039],[.6,.6,.6],[.5961,.5961,.5961],[.5922,.5922,.5922],[.5882,.5882,.5882],[.5843,.5843,.5843],[.5804,.5804,.5804],[.5765,.5765,.5765],[.5725,.5725,.5725],[.5686,.5686,.5686],[.5647,.5647,.5647],[.5608,.5608,.5608],[.5569,.5569,.5569],[.5529,.5529,.5529],[.549,.549,.549],[.5451,.5451,.5451],[.5412,.5412,.5412],[.5373,.5373,.5373],[.5333,.5333,.5333],[.5294,.5294,.5294],[.5255,.5255,.5255],[.5216,.5216,.5216],[.5176,.5176,.5176],[.5137,.5137,.5137],[.5098,.5098,.5098],[.5059,.5059,.5059],[.502,.502,.502],[.498,.498,.498],[.4941,.4941,.4941],[.4902,.4902,.4902],[.4863,.4863,.4863],[.4824,.4824,.4824],[.4784,.4784,.4784],[.4745,.4745,.4745],[.4706,.4706,.4706],[.4667,.4667,.4667],[.4627,.4627,.4627],[.4588,.4588,.4588],[.4549,.4549,.4549],[.451,.451,.451],[.4471,.4471,.4471],[.4431,.4431,.4431],[.4392,.4392,.4392],[.4353,.4353,.4353],[.4314,.4314,.4314],[.4275,.4275,.4275],[.4235,.4235,.4235],[.4196,.4196,.4196],[.4157,.4157,.4157],[.4118,.4118,.4118],[.4078,.4078,.4078],[.4039,.4039,.4039],[.4,.4,.4],[.3961,.3961,.3961],[.3922,.3922,.3922],[.3882,.3882,.3882],[.3843,.3843,.3843],[.3804,.3804,.3804],[.3765,.3765,.3765],[.3725,.3725,.3725],[.3686,.3686,.3686],[.3647,.3647,.3647],[.3608,.3608,.3608],[.3569,.3569,.3569],[.3529,.3529,.3529],[.349,.349,.349],[.3451,.3451,.3451],[.3412,.3412,.3412],[.3373,.3373,.3373],[.3333,.3333,.3333],[.3294,.3294,.3294],[.3255,.3255,.3255],[.3216,.3216,.3216],[.3176,.3176,.3176],[.3137,.3137,.3137],[.3098,.3098,.3098],[.3059,.3059,.3059],[.302,.302,.302],[.298,.298,.298],[.2941,.2941,.2941],[.2902,.2902,.2902],[.2863,.2863,.2863],[.2824,.2824,.2824],[.2784,.2784,.2784],[.2745,.2745,.2745],[.2706,.2706,.2706],[.2667,.2667,.2667],[.2627,.2627,.2627],[.2588,.2588,.2588],[.2549,.2549,.2549],[.251,.251,.251],[.2471,.2471,.2471],[.2431,.2431,.2431],[.2392,.2392,.2392],[.2353,.2353,.2353],[.2314,.2314,.2314],[.2275,.2275,.2275],[.2235,.2235,.2235],[.2196,.2196,.2196],[.2157,.2157,.2157],[.2118,.2118,.2118],[.2078,.2078,.2078],[.2039,.2039,.2039],[.2,.2,.2],[.1961,.1961,.1961],[.1922,.1922,.1922],[.1882,.1882,.1882],[.1843,.1843,.1843],[.1804,.1804,.1804],[.1765,.1765,.1765],[.1725,.1725,.1725],[.1686,.1686,.1686],[.1647,.1647,.1647],[.1608,.1608,.1608],[.1569,.1569,.1569],[.1529,.1529,.1529],[.149,.149,.149],[.1451,.1451,.1451],[.1412,.1412,.1412],[.1373,.1373,.1373],[.1333,.1333,.1333],[.1294,.1294,.1294],[.1255,.1255,.1255],[.1216,.1216,.1216],[.1176,.1176,.1176],[.1137,.1137,.1137],[.1098,.1098,.1098],[.1059,.1059,.1059],[.102,.102,.102],[.098,.098,.098],[.0941,.0941,.0941],[.0902,.0902,.0902],[.0863,.0863,.0863],[.0824,.0824,.0824],[.0784,.0784,.0784],[.0745,.0745,.0745],[.0706,.0706,.0706],[.0667,.0667,.0667],[.0627,.0627,.0627],[.0588,.0588,.0588],[.0549,.0549,.0549],[.051,.051,.051],[.0471,.0471,.0471],[.0431,.0431,.0431],[.0392,.0392,.0392],[.0353,.0353,.0353],[.0314,.0314,.0314],[.0275,.0275,.0275],[.0235,.0235,.0235],[.0196,.0196,.0196],[.0157,.0157,.0157],[.0118,.0118,.0118],[.0078,.0078,.0078],[.0039,.0039,.0039],[0,0,0]]},gnuplot:{interpolate:!0,colors:[[0,0,0],[.0626,0,.0246],[.0886,0,.0493],[.1085,0,.0739],[.1252,0,.0984],[.14,0,.1229],[.1534,0,.1473],[.1657,0,.1716],[.1771,0,.1958],[.1879,0,.2199],[.198,1e-4,.2439],[.2077,1e-4,.2677],[.2169,1e-4,.2914],[.2258,1e-4,.3149],[.2343,2e-4,.3382],[.2425,2e-4,.3612],[.2505,2e-4,.3841],[.2582,3e-4,.4067],[.2657,4e-4,.4291],[.273,4e-4,.4512],[.2801,5e-4,.4731],[.287,6e-4,.4947],[.2937,6e-4,.5159],[.3003,7e-4,.5369],[.3068,8e-4,.5575],[.3131,9e-4,.5778],[.3193,.0011,.5977],[.3254,.0012,.6173],[.3314,.0013,.6365],[.3372,.0015,.6553],[.343,.0016,.6737],[.3487,.0018,.6917],[.3542,.002,.7093],[.3597,.0022,.7264],[.3651,.0024,.7431],[.3705,.0026,.7594],[.3757,.0028,.7752],[.3809,.0031,.7905],[.386,.0033,.8054],[.3911,.0036,.8197],[.3961,.0039,.8336],[.401,.0042,.847],[.4058,.0045,.8598],[.4106,.0048,.8721],[.4154,.0051,.8839],[.4201,.0055,.8952],[.4247,.0059,.9059],[.4293,.0063,.916],[.4339,.0067,.9256],[.4384,.0071,.9347],[.4428,.0075,.9432],[.4472,.008,.9511],[.4516,.0085,.9584],[.4559,.009,.9651],[.4602,.0095,.9713],[.4644,.01,.9768],[.4686,.0106,.9818],[.4728,.0112,.9862],[.4769,.0118,.99],[.481,.0124,.9932],[.4851,.013,.9957],[.4891,.0137,.9977],[.4931,.0144,.9991],[.4971,.0151,.9998],[.501,.0158,1],[.5049,.0166,.9995],[.5087,.0173,.9985],[.5126,.0181,.9968],[.5164,.019,.9945],[.5202,.0198,.9916],[.5239,.0207,.9882],[.5277,.0216,.9841],[.5314,.0225,.9794],[.535,.0235,.9741],[.5387,.0244,.9683],[.5423,.0254,.9618],[.5459,.0265,.9548],[.5495,.0275,.9472],[.5531,.0286,.939],[.5566,.0297,.9302],[.5601,.0309,.9209],[.5636,.0321,.911],[.5671,.0333,.9006],[.5705,.0345,.8896],[.5739,.0357,.8781],[.5774,.037,.866],[.5807,.0384,.8534],[.5841,.0397,.8403],[.5875,.0411,.8267],[.5908,.0425,.8126],[.5941,.044,.798],[.5974,.0454,.7829],[.6007,.047,.7674],[.6039,.0485,.7513],[.6071,.0501,.7348],[.6104,.0517,.7179],[.6136,.0534,.7005],[.6168,.055,.6827],[.6199,.0568,.6645],[.6231,.0585,.6459],[.6262,.0603,.6269],[.6293,.0621,.6075],[.6325,.064,.5878],[.6355,.0659,.5677],[.6386,.0678,.5472],[.6417,.0698,.5264],[.6447,.0718,.5053],[.6478,.0739,.4839],[.6508,.076,.4622],[.6538,.0781,.4402],[.6568,.0803,.418],[.6598,.0825,.3955],[.6627,.0847,.3727],[.6657,.087,.3497],[.6686,.0893,.3265],[.6716,.0917,.3032],[.6745,.0941,.2796],[.6774,.0966,.2558],[.6803,.0991,.2319],[.6831,.1016,.2079],[.686,.1042,.1837],[.6888,.1068,.1595],[.6917,.1095,.1351],[.6945,.1122,.1107],[.6973,.115,.0861],[.7001,.1178,.0616],[.7029,.1206,.037],[.7057,.1235,.0123],[.7085,.1265,0],[.7113,.1295,0],[.714,.1325,0],[.7167,.1356,0],[.7195,.1387,0],[.7222,.1419,0],[.7249,.1451,0],[.7276,.1484,0],[.7303,.1517,0],[.733,.1551,0],[.7356,.1585,0],[.7383,.162,0],[.741,.1655,0],[.7436,.1691,0],[.7462,.1727,0],[.7489,.1764,0],[.7515,.1801,0],[.7541,.1839,0],[.7567,.1877,0],[.7593,.1916,0],[.7618,.1955,0],[.7644,.1995,0],[.767,.2035,0],[.7695,.2076,0],[.7721,.2118,0],[.7746,.216,0],[.7771,.2203,0],[.7796,.2246,0],[.7822,.229,0],[.7847,.2334,0],[.7872,.2379,0],[.7896,.2424,0],[.7921,.247,0],[.7946,.2517,0],[.7971,.2564,0],[.7995,.2612,0],[.802,.266,0],[.8044,.2709,0],[.8068,.2759,0],[.8093,.2809,0],[.8117,.286,0],[.8141,.2911,0],[.8165,.2963,0],[.8189,.3016,0],[.8213,.3069,0],[.8237,.3123,0],[.826,.3177,0],[.8284,.3232,0],[.8308,.3288,0],[.8331,.3344,0],[.8355,.3401,0],[.8378,.3459,0],[.8402,.3517,0],[.8425,.3576,0],[.8448,.3636,0],[.8471,.3696,0],[.8495,.3757,0],[.8518,.3819,0],[.8541,.3881,0],[.8563,.3944,0],[.8586,.4007,0],[.8609,.4072,0],[.8632,.4137,0],[.8655,.4202,0],[.8677,.4269,0],[.87,.4336,0],[.8722,.4403,0],[.8745,.4472,0],[.8767,.4541,0],[.8789,.4611,0],[.8812,.4681,0],[.8834,.4753,0],[.8856,.4825,0],[.8878,.4897,0],[.89,.4971,0],[.8922,.5045,0],[.8944,.512,0],[.8966,.5196,0],[.8988,.5272,0],[.901,.5349,0],[.9032,.5427,0],[.9053,.5506,0],[.9075,.5585,0],[.9096,.5665,0],[.9118,.5746,0],[.9139,.5828,0],[.9161,.591,0],[.9182,.5994,0],[.9204,.6078,0],[.9225,.6163,0],[.9246,.6248,0],[.9267,.6334,0],[.9288,.6422,0],[.9309,.651,0],[.9331,.6598,0],[.9352,.6688,0],[.9372,.6778,0],[.9393,.687,0],[.9414,.6962,0],[.9435,.7054,0],[.9456,.7148,0],[.9476,.7242,0],[.9497,.7338,0],[.9518,.7434,0],[.9538,.7531,0],[.9559,.7629,0],[.9579,.7727,0],[.96,.7827,0],[.962,.7927,0],[.9641,.8028,0],[.9661,.813,0],[.9681,.8233,0],[.9701,.8337,0],[.9722,.8442,0],[.9742,.8547,0],[.9762,.8654,0],[.9782,.8761,0],[.9802,.8869,0],[.9822,.8978,0],[.9842,.9088,0],[.9862,.9199,0],[.9882,.9311,0],[.9901,.9423,0],[.9921,.9537,0],[.9941,.9651,0],[.9961,.9767,0],[.998,.9883,0],[1,1,0]]},gnuplot2:{interpolate:!0,colors:[[0,0,0],[0,0,.0157],[0,0,.0314],[0,0,.0471],[0,0,.0627],[0,0,.0784],[0,0,.0941],[0,0,.1098],[0,0,.1255],[0,0,.1412],[0,0,.1569],[0,0,.1725],[0,0,.1882],[0,0,.2039],[0,0,.2196],[0,0,.2353],[0,0,.251],[0,0,.2667],[0,0,.2824],[0,0,.298],[0,0,.3137],[0,0,.3294],[0,0,.3451],[0,0,.3608],[0,0,.3765],[0,0,.3922],[0,0,.4078],[0,0,.4235],[0,0,.4392],[0,0,.4549],[0,0,.4706],[0,0,.4863],[0,0,.502],[0,0,.5176],[0,0,.5333],[0,0,.549],[0,0,.5647],[0,0,.5804],[0,0,.5961],[0,0,.6118],[0,0,.6275],[0,0,.6431],[0,0,.6588],[0,0,.6745],[0,0,.6902],[0,0,.7059],[0,0,.7216],[0,0,.7373],[0,0,.7529],[0,0,.7686],[0,0,.7843],[0,0,.8],[0,0,.8157],[0,0,.8314],[0,0,.8471],[0,0,.8627],[0,0,.8784],[0,0,.8941],[0,0,.9098],[0,0,.9255],[0,0,.9412],[0,0,.9569],[0,0,.9725],[0,0,.9882],[.0031,0,1],[.0153,0,1],[.0276,0,1],[.0398,0,1],[.0521,0,1],[.0643,0,1],[.0766,0,1],[.0888,0,1],[.1011,0,1],[.1134,0,1],[.1256,0,1],[.1379,0,1],[.1501,0,1],[.1624,0,1],[.1746,0,1],[.1869,0,1],[.1991,0,1],[.2114,0,1],[.2237,0,1],[.2359,0,1],[.2482,0,1],[.2604,0,1],[.2727,0,1],[.2849,0,1],[.2972,0,1],[.3094,0,1],[.3217,0,1],[.3339,0,1],[.3462,0,1],[.3585,0,1],[.3707,0,1],[.383,0,1],[.3952,0,1],[.4075,0,1],[.4197,0,1],[.432,0,1],[.4442,0,1],[.4565,0,1],[.4688,0,1],[.481,0,1],[.4933,0,1],[.5055,0,1],[.5178,0,1],[.53,0,1],[.5423,.0071,.9929],[.5545,.0149,.9851],[.5668,.0227,.9773],[.579,.0306,.9694],[.5913,.0384,.9616],[.6036,.0463,.9537],[.6158,.0541,.9459],[.6281,.062,.938],[.6403,.0698,.9302],[.6526,.0776,.9224],[.6648,.0855,.9145],[.6771,.0933,.9067],[.6893,.1012,.8988],[.7016,.109,.891],[.7138,.1169,.8831],[.7261,.1247,.8753],[.7384,.1325,.8675],[.7506,.1404,.8596],[.7629,.1482,.8518],[.7751,.1561,.8439],[.7874,.1639,.8361],[.7996,.1718,.8282],[.8119,.1796,.8204],[.8241,.1875,.8125],[.8364,.1953,.8047],[.8487,.2031,.7969],[.8609,.211,.789],[.8732,.2188,.7812],[.8854,.2267,.7733],[.8977,.2345,.7655],[.9099,.2424,.7576],[.9222,.2502,.7498],[.9344,.258,.742],[.9467,.2659,.7341],[.9589,.2737,.7263],[.9712,.2816,.7184],[.9835,.2894,.7106],[.9957,.2973,.7027],[1,.3051,.6949],[1,.3129,.6871],[1,.3208,.6792],[1,.3286,.6714],[1,.3365,.6635],[1,.3443,.6557],[1,.3522,.6478],[1,.36,.64],[1,.3678,.6322],[1,.3757,.6243],[1,.3835,.6165],[1,.3914,.6086],[1,.3992,.6008],[1,.4071,.5929],[1,.4149,.5851],[1,.4227,.5773],[1,.4306,.5694],[1,.4384,.5616],[1,.4463,.5537],[1,.4541,.5459],[1,.462,.538],[1,.4698,.5302],[1,.4776,.5224],[1,.4855,.5145],[1,.4933,.5067],[1,.5012,.4988],[1,.509,.491],[1,.5169,.4831],[1,.5247,.4753],[1,.5325,.4675],[1,.5404,.4596],[1,.5482,.4518],[1,.5561,.4439],[1,.5639,.4361],[1,.5718,.4282],[1,.5796,.4204],[1,.5875,.4125],[1,.5953,.4047],[1,.6031,.3969],[1,.611,.389],[1,.6188,.3812],[1,.6267,.3733],[1,.6345,.3655],[1,.6424,.3576],[1,.6502,.3498],[1,.658,.342],[1,.6659,.3341],[1,.6737,.3263],[1,.6816,.3184],[1,.6894,.3106],[1,.6973,.3027],[1,.7051,.2949],[1,.7129,.2871],[1,.7208,.2792],[1,.7286,.2714],[1,.7365,.2635],[1,.7443,.2557],[1,.7522,.2478],[1,.76,.24],[1,.7678,.2322],[1,.7757,.2243],[1,.7835,.2165],[1,.7914,.2086],[1,.7992,.2008],[1,.8071,.1929],[1,.8149,.1851],[1,.8227,.1773],[1,.8306,.1694],[1,.8384,.1616],[1,.8463,.1537],[1,.8541,.1459],[1,.862,.138],[1,.8698,.1302],[1,.8776,.1224],[1,.8855,.1145],[1,.8933,.1067],[1,.9012,.0988],[1,.909,.091],[1,.9169,.0831],[1,.9247,.0753],[1,.9325,.0675],[1,.9404,.0596],[1,.9482,.0518],[1,.9561,.0439],[1,.9639,.0361],[1,.9718,.0282],[1,.9796,.0204],[1,.9875,.0125],[1,.9953,.0047],[1,1,.0196],[1,1,.0686],[1,1,.1176],[1,1,.1667],[1,1,.2157],[1,1,.2647],[1,1,.3137],[1,1,.3627],[1,1,.4118],[1,1,.4608],[1,1,.5098],[1,1,.5588],[1,1,.6078],[1,1,.6569],[1,1,.7059],[1,1,.7549],[1,1,.8039],[1,1,.8529],[1,1,.902],[1,1,.951],[1,1,1]]},gray:{interpolate:!0,colors:[[0,0,0],[.0039,.0039,.0039],[.0078,.0078,.0078],[.0118,.0118,.0118],[.0157,.0157,.0157],[.0196,.0196,.0196],[.0235,.0235,.0235],[.0275,.0275,.0275],[.0314,.0314,.0314],[.0353,.0353,.0353],[.0392,.0392,.0392],[.0431,.0431,.0431],[.0471,.0471,.0471],[.051,.051,.051],[.0549,.0549,.0549],[.0588,.0588,.0588],[.0627,.0627,.0627],[.0667,.0667,.0667],[.0706,.0706,.0706],[.0745,.0745,.0745],[.0784,.0784,.0784],[.0824,.0824,.0824],[.0863,.0863,.0863],[.0902,.0902,.0902],[.0941,.0941,.0941],[.098,.098,.098],[.102,.102,.102],[.1059,.1059,.1059],[.1098,.1098,.1098],[.1137,.1137,.1137],[.1176,.1176,.1176],[.1216,.1216,.1216],[.1255,.1255,.1255],[.1294,.1294,.1294],[.1333,.1333,.1333],[.1373,.1373,.1373],[.1412,.1412,.1412],[.1451,.1451,.1451],[.149,.149,.149],[.1529,.1529,.1529],[.1569,.1569,.1569],[.1608,.1608,.1608],[.1647,.1647,.1647],[.1686,.1686,.1686],[.1725,.1725,.1725],[.1765,.1765,.1765],[.1804,.1804,.1804],[.1843,.1843,.1843],[.1882,.1882,.1882],[.1922,.1922,.1922],[.1961,.1961,.1961],[.2,.2,.2],[.2039,.2039,.2039],[.2078,.2078,.2078],[.2118,.2118,.2118],[.2157,.2157,.2157],[.2196,.2196,.2196],[.2235,.2235,.2235],[.2275,.2275,.2275],[.2314,.2314,.2314],[.2353,.2353,.2353],[.2392,.2392,.2392],[.2431,.2431,.2431],[.2471,.2471,.2471],[.251,.251,.251],[.2549,.2549,.2549],[.2588,.2588,.2588],[.2627,.2627,.2627],[.2667,.2667,.2667],[.2706,.2706,.2706],[.2745,.2745,.2745],[.2784,.2784,.2784],[.2824,.2824,.2824],[.2863,.2863,.2863],[.2902,.2902,.2902],[.2941,.2941,.2941],[.298,.298,.298],[.302,.302,.302],[.3059,.3059,.3059],[.3098,.3098,.3098],[.3137,.3137,.3137],[.3176,.3176,.3176],[.3216,.3216,.3216],[.3255,.3255,.3255],[.3294,.3294,.3294],[.3333,.3333,.3333],[.3373,.3373,.3373],[.3412,.3412,.3412],[.3451,.3451,.3451],[.349,.349,.349],[.3529,.3529,.3529],[.3569,.3569,.3569],[.3608,.3608,.3608],[.3647,.3647,.3647],[.3686,.3686,.3686],[.3725,.3725,.3725],[.3765,.3765,.3765],[.3804,.3804,.3804],[.3843,.3843,.3843],[.3882,.3882,.3882],[.3922,.3922,.3922],[.3961,.3961,.3961],[.4,.4,.4],[.4039,.4039,.4039],[.4078,.4078,.4078],[.4118,.4118,.4118],[.4157,.4157,.4157],[.4196,.4196,.4196],[.4235,.4235,.4235],[.4275,.4275,.4275],[.4314,.4314,.4314],[.4353,.4353,.4353],[.4392,.4392,.4392],[.4431,.4431,.4431],[.4471,.4471,.4471],[.451,.451,.451],[.4549,.4549,.4549],[.4588,.4588,.4588],[.4627,.4627,.4627],[.4667,.4667,.4667],[.4706,.4706,.4706],[.4745,.4745,.4745],[.4784,.4784,.4784],[.4824,.4824,.4824],[.4863,.4863,.4863],[.4902,.4902,.4902],[.4941,.4941,.4941],[.498,.498,.498],[.502,.502,.502],[.5059,.5059,.5059],[.5098,.5098,.5098],[.5137,.5137,.5137],[.5176,.5176,.5176],[.5216,.5216,.5216],[.5255,.5255,.5255],[.5294,.5294,.5294],[.5333,.5333,.5333],[.5373,.5373,.5373],[.5412,.5412,.5412],[.5451,.5451,.5451],[.549,.549,.549],[.5529,.5529,.5529],[.5569,.5569,.5569],[.5608,.5608,.5608],[.5647,.5647,.5647],[.5686,.5686,.5686],[.5725,.5725,.5725],[.5765,.5765,.5765],[.5804,.5804,.5804],[.5843,.5843,.5843],[.5882,.5882,.5882],[.5922,.5922,.5922],[.5961,.5961,.5961],[.6,.6,.6],[.6039,.6039,.6039],[.6078,.6078,.6078],[.6118,.6118,.6118],[.6157,.6157,.6157],[.6196,.6196,.6196],[.6235,.6235,.6235],[.6275,.6275,.6275],[.6314,.6314,.6314],[.6353,.6353,.6353],[.6392,.6392,.6392],[.6431,.6431,.6431],[.6471,.6471,.6471],[.651,.651,.651],[.6549,.6549,.6549],[.6588,.6588,.6588],[.6627,.6627,.6627],[.6667,.6667,.6667],[.6706,.6706,.6706],[.6745,.6745,.6745],[.6784,.6784,.6784],[.6824,.6824,.6824],[.6863,.6863,.6863],[.6902,.6902,.6902],[.6941,.6941,.6941],[.698,.698,.698],[.702,.702,.702],[.7059,.7059,.7059],[.7098,.7098,.7098],[.7137,.7137,.7137],[.7176,.7176,.7176],[.7216,.7216,.7216],[.7255,.7255,.7255],[.7294,.7294,.7294],[.7333,.7333,.7333],[.7373,.7373,.7373],[.7412,.7412,.7412],[.7451,.7451,.7451],[.749,.749,.749],[.7529,.7529,.7529],[.7569,.7569,.7569],[.7608,.7608,.7608],[.7647,.7647,.7647],[.7686,.7686,.7686],[.7725,.7725,.7725],[.7765,.7765,.7765],[.7804,.7804,.7804],[.7843,.7843,.7843],[.7882,.7882,.7882],[.7922,.7922,.7922],[.7961,.7961,.7961],[.8,.8,.8],[.8039,.8039,.8039],[.8078,.8078,.8078],[.8118,.8118,.8118],[.8157,.8157,.8157],[.8196,.8196,.8196],[.8235,.8235,.8235],[.8275,.8275,.8275],[.8314,.8314,.8314],[.8353,.8353,.8353],[.8392,.8392,.8392],[.8431,.8431,.8431],[.8471,.8471,.8471],[.851,.851,.851],[.8549,.8549,.8549],[.8588,.8588,.8588],[.8627,.8627,.8627],[.8667,.8667,.8667],[.8706,.8706,.8706],[.8745,.8745,.8745],[.8784,.8784,.8784],[.8824,.8824,.8824],[.8863,.8863,.8863],[.8902,.8902,.8902],[.8941,.8941,.8941],[.898,.898,.898],[.902,.902,.902],[.9059,.9059,.9059],[.9098,.9098,.9098],[.9137,.9137,.9137],[.9176,.9176,.9176],[.9216,.9216,.9216],[.9255,.9255,.9255],[.9294,.9294,.9294],[.9333,.9333,.9333],[.9373,.9373,.9373],[.9412,.9412,.9412],[.9451,.9451,.9451],[.949,.949,.949],[.9529,.9529,.9529],[.9569,.9569,.9569],[.9608,.9608,.9608],[.9647,.9647,.9647],[.9686,.9686,.9686],[.9725,.9725,.9725],[.9765,.9765,.9765],[.9804,.9804,.9804],[.9843,.9843,.9843],[.9882,.9882,.9882],[.9922,.9922,.9922],[.9961,.9961,.9961],[1,1,1]]},hot:{interpolate:!0,colors:[[.0416,0,0],[.0519,0,0],[.0622,0,0],[.0725,0,0],[.0828,0,0],[.0931,0,0],[.1034,0,0],[.1137,0,0],[.124,0,0],[.1343,0,0],[.1445,0,0],[.1548,0,0],[.1651,0,0],[.1754,0,0],[.1857,0,0],[.196,0,0],[.2063,0,0],[.2166,0,0],[.2269,0,0],[.2372,0,0],[.2475,0,0],[.2578,0,0],[.2681,0,0],[.2784,0,0],[.2887,0,0],[.299,0,0],[.3093,0,0],[.3196,0,0],[.3299,0,0],[.3402,0,0],[.3504,0,0],[.3607,0,0],[.371,0,0],[.3813,0,0],[.3916,0,0],[.4019,0,0],[.4122,0,0],[.4225,0,0],[.4328,0,0],[.4431,0,0],[.4534,0,0],[.4637,0,0],[.474,0,0],[.4843,0,0],[.4946,0,0],[.5049,0,0],[.5152,0,0],[.5255,0,0],[.5358,0,0],[.546,0,0],[.5563,0,0],[.5666,0,0],[.5769,0,0],[.5872,0,0],[.5975,0,0],[.6078,0,0],[.6181,0,0],[.6284,0,0],[.6387,0,0],[.649,0,0],[.6593,0,0],[.6696,0,0],[.6799,0,0],[.6902,0,0],[.7005,0,0],[.7108,0,0],[.7211,0,0],[.7314,0,0],[.7416,0,0],[.7519,0,0],[.7622,0,0],[.7725,0,0],[.7828,0,0],[.7931,0,0],[.8034,0,0],[.8137,0,0],[.824,0,0],[.8343,0,0],[.8446,0,0],[.8549,0,0],[.8652,0,0],[.8755,0,0],[.8858,0,0],[.8961,0,0],[.9064,0,0],[.9167,0,0],[.927,0,0],[.9373,0,0],[.9475,0,0],[.9578,0,0],[.9681,0,0],[.9784,0,0],[.9887,0,0],[.999,0,0],[1,.0093,0],[1,.0196,0],[1,.0299,0],[1,.0402,0],[1,.0505,0],[1,.0608,0],[1,.0711,0],[1,.0814,0],[1,.0917,0],[1,.102,0],[1,.1123,0],[1,.1225,0],[1,.1328,0],[1,.1431,0],[1,.1534,0],[1,.1637,0],[1,.174,0],[1,.1843,0],[1,.1946,0],[1,.2049,0],[1,.2152,0],[1,.2255,0],[1,.2358,0],[1,.2461,0],[1,.2564,0],[1,.2667,0],[1,.277,0],[1,.2873,0],[1,.2975,0],[1,.3078,0],[1,.3181,0],[1,.3284,0],[1,.3387,0],[1,.349,0],[1,.3593,0],[1,.3696,0],[1,.3799,0],[1,.3902,0],[1,.4005,0],[1,.4108,0],[1,.4211,0],[1,.4314,0],[1,.4417,0],[1,.452,0],[1,.4623,0],[1,.4725,0],[1,.4828,0],[1,.4931,0],[1,.5034,0],[1,.5137,0],[1,.524,0],[1,.5343,0],[1,.5446,0],[1,.5549,0],[1,.5652,0],[1,.5755,0],[1,.5858,0],[1,.5961,0],[1,.6064,0],[1,.6167,0],[1,.627,0],[1,.6373,0],[1,.6475,0],[1,.6578,0],[1,.6681,0],[1,.6784,0],[1,.6887,0],[1,.699,0],[1,.7093,0],[1,.7196,0],[1,.7299,0],[1,.7402,0],[1,.7505,0],[1,.7608,0],[1,.7711,0],[1,.7814,0],[1,.7917,0],[1,.802,0],[1,.8123,0],[1,.8225,0],[1,.8328,0],[1,.8431,0],[1,.8534,0],[1,.8637,0],[1,.874,0],[1,.8843,0],[1,.8946,0],[1,.9049,0],[1,.9152,0],[1,.9255,0],[1,.9358,0],[1,.9461,0],[1,.9564,0],[1,.9667,0],[1,.977,0],[1,.9873,0],[1,.9975,0],[1,1,.0118],[1,1,.0272],[1,1,.0426],[1,1,.0581],[1,1,.0735],[1,1,.089],[1,1,.1044],[1,1,.1199],[1,1,.1353],[1,1,.1507],[1,1,.1662],[1,1,.1816],[1,1,.1971],[1,1,.2125],[1,1,.2279],[1,1,.2434],[1,1,.2588],[1,1,.2743],[1,1,.2897],[1,1,.3051],[1,1,.3206],[1,1,.336],[1,1,.3515],[1,1,.3669],[1,1,.3824],[1,1,.3978],[1,1,.4132],[1,1,.4287],[1,1,.4441],[1,1,.4596],[1,1,.475],[1,1,.4904],[1,1,.5059],[1,1,.5213],[1,1,.5368],[1,1,.5522],[1,1,.5676],[1,1,.5831],[1,1,.5985],[1,1,.614],[1,1,.6294],[1,1,.6449],[1,1,.6603],[1,1,.6757],[1,1,.6912],[1,1,.7066],[1,1,.7221],[1,1,.7375],[1,1,.7529],[1,1,.7684],[1,1,.7838],[1,1,.7993],[1,1,.8147],[1,1,.8301],[1,1,.8456],[1,1,.861],[1,1,.8765],[1,1,.8919],[1,1,.9074],[1,1,.9228],[1,1,.9382],[1,1,.9537],[1,1,.9691],[1,1,.9846],[1,1,1]]},hsv:{interpolate:!0,colors:[[1,0,0],[1,.0232,0],[1,.0463,0],[1,.0695,0],[1,.0926,0],[1,.1158,0],[1,.139,0],[1,.1621,0],[1,.1853,0],[1,.2085,0],[1,.2316,0],[1,.2548,0],[1,.2779,0],[1,.3011,0],[1,.3243,0],[1,.3474,0],[1,.3706,0],[1,.3938,0],[1,.4169,0],[1,.4401,0],[1,.4632,0],[1,.4864,0],[1,.5096,0],[1,.5327,0],[1,.5559,0],[1,.579,0],[1,.6022,0],[1,.6254,0],[1,.6485,0],[1,.6717,0],[1,.6949,0],[1,.718,0],[1,.7412,0],[1,.7643,0],[1,.7875,0],[1,.8107,0],[1,.8338,0],[1,.857,0],[1,.8801,0],[1,.9033,0],[1,.9265,0],[.996,.9456,0],[.9882,.961,0],[.9805,.9765,0],[.9728,.9919,0],[.9577,1,0],[.9346,1,0],[.9114,1,0],[.8882,1,0],[.8651,1,0],[.8419,1,0],[.8187,1,0],[.7956,1,0],[.7724,1,0],[.7493,1,0],[.7261,1,0],[.7029,1,0],[.6798,1,0],[.6566,1,0],[.6335,1,0],[.6103,1,0],[.5871,1,0],[.564,1,0],[.5408,1,0],[.5176,1,0],[.4945,1,0],[.4713,1,0],[.4482,1,0],[.425,1,0],[.4018,1,0],[.3787,1,0],[.3555,1,0],[.3324,1,0],[.3092,1,0],[.286,1,0],[.2629,1,0],[.2397,1,0],[.2165,1,0],[.1934,1,0],[.1702,1,0],[.1471,1,0],[.1239,1,0],[.1007,1,0],[.0776,1,0],[.0544,1,0],[.0312,1,0],[.0235,1,.0154],[.0158,1,.0309],[.0081,1,.0463],[4e-4,1,.0618],[0,1,.0846],[0,1,.1077],[0,1,.1309],[0,1,.154],[0,1,.1772],[0,1,.2004],[0,1,.2235],[0,1,.2467],[0,1,.2699],[0,1,.293],[0,1,.3162],[0,1,.3393],[0,1,.3625],[0,1,.3857],[0,1,.4088],[0,1,.432],[0,1,.4551],[0,1,.4783],[0,1,.5015],[0,1,.5246],[0,1,.5478],[0,1,.571],[0,1,.5941],[0,1,.6173],[0,1,.6404],[0,1,.6636],[0,1,.6868],[0,1,.7099],[0,1,.7331],[0,1,.7562],[0,1,.7794],[0,1,.8026],[0,1,.8257],[0,1,.8489],[0,1,.8721],[0,1,.8952],[0,1,.9184],[0,1,.9415],[0,1,.9647],[0,1,.9879],[0,.989,1],[0,.9658,1],[0,.9426,1],[0,.9195,1],[0,.8963,1],[0,.8732,1],[0,.85,1],[0,.8268,1],[0,.8037,1],[0,.7805,1],[0,.7574,1],[0,.7342,1],[0,.711,1],[0,.6879,1],[0,.6647,1],[0,.6415,1],[0,.6184,1],[0,.5952,1],[0,.5721,1],[0,.5489,1],[0,.5257,1],[0,.5026,1],[0,.4794,1],[0,.4563,1],[0,.4331,1],[0,.4099,1],[0,.3868,1],[0,.3636,1],[0,.3404,1],[0,.3173,1],[0,.2941,1],[0,.271,1],[0,.2478,1],[0,.2246,1],[0,.2015,1],[0,.1783,1],[0,.1551,1],[0,.132,1],[0,.1088,1],[0,.0857,1],[0,.0625,1],[.0077,.0471,1],[.0154,.0316,1],[.0232,.0162,1],[.0309,7e-4,1],[.0533,0,1],[.0765,0,1],[.0996,0,1],[.1228,0,1],[.146,0,1],[.1691,0,1],[.1923,0,1],[.2154,0,1],[.2386,0,1],[.2618,0,1],[.2849,0,1],[.3081,0,1],[.3312,0,1],[.3544,0,1],[.3776,0,1],[.4007,0,1],[.4239,0,1],[.4471,0,1],[.4702,0,1],[.4934,0,1],[.5165,0,1],[.5397,0,1],[.5629,0,1],[.586,0,1],[.6092,0,1],[.6324,0,1],[.6555,0,1],[.6787,0,1],[.7018,0,1],[.725,0,1],[.7482,0,1],[.7713,0,1],[.7945,0,1],[.8176,0,1],[.8408,0,1],[.864,0,1],[.8871,0,1],[.9103,0,1],[.9335,0,1],[.9566,0,1],[.9724,0,.9926],[.9801,0,.9772],[.9879,0,.9618],[.9956,0,.9463],[1,0,.9276],[1,0,.9044],[1,0,.8813],[1,0,.8581],[1,0,.8349],[1,0,.8118],[1,0,.7886],[1,0,.7654],[1,0,.7423],[1,0,.7191],[1,0,.696],[1,0,.6728],[1,0,.6496],[1,0,.6265],[1,0,.6033],[1,0,.5801],[1,0,.557],[1,0,.5338],[1,0,.5107],[1,0,.4875],[1,0,.4643],[1,0,.4412],[1,0,.418],[1,0,.3949],[1,0,.3717],[1,0,.3485],[1,0,.3254],[1,0,.3022],[1,0,.279],[1,0,.2559],[1,0,.2327],[1,0,.2096],[1,0,.1864],[1,0,.1632],[1,0,.1401],[1,0,.1169],[1,0,.0938]]},inferno:{interpolate:!0,colors:[[.0015,5e-4,.0139],[.0023,.0013,.0186],[.0033,.0022,.0242],[.0045,.0034,.0309],[.006,.0047,.0386],[.0077,.0061,.0468],[.0096,.0077,.0551],[.0117,.0094,.0635],[.014,.0112,.0719],[.0166,.0131,.0803],[.0194,.0151,.0888],[.0224,.0172,.0973],[.0258,.0193,.1059],[.0294,.0215,.1146],[.0334,.0237,.1234],[.0377,.0259,.1322],[.0423,.0281,.1411],[.0469,.0303,.1502],[.0516,.0325,.1593],[.0564,.0346,.1684],[.0613,.0366,.1776],[.0663,.0385,.187],[.0714,.0403,.1964],[.0766,.0419,.2058],[.082,.0433,.2153],[.0874,.0446,.2248],[.093,.0456,.2344],[.0987,.0464,.2439],[.1046,.047,.2534],[.1105,.0474,.2629],[.1167,.0476,.2723],[.1229,.0475,.2816],[.1293,.0473,.2908],[.1358,.0469,.2998],[.1424,.0462,.3086],[.1491,.0455,.3171],[.1558,.0446,.3253],[.1627,.0436,.3333],[.1696,.0425,.3409],[.1765,.0414,.3481],[.1834,.0403,.355],[.1904,.0393,.3614],[.1973,.0384,.3675],[.2042,.0376,.3732],[.2111,.037,.3786],[.2179,.0366,.3835],[.2248,.0364,.3881],[.2315,.0364,.3924],[.2383,.0366,.3964],[.245,.0371,.4],[.2516,.0377,.4034],[.2582,.0386,.4065],[.2648,.0396,.4093],[.2713,.0409,.412],[.2778,.0424,.4144],[.2843,.0439,.4166],[.2908,.0456,.4186],[.2972,.0475,.4205],[.3036,.0494,.4222],[.3099,.0514,.4237],[.3163,.0535,.4251],[.3226,.0556,.4264],[.3289,.0578,.4275],[.3352,.0601,.4285],[.3415,.0623,.4294],[.3478,.0646,.4302],[.354,.0669,.4309],[.3603,.0692,.4315],[.3665,.0716,.432],[.3728,.0739,.4324],[.379,.0763,.4327],[.3852,.0786,.433],[.3915,.0809,.4331],[.3977,.0833,.4332],[.4039,.0856,.4332],[.4101,.0879,.4331],[.4163,.0902,.4329],[.4225,.0925,.4327],[.4288,.0948,.4324],[.435,.0971,.432],[.4412,.0993,.4316],[.4474,.1016,.4311],[.4537,.1038,.4305],[.4599,.1061,.4298],[.4661,.1083,.4291],[.4723,.1105,.4283],[.4786,.1128,.4275],[.4848,.115,.4265],[.491,.1172,.4256],[.4973,.1194,.4245],[.5035,.1216,.4234],[.5097,.1238,.4222],[.516,.126,.4209],[.5222,.1281,.4195],[.5284,.1303,.4181],[.5347,.1325,.4167],[.5409,.1347,.4151],[.5472,.1369,.4135],[.5534,.1391,.4118],[.5596,.1413,.4101],[.5659,.1436,.4083],[.5721,.1458,.4064],[.5783,.148,.4044],[.5845,.1503,.4024],[.5907,.1526,.4003],[.5969,.1548,.3981],[.6031,.1572,.3959],[.6093,.1595,.3936],[.6155,.1618,.3912],[.6217,.1642,.3888],[.6278,.1666,.3863],[.634,.169,.3837],[.6401,.1714,.3811],[.6463,.1739,.3784],[.6524,.1764,.3756],[.6585,.179,.3727],[.6645,.1815,.3698],[.6706,.1842,.3669],[.6766,.1868,.3638],[.6827,.1895,.3608],[.6887,.1922,.3576],[.6946,.195,.3544],[.7006,.1979,.3511],[.7065,.2007,.3478],[.7124,.2037,.3444],[.7183,.2066,.3409],[.7241,.2097,.3374],[.7299,.2128,.3339],[.7357,.2159,.3302],[.7414,.2191,.3266],[.7471,.2224,.3229],[.7528,.2257,.3191],[.7584,.2291,.3153],[.764,.2326,.3114],[.7696,.2361,.3075],[.7751,.2397,.3035],[.7805,.2433,.2995],[.7859,.2471,.2955],[.7913,.2509,.2914],[.7966,.2547,.2873],[.8019,.2587,.2831],[.8071,.2627,.2789],[.8122,.2668,.2747],[.8173,.271,.2704],[.8224,.2752,.2661],[.8274,.2795,.2618],[.8323,.2839,.2574],[.8372,.2884,.253],[.842,.2929,.2486],[.8467,.2976,.2441],[.8514,.3023,.2396],[.856,.307,.2351],[.8605,.3119,.2306],[.865,.3168,.2261],[.8694,.3218,.2215],[.8737,.3269,.2169],[.878,.3321,.2123],[.8822,.3373,.2076],[.8863,.3426,.203],[.8903,.348,.1983],[.8943,.3534,.1936],[.8982,.3589,.1889],[.902,.3645,.1841],[.9057,.3701,.1794],[.9094,.3759,.1746],[.913,.3816,.1698],[.9165,.3875,.1649],[.9199,.3934,.1601],[.9232,.3994,.1552],[.9265,.4054,.1503],[.9296,.4115,.1454],[.9327,.4176,.1404],[.9357,.4238,.1354],[.9387,.4301,.1304],[.9415,.4364,.1254],[.9443,.4428,.1204],[.947,.4492,.1153],[.9496,.4557,.1102],[.9521,.4622,.105],[.9545,.4687,.0999],[.9569,.4754,.0947],[.9591,.482,.0895],[.9613,.4887,.0843],[.9634,.4955,.0791],[.9654,.5022,.0739],[.9673,.5091,.0687],[.9692,.5159,.0635],[.9709,.5229,.0584],[.9726,.5298,.0533],[.9742,.5368,.0484],[.9757,.5438,.0436],[.9771,.5508,.039],[.9784,.5579,.0349],[.9797,.5651,.0314],[.9808,.5722,.0285],[.9819,.5794,.0262],[.9829,.5866,.0247],[.9838,.5938,.0238],[.9846,.6011,.0236],[.9853,.6084,.0242],[.986,.6158,.0256],[.9865,.6231,.0278],[.987,.6305,.0309],[.9873,.6379,.0349],[.9876,.6453,.0399],[.9878,.6528,.0456],[.9879,.6602,.0518],[.9879,.6677,.0583],[.9879,.6753,.0653],[.9877,.6828,.0725],[.9875,.6904,.08],[.9871,.6979,.0877],[.9867,.7055,.0957],[.9862,.7132,.1039],[.9856,.7208,.1122],[.9849,.7284,.1208],[.9841,.7361,.1295],[.9832,.7438,.1385],[.9822,.7514,.1476],[.9812,.7591,.1569],[.98,.7668,.1664],[.9788,.7745,.176],[.9775,.7823,.1859],[.9761,.79,.196],[.9746,.7977,.2063],[.9731,.8054,.2169],[.9715,.8131,.2277],[.9698,.8208,.2387],[.968,.8285,.25],[.9662,.8362,.2615],[.9644,.8438,.2734],[.9625,.8515,.2855],[.9606,.8591,.298],[.9587,.8666,.3108],[.9568,.8741,.324],[.955,.8816,.3375],[.9532,.8889,.3514],[.9515,.8962,.3656],[.95,.9034,.3803],[.9487,.9105,.3953],[.9476,.9174,.4107],[.9468,.9242,.4264],[.9464,.9308,.4424],[.9464,.9372,.4586],[.9469,.9433,.475],[.9479,.9493,.4914],[.9495,.9551,.5079],[.9517,.9606,.5242],[.9545,.9659,.5404],[.9579,.971,.5563],[.9618,.9759,.5719],[.9662,.9807,.5872],[.9712,.9853,.6022],[.9765,.9898,.6168],[.9823,.9941,.631],[.9884,.9984,.6449]]},jet:{interpolate:!0,colors:[[0,0,.5],[0,0,.5178],[0,0,.5357],[0,0,.5535],[0,0,.5713],[0,0,.5891],[0,0,.607],[0,0,.6248],[0,0,.6426],[0,0,.6604],[0,0,.6783],[0,0,.6961],[0,0,.7139],[0,0,.7317],[0,0,.7496],[0,0,.7674],[0,0,.7852],[0,0,.803],[0,0,.8209],[0,0,.8387],[0,0,.8565],[0,0,.8743],[0,0,.8922],[0,0,.91],[0,0,.9278],[0,0,.9456],[0,0,.9635],[0,0,.9813],[0,0,.9991],[0,0,1],[0,0,1],[0,0,1],[0,.002,1],[0,.0176,1],[0,.0333,1],[0,.049,1],[0,.0647,1],[0,.0804,1],[0,.0961,1],[0,.1118,1],[0,.1275,1],[0,.1431,1],[0,.1588,1],[0,.1745,1],[0,.1902,1],[0,.2059,1],[0,.2216,1],[0,.2373,1],[0,.2529,1],[0,.2686,1],[0,.2843,1],[0,.3,1],[0,.3157,1],[0,.3314,1],[0,.3471,1],[0,.3627,1],[0,.3784,1],[0,.3941,1],[0,.4098,1],[0,.4255,1],[0,.4412,1],[0,.4569,1],[0,.4725,1],[0,.4882,1],[0,.5039,1],[0,.5196,1],[0,.5353,1],[0,.551,1],[0,.5667,1],[0,.5824,1],[0,.598,1],[0,.6137,1],[0,.6294,1],[0,.6451,1],[0,.6608,1],[0,.6765,1],[0,.6922,1],[0,.7078,1],[0,.7235,1],[0,.7392,1],[0,.7549,1],[0,.7706,1],[0,.7863,1],[0,.802,1],[0,.8176,1],[0,.8333,1],[0,.849,1],[0,.8647,.9962],[0,.8804,.9836],[0,.8961,.9709],[.0095,.9118,.9583],[.0221,.9275,.9456],[.0348,.9431,.933],[.0474,.9588,.9203],[.0601,.9745,.9077],[.0727,.9902,.895],[.0854,1,.8824],[.098,1,.8697],[.1107,1,.8571],[.1233,1,.8444],[.136,1,.8318],[.1486,1,.8191],[.1613,1,.8065],[.1739,1,.7938],[.1866,1,.7812],[.1992,1,.7685],[.2119,1,.7559],[.2245,1,.7432],[.2372,1,.7306],[.2498,1,.7179],[.2625,1,.7052],[.2751,1,.6926],[.2878,1,.6799],[.3004,1,.6673],[.3131,1,.6546],[.3257,1,.642],[.3384,1,.6293],[.351,1,.6167],[.3637,1,.604],[.3763,1,.5914],[.389,1,.5787],[.4016,1,.5661],[.4143,1,.5534],[.4269,1,.5408],[.4396,1,.5281],[.4522,1,.5155],[.4649,1,.5028],[.4775,1,.4902],[.4902,1,.4775],[.5028,1,.4649],[.5155,1,.4522],[.5281,1,.4396],[.5408,1,.4269],[.5534,1,.4143],[.5661,1,.4016],[.5787,1,.389],[.5914,1,.3763],[.604,1,.3637],[.6167,1,.351],[.6293,1,.3384],[.642,1,.3257],[.6546,1,.3131],[.6673,1,.3004],[.6799,1,.2878],[.6926,1,.2751],[.7052,1,.2625],[.7179,1,.2498],[.7306,1,.2372],[.7432,1,.2245],[.7559,1,.2119],[.7685,1,.1992],[.7812,1,.1866],[.7938,1,.1739],[.8065,1,.1613],[.8191,1,.1486],[.8318,1,.136],[.8444,1,.1233],[.8571,1,.1107],[.8697,1,.098],[.8824,1,.0854],[.895,1,.0727],[.9077,1,.0601],[.9203,1,.0474],[.933,1,.0348],[.9456,.9884,.0221],[.9583,.9739,.0095],[.9709,.9593,0],[.9836,.9448,0],[.9962,.9303,0],[1,.9158,0],[1,.9012,0],[1,.8867,0],[1,.8722,0],[1,.8577,0],[1,.8431,0],[1,.8286,0],[1,.8141,0],[1,.7996,0],[1,.785,0],[1,.7705,0],[1,.756,0],[1,.7415,0],[1,.7269,0],[1,.7124,0],[1,.6979,0],[1,.6834,0],[1,.6688,0],[1,.6543,0],[1,.6398,0],[1,.6253,0],[1,.6107,0],[1,.5962,0],[1,.5817,0],[1,.5672,0],[1,.5527,0],[1,.5381,0],[1,.5236,0],[1,.5091,0],[1,.4946,0],[1,.48,0],[1,.4655,0],[1,.451,0],[1,.4365,0],[1,.4219,0],[1,.4074,0],[1,.3929,0],[1,.3784,0],[1,.3638,0],[1,.3493,0],[1,.3348,0],[1,.3203,0],[1,.3057,0],[1,.2912,0],[1,.2767,0],[1,.2622,0],[1,.2476,0],[1,.2331,0],[1,.2186,0],[1,.2041,0],[1,.1895,0],[1,.175,0],[1,.1605,0],[1,.146,0],[1,.1314,0],[1,.1169,0],[1,.1024,0],[1,.0879,0],[.9991,.0733,0],[.9813,.0588,0],[.9635,.0443,0],[.9456,.0298,0],[.9278,.0153,0],[.91,7e-4,0],[.8922,0,0],[.8743,0,0],[.8565,0,0],[.8387,0,0],[.8209,0,0],[.803,0,0],[.7852,0,0],[.7674,0,0],[.7496,0,0],[.7317,0,0],[.7139,0,0],[.6961,0,0],[.6783,0,0],[.6604,0,0],[.6426,0,0],[.6248,0,0],[.607,0,0],[.5891,0,0],[.5713,0,0],[.5535,0,0],[.5357,0,0],[.5178,0,0],[.5,0,0]]},magma:{interpolate:!0,colors:[[.0015,5e-4,.0139],[.0023,.0013,.0183],[.0033,.0023,.0237],[.0045,.0035,.03],[.006,.0048,.0371],[.0076,.0064,.045],[.0094,.008,.0528],[.0115,.0098,.0608],[.0137,.0118,.0687],[.0162,.0138,.0766],[.0188,.016,.0846],[.0217,.0183,.0926],[.0248,.0207,.1007],[.0281,.0232,.1088],[.0317,.0258,.117],[.0355,.0284,.1252],[.0396,.0311,.1335],[.0438,.0338,.1419],[.0481,.0366,.1503],[.0523,.0394,.1588],[.0566,.0422,.1674],[.0609,.0448,.1761],[.0653,.0473,.1849],[.0698,.0497,.1937],[.0743,.052,.2027],[.0788,.0542,.2117],[.0834,.0562,.2208],[.0882,.0581,.2299],[.0929,.0599,.2392],[.0978,.0615,.2485],[.1028,.063,.2579],[.1079,.0643,.2673],[.1131,.0655,.2768],[.1184,.0665,.2863],[.1238,.0673,.2959],[.1294,.0679,.3054],[.1351,.0684,.315],[.1409,.0687,.3245],[.1468,.0687,.334],[.1528,.0686,.3434],[.159,.0684,.3527],[.1653,.0679,.3618],[.1717,.0673,.3708],[.1782,.0666,.3795],[.1848,.0657,.388],[.1915,.0648,.3962],[.1982,.0639,.404],[.2049,.0629,.4115],[.2117,.062,.4186],[.2185,.0612,.4254],[.2253,.0604,.4317],[.2321,.0599,.4377],[.2388,.0595,.4433],[.2455,.0594,.4484],[.2522,.0594,.4532],[.2589,.0597,.4577],[.2654,.0602,.4618],[.272,.061,.4657],[.2785,.062,.4692],[.285,.0632,.4725],[.2914,.0646,.4755],[.2977,.0661,.4782],[.3041,.0678,.4808],[.3104,.0697,.4832],[.3167,.0717,.4854],[.3229,.0738,.4874],[.3291,.076,.4893],[.3353,.0782,.491],[.3415,.0806,.4926],[.3476,.0829,.4941],[.3538,.0854,.4955],[.3599,.0878,.4968],[.366,.0903,.498],[.3721,.0928,.4991],[.3782,.0953,.5001],[.3843,.0979,.501],[.3904,.1004,.5019],[.3965,.1029,.5027],[.4025,.1054,.5034],[.4086,.1079,.5041],[.4147,.1104,.5047],[.4208,.1129,.5052],[.4269,.1154,.5057],[.433,.1179,.5062],[.4391,.1203,.5066],[.4452,.1227,.5069],[.4513,.1251,.5072],[.4574,.1275,.5074],[.4635,.1299,.5077],[.4696,.1322,.5078],[.4758,.1346,.5079],[.4819,.1369,.508],[.4881,.1392,.508],[.4943,.1415,.508],[.5004,.1437,.5079],[.5066,.146,.5078],[.5128,.1482,.5076],[.519,.1504,.5074],[.5253,.1526,.5072],[.5315,.1547,.5069],[.5378,.1569,.5066],[.544,.159,.5062],[.5503,.1612,.5057],[.5566,.1633,.5052],[.5629,.1654,.5047],[.5692,.1675,.5041],[.5755,.1695,.5035],[.5818,.1716,.5028],[.5882,.1737,.502],[.5945,.1757,.5012],[.6009,.1777,.5004],[.6072,.1798,.4995],[.6136,.1818,.4985],[.62,.1838,.4975],[.6264,.1859,.4965],[.6328,.1879,.4953],[.6392,.1899,.4942],[.6456,.192,.4929],[.6521,.194,.4916],[.6585,.196,.4903],[.6649,.1981,.4888],[.6713,.2001,.4874],[.6778,.2022,.4858],[.6842,.2043,.4842],[.6907,.2064,.4826],[.6971,.2085,.4808],[.7035,.2106,.479],[.71,.2128,.4772],[.7164,.215,.4753],[.7228,.2172,.4733],[.7292,.2194,.4713],[.7356,.2217,.4692],[.742,.224,.467],[.7484,.2264,.4648],[.7547,.2288,.4625],[.7611,.2312,.4602],[.7674,.2337,.4578],[.7737,.2362,.4553],[.78,.2389,.4528],[.7862,.2415,.4502],[.7924,.2442,.4475],[.7986,.247,.4448],[.8048,.2499,.4421],[.8109,.2529,.4393],[.8169,.2559,.4365],[.8229,.259,.4336],[.8289,.2622,.4306],[.8348,.2655,.4277],[.8406,.269,.4247],[.8464,.2725,.4216],[.8521,.2761,.4186],[.8578,.2799,.4155],[.8633,.2837,.4124],[.8688,.2877,.4093],[.8742,.2919,.4062],[.8795,.2961,.4031],[.8847,.3005,.4],[.8897,.3051,.397],[.8947,.3098,.394],[.8996,.3146,.391],[.9043,.3196,.3881],[.9089,.3248,.3853],[.9134,.3301,.3826],[.9177,.3355,.3799],[.9219,.3411,.3774],[.9259,.3468,.375],[.9298,.3527,.3727],[.9336,.3588,.3705],[.9372,.3649,.3686],[.9407,.3712,.3668],[.944,.3776,.3651],[.9472,.3842,.3637],[.9502,.3908,.3625],[.9531,.3976,.3614],[.9558,.4044,.3606],[.9585,.4113,.36],[.9609,.4183,.3596],[.9633,.4254,.3595],[.9655,.4325,.3595],[.9677,.4397,.3598],[.9697,.4469,.3603],[.9716,.4542,.361],[.9734,.4615,.362],[.9751,.4689,.3631],[.9767,.4762,.3645],[.9782,.4836,.366],[.9796,.491,.3678],[.981,.4984,.3697],[.9823,.5059,.3719],[.9835,.5133,.3742],[.9846,.5207,.3767],[.9857,.5281,.3794],[.9867,.5356,.3822],[.9876,.543,.3852],[.9885,.5504,.3884],[.9894,.5579,.3917],[.9901,.5653,.3951],[.9909,.5727,.3987],[.9916,.5801,.4024],[.9922,.5875,.4063],[.9928,.5949,.4103],[.9933,.6023,.4144],[.9938,.6096,.4186],[.9943,.617,.423],[.9947,.6244,.4274],[.9951,.6317,.432],[.9955,.639,.4366],[.9958,.6463,.4414],[.9961,.6537,.4462],[.9963,.661,.4512],[.9966,.6683,.4562],[.9968,.6755,.4613],[.9969,.6828,.4665],[.9971,.6901,.4718],[.9972,.6973,.4772],[.9973,.7046,.4826],[.9973,.7118,.4882],[.9974,.7191,.4938],[.9974,.7263,.4994],[.9973,.7335,.5052],[.9973,.7408,.511],[.9972,.748,.5169],[.9971,.7552,.5228],[.997,.7624,.5288],[.9969,.7696,.5349],[.9967,.7768,.541],[.9966,.784,.5472],[.9964,.7912,.5535],[.9962,.7983,.5598],[.9959,.8055,.5662],[.9957,.8127,.5726],[.9954,.8199,.5791],[.9951,.8271,.5857],[.9949,.8342,.5923],[.9945,.8414,.599],[.9942,.8485,.6057],[.9939,.8557,.6125],[.9935,.8629,.6193],[.9932,.87,.6262],[.9928,.8772,.6331],[.9924,.8843,.6401],[.9921,.8915,.6471],[.9917,.8986,.6542],[.9913,.9058,.6613],[.9909,.9129,.6685],[.9906,.92,.6757],[.9902,.9272,.6829],[.9898,.9343,.6902],[.9894,.9415,.6975],[.9891,.9486,.7049],[.9887,.9557,.7122],[.9884,.9629,.7196],[.988,.97,.7271],[.9877,.9772,.7345],[.9874,.9843,.742],[.9871,.9914,.7495]]},nipy_spectral:{interpolate:!0,colors:[[0,0,0],[.0366,0,.0418],[.0732,0,.0837],[.1098,0,.1255],[.1464,0,.1673],[.183,0,.2091],[.2196,0,.251],[.2562,0,.2928],[.2928,0,.3346],[.3294,0,.3764],[.366,0,.4183],[.4026,0,.4601],[.4392,0,.5019],[.468,0,.5346],[.4732,0,.5398],[.4785,0,.5451],[.4837,0,.5503],[.4889,0,.5555],[.4941,0,.5608],[.4993,0,.566],[.5046,0,.5712],[.5098,0,.5765],[.515,0,.5817],[.5202,0,.5869],[.5255,0,.5922],[.5307,0,.5974],[.5124,0,.6026],[.4706,0,.6078],[.4287,0,.6131],[.3869,0,.6183],[.3451,0,.6235],[.3032,0,.6288],[.2614,0,.634],[.2196,0,.6392],[.1778,0,.6445],[.1359,0,.6497],[.0941,0,.6549],[.0523,0,.6602],[.0105,0,.6654],[0,0,.6785],[0,0,.6942],[0,0,.7098],[0,0,.7255],[0,0,.7412],[0,0,.7569],[0,0,.7726],[0,0,.7883],[0,0,.804],[0,0,.8196],[0,0,.8353],[0,0,.851],[0,0,.8667],[0,.0366,.8667],[0,.0732,.8667],[0,.1098,.8667],[0,.1464,.8667],[0,.183,.8667],[0,.2196,.8667],[0,.2562,.8667],[0,.2928,.8667],[0,.3294,.8667],[0,.366,.8667],[0,.4026,.8667],[0,.4392,.8667],[0,.4693,.8667],[0,.4798,.8667],[0,.4902,.8667],[0,.5007,.8667],[0,.5111,.8667],[0,.5216,.8667],[0,.532,.8667],[0,.5425,.8667],[0,.553,.8667],[0,.5634,.8667],[0,.5739,.8667],[0,.5843,.8667],[0,.5948,.8667],[0,.6026,.8589],[0,.6078,.8432],[0,.6131,.8275],[0,.6183,.8118],[0,.6235,.7961],[0,.6288,.7804],[0,.634,.7647],[0,.6392,.7491],[0,.6445,.7334],[0,.6497,.7177],[0,.6549,.702],[0,.6602,.6863],[0,.6654,.6706],[0,.6667,.6589],[0,.6667,.6484],[0,.6667,.6379],[0,.6667,.6275],[0,.6667,.617],[0,.6667,.6065],[0,.6667,.5961],[0,.6667,.5856],[0,.6667,.5752],[0,.6667,.5647],[0,.6667,.5542],[0,.6667,.5438],[0,.6667,.5333],[0,.6615,.4915],[0,.6562,.4496],[0,.651,.4078],[0,.6458,.366],[0,.6405,.3242],[0,.6353,.2823],[0,.6301,.2405],[0,.6248,.1987],[0,.6196,.1569],[0,.6144,.115],[0,.6092,.0732],[0,.6039,.0314],[0,.6026,0],[0,.6131,0],[0,.6235,0],[0,.634,0],[0,.6444,0],[0,.6549,0],[0,.6653,0],[0,.6758,0],[0,.6863,0],[0,.6967,0],[0,.7072,0],[0,.7176,0],[0,.7281,0],[0,.7385,0],[0,.749,0],[0,.7595,0],[0,.7699,0],[0,.7804,0],[0,.7908,0],[0,.8013,0],[0,.8118,0],[0,.8222,0],[0,.8327,0],[0,.8432,0],[0,.8536,0],[0,.8641,0],[0,.8745,0],[0,.885,0],[0,.8955,0],[0,.9059,0],[0,.9164,0],[0,.9268,0],[0,.9373,0],[0,.9477,0],[0,.9582,0],[0,.9686,0],[0,.9791,0],[0,.9895,0],[0,1,0],[.0575,1,0],[.115,1,0],[.1725,1,0],[.2301,1,0],[.2876,1,0],[.3451,1,0],[.4026,1,0],[.4601,1,0],[.5176,1,0],[.5751,1,0],[.6327,1,0],[.6902,1,0],[.7372,.9987,0],[.7529,.9935,0],[.7686,.9882,0],[.7843,.983,0],[.8,.9778,0],[.8157,.9725,0],[.8313,.9673,0],[.847,.9621,0],[.8627,.9568,0],[.8784,.9516,0],[.8941,.9464,0],[.9098,.9411,0],[.9255,.9359,0],[.9359,.9281,0],[.9411,.9176,0],[.9464,.9072,0],[.9516,.8967,0],[.9568,.8863,0],[.9621,.8758,0],[.9673,.8653,0],[.9725,.8549,0],[.9778,.8444,0],[.983,.834,0],[.9882,.8235,0],[.9935,.8131,0],[.9987,.8026,0],[1,.7882,0],[1,.7725,0],[1,.7569,0],[1,.7412,0],[1,.7255,0],[1,.7098,0],[1,.6941,0],[1,.6784,0],[1,.6627,0],[1,.6471,0],[1,.6314,0],[1,.6157,0],[1,.6,0],[1,.5529,0],[1,.5059,0],[1,.4588,0],[1,.4118,0],[1,.3647,0],[1,.3176,0],[1,.2706,0],[1,.2235,0],[1,.1765,0],[1,.1294,0],[1,.0824,0],[1,.0353,0],[.9974,0,0],[.9869,0,0],[.9765,0,0],[.966,0,0],[.9556,0,0],[.9451,0,0],[.9347,0,0],[.9242,0,0],[.9137,0,0],[.9033,0,0],[.8928,0,0],[.8824,0,0],[.8719,0,0],[.8641,0,0],[.8589,0,0],[.8536,0,0],[.8484,0,0],[.8432,0,0],[.8379,0,0],[.8327,0,0],[.8275,0,0],[.8222,0,0],[.817,0,0],[.8118,0,0],[.8065,0,0],[.8013,0,0],[.8,.0471,.0471],[.8,.1098,.1098],[.8,.1725,.1725],[.8,.2353,.2353],[.8,.298,.298],[.8,.3608,.3608],[.8,.4235,.4235],[.8,.4863,.4863],[.8,.549,.549],[.8,.6118,.6118],[.8,.6745,.6745],[.8,.7373,.7373],[.8,.8,.8]]},ocean:{interpolate:!0,colors:[[0,.5,0],[0,.4941,.0039],[0,.4882,.0078],[0,.4824,.0118],[0,.4765,.0157],[0,.4706,.0196],[0,.4647,.0235],[0,.4588,.0275],[0,.4529,.0314],[0,.4471,.0353],[0,.4412,.0392],[0,.4353,.0431],[0,.4294,.0471],[0,.4235,.051],[0,.4176,.0549],[0,.4118,.0588],[0,.4059,.0627],[0,.4,.0667],[0,.3941,.0706],[0,.3882,.0745],[0,.3824,.0784],[0,.3765,.0824],[0,.3706,.0863],[0,.3647,.0902],[0,.3588,.0941],[0,.3529,.098],[0,.3471,.102],[0,.3412,.1059],[0,.3353,.1098],[0,.3294,.1137],[0,.3235,.1176],[0,.3176,.1216],[0,.3118,.1255],[0,.3059,.1294],[0,.3,.1333],[0,.2941,.1373],[0,.2882,.1412],[0,.2824,.1451],[0,.2765,.149],[0,.2706,.1529],[0,.2647,.1569],[0,.2588,.1608],[0,.2529,.1647],[0,.2471,.1686],[0,.2412,.1725],[0,.2353,.1765],[0,.2294,.1804],[0,.2235,.1843],[0,.2176,.1882],[0,.2118,.1922],[0,.2059,.1961],[0,.2,.2],[0,.1941,.2039],[0,.1882,.2078],[0,.1824,.2118],[0,.1765,.2157],[0,.1706,.2196],[0,.1647,.2235],[0,.1588,.2275],[0,.1529,.2314],[0,.1471,.2353],[0,.1412,.2392],[0,.1353,.2431],[0,.1294,.2471],[0,.1235,.251],[0,.1176,.2549],[0,.1118,.2588],[0,.1059,.2627],[0,.1,.2667],[0,.0941,.2706],[0,.0882,.2745],[0,.0824,.2784],[0,.0765,.2824],[0,.0706,.2863],[0,.0647,.2902],[0,.0588,.2941],[0,.0529,.298],[0,.0471,.302],[0,.0412,.3059],[0,.0353,.3098],[0,.0294,.3137],[0,.0235,.3176],[0,.0176,.3216],[0,.0118,.3255],[0,.0059,.3294],[0,0,.3333],[0,.0059,.3373],[0,.0118,.3412],[0,.0176,.3451],[0,.0235,.349],[0,.0294,.3529],[0,.0353,.3569],[0,.0412,.3608],[0,.0471,.3647],[0,.0529,.3686],[0,.0588,.3725],[0,.0647,.3765],[0,.0706,.3804],[0,.0765,.3843],[0,.0824,.3882],[0,.0882,.3922],[0,.0941,.3961],[0,.1,.4],[0,.1059,.4039],[0,.1118,.4078],[0,.1176,.4118],[0,.1235,.4157],[0,.1294,.4196],[0,.1353,.4235],[0,.1412,.4275],[0,.1471,.4314],[0,.1529,.4353],[0,.1588,.4392],[0,.1647,.4431],[0,.1706,.4471],[0,.1765,.451],[0,.1824,.4549],[0,.1882,.4588],[0,.1941,.4627],[0,.2,.4667],[0,.2059,.4706],[0,.2118,.4745],[0,.2176,.4784],[0,.2235,.4824],[0,.2294,.4863],[0,.2353,.4902],[0,.2412,.4941],[0,.2471,.498],[0,.2529,.502],[0,.2588,.5059],[0,.2647,.5098],[0,.2706,.5137],[0,.2765,.5176],[0,.2824,.5216],[0,.2882,.5255],[0,.2941,.5294],[0,.3,.5333],[0,.3059,.5373],[0,.3118,.5412],[0,.3176,.5451],[0,.3235,.549],[0,.3294,.5529],[0,.3353,.5569],[0,.3412,.5608],[0,.3471,.5647],[0,.3529,.5686],[0,.3588,.5725],[0,.3647,.5765],[0,.3706,.5804],[0,.3765,.5843],[0,.3824,.5882],[0,.3882,.5922],[0,.3941,.5961],[0,.4,.6],[0,.4059,.6039],[0,.4118,.6078],[0,.4176,.6118],[0,.4235,.6157],[0,.4294,.6196],[0,.4353,.6235],[0,.4412,.6275],[0,.4471,.6314],[0,.4529,.6353],[0,.4588,.6392],[0,.4647,.6431],[0,.4706,.6471],[0,.4765,.651],[0,.4824,.6549],[0,.4882,.6588],[0,.4941,.6627],[0,.5,.6667],[.0118,.5059,.6706],[.0235,.5118,.6745],[.0353,.5176,.6784],[.0471,.5235,.6824],[.0588,.5294,.6863],[.0706,.5353,.6902],[.0824,.5412,.6941],[.0941,.5471,.698],[.1059,.5529,.702],[.1176,.5588,.7059],[.1294,.5647,.7098],[.1412,.5706,.7137],[.1529,.5765,.7176],[.1647,.5824,.7216],[.1765,.5882,.7255],[.1882,.5941,.7294],[.2,.6,.7333],[.2118,.6059,.7373],[.2235,.6118,.7412],[.2353,.6176,.7451],[.2471,.6235,.749],[.2588,.6294,.7529],[.2706,.6353,.7569],[.2824,.6412,.7608],[.2941,.6471,.7647],[.3059,.6529,.7686],[.3176,.6588,.7725],[.3294,.6647,.7765],[.3412,.6706,.7804],[.3529,.6765,.7843],[.3647,.6824,.7882],[.3765,.6882,.7922],[.3882,.6941,.7961],[.4,.7,.8],[.4118,.7059,.8039],[.4235,.7118,.8078],[.4353,.7176,.8118],[.4471,.7235,.8157],[.4588,.7294,.8196],[.4706,.7353,.8235],[.4824,.7412,.8275],[.4941,.7471,.8314],[.5059,.7529,.8353],[.5176,.7588,.8392],[.5294,.7647,.8431],[.5412,.7706,.8471],[.5529,.7765,.851],[.5647,.7824,.8549],[.5765,.7882,.8588],[.5882,.7941,.8627],[.6,.8,.8667],[.6118,.8059,.8706],[.6235,.8118,.8745],[.6353,.8176,.8784],[.6471,.8235,.8824],[.6588,.8294,.8863],[.6706,.8353,.8902],[.6824,.8412,.8941],[.6941,.8471,.898],[.7059,.8529,.902],[.7176,.8588,.9059],[.7294,.8647,.9098],[.7412,.8706,.9137],[.7529,.8765,.9176],[.7647,.8824,.9216],[.7765,.8882,.9255],[.7882,.8941,.9294],[.8,.9,.9333],[.8118,.9059,.9373],[.8235,.9118,.9412],[.8353,.9176,.9451],[.8471,.9235,.949],[.8588,.9294,.9529],[.8706,.9353,.9569],[.8824,.9412,.9608],[.8941,.9471,.9647],[.9059,.9529,.9686],[.9176,.9588,.9725],[.9294,.9647,.9765],[.9412,.9706,.9804],[.9529,.9765,.9843],[.9647,.9824,.9882],[.9765,.9882,.9922],[.9882,.9941,.9961],[1,1,1]]},pink:{interpolate:!0,colors:[[.1178,0,0],[.1371,.0254,.0254],[.1564,.0508,.0508],[.1757,.0762,.0762],[.1949,.1017,.1017],[.2088,.1129,.1129],[.2223,.1234,.1234],[.2358,.1339,.1339],[.2494,.1445,.1445],[.2607,.1528,.1528],[.2717,.1609,.1609],[.2828,.1689,.1689],[.2939,.177,.177],[.3037,.184,.184],[.3133,.1908,.1908],[.3229,.1976,.1976],[.3325,.2044,.2044],[.3413,.2106,.2106],[.3499,.2166,.2166],[.3585,.2226,.2226],[.3671,.2286,.2286],[.3751,.2342,.2342],[.3829,.2396,.2396],[.3908,.245,.245],[.3986,.2504,.2504],[.4061,.2555,.2555],[.4134,.2605,.2605],[.4206,.2655,.2655],[.4279,.2705,.2705],[.4349,.2753,.2753],[.4417,.2799,.2799],[.4485,.2845,.2845],[.4553,.2892,.2892],[.4619,.2937,.2937],[.4683,.298,.298],[.4747,.3024,.3024],[.4811,.3067,.3067],[.4873,.311,.311],[.4934,.3151,.3151],[.4995,.3192,.3192],[.5056,.3233,.3233],[.5116,.3274,.3274],[.5174,.3313,.3313],[.5232,.3352,.3352],[.529,.3391,.3391],[.5347,.343,.343],[.5403,.3467,.3467],[.5458,.3505,.3505],[.5514,.3542,.3542],[.5569,.3579,.3579],[.5622,.3615,.3615],[.5675,.3651,.3651],[.5729,.3687,.3687],[.5782,.3722,.3722],[.5833,.3757,.3757],[.5885,.3791,.3791],[.5936,.3826,.3826],[.5987,.386,.386],[.6037,.3894,.3894],[.6087,.3927,.3927],[.6137,.396,.396],[.6186,.3993,.3993],[.6234,.4026,.4026],[.6282,.4058,.4058],[.6331,.409,.409],[.6378,.4122,.4122],[.6425,.4153,.4153],[.6472,.4185,.4185],[.6519,.4216,.4216],[.6565,.4247,.4247],[.6611,.4278,.4278],[.6656,.4308,.4308],[.6702,.4338,.4338],[.6747,.4369,.4369],[.6791,.4398,.4398],[.6836,.4428,.4428],[.688,.4457,.4457],[.6924,.4487,.4487],[.6967,.4515,.4515],[.701,.4544,.4544],[.7053,.4573,.4573],[.7096,.4602,.4602],[.7139,.463,.463],[.7181,.4658,.4658],[.7223,.4686,.4686],[.7265,.4714,.4714],[.7306,.4741,.4741],[.7347,.4769,.4769],[.7388,.4796,.4796],[.7429,.4824,.4824],[.747,.485,.485],[.751,.4877,.4877],[.755,.4904,.4904],[.759,.4931,.4931],[.761,.4988,.4957],[.7627,.5047,.4983],[.7644,.5107,.501],[.7661,.5167,.5036],[.7678,.5224,.5062],[.7695,.5282,.5087],[.7712,.5339,.5113],[.7729,.5396,.5139],[.7746,.5451,.5164],[.7763,.5506,.5189],[.778,.5561,.5214],[.7796,.5615,.5239],[.7813,.5669,.5264],[.783,.5721,.5289],[.7847,.5774,.5313],[.7863,.5827,.5338],[.788,.5878,.5363],[.7896,.5929,.5387],[.7913,.598,.5411],[.7929,.6031,.5435],[.7946,.608,.5459],[.7962,.613,.5483],[.7979,.6179,.5507],[.7995,.6228,.5531],[.8011,.6276,.5554],[.8028,.6324,.5578],[.8044,.6372,.5601],[.806,.6419,.5624],[.8076,.6466,.5648],[.8093,.6512,.5671],[.8109,.6559,.5694],[.8125,.6605,.5717],[.8141,.665,.5739],[.8157,.6695,.5762],[.8173,.674,.5785],[.8189,.6785,.5807],[.8205,.683,.583],[.8221,.6874,.5852],[.8237,.6918,.5874],[.8253,.6961,.5897],[.8268,.7005,.5919],[.8284,.7047,.5941],[.83,.709,.5963],[.8316,.7133,.5985],[.8331,.7175,.6006],[.8347,.7217,.6028],[.8363,.7259,.605],[.8378,.73,.6071],[.8394,.7342,.6093],[.8409,.7383,.6114],[.8425,.7423,.6136],[.844,.7464,.6157],[.8456,.7505,.6178],[.8471,.7545,.6199],[.8487,.7585,.622],[.8502,.7625,.6241],[.8518,.7664,.6262],[.8533,.7703,.6283],[.8548,.7742,.6304],[.8563,.7781,.6324],[.8579,.782,.6345],[.8594,.7859,.6366],[.8609,.7897,.6386],[.8624,.7935,.6407],[.8639,.7974,.6427],[.8655,.8011,.6447],[.867,.8049,.6467],[.8685,.8086,.6488],[.87,.8124,.6508],[.8715,.8161,.6528],[.873,.8198,.6548],[.8745,.8234,.6568],[.876,.8271,.6588],[.8775,.8308,.6607],[.8789,.8344,.6627],[.8804,.838,.6647],[.8819,.8416,.6667],[.8834,.8452,.6686],[.8849,.8487,.6706],[.8863,.8523,.6725],[.8878,.8559,.6745],[.8893,.8594,.6764],[.8908,.8629,.6783],[.8922,.8664,.6802],[.8937,.8699,.6822],[.8952,.8733,.6841],[.8966,.8768,.686],[.8981,.8802,.6879],[.8995,.8837,.6898],[.901,.8871,.6917],[.9024,.8905,.6936],[.9039,.8939,.6954],[.9053,.8972,.6973],[.9068,.9006,.6992],[.9082,.9039,.7011],[.9096,.9073,.7029],[.9111,.9106,.7048],[.9125,.9125,.7094],[.9139,.9139,.7148],[.9154,.9154,.7202],[.9168,.9168,.7256],[.9182,.9182,.7309],[.9196,.9196,.7362],[.9211,.9211,.7414],[.9225,.9225,.7467],[.9239,.9239,.7519],[.9253,.9253,.757],[.9267,.9267,.7621],[.9281,.9281,.7672],[.9295,.9295,.7722],[.9309,.9309,.7772],[.9323,.9323,.7822],[.9338,.9338,.7872],[.9352,.9352,.7921],[.9365,.9365,.7969],[.9379,.9379,.8018],[.9393,.9393,.8067],[.9407,.9407,.8115],[.9421,.9421,.8162],[.9435,.9435,.8209],[.9449,.9449,.8257],[.9463,.9463,.8304],[.9476,.9476,.835],[.949,.949,.8396],[.9504,.9504,.8443],[.9518,.9518,.8489],[.9531,.9531,.8534],[.9545,.9545,.8579],[.9559,.9559,.8625],[.9573,.9573,.867],[.9586,.9586,.8714],[.96,.96,.8758],[.9613,.9613,.8803],[.9627,.9627,.8847],[.9641,.9641,.889],[.9654,.9654,.8934],[.9668,.9668,.8977],[.9681,.9681,.9021],[.9695,.9695,.9063],[.9708,.9708,.9106],[.9722,.9722,.9149],[.9735,.9735,.9191],[.9748,.9748,.9233],[.9762,.9762,.9275],[.9775,.9775,.9317],[.9789,.9789,.9358],[.9802,.9802,.94],[.9815,.9815,.9441],[.9829,.9829,.9482],[.9842,.9842,.9523],[.9855,.9855,.9563],[.9868,.9868,.9604],[.9882,.9882,.9644],[.9895,.9895,.9685],[.9908,.9908,.9724],[.9921,.9921,.9764],[.9934,.9934,.9804],[.9948,.9948,.9844],[.9961,.9961,.9883],[.9974,.9974,.9922],[.9987,.9987,.9961],[1,1,1]]},plasma:{interpolate:!0,colors:[[.0504,.0298,.528],[.0635,.0284,.5331],[.0754,.0272,.538],[.0862,.0261,.5427],[.0964,.0252,.5471],[.106,.0243,.5514],[.1151,.0236,.5555],[.1239,.0229,.5594],[.1324,.0223,.5632],[.1406,.0217,.567],[.1486,.0212,.5706],[.1564,.0207,.5741],[.1641,.0202,.5775],[.1716,.0197,.5808],[.179,.0193,.5841],[.1862,.0188,.5872],[.1934,.0184,.5903],[.2004,.0179,.5934],[.2074,.0174,.5963],[.2144,.017,.5992],[.2212,.0165,.6021],[.228,.016,.6049],[.2347,.0155,.6076],[.2414,.015,.6103],[.248,.0144,.6129],[.2546,.0139,.6154],[.2612,.0133,.6179],[.2677,.0127,.6203],[.2742,.0121,.6227],[.2806,.0115,.625],[.2871,.0109,.6273],[.2935,.0102,.6295],[.2999,.0096,.6316],[.3062,.0089,.6337],[.3125,.0082,.6357],[.3189,.0076,.6376],[.3252,.0069,.6395],[.3314,.0063,.6413],[.3377,.0056,.643],[.3439,.005,.6447],[.3502,.0044,.6463],[.3564,.0038,.6478],[.3626,.0032,.6492],[.3687,.0027,.6506],[.3749,.0022,.6519],[.381,.0018,.6531],[.3872,.0014,.6542],[.3933,.0011,.6552],[.3994,9e-4,.6561],[.4055,7e-4,.657],[.4116,6e-4,.6577],[.4176,6e-4,.6584],[.4237,6e-4,.659],[.4297,8e-4,.6594],[.4357,.0011,.6598],[.4417,.0015,.6601],[.4477,.0021,.6602],[.4537,.0028,.6603],[.4596,.0036,.6603],[.4656,.0045,.6601],[.4715,.0057,.6599],[.4773,.007,.6595],[.4832,.0085,.6591],[.4891,.0101,.6585],[.4949,.012,.6579],[.5007,.0141,.6571],[.5065,.0163,.6562],[.5122,.0188,.6552],[.5179,.0216,.6541],[.5236,.0245,.6529],[.5293,.0277,.6516],[.535,.0312,.6502],[.5406,.035,.6486],[.5462,.039,.647],[.5517,.0431,.6453],[.5572,.0473,.6434],[.5627,.0515,.6415],[.5682,.0558,.6395],[.5736,.06,.6373],[.579,.0643,.6351],[.5844,.0686,.6328],[.5897,.0729,.6304],[.595,.0772,.6279],[.6003,.0815,.6253],[.6055,.0859,.6227],[.6107,.0902,.62],[.6158,.0946,.6171],[.6209,.0989,.6143],[.626,.1033,.6113],[.631,.1077,.6083],[.636,.1121,.6052],[.641,.1165,.6021],[.6459,.1209,.5989],[.6507,.1253,.5956],[.6556,.1297,.5923],[.6604,.1341,.589],[.6651,.1386,.5856],[.6698,.143,.5822],[.6745,.1474,.5787],[.6792,.1518,.5752],[.6838,.1563,.5717],[.6883,.1607,.5681],[.6928,.1651,.5645],[.6973,.1696,.5609],[.7018,.174,.5573],[.7062,.1784,.5537],[.7105,.1829,.55],[.7149,.1873,.5463],[.7192,.1917,.5427],[.7234,.1962,.539],[.7277,.2006,.5353],[.7319,.205,.5316],[.736,.2094,.5279],[.7401,.2139,.5242],[.7442,.2183,.5205],[.7483,.2227,.5168],[.7523,.2271,.5131],[.7563,.2316,.5095],[.7603,.236,.5058],[.7642,.2404,.5021],[.7681,.2448,.4985],[.772,.2492,.4948],[.7758,.2537,.4912],[.7796,.2581,.4875],[.7834,.2625,.4839],[.7871,.2669,.4803],[.7909,.2713,.4767],[.7945,.2758,.4731],[.7982,.2802,.4695],[.8019,.2846,.466],[.8055,.2891,.4624],[.8091,.2935,.4589],[.8126,.2979,.4553],[.8161,.3024,.4518],[.8197,.3068,.4483],[.8231,.3113,.4448],[.8266,.3157,.4413],[.83,.3202,.4378],[.8334,.3246,.4344],[.8368,.3291,.4309],[.8402,.3336,.4275],[.8435,.3381,.424],[.8468,.3426,.4206],[.8501,.347,.4172],[.8533,.3516,.4137],[.8565,.3561,.4103],[.8598,.3606,.4069],[.8629,.3651,.4035],[.8661,.3697,.4001],[.8692,.3742,.3967],[.8723,.3788,.3934],[.8754,.3833,.39],[.8784,.3879,.3866],[.8814,.3925,.3832],[.8844,.3971,.3799],[.8874,.4018,.3765],[.8903,.4064,.3731],[.8932,.411,.3698],[.8961,.4157,.3664],[.899,.4204,.363],[.9018,.4251,.3597],[.9046,.4298,.3563],[.9074,.4345,.353],[.9101,.4393,.3496],[.9128,.444,.3463],[.9155,.4488,.3429],[.9181,.4536,.3395],[.9207,.4584,.3362],[.9233,.4633,.3328],[.9258,.4681,.3294],[.9283,.473,.3261],[.9308,.4779,.3227],[.9332,.4828,.3193],[.9356,.4877,.316],[.938,.4927,.3126],[.9403,.4976,.3092],[.9426,.5026,.3058],[.9448,.5077,.3024],[.9471,.5127,.299],[.9492,.5178,.2957],[.9513,.5228,.2923],[.9534,.528,.2889],[.9555,.5331,.2855],[.9575,.5382,.2821],[.9594,.5434,.2787],[.9613,.5486,.2753],[.9632,.5539,.2719],[.965,.5591,.2685],[.9668,.5644,.2651],[.9685,.5697,.2617],[.9702,.575,.2583],[.9718,.5804,.2549],[.9734,.5858,.2515],[.9749,.5912,.2482],[.9764,.5966,.2448],[.9779,.6021,.2414],[.9792,.6075,.238],[.9806,.613,.2346],[.9818,.6186,.2313],[.983,.6241,.2279],[.9842,.6297,.2246],[.9853,.6353,.2213],[.9863,.641,.2179],[.9873,.6466,.2146],[.9883,.6523,.2114],[.9891,.658,.2081],[.9899,.6638,.2049],[.9907,.6696,.2016],[.9914,.6754,.1985],[.992,.6812,.1953],[.9925,.687,.1922],[.993,.6929,.1891],[.9935,.6988,.186],[.9938,.7047,.183],[.9941,.7107,.1801],[.9943,.7167,.1772],[.9945,.7227,.1744],[.9946,.7287,.1716],[.9946,.7348,.1689],[.9945,.7409,.1663],[.9944,.747,.1638],[.9941,.7531,.1614],[.9939,.7593,.1591],[.9935,.7655,.1569],[.993,.7717,.1548],[.9925,.778,.1529],[.9919,.7842,.151],[.9912,.7905,.1494],[.9904,.7969,.1479],[.9896,.8032,.1465],[.9886,.8096,.1454],[.9876,.816,.1444],[.9865,.8224,.1436],[.9853,.8288,.1429],[.984,.8353,.1425],[.9827,.8418,.1423],[.9812,.8483,.1423],[.9796,.8549,.1425],[.978,.8614,.1428],[.9763,.868,.1434],[.9744,.8746,.1441],[.9725,.8812,.1449],[.9705,.8879,.1459],[.9684,.8946,.147],[.9663,.9012,.1482],[.964,.908,.1494],[.9617,.9147,.1505],[.9593,.9214,.1516],[.9568,.9282,.1524],[.9543,.9349,.1529],[.9517,.9417,.1529],[.9492,.9484,.1522],[.9466,.9552,.1503],[.9442,.9619,.1469],[.9419,.9686,.141],[.94,.9752,.1313]]},prism:{interpolate:!0,colors:[[1,0,0],[1,0,0],[1,.1296,0],[1,.3203,0],[1,.5116,0],[1,.6909,0],[1,.8464,0],[1,.9679,0],[.889,1,0],[.6991,1,0],[.5073,1,0],[.3262,.9966,0],[.1678,.887,0],[.0425,.7408,.2247],[0,.5675,.4915],[0,.3785,.7259],[0,.1863,.9124],[0,.0036,1],[.1001,0,1],[.2431,0,1],[.4142,0,.9965],[.6022,0,.845],[.7946,0,.6378],[.9788,0,.3885],[1,0,.1136],[1,0,0],[1,.0561,0],[1,.2429,0],[1,.4354,0],[1,.6211,0],[1,.7875,0],[1,.9237,0],[.9619,1,0],[.7764,1,0],[.5838,1,0],[.3969,1,0],[.228,.9359,0],[.0883,.8034,.1123],[0,.6397,.3872],[0,.4555,.6367],[0,.2631,.8441],[0,.0751,.9959],[.0528,0,1],[.1817,0,1],[.3427,0,1],[.5254,0,.9132],[.7176,0,.7269],[.9066,0,.4927],[1,0,.2261],[1,0,0],[1,0,0],[1,.1664,0],[1,.3582,0],[1,.5481,0],[1,.7236,0],[1,.8732,0],[1,.987,0],[.8525,1,0],[.6612,1,0],[.4705,1,0],[.293,.9784,0],[.1403,.861,0],[.0226,.7086,.2788],[0,.5312,.5406],[0,.3406,.7667],[0,.1493,.9423],[.0121,0,1],[.1255,0,1],[.2748,0,1],[.4501,0,.9717],[.64,0,.8083],[.8318,0,.5917],[1,0,.336],[1,0,.0582],[1,0,0],[1,.0917,0],[1,.2806,0],[1,.4728,0],[1,.6556,0],[1,.8169,0],[1,.9461,0],[.9267,1,0],[.7387,1,0],[.5463,1,0],[.362,1,0],[.198,.9129,0],[.0651,.7735,.1674],[0,.6048,.4387],[0,.418,.6811],[0,.2255,.8786],[0,.0398,1],[.0751,0,1],[.2111,0,1],[.3772,0,1],[.5627,0,.8811],[.7553,0,.6843],[.9422,0,.4425],[1,0,.1714],[1,0,0],[1,.0195,0],[1,.2036,0],[1,.396,0],[1,.5841,0],[1,.7554,0],[1,.8987,0],[.9981,1,0],[.8155,1,0],[.6234,1,0],[.4343,1,0],[.2607,.9585,0],[.1142,.8336,.0542],[.0043,.6754,.3322],[0,.4945,.5883],[0,.3027,.8056],[0,.1128,.9698],[.0311,0,1],[.1522,0,1],[.3075,0,1],[.4866,0,.9444],[.6779,0,.7696],[.8686,0,.5441],[1,0,.2827],[1,0,.0027],[1,0,0],[1,.1279,0],[1,.3185,0],[1,.5098,0],[1,.6893,0],[1,.8451,0],[1,.9669,0],[.8908,1,0],[.7009,1,0],[.5091,1,0],[.3279,.9974,0],[.1692,.8883,0],[.0435,.7423,.2221],[0,.5692,.4891],[0,.3803,.7239],[0,.1881,.9109],[0,.0052,1],[.0989,0,1],[.2416,0,1],[.4125,0,.9976],[.6003,0,.8467],[.7928,0,.64],[.9772,0,.391],[1,0,.1163],[1,0,0],[1,.0543,0],[1,.241,0],[1,.4336,0],[1,.6194,0],[1,.786,0],[1,.9226,0],[.9636,1,0],[.7782,1,0],[.5856,1,0],[.3986,1,0],[.2295,.937,0],[.0895,.8049,.1096],[0,.6414,.3847],[0,.4574,.6344],[0,.2649,.8424],[0,.0768,.9947],[.0518,0,1],[.1803,0,1],[.3411,0,1],[.5236,0,.9147],[.7157,0,.729],[.9048,0,.4952],[1,0,.2287],[1,0,0],[1,0,0],[1,.1646,0],[1,.3563,0],[1,.5463,0],[1,.7221,0],[1,.872,0],[1,.9861,0],[.8543,1,0],[.6631,1,0],[.4723,1,0],[.2946,.9793,0],[.1416,.8623,0],[.0235,.7102,.2762],[0,.533,.5382],[0,.3425,.7648],[0,.1511,.9409],[.0112,0,1],[.1242,0,1],[.2732,0,1],[.4484,0,.9729],[.6381,0,.8102],[.83,0,.594],[1,0,.3386],[1,0,.061],[1,0,0],[1,.0899,0],[1,.2788,0],[1,.471,0],[1,.6539,0],[1,.8155,0],[1,.9451,0],[.9284,1,0],[.7406,1,0],[.5481,1,0],[.3637,1,0],[.1994,.914,0],[.0662,.7749,.1647],[0,.6065,.4362],[0,.4199,.679],[0,.2273,.877],[0,.0415,1],[.074,0,1],[.2096,0,1],[.3755,0,1],[.5609,0,.8827],[.7534,0,.6864],[.9405,0,.4449],[1,0,.1741],[1,0,0],[1,.0178,0],[1,.2017,0],[1,.3941,0],[1,.5823,0],[1,.7539,0],[1,.8974,0],[.9997,1,0],[.8173,1,0],[.6252,1,0],[.436,1,0],[.2623,.9595,0],[.1154,.8349,.0515],[.0051,.6771,.3296],[0,.4963,.586],[0,.3046,.8037],[0,.1146,.9685],[.0302,0,1],[.1509,0,1],[.3059,0,1],[.4848,0,.9458],[.676,0,.7716],[.8668,0,.5465],[1,0,.2854],[1,0,.0054],[1,0,0],[1,.1261,0],[1,.3166,0],[1,.508,0],[1,.6877,0],[1,.8437,0],[1,.966,0],[.8925,1,0],[.7028,1,0],[.5109,1,0],[.3295,.9983,0]]},rainbow:{interpolate:!0,colors:[[.5,0,1],[.4922,.0123,1],[.4843,.0246,.9999],[.4765,.037,.9998],[.4686,.0493,.9997],[.4608,.0616,.9995],[.4529,.0739,.9993],[.4451,.0861,.9991],[.4373,.0984,.9988],[.4294,.1107,.9985],[.4216,.1229,.9981],[.4137,.1351,.9977],[.4059,.1473,.9973],[.398,.1595,.9968],[.3902,.1716,.9963],[.3824,.1837,.9957],[.3745,.1958,.9951],[.3667,.2079,.9945],[.3588,.2199,.9939],[.351,.2319,.9932],[.3431,.2439,.9924],[.3353,.2558,.9916],[.3275,.2677,.9908],[.3196,.2796,.99],[.3118,.2914,.9891],[.3039,.3032,.9882],[.2961,.3149,.9872],[.2882,.3265,.9862],[.2804,.3382,.9852],[.2725,.3497,.9841],[.2647,.3612,.983],[.2569,.3727,.9818],[.249,.3841,.9806],[.2412,.3955,.9794],[.2333,.4067,.9781],[.2255,.418,.9768],[.2176,.4291,.9755],[.2098,.4402,.9741],[.202,.4512,.9727],[.1941,.4622,.9713],[.1863,.4731,.9698],[.1784,.4839,.9683],[.1706,.4947,.9667],[.1627,.5053,.9651],[.1549,.5159,.9635],[.1471,.5264,.9618],[.1392,.5369,.9601],[.1314,.5472,.9584],[.1235,.5575,.9566],[.1157,.5677,.9548],[.1078,.5778,.9529],[.1,.5878,.9511],[.0922,.5977,.9491],[.0843,.6075,.9472],[.0765,.6173,.9452],[.0686,.6269,.9432],[.0608,.6365,.9411],[.0529,.6459,.939],[.0451,.6553,.9369],[.0373,.6645,.9347],[.0294,.6737,.9325],[.0216,.6827,.9302],[.0137,.6917,.928],[.0059,.7005,.9256],[.002,.7093,.9233],[.0098,.7179,.9209],[.0176,.7264,.9185],[.0255,.7348,.916],[.0333,.7431,.9135],[.0412,.7513,.911],[.049,.7594,.9085],[.0569,.7674,.9059],[.0647,.7752,.9032],[.0725,.7829,.9006],[.0804,.7905,.8979],[.0882,.798,.8952],[.0961,.8054,.8924],[.1039,.8126,.8896],[.1118,.8197,.8868],[.1196,.8267,.8839],[.1275,.8336,.881],[.1353,.8403,.8781],[.1431,.847,.8751],[.151,.8534,.8721],[.1588,.8598,.8691],[.1667,.866,.866],[.1745,.8721,.8629],[.1824,.8781,.8598],[.1902,.8839,.8566],[.198,.8896,.8534],[.2059,.8952,.8502],[.2137,.9006,.847],[.2216,.9059,.8437],[.2294,.911,.8403],[.2373,.916,.837],[.2451,.9209,.8336],[.2529,.9256,.8302],[.2608,.9302,.8267],[.2686,.9347,.8233],[.2765,.939,.8197],[.2843,.9432,.8162],[.2922,.9472,.8126],[.3,.9511,.809],[.3078,.9548,.8054],[.3157,.9584,.8017],[.3235,.9618,.798],[.3314,.9651,.7943],[.3392,.9683,.7905],[.3471,.9713,.7867],[.3549,.9741,.7829],[.3627,.9768,.7791],[.3706,.9794,.7752],[.3784,.9818,.7713],[.3863,.9841,.7674],[.3941,.9862,.7634],[.402,.9882,.7594],[.4098,.99,.7554],[.4176,.9916,.7513],[.4255,.9932,.7473],[.4333,.9945,.7431],[.4412,.9957,.739],[.449,.9968,.7348],[.4569,.9977,.7307],[.4647,.9985,.7264],[.4725,.9991,.7222],[.4804,.9995,.7179],[.4882,.9998,.7136],[.4961,1,.7093],[.5039,1,.7049],[.5118,.9998,.7005],[.5196,.9995,.6961],[.5275,.9991,.6917],[.5353,.9985,.6872],[.5431,.9977,.6827],[.551,.9968,.6782],[.5588,.9957,.6737],[.5667,.9945,.6691],[.5745,.9932,.6645],[.5824,.9916,.6599],[.5902,.99,.6553],[.598,.9882,.6506],[.6059,.9862,.6459],[.6137,.9841,.6412],[.6216,.9818,.6365],[.6294,.9794,.6317],[.6373,.9768,.6269],[.6451,.9741,.6221],[.6529,.9713,.6173],[.6608,.9683,.6124],[.6686,.9651,.6075],[.6765,.9618,.6026],[.6843,.9584,.5977],[.6922,.9548,.5928],[.7,.9511,.5878],[.7078,.9472,.5828],[.7157,.9432,.5778],[.7235,.939,.5727],[.7314,.9347,.5677],[.7392,.9302,.5626],[.7471,.9256,.5575],[.7549,.9209,.5524],[.7627,.916,.5472],[.7706,.911,.5421],[.7784,.9059,.5369],[.7863,.9006,.5317],[.7941,.8952,.5264],[.802,.8896,.5212],[.8098,.8839,.5159],[.8176,.8781,.5106],[.8255,.8721,.5053],[.8333,.866,.5],[.8412,.8598,.4947],[.849,.8534,.4893],[.8569,.847,.4839],[.8647,.8403,.4785],[.8725,.8336,.4731],[.8804,.8267,.4677],[.8882,.8197,.4622],[.8961,.8126,.4567],[.9039,.8054,.4512],[.9118,.798,.4457],[.9196,.7905,.4402],[.9275,.7829,.4347],[.9353,.7752,.4291],[.9431,.7674,.4235],[.951,.7594,.418],[.9588,.7513,.4124],[.9667,.7431,.4067],[.9745,.7348,.4011],[.9824,.7264,.3955],[.9902,.7179,.3898],[.998,.7093,.3841],[1,.7005,.3784],[1,.6917,.3727],[1,.6827,.367],[1,.6737,.3612],[1,.6645,.3555],[1,.6553,.3497],[1,.6459,.3439],[1,.6365,.3382],[1,.6269,.3324],[1,.6173,.3265],[1,.6075,.3207],[1,.5977,.3149],[1,.5878,.309],[1,.5778,.3032],[1,.5677,.2973],[1,.5575,.2914],[1,.5472,.2855],[1,.5369,.2796],[1,.5264,.2737],[1,.5159,.2677],[1,.5053,.2618],[1,.4947,.2558],[1,.4839,.2499],[1,.4731,.2439],[1,.4622,.2379],[1,.4512,.2319],[1,.4402,.226],[1,.4291,.2199],[1,.418,.2139],[1,.4067,.2079],[1,.3955,.2019],[1,.3841,.1958],[1,.3727,.1898],[1,.3612,.1837],[1,.3497,.1777],[1,.3382,.1716],[1,.3265,.1656],[1,.3149,.1595],[1,.3032,.1534],[1,.2914,.1473],[1,.2796,.1412],[1,.2677,.1351],[1,.2558,.129],[1,.2439,.1229],[1,.2319,.1168],[1,.2199,.1107],[1,.2079,.1045],[1,.1958,.0984],[1,.1837,.0923],[1,.1716,.0861],[1,.1595,.08],[1,.1473,.0739],[1,.1351,.0677],[1,.1229,.0616],[1,.1107,.0554],[1,.0984,.0493],[1,.0861,.0431],[1,.0739,.037],[1,.0616,.0308],[1,.0493,.0246],[1,.037,.0185],[1,.0246,.0123],[1,.0123,.0062],[1,0,0]]},seismic:{interpolate:!0,colors:[[0,0,.3],[0,0,.311],[0,0,.322],[0,0,.3329],[0,0,.3439],[0,0,.3549],[0,0,.3659],[0,0,.3769],[0,0,.3878],[0,0,.3988],[0,0,.4098],[0,0,.4208],[0,0,.4318],[0,0,.4427],[0,0,.4537],[0,0,.4647],[0,0,.4757],[0,0,.4867],[0,0,.4976],[0,0,.5086],[0,0,.5196],[0,0,.5306],[0,0,.5416],[0,0,.5525],[0,0,.5635],[0,0,.5745],[0,0,.5855],[0,0,.5965],[0,0,.6075],[0,0,.6184],[0,0,.6294],[0,0,.6404],[0,0,.6514],[0,0,.6624],[0,0,.6733],[0,0,.6843],[0,0,.6953],[0,0,.7063],[0,0,.7173],[0,0,.7282],[0,0,.7392],[0,0,.7502],[0,0,.7612],[0,0,.7722],[0,0,.7831],[0,0,.7941],[0,0,.8051],[0,0,.8161],[0,0,.8271],[0,0,.838],[0,0,.849],[0,0,.86],[0,0,.871],[0,0,.882],[0,0,.8929],[0,0,.9039],[0,0,.9149],[0,0,.9259],[0,0,.9369],[0,0,.9478],[0,0,.9588],[0,0,.9698],[0,0,.9808],[0,0,.9918],[.0039,.0039,1],[.0196,.0196,1],[.0353,.0353,1],[.051,.051,1],[.0667,.0667,1],[.0824,.0824,1],[.098,.098,1],[.1137,.1137,1],[.1294,.1294,1],[.1451,.1451,1],[.1608,.1608,1],[.1765,.1765,1],[.1922,.1922,1],[.2078,.2078,1],[.2235,.2235,1],[.2392,.2392,1],[.2549,.2549,1],[.2706,.2706,1],[.2863,.2863,1],[.302,.302,1],[.3176,.3176,1],[.3333,.3333,1],[.349,.349,1],[.3647,.3647,1],[.3804,.3804,1],[.3961,.3961,1],[.4118,.4118,1],[.4275,.4275,1],[.4431,.4431,1],[.4588,.4588,1],[.4745,.4745,1],[.4902,.4902,1],[.5059,.5059,1],[.5216,.5216,1],[.5373,.5373,1],[.5529,.5529,1],[.5686,.5686,1],[.5843,.5843,1],[.6,.6,1],[.6157,.6157,1],[.6314,.6314,1],[.6471,.6471,1],[.6627,.6627,1],[.6784,.6784,1],[.6941,.6941,1],[.7098,.7098,1],[.7255,.7255,1],[.7412,.7412,1],[.7569,.7569,1],[.7725,.7725,1],[.7882,.7882,1],[.8039,.8039,1],[.8196,.8196,1],[.8353,.8353,1],[.851,.851,1],[.8667,.8667,1],[.8824,.8824,1],[.898,.898,1],[.9137,.9137,1],[.9294,.9294,1],[.9451,.9451,1],[.9608,.9608,1],[.9765,.9765,1],[.9922,.9922,1],[1,.9922,.9922],[1,.9765,.9765],[1,.9608,.9608],[1,.9451,.9451],[1,.9294,.9294],[1,.9137,.9137],[1,.898,.898],[1,.8824,.8824],[1,.8667,.8667],[1,.851,.851],[1,.8353,.8353],[1,.8196,.8196],[1,.8039,.8039],[1,.7882,.7882],[1,.7725,.7725],[1,.7569,.7569],[1,.7412,.7412],[1,.7255,.7255],[1,.7098,.7098],[1,.6941,.6941],[1,.6784,.6784],[1,.6627,.6627],[1,.6471,.6471],[1,.6314,.6314],[1,.6157,.6157],[1,.6,.6],[1,.5843,.5843],[1,.5686,.5686],[1,.5529,.5529],[1,.5373,.5373],[1,.5216,.5216],[1,.5059,.5059],[1,.4902,.4902],[1,.4745,.4745],[1,.4588,.4588],[1,.4431,.4431],[1,.4275,.4275],[1,.4118,.4118],[1,.3961,.3961],[1,.3804,.3804],[1,.3647,.3647],[1,.349,.349],[1,.3333,.3333],[1,.3176,.3176],[1,.302,.302],[1,.2863,.2863],[1,.2706,.2706],[1,.2549,.2549],[1,.2392,.2392],[1,.2235,.2235],[1,.2078,.2078],[1,.1922,.1922],[1,.1765,.1765],[1,.1608,.1608],[1,.1451,.1451],[1,.1294,.1294],[1,.1137,.1137],[1,.098,.098],[1,.0824,.0824],[1,.0667,.0667],[1,.051,.051],[1,.0353,.0353],[1,.0196,.0196],[1,.0039,.0039],[.9941,0,0],[.9863,0,0],[.9784,0,0],[.9706,0,0],[.9627,0,0],[.9549,0,0],[.9471,0,0],[.9392,0,0],[.9314,0,0],[.9235,0,0],[.9157,0,0],[.9078,0,0],[.9,0,0],[.8922,0,0],[.8843,0,0],[.8765,0,0],[.8686,0,0],[.8608,0,0],[.8529,0,0],[.8451,0,0],[.8373,0,0],[.8294,0,0],[.8216,0,0],[.8137,0,0],[.8059,0,0],[.798,0,0],[.7902,0,0],[.7824,0,0],[.7745,0,0],[.7667,0,0],[.7588,0,0],[.751,0,0],[.7431,0,0],[.7353,0,0],[.7275,0,0],[.7196,0,0],[.7118,0,0],[.7039,0,0],[.6961,0,0],[.6882,0,0],[.6804,0,0],[.6725,0,0],[.6647,0,0],[.6569,0,0],[.649,0,0],[.6412,0,0],[.6333,0,0],[.6255,0,0],[.6176,0,0],[.6098,0,0],[.602,0,0],[.5941,0,0],[.5863,0,0],[.5784,0,0],[.5706,0,0],[.5627,0,0],[.5549,0,0],[.5471,0,0],[.5392,0,0],[.5314,0,0],[.5235,0,0],[.5157,0,0],[.5078,0,0],[.5,0,0]]},spring:{interpolate:!0,colors:[[1,0,1],[1,.0039,.9961],[1,.0078,.9922],[1,.0118,.9882],[1,.0157,.9843],[1,.0196,.9804],[1,.0235,.9765],[1,.0275,.9725],[1,.0314,.9686],[1,.0353,.9647],[1,.0392,.9608],[1,.0431,.9569],[1,.0471,.9529],[1,.051,.949],[1,.0549,.9451],[1,.0588,.9412],[1,.0627,.9373],[1,.0667,.9333],[1,.0706,.9294],[1,.0745,.9255],[1,.0784,.9216],[1,.0824,.9176],[1,.0863,.9137],[1,.0902,.9098],[1,.0941,.9059],[1,.098,.902],[1,.102,.898],[1,.1059,.8941],[1,.1098,.8902],[1,.1137,.8863],[1,.1176,.8824],[1,.1216,.8784],[1,.1255,.8745],[1,.1294,.8706],[1,.1333,.8667],[1,.1373,.8627],[1,.1412,.8588],[1,.1451,.8549],[1,.149,.851],[1,.1529,.8471],[1,.1569,.8431],[1,.1608,.8392],[1,.1647,.8353],[1,.1686,.8314],[1,.1725,.8275],[1,.1765,.8235],[1,.1804,.8196],[1,.1843,.8157],[1,.1882,.8118],[1,.1922,.8078],[1,.1961,.8039],[1,.2,.8],[1,.2039,.7961],[1,.2078,.7922],[1,.2118,.7882],[1,.2157,.7843],[1,.2196,.7804],[1,.2235,.7765],[1,.2275,.7725],[1,.2314,.7686],[1,.2353,.7647],[1,.2392,.7608],[1,.2431,.7569],[1,.2471,.7529],[1,.251,.749],[1,.2549,.7451],[1,.2588,.7412],[1,.2627,.7373],[1,.2667,.7333],[1,.2706,.7294],[1,.2745,.7255],[1,.2784,.7216],[1,.2824,.7176],[1,.2863,.7137],[1,.2902,.7098],[1,.2941,.7059],[1,.298,.702],[1,.302,.698],[1,.3059,.6941],[1,.3098,.6902],[1,.3137,.6863],[1,.3176,.6824],[1,.3216,.6784],[1,.3255,.6745],[1,.3294,.6706],[1,.3333,.6667],[1,.3373,.6627],[1,.3412,.6588],[1,.3451,.6549],[1,.349,.651],[1,.3529,.6471],[1,.3569,.6431],[1,.3608,.6392],[1,.3647,.6353],[1,.3686,.6314],[1,.3725,.6275],[1,.3765,.6235],[1,.3804,.6196],[1,.3843,.6157],[1,.3882,.6118],[1,.3922,.6078],[1,.3961,.6039],[1,.4,.6],[1,.4039,.5961],[1,.4078,.5922],[1,.4118,.5882],[1,.4157,.5843],[1,.4196,.5804],[1,.4235,.5765],[1,.4275,.5725],[1,.4314,.5686],[1,.4353,.5647],[1,.4392,.5608],[1,.4431,.5569],[1,.4471,.5529],[1,.451,.549],[1,.4549,.5451],[1,.4588,.5412],[1,.4627,.5373],[1,.4667,.5333],[1,.4706,.5294],[1,.4745,.5255],[1,.4784,.5216],[1,.4824,.5176],[1,.4863,.5137],[1,.4902,.5098],[1,.4941,.5059],[1,.498,.502],[1,.502,.498],[1,.5059,.4941],[1,.5098,.4902],[1,.5137,.4863],[1,.5176,.4824],[1,.5216,.4784],[1,.5255,.4745],[1,.5294,.4706],[1,.5333,.4667],[1,.5373,.4627],[1,.5412,.4588],[1,.5451,.4549],[1,.549,.451],[1,.5529,.4471],[1,.5569,.4431],[1,.5608,.4392],[1,.5647,.4353],[1,.5686,.4314],[1,.5725,.4275],[1,.5765,.4235],[1,.5804,.4196],[1,.5843,.4157],[1,.5882,.4118],[1,.5922,.4078],[1,.5961,.4039],[1,.6,.4],[1,.6039,.3961],[1,.6078,.3922],[1,.6118,.3882],[1,.6157,.3843],[1,.6196,.3804],[1,.6235,.3765],[1,.6275,.3725],[1,.6314,.3686],[1,.6353,.3647],[1,.6392,.3608],[1,.6431,.3569],[1,.6471,.3529],[1,.651,.349],[1,.6549,.3451],[1,.6588,.3412],[1,.6627,.3373],[1,.6667,.3333],[1,.6706,.3294],[1,.6745,.3255],[1,.6784,.3216],[1,.6824,.3176],[1,.6863,.3137],[1,.6902,.3098],[1,.6941,.3059],[1,.698,.302],[1,.702,.298],[1,.7059,.2941],[1,.7098,.2902],[1,.7137,.2863],[1,.7176,.2824],[1,.7216,.2784],[1,.7255,.2745],[1,.7294,.2706],[1,.7333,.2667],[1,.7373,.2627],[1,.7412,.2588],[1,.7451,.2549],[1,.749,.251],[1,.7529,.2471],[1,.7569,.2431],[1,.7608,.2392],[1,.7647,.2353],[1,.7686,.2314],[1,.7725,.2275],[1,.7765,.2235],[1,.7804,.2196],[1,.7843,.2157],[1,.7882,.2118],[1,.7922,.2078],[1,.7961,.2039],[1,.8,.2],[1,.8039,.1961],[1,.8078,.1922],[1,.8118,.1882],[1,.8157,.1843],[1,.8196,.1804],[1,.8235,.1765],[1,.8275,.1725],[1,.8314,.1686],[1,.8353,.1647],[1,.8392,.1608],[1,.8431,.1569],[1,.8471,.1529],[1,.851,.149],[1,.8549,.1451],[1,.8588,.1412],[1,.8627,.1373],[1,.8667,.1333],[1,.8706,.1294],[1,.8745,.1255],[1,.8784,.1216],[1,.8824,.1176],[1,.8863,.1137],[1,.8902,.1098],[1,.8941,.1059],[1,.898,.102],[1,.902,.098],[1,.9059,.0941],[1,.9098,.0902],[1,.9137,.0863],[1,.9176,.0824],[1,.9216,.0784],[1,.9255,.0745],[1,.9294,.0706],[1,.9333,.0667],[1,.9373,.0627],[1,.9412,.0588],[1,.9451,.0549],[1,.949,.051],[1,.9529,.0471],[1,.9569,.0431],[1,.9608,.0392],[1,.9647,.0353],[1,.9686,.0314],[1,.9725,.0275],[1,.9765,.0235],[1,.9804,.0196],[1,.9843,.0157],[1,.9882,.0118],[1,.9922,.0078],[1,.9961,.0039],[1,1,0]]},summer:{interpolate:!0,colors:[[0,.5,.4],[.0039,.502,.4],[.0078,.5039,.4],[.0118,.5059,.4],[.0157,.5078,.4],[.0196,.5098,.4],[.0235,.5118,.4],[.0275,.5137,.4],[.0314,.5157,.4],[.0353,.5176,.4],[.0392,.5196,.4],[.0431,.5216,.4],[.0471,.5235,.4],[.051,.5255,.4],[.0549,.5275,.4],[.0588,.5294,.4],[.0627,.5314,.4],[.0667,.5333,.4],[.0706,.5353,.4],[.0745,.5373,.4],[.0784,.5392,.4],[.0824,.5412,.4],[.0863,.5431,.4],[.0902,.5451,.4],[.0941,.5471,.4],[.098,.549,.4],[.102,.551,.4],[.1059,.5529,.4],[.1098,.5549,.4],[.1137,.5569,.4],[.1176,.5588,.4],[.1216,.5608,.4],[.1255,.5627,.4],[.1294,.5647,.4],[.1333,.5667,.4],[.1373,.5686,.4],[.1412,.5706,.4],[.1451,.5725,.4],[.149,.5745,.4],[.1529,.5765,.4],[.1569,.5784,.4],[.1608,.5804,.4],[.1647,.5824,.4],[.1686,.5843,.4],[.1725,.5863,.4],[.1765,.5882,.4],[.1804,.5902,.4],[.1843,.5922,.4],[.1882,.5941,.4],[.1922,.5961,.4],[.1961,.598,.4],[.2,.6,.4],[.2039,.602,.4],[.2078,.6039,.4],[.2118,.6059,.4],[.2157,.6078,.4],[.2196,.6098,.4],[.2235,.6118,.4],[.2275,.6137,.4],[.2314,.6157,.4],[.2353,.6176,.4],[.2392,.6196,.4],[.2431,.6216,.4],[.2471,.6235,.4],[.251,.6255,.4],[.2549,.6275,.4],[.2588,.6294,.4],[.2627,.6314,.4],[.2667,.6333,.4],[.2706,.6353,.4],[.2745,.6373,.4],[.2784,.6392,.4],[.2824,.6412,.4],[.2863,.6431,.4],[.2902,.6451,.4],[.2941,.6471,.4],[.298,.649,.4],[.302,.651,.4],[.3059,.6529,.4],[.3098,.6549,.4],[.3137,.6569,.4],[.3176,.6588,.4],[.3216,.6608,.4],[.3255,.6627,.4],[.3294,.6647,.4],[.3333,.6667,.4],[.3373,.6686,.4],[.3412,.6706,.4],[.3451,.6725,.4],[.349,.6745,.4],[.3529,.6765,.4],[.3569,.6784,.4],[.3608,.6804,.4],[.3647,.6824,.4],[.3686,.6843,.4],[.3725,.6863,.4],[.3765,.6882,.4],[.3804,.6902,.4],[.3843,.6922,.4],[.3882,.6941,.4],[.3922,.6961,.4],[.3961,.698,.4],[.4,.7,.4],[.4039,.702,.4],[.4078,.7039,.4],[.4118,.7059,.4],[.4157,.7078,.4],[.4196,.7098,.4],[.4235,.7118,.4],[.4275,.7137,.4],[.4314,.7157,.4],[.4353,.7176,.4],[.4392,.7196,.4],[.4431,.7216,.4],[.4471,.7235,.4],[.451,.7255,.4],[.4549,.7275,.4],[.4588,.7294,.4],[.4627,.7314,.4],[.4667,.7333,.4],[.4706,.7353,.4],[.4745,.7373,.4],[.4784,.7392,.4],[.4824,.7412,.4],[.4863,.7431,.4],[.4902,.7451,.4],[.4941,.7471,.4],[.498,.749,.4],[.502,.751,.4],[.5059,.7529,.4],[.5098,.7549,.4],[.5137,.7569,.4],[.5176,.7588,.4],[.5216,.7608,.4],[.5255,.7627,.4],[.5294,.7647,.4],[.5333,.7667,.4],[.5373,.7686,.4],[.5412,.7706,.4],[.5451,.7725,.4],[.549,.7745,.4],[.5529,.7765,.4],[.5569,.7784,.4],[.5608,.7804,.4],[.5647,.7824,.4],[.5686,.7843,.4],[.5725,.7863,.4],[.5765,.7882,.4],[.5804,.7902,.4],[.5843,.7922,.4],[.5882,.7941,.4],[.5922,.7961,.4],[.5961,.798,.4],[.6,.8,.4],[.6039,.802,.4],[.6078,.8039,.4],[.6118,.8059,.4],[.6157,.8078,.4],[.6196,.8098,.4],[.6235,.8118,.4],[.6275,.8137,.4],[.6314,.8157,.4],[.6353,.8176,.4],[.6392,.8196,.4],[.6431,.8216,.4],[.6471,.8235,.4],[.651,.8255,.4],[.6549,.8275,.4],[.6588,.8294,.4],[.6627,.8314,.4],[.6667,.8333,.4],[.6706,.8353,.4],[.6745,.8373,.4],[.6784,.8392,.4],[.6824,.8412,.4],[.6863,.8431,.4],[.6902,.8451,.4],[.6941,.8471,.4],[.698,.849,.4],[.702,.851,.4],[.7059,.8529,.4],[.7098,.8549,.4],[.7137,.8569,.4],[.7176,.8588,.4],[.7216,.8608,.4],[.7255,.8627,.4],[.7294,.8647,.4],[.7333,.8667,.4],[.7373,.8686,.4],[.7412,.8706,.4],[.7451,.8725,.4],[.749,.8745,.4],[.7529,.8765,.4],[.7569,.8784,.4],[.7608,.8804,.4],[.7647,.8824,.4],[.7686,.8843,.4],[.7725,.8863,.4],[.7765,.8882,.4],[.7804,.8902,.4],[.7843,.8922,.4],[.7882,.8941,.4],[.7922,.8961,.4],[.7961,.898,.4],[.8,.9,.4],[.8039,.902,.4],[.8078,.9039,.4],[.8118,.9059,.4],[.8157,.9078,.4],[.8196,.9098,.4],[.8235,.9118,.4],[.8275,.9137,.4],[.8314,.9157,.4],[.8353,.9176,.4],[.8392,.9196,.4],[.8431,.9216,.4],[.8471,.9235,.4],[.851,.9255,.4],[.8549,.9275,.4],[.8588,.9294,.4],[.8627,.9314,.4],[.8667,.9333,.4],[.8706,.9353,.4],[.8745,.9373,.4],[.8784,.9392,.4],[.8824,.9412,.4],[.8863,.9431,.4],[.8902,.9451,.4],[.8941,.9471,.4],[.898,.949,.4],[.902,.951,.4],[.9059,.9529,.4],[.9098,.9549,.4],[.9137,.9569,.4],[.9176,.9588,.4],[.9216,.9608,.4],[.9255,.9627,.4],[.9294,.9647,.4],[.9333,.9667,.4],[.9373,.9686,.4],[.9412,.9706,.4],[.9451,.9725,.4],[.949,.9745,.4],[.9529,.9765,.4],[.9569,.9784,.4],[.9608,.9804,.4],[.9647,.9824,.4],[.9686,.9843,.4],[.9725,.9863,.4],[.9765,.9882,.4],[.9804,.9902,.4],[.9843,.9922,.4],[.9882,.9941,.4],[.9922,.9961,.4],[.9961,.998,.4],[1,1,.4]]},tab10:{interpolate:!1,colors:[[.1216,.4667,.7059],[1,.498,.0549],[.1725,.6275,.1725],[.8392,.1529,.1569],[.5804,.4039,.7412],[.549,.3373,.2941],[.8902,.4667,.7608],[.498,.498,.498],[.7373,.7412,.1333],[.0902,.7451,.8118]]},tab20:{interpolate:!1,colors:[[.1216,.4667,.7059],[.6824,.7804,.9098],[1,.498,.0549],[1,.7333,.4706],[.1725,.6275,.1725],[.5961,.8745,.5412],[.8392,.1529,.1569],[1,.5961,.5882],[.5804,.4039,.7412],[.7725,.6902,.8353],[.549,.3373,.2941],[.7686,.6118,.5804],[.8902,.4667,.7608],[.9686,.7137,.8235],[.498,.498,.498],[.7804,.7804,.7804],[.7373,.7412,.1333],[.8588,.8588,.5529],[.0902,.7451,.8118],[.6196,.8549,.898]]},tab20b:{interpolate:!1,colors:[[.2235,.2314,.4745],[.3216,.3294,.6392],[.4196,.4314,.8118],[.6118,.6196,.8706],[.3882,.4745,.2235],[.549,.6353,.3216],[.7098,.8118,.4196],[.8078,.8588,.6118],[.549,.4275,.1922],[.7412,.6196,.2235],[.9059,.7294,.3216],[.9059,.7961,.5804],[.5176,.2353,.2235],[.6784,.2863,.2902],[.8392,.3804,.4196],[.9059,.5882,.6118],[.4824,.2549,.451],[.6471,.3176,.5804],[.8078,.4275,.7412],[.8706,.6196,.8392]]},tab20c:{interpolate:!1,colors:[[.1922,.5098,.7412],[.4196,.6824,.8392],[.6196,.7922,.8824],[.7765,.8588,.9373],[.902,.3333,.051],[.9922,.5529,.2353],[.9922,.6824,.4196],[.9922,.8157,.6353],[.1922,.6392,.3294],[.4549,.7686,.4627],[.6314,.851,.6078],[.7804,.9137,.7529],[.4588,.4196,.6941],[.6196,.6039,.7843],[.7373,.7412,.8627],[.8549,.8549,.9216],[.3882,.3882,.3882],[.5882,.5882,.5882],[.7412,.7412,.7412],[.851,.851,.851]]},terrain:{interpolate:!0,colors:[[.2,.2,.6],[.1948,.2105,.6105],[.1895,.2209,.6209],[.1843,.2314,.6314],[.1791,.2418,.6418],[.1739,.2523,.6523],[.1686,.2627,.6627],[.1634,.2732,.6732],[.1582,.2837,.6837],[.1529,.2941,.6941],[.1477,.3046,.7046],[.1425,.315,.715],[.1373,.3255,.7255],[.132,.3359,.7359],[.1268,.3464,.7464],[.1216,.3569,.7569],[.1163,.3673,.7673],[.1111,.3778,.7778],[.1059,.3882,.7882],[.1007,.3987,.7987],[.0954,.4092,.8092],[.0902,.4196,.8196],[.085,.4301,.8301],[.0797,.4405,.8405],[.0745,.451,.851],[.0693,.4614,.8614],[.0641,.4719,.8719],[.0588,.4824,.8824],[.0536,.4928,.8928],[.0484,.5033,.9033],[.0431,.5137,.9137],[.0379,.5242,.9242],[.0327,.5346,.9346],[.0275,.5451,.9451],[.0222,.5556,.9556],[.017,.566,.966],[.0118,.5765,.9765],[.0065,.5869,.9869],[.0013,.5974,.9974],[0,.6059,.9824],[0,.6137,.9588],[0,.6216,.9353],[0,.6294,.9118],[0,.6373,.8882],[0,.6451,.8647],[0,.6529,.8412],[0,.6608,.8176],[0,.6686,.7941],[0,.6765,.7706],[0,.6843,.7471],[0,.6922,.7235],[0,.7,.7],[0,.7078,.6765],[0,.7157,.6529],[0,.7235,.6294],[0,.7314,.6059],[0,.7392,.5824],[0,.7471,.5588],[0,.7549,.5353],[0,.7627,.5118],[0,.7706,.4882],[0,.7784,.4647],[0,.7863,.4412],[0,.7941,.4176],[.0039,.8008,.4008],[.0196,.8039,.4039],[.0353,.8071,.4071],[.051,.8102,.4102],[.0667,.8133,.4133],[.0824,.8165,.4165],[.098,.8196,.4196],[.1137,.8227,.4227],[.1294,.8259,.4259],[.1451,.829,.429],[.1608,.8322,.4322],[.1765,.8353,.4353],[.1922,.8384,.4384],[.2078,.8416,.4416],[.2235,.8447,.4447],[.2392,.8478,.4478],[.2549,.851,.451],[.2706,.8541,.4541],[.2863,.8573,.4573],[.302,.8604,.4604],[.3176,.8635,.4635],[.3333,.8667,.4667],[.349,.8698,.4698],[.3647,.8729,.4729],[.3804,.8761,.4761],[.3961,.8792,.4792],[.4118,.8824,.4824],[.4275,.8855,.4855],[.4431,.8886,.4886],[.4588,.8918,.4918],[.4745,.8949,.4949],[.4902,.898,.498],[.5059,.9012,.5012],[.5216,.9043,.5043],[.5373,.9075,.5075],[.5529,.9106,.5106],[.5686,.9137,.5137],[.5843,.9169,.5169],[.6,.92,.52],[.6157,.9231,.5231],[.6314,.9263,.5263],[.6471,.9294,.5294],[.6627,.9325,.5325],[.6784,.9357,.5357],[.6941,.9388,.5388],[.7098,.942,.542],[.7255,.9451,.5451],[.7412,.9482,.5482],[.7569,.9514,.5514],[.7725,.9545,.5545],[.7882,.9576,.5576],[.8039,.9608,.5608],[.8196,.9639,.5639],[.8353,.9671,.5671],[.851,.9702,.5702],[.8667,.9733,.5733],[.8824,.9765,.5765],[.898,.9796,.5796],[.9137,.9827,.5827],[.9294,.9859,.5859],[.9451,.989,.589],[.9608,.9922,.5922],[.9765,.9953,.5953],[.9922,.9984,.5984],[.9961,.995,.5979],[.9882,.9849,.5936],[.9804,.9749,.5894],[.9725,.9649,.5852],[.9647,.9548,.5809],[.9569,.9448,.5767],[.949,.9347,.5725],[.9412,.9247,.5682],[.9333,.9147,.564],[.9255,.9046,.5598],[.9176,.8946,.5555],[.9098,.8845,.5513],[.902,.8745,.5471],[.8941,.8645,.5428],[.8863,.8544,.5386],[.8784,.8444,.5344],[.8706,.8344,.5301],[.8627,.8243,.5259],[.8549,.8143,.5216],[.8471,.8042,.5174],[.8392,.7942,.5132],[.8314,.7842,.5089],[.8235,.7741,.5047],[.8157,.7641,.5005],[.8078,.754,.4962],[.8,.744,.492],[.7922,.734,.4878],[.7843,.7239,.4835],[.7765,.7139,.4793],[.7686,.7038,.4751],[.7608,.6938,.4708],[.7529,.6838,.4666],[.7451,.6737,.4624],[.7373,.6637,.4581],[.7294,.6536,.4539],[.7216,.6436,.4496],[.7137,.6336,.4454],[.7059,.6235,.4412],[.698,.6135,.4369],[.6902,.6035,.4327],[.6824,.5934,.4285],[.6745,.5834,.4242],[.6667,.5733,.42],[.6588,.5633,.4158],[.651,.5533,.4115],[.6431,.5432,.4073],[.6353,.5332,.4031],[.6275,.5231,.3988],[.6196,.5131,.3946],[.6118,.5031,.3904],[.6039,.493,.3861],[.5961,.483,.3819],[.5882,.4729,.3776],[.5804,.4629,.3734],[.5725,.4529,.3692],[.5647,.4428,.3649],[.5569,.4328,.3607],[.549,.4227,.3565],[.5412,.4127,.3522],[.5333,.4027,.348],[.5255,.3926,.3438],[.5176,.3826,.3395],[.5098,.3725,.3353],[.502,.3625,.3311],[.5059,.3675,.3379],[.5137,.3776,.3484],[.5216,.3876,.3589],[.5294,.3976,.3694],[.5373,.4077,.3799],[.5451,.4177,.3904],[.5529,.4278,.4009],[.5608,.4378,.4115],[.5686,.4478,.422],[.5765,.4579,.4325],[.5843,.4679,.443],[.5922,.478,.4535],[.6,.488,.464],[.6078,.498,.4745],[.6157,.5081,.485],[.6235,.5181,.4955],[.6314,.5282,.506],[.6392,.5382,.5165],[.6471,.5482,.5271],[.6549,.5583,.5376],[.6627,.5683,.5481],[.6706,.5784,.5586],[.6784,.5884,.5691],[.6863,.5984,.5796],[.6941,.6085,.5901],[.702,.6185,.6006],[.7098,.6285,.6111],[.7176,.6386,.6216],[.7255,.6486,.6322],[.7333,.6587,.6427],[.7412,.6687,.6532],[.749,.6787,.6637],[.7569,.6888,.6742],[.7647,.6988,.6847],[.7725,.7089,.6952],[.7804,.7189,.7057],[.7882,.7289,.7162],[.7961,.739,.7267],[.8039,.749,.7373],[.8118,.7591,.7478],[.8196,.7691,.7583],[.8275,.7791,.7688],[.8353,.7892,.7793],[.8431,.7992,.7898],[.851,.8093,.8003],[.8588,.8193,.8108],[.8667,.8293,.8213],[.8745,.8394,.8318],[.8824,.8494,.8424],[.8902,.8595,.8529],[.898,.8695,.8634],[.9059,.8795,.8739],[.9137,.8896,.8844],[.9216,.8996,.8949],[.9294,.9096,.9054],[.9373,.9197,.9159],[.9451,.9297,.9264],[.9529,.9398,.9369],[.9608,.9498,.9475],[.9686,.9598,.958],[.9765,.9699,.9685],[.9843,.9799,.979],[.9922,.99,.9895],[1,1,1]]},turbo:{interpolate:!0,colors:[[.19,.0718,.2322],[.1948,.0834,.2615],[.1996,.095,.2902],[.2042,.1065,.3184],[.2086,.118,.3461],[.2129,.1295,.3731],[.2171,.1409,.3996],[.2211,.1522,.4256],[.225,.1635,.451],[.2288,.1748,.4758],[.2324,.186,.5],[.2358,.1972,.5237],[.2392,.2083,.5469],[.2423,.2194,.5694],[.2454,.2304,.5914],[.2483,.2414,.6129],[.2511,.2524,.6337],[.2537,.2633,.6541],[.2562,.2741,.6738],[.2585,.2849,.693],[.2607,.2957,.7116],[.2628,.3064,.7297],[.2647,.3171,.7472],[.2665,.3277,.7641],[.2682,.3382,.7805],[.2697,.3488,.7963],[.271,.3593,.8116],[.2723,.3697,.8262],[.2733,.3801,.8404],[.2743,.3904,.8539],[.2751,.4007,.8669],[.2758,.411,.8794],[.2763,.4212,.8912],[.2767,.4313,.9025],[.2769,.4414,.9133],[.277,.4515,.9235],[.277,.4615,.9331],[.2768,.4715,.9421],[.2765,.4814,.9506],[.276,.4913,.9586],[.2754,.5012,.9659],[.2747,.5109,.9728],[.2738,.5207,.979],[.2727,.5304,.9846],[.2711,.5402,.9893],[.2688,.55,.993],[.2659,.5598,.9958],[.2625,.5697,.9977],[.2586,.5796,.9988],[.2542,.5895,.999],[.2495,.5994,.9984],[.2443,.6094,.997],[.2387,.6193,.9948],[.2329,.6292,.992],[.2268,.6391,.9885],[.2204,.649,.9844],[.2138,.6589,.9796],[.2071,.6687,.9742],[.2002,.6784,.9683],[.1933,.6881,.9619],[.1862,.6978,.955],[.1792,.7073,.9476],[.1722,.7168,.9398],[.1653,.7262,.9316],[.1584,.7355,.923],[.1517,.7447,.9142],[.1452,.7538,.905],[.1389,.7628,.8955],[.1328,.7716,.8858],[.127,.7804,.8759],[.1215,.789,.8658],[.1164,.7974,.8556],[.1117,.8057,.8452],[.1074,.8138,.8348],[.1036,.8218,.8244],[.1003,.8296,.8139],[.0975,.8371,.8034],[.0953,.8446,.793],[.0938,.8518,.7826],[.0929,.8588,.7724],[.0927,.8655,.7623],[.0932,.8721,.7524],[.0945,.8784,.7426],[.0966,.8845,.7332],[.0996,.8904,.7239],[.1034,.896,.715],[.1082,.9014,.706],[.1137,.9067,.6965],[.1201,.9119,.6866],[.1273,.917,.6763],[.1353,.922,.6656],[.1439,.9268,.6545],[.1532,.9315,.6431],[.1632,.9361,.6314],[.1738,.9405,.6194],[.1849,.9448,.6071],[.1966,.949,.5947],[.2088,.953,.582],[.2214,.9569,.5691],[.2345,.9606,.5561],[.248,.9642,.543],[.2618,.9676,.5298],[.276,.9709,.5165],[.2904,.974,.5032],[.3051,.977,.4899],[.3201,.9797,.4765],[.3352,.9823,.4632],[.3504,.9848,.45],[.3658,.987,.4369],[.3813,.9891,.4239],[.3968,.991,.411],[.4123,.9927,.3983],[.4278,.9942,.3858],[.4432,.9955,.3734],[.4585,.9966,.3614],[.4738,.9976,.3496],[.4888,.9983,.3382],[.5036,.9988,.327],[.5182,.9991,.3162],[.5326,.9992,.3058],[.5466,.9991,.2958],[.5603,.9987,.2862],[.5736,.9982,.2771],[.5865,.9974,.2685],[.5989,.9964,.2604],[.6109,.9951,.2528],[.6223,.9937,.2458],[.6332,.992,.2394],[.6436,.99,.2336],[.6539,.9878,.2284],[.6643,.9852,.2237],[.6746,.9825,.2196],[.6849,.9794,.216],[.6952,.9761,.2129],[.7055,.9726,.2103],[.7158,.9688,.2082],[.726,.9647,.2064],[.7361,.9604,.205],[.7462,.9559,.2041],[.7562,.9512,.2034],[.7661,.9463,.2031],[.7759,.9411,.2031],[.7856,.9358,.2034],[.7952,.9302,.2039],[.8047,.9245,.2046],[.8141,.9186,.2055],[.8233,.9125,.2066],[.8324,.9063,.2079],[.8413,.8999,.2093],[.8501,.8933,.2107],[.8587,.8866,.2123],[.8671,.8797,.2139],[.8753,.8727,.2156],[.8833,.8655,.2172],[.8911,.8583,.2188],[.8987,.8509,.2204],[.906,.8434,.2219],[.9132,.8358,.2233],[.92,.8281,.2246],[.9267,.8202,.2257],[.933,.8124,.2267],[.9391,.8044,.2274],[.9449,.7963,.228],[.9504,.7882,.2283],[.9556,.78,.2284],[.9605,.7718,.2281],[.9651,.7635,.2275],[.9693,.7552,.2266],[.9732,.7468,.2254],[.9768,.7384,.2237],[.98,.73,.2216],[.9829,.7214,.2192],[.9855,.7125,.2165],[.9878,.7033,.2136],[.9899,.6938,.2104],[.9916,.6841,.2071],[.9931,.6741,.2035],[.9944,.6639,.1997],[.9954,.6534,.1958],[.9961,.6428,.1916],[.9965,.6319,.1874],[.9968,.6209,.183],[.9967,.6098,.1784],[.9964,.5985,.1738],[.9959,.587,.169],[.9952,.5755,.1641],[.9942,.5639,.1592],[.993,.5521,.1542],[.9915,.5404,.1491],[.9899,.5285,.144],[.988,.5167,.1388],[.9859,.5048,.1337],[.9836,.4929,.1285],[.9811,.481,.1233],[.9784,.4692,.1182],[.9754,.4574,.113],[.9723,.4456,.108],[.969,.434,.1029],[.9656,.4224,.098],[.9619,.4109,.0931],[.958,.3996,.0883],[.954,.3884,.0836],[.9498,.3773,.079],[.9454,.3664,.0746],[.9408,.3557,.0703],[.9361,.3451,.0662],[.9312,.3348,.0622],[.9262,.3247,.0584],[.921,.3149,.0548],[.9157,.3053,.0513],[.9102,.296,.0481],[.9046,.287,.0452],[.8989,.2782,.0424],[.893,.2698,.0399],[.8869,.2615,.0375],[.8807,.2533,.0352],[.8742,.2453,.033],[.8676,.2373,.0308],[.8608,.2294,.0288],[.8538,.2217,.0268],[.8466,.2141,.0249],[.8393,.2065,.023],[.8317,.1991,.0213],[.824,.1918,.0197],[.8161,.1846,.0181],[.808,.1775,.0166],[.7997,.1706,.0152],[.7912,.1637,.0139],[.7826,.1569,.0126],[.7738,.1503,.0115],[.7648,.1437,.0104],[.7556,.1373,.0094],[.7462,.131,.0085],[.7366,.1248,.0077],[.7269,.1187,.007],[.7169,.1127,.0063],[.7068,.1068,.0057],[.6965,.101,.0052],[.686,.0954,.0048],[.6754,.0898,.0045],[.6645,.0844,.0042],[.6534,.079,.0041],[.6422,.0738,.004],[.6308,.0687,.004],[.6192,.0637,.0041],[.6075,.0588,.0043],[.5955,.054,.0045],[.5834,.0493,.0049],[.571,.0447,.0053],[.5585,.0403,.0058],[.5458,.0359,.0064],[.533,.0317,.007],[.5199,.0276,.0078],[.5066,.0235,.0086],[.4932,.0196,.0096],[.4796,.0158,.0106]]},twilight:{interpolate:!0,colors:[[.8858,.85,.888],[.8838,.8507,.8872],[.8817,.8513,.8864],[.8795,.8517,.8854],[.8772,.8519,.8843],[.8749,.8519,.8832],[.8723,.8518,.8819],[.8697,.8515,.8805],[.867,.8511,.8791],[.8641,.8505,.8776],[.8611,.8498,.876],[.858,.8489,.8743],[.8547,.8479,.8726],[.8513,.8467,.8709],[.8478,.8455,.869],[.8441,.8441,.8672],[.8403,.8426,.8653],[.8363,.8409,.8633],[.8322,.8392,.8613],[.828,.8374,.8592],[.8236,.8355,.8571],[.819,.8335,.855],[.8144,.8315,.8528],[.8096,.8293,.8506],[.8047,.8271,.8484],[.7997,.8248,.8462],[.7945,.8225,.8439],[.7893,.82,.8416],[.784,.8176,.8394],[.7786,.815,.8371],[.7731,.8124,.8348],[.7675,.8098,.8325],[.7619,.8071,.8303],[.7562,.8044,.828],[.7504,.8016,.8258],[.7446,.7988,.8236],[.7387,.796,.8214],[.7328,.7931,.8193],[.7269,.7902,.8172],[.721,.7872,.8151],[.715,.7843,.8131],[.709,.7813,.8111],[.703,.7782,.8092],[.697,.7752,.8073],[.691,.7721,.8055],[.6851,.769,.8037],[.6791,.7658,.802],[.6731,.7627,.8003],[.6672,.7595,.7986],[.6613,.7563,.797],[.6554,.7531,.7955],[.6496,.7499,.794],[.6438,.7466,.7926],[.638,.7433,.7912],[.6323,.74,.7898],[.6266,.7367,.7885],[.621,.7334,.7872],[.6154,.73,.786],[.6099,.7267,.7847],[.6044,.7233,.7836],[.599,.7199,.7825],[.5936,.7165,.7814],[.5883,.713,.7803],[.583,.7096,.7793],[.5778,.7061,.7783],[.5727,.7027,.7773],[.5676,.6992,.7763],[.5626,.6957,.7754],[.5576,.6922,.7745],[.5527,.6886,.7736],[.5478,.6851,.7728],[.5431,.6815,.7719],[.5383,.678,.7711],[.5337,.6744,.7703],[.5291,.6708,.7696],[.5246,.6672,.7688],[.5201,.6636,.7681],[.5157,.6599,.7673],[.5114,.6563,.7666],[.5071,.6526,.7659],[.5029,.649,.7652],[.4987,.6453,.7645],[.4947,.6416,.7639],[.4907,.6379,.7632],[.4867,.6342,.7626],[.4829,.6304,.7619],[.4791,.6267,.7613],[.4753,.6229,.7607],[.4717,.6192,.76],[.4681,.6154,.7594],[.4646,.6116,.7588],[.4611,.6078,.7582],[.4577,.6039,.7576],[.4544,.6001,.757],[.4512,.5962,.7564],[.448,.5924,.7557],[.4449,.5885,.7551],[.4419,.5846,.7545],[.439,.5807,.7539],[.4361,.5768,.7533],[.4333,.5729,.7527],[.4306,.5689,.752],[.4279,.565,.7514],[.4253,.561,.7508],[.4228,.557,.7501],[.4204,.553,.7494],[.418,.549,.7488],[.4157,.5449,.7481],[.4135,.5409,.7474],[.4114,.5368,.7467],[.4093,.5328,.746],[.4073,.5287,.7452],[.4053,.5246,.7445],[.4035,.5205,.7437],[.4017,.5164,.743],[.3999,.5122,.7422],[.3983,.5081,.7414],[.3967,.5039,.7405],[.3951,.4997,.7397],[.3937,.4955,.7388],[.3923,.4913,.7379],[.3909,.4871,.737],[.3896,.4828,.736],[.3884,.4786,.7351],[.3872,.4743,.7341],[.3861,.47,.7331],[.3851,.4657,.732],[.3841,.4614,.7309],[.3831,.4571,.7298],[.3822,.4527,.7287],[.3814,.4484,.7276],[.3806,.444,.7264],[.3798,.4396,.7251],[.3791,.4352,.7239],[.3784,.4308,.7226],[.3778,.4264,.7213],[.3772,.4219,.7199],[.3766,.4175,.7185],[.3761,.413,.7171],[.3756,.4086,.7156],[.3751,.4041,.7141],[.3747,.3996,.7126],[.3743,.395,.711],[.3739,.3905,.7094],[.3736,.386,.7077],[.3732,.3814,.706],[.3729,.3768,.7042],[.3726,.3723,.7024],[.3724,.3677,.7006],[.3721,.3631,.6987],[.3719,.3584,.6968],[.3716,.3538,.6948],[.3714,.3492,.6927],[.3712,.3445,.6907],[.3709,.3399,.6885],[.3707,.3352,.6863],[.3705,.3305,.6841],[.3703,.3258,.6818],[.3701,.3211,.6794],[.3699,.3164,.677],[.3697,.3117,.6746],[.3694,.3069,.6721],[.3692,.3022,.6695],[.369,.2974,.6668],[.3687,.2927,.6641],[.3684,.2879,.6613],[.3681,.2832,.6585],[.3678,.2784,.6556],[.3675,.2736,.6526],[.3672,.2688,.6496],[.3668,.264,.6465],[.3664,.2593,.6433],[.366,.2545,.64],[.3656,.2497,.6367],[.3651,.2449,.6333],[.3646,.2401,.6298],[.3641,.2354,.6262],[.3635,.2306,.6225],[.3629,.2258,.6188],[.3622,.2211,.615],[.3615,.2164,.611],[.3608,.2116,.607],[.36,.2069,.6029],[.3592,.2023,.5987],[.3583,.1976,.5944],[.3574,.193,.59],[.3564,.1884,.5855],[.3554,.1838,.5809],[.3543,.1793,.5762],[.3531,.1748,.5714],[.3519,.1703,.5665],[.3506,.166,.5615],[.3492,.1616,.5563],[.3478,.1573,.5511],[.3463,.1531,.5458],[.3447,.149,.5403],[.3431,.1449,.5347],[.3414,.1409,.5291],[.3395,.137,.5233],[.3376,.1332,.5174],[.3357,.1295,.5114],[.3336,.1259,.5054],[.3315,.1224,.4992],[.3292,.1191,.4929],[.3269,.1158,.4866],[.3245,.1126,.4802],[.322,.1096,.4737],[.3195,.1067,.4671],[.3168,.1039,.4605],[.3141,.1012,.4539],[.3113,.0987,.4472],[.3084,.0963,.4405],[.3055,.094,.4337],[.3025,.0918,.427],[.2994,.0897,.4202],[.2963,.0877,.4135],[.2931,.0859,.4067],[.2899,.0841,.4],[.2867,.0824,.3933],[.2834,.0809,.3867],[.2801,.0794,.3801],[.2768,.078,.3735],[.2734,.0767,.367],[.2701,.0755,.3606],[.2667,.0743,.3542],[.2634,.0733,.3479],[.26,.0723,.3417],[.2567,.0714,.3356],[.2534,.0705,.3296],[.2501,.0698,.3237],[.2469,.0691,.3179],[.2437,.0684,.3122],[.2405,.0679,.3066],[.2374,.0674,.3011],[.2343,.0669,.2957],[.2313,.0666,.2905],[.2284,.0663,.2854],[.2255,.0661,.2804],[.2227,.0659,.2756],[.22,.0659,.2709],[.2174,.0659,.2663],[.2148,.0659,.2619],[.2124,.0661,.2577],[.21,.0663,.2535],[.2077,.0666,.2495],[.2056,.067,.2457],[.2035,.0674,.2421],[.2016,.068,.2385],[.1997,.0686,.2352],[.1979,.0693,.2319],[.1961,.0703,.2287],[.1941,.0716,.2256],[.192,.0732,.2224],[.1898,.075,.2193],[.1874,.0771,.2162],[.1849,.0794,.2131],[.1877,.0773,.2139],[.1905,.0753,.2147],[.1932,.0736,.2154],[.1957,.0722,.2162],[.1982,.071,.2169],[.2006,.0701,.2176],[.2029,.0694,.2183],[.2053,.0689,.2191],[.2079,.0685,.22],[.2105,.0681,.221],[.2133,.0678,.2221],[.2163,.0676,.2232],[.2193,.0675,.2245],[.2225,.0674,.2259],[.2258,.0674,.2273],[.2292,.0674,.2288],[.2327,.0676,.2304],[.2363,.0677,.232],[.24,.068,.2337],[.2438,.0683,.2355],[.2477,.0687,.2373],[.2517,.0691,.2392],[.2558,.0695,.2411],[.26,.0701,.2431],[.2643,.0706,.2451],[.2686,.0712,.2471],[.273,.0719,.2492],[.2775,.0726,.2512],[.282,.0733,.2533],[.2866,.0741,.2554],[.2913,.0749,.2576],[.296,.0757,.2597],[.3008,.0766,.2618],[.3056,.0775,.2639],[.3105,.0785,.266],[.3154,.0794,.2681],[.3203,.0804,.2702],[.3253,.0814,.2723],[.3303,.0825,.2743],[.3353,.0835,.2763],[.3404,.0846,.2783],[.3455,.0857,.2803],[.3506,.0869,.2822],[.3557,.088,.2841],[.3609,.0892,.2859],[.3661,.0904,.2877],[.3712,.0917,.2895],[.3764,.0929,.2912],[.3816,.0942,.2928],[.3868,.0956,.2944],[.392,.0969,.296],[.3972,.0983,.2974],[.4024,.0997,.2989],[.4076,.1012,.3002],[.4128,.1027,.3015],[.418,.1042,.3028],[.4231,.1058,.304],[.4283,.1074,.3051],[.4334,.1091,.3061],[.4386,.1108,.3071],[.4437,.1125,.308],[.4488,.1144,.3089],[.4538,.1162,.3097],[.4589,.1181,.3104],[.4639,.1201,.3111],[.4689,.1222,.3117],[.4738,.1243,.3123],[.4788,.1264,.3127],[.4837,.1286,.3132],[.4885,.1309,.3135],[.4934,.1333,.3139],[.4981,.1357,.3141],[.5029,.1382,.3144],[.5076,.1407,.3145],[.5123,.1433,.3147],[.5169,.146,.3148],[.5215,.1487,.3148],[.526,.1515,.3148],[.5305,.1544,.3148],[.535,.1573,.3148],[.5394,.1602,.3147],[.5438,.1633,.3146],[.5481,.1664,.3145],[.5524,.1695,.3144],[.5566,.1727,.3142],[.5608,.1759,.3141],[.565,.1792,.3139],[.5691,.1826,.3137],[.5731,.186,.3136],[.5772,.1894,.3134],[.5811,.1929,.3132],[.5851,.1964,.3131],[.5889,.2,.3129],[.5928,.2036,.3127],[.5966,.2072,.3126],[.6004,.2109,.3124],[.6041,.2146,.3123],[.6078,.2184,.3122],[.6114,.2221,.3121],[.615,.2259,.3121],[.6186,.2298,.312],[.6221,.2337,.312],[.6256,.2376,.312],[.629,.2415,.312],[.6324,.2455,.312],[.6358,.2494,.3121],[.6391,.2535,.3122],[.6424,.2575,.3123],[.6457,.2616,.3125],[.6489,.2656,.3127],[.6521,.2697,.3129],[.6552,.2739,.3132],[.6583,.278,.3135],[.6614,.2822,.3138],[.6644,.2864,.3142],[.6674,.2906,.3146],[.6704,.2949,.315],[.6733,.2991,.3155],[.6762,.3034,.3161],[.6791,.3077,.3167],[.6819,.312,.3173],[.6847,.3163,.318],[.6874,.3207,.3187],[.6901,.3251,.3195],[.6928,.3295,.3203],[.6955,.3339,.3211],[.6981,.3383,.3221],[.7006,.3427,.3231],[.7032,.3472,.3241],[.7057,.3517,.3252],[.7081,.3561,.3263],[.7105,.3607,.3275],[.7129,.3652,.3288],[.7153,.3697,.3301],[.7176,.3743,.3315],[.7199,.3788,.333],[.7221,.3834,.3345],[.7243,.388,.3361],[.7265,.3926,.3377],[.7286,.3972,.3395],[.7307,.4019,.3412],[.7328,.4065,.3431],[.7348,.4112,.345],[.7368,.4159,.347],[.7388,.4205,.3491],[.7407,.4252,.3513],[.7426,.4299,.3535],[.7445,.4347,.3558],[.7463,.4394,.3582],[.748,.4441,.3607],[.7498,.4489,.3633],[.7515,.4536,.3659],[.7532,.4584,.3686],[.7548,.4632,.3714],[.7564,.468,.3743],[.758,.4728,.3773],[.7596,.4776,.3804],[.7611,.4824,.3835],[.7626,.4872,.3868],[.764,.492,.3901],[.7655,.4968,.3935],[.7669,.5017,.397],[.7682,.5065,.4006],[.7696,.5113,.4043],[.7709,.5162,.4081],[.7722,.521,.412],[.7734,.5259,.4159],[.7747,.5307,.42],[.7759,.5355,.4241],[.7771,.5404,.4284],[.7783,.5452,.4327],[.7795,.5501,.4371],[.7806,.5549,.4416],[.7817,.5598,.4462],[.7829,.5646,.4509],[.784,.5694,.4557],[.7851,.5742,.4606],[.7862,.5791,.4655],[.7872,.5839,.4706],[.7883,.5887,.4757],[.7894,.5935,.4809],[.7905,.5983,.4862],[.7915,.6031,.4916],[.7926,.6078,.4971],[.7937,.6126,.5026],[.7948,.6174,.5082],[.7958,.6221,.5139],[.7969,.6268,.5196],[.798,.6316,.5255],[.7992,.6363,.5313],[.8003,.641,.5373],[.8014,.6457,.5433],[.8026,.6503,.5494],[.8038,.655,.5556],[.805,.6596,.5618],[.8062,.6643,.568],[.8075,.6689,.5743],[.8087,.6735,.5807],[.81,.678,.5871],[.8114,.6826,.5936],[.8127,.6871,.6001],[.8141,.6916,.6066],[.8155,.6961,.6132],[.8169,.7006,.6198],[.8184,.7051,.6264],[.8199,.7095,.633],[.8214,.7139,.6397],[.8229,.7183,.6464],[.8245,.7226,.6531],[.8261,.727,.6599],[.8278,.7313,.6666],[.8294,.7355,.6733],[.8311,.7398,.6801],[.8328,.744,.6868],[.8346,.7481,.6936],[.8363,.7523,.7003],[.8381,.7564,.707],[.8399,.7604,.7137],[.8417,.7644,.7203],[.8435,.7684,.727],[.8453,.7723,.7336],[.8471,.7761,.7401],[.8489,.7799,.7466],[.8507,.7837,.7531],[.8525,.7873,.7595],[.8543,.791,.7658],[.856,.7945,.7721],[.8578,.798,.7783],[.8594,.8014,.7844],[.8611,.8048,.7904],[.8627,.8081,.7963],[.8642,.8112,.802],[.8656,.8144,.8077],[.8671,.8174,.8131],[.8684,.8203,.8184],[.8697,.8231,.8235],[.8709,.8259,.8284],[.8722,.8285,.833],[.8734,.831,.8375],[.8745,.8333,.8417],[.8757,.8355,.8458],[.8769,.8376,.8496],[.878,.8395,.8533],[.8791,.8413,.8569],[.8802,.8429,.8603],[.8812,.8443,.8636],[.8821,.8456,.8667],[.883,.8467,.8698],[.8837,.8476,.8727],[.8843,.8484,.8756],[.8849,.8491,.8783],[.8853,.8496,.8809],[.8855,.8499,.8834],[.8857,.85,.8857]]},twilight_shifted:{interpolate:!0,colors:[[.1874,.0771,.2162],[.1898,.075,.2193],[.192,.0732,.2224],[.1941,.0716,.2256],[.1961,.0703,.2287],[.1979,.0693,.2319],[.1997,.0686,.2352],[.2016,.068,.2385],[.2035,.0674,.2421],[.2056,.067,.2457],[.2077,.0666,.2495],[.21,.0663,.2535],[.2124,.0661,.2577],[.2148,.0659,.2619],[.2174,.0659,.2663],[.22,.0659,.2709],[.2227,.0659,.2756],[.2255,.0661,.2804],[.2284,.0663,.2854],[.2313,.0666,.2905],[.2343,.0669,.2957],[.2374,.0674,.3011],[.2405,.0679,.3066],[.2437,.0684,.3122],[.2469,.0691,.3179],[.2501,.0698,.3237],[.2534,.0705,.3296],[.2567,.0714,.3356],[.26,.0723,.3417],[.2634,.0733,.3479],[.2667,.0743,.3542],[.2701,.0755,.3606],[.2734,.0767,.367],[.2768,.078,.3735],[.2801,.0794,.3801],[.2834,.0809,.3867],[.2867,.0824,.3933],[.2899,.0841,.4],[.2931,.0859,.4067],[.2963,.0877,.4135],[.2994,.0897,.4202],[.3025,.0918,.427],[.3055,.094,.4337],[.3084,.0963,.4405],[.3113,.0987,.4472],[.3141,.1012,.4539],[.3168,.1039,.4605],[.3195,.1067,.4671],[.322,.1096,.4737],[.3245,.1126,.4802],[.3269,.1158,.4866],[.3292,.1191,.4929],[.3315,.1224,.4992],[.3336,.1259,.5054],[.3357,.1295,.5114],[.3376,.1332,.5174],[.3395,.137,.5233],[.3414,.1409,.5291],[.3431,.1449,.5347],[.3447,.149,.5403],[.3463,.1531,.5458],[.3478,.1573,.5511],[.3492,.1616,.5563],[.3506,.166,.5615],[.3519,.1703,.5665],[.3531,.1748,.5714],[.3543,.1793,.5762],[.3554,.1838,.5809],[.3564,.1884,.5855],[.3574,.193,.59],[.3583,.1976,.5944],[.3592,.2023,.5987],[.36,.2069,.6029],[.3608,.2116,.607],[.3615,.2164,.611],[.3622,.2211,.615],[.3629,.2258,.6188],[.3635,.2306,.6225],[.3641,.2354,.6262],[.3646,.2401,.6298],[.3651,.2449,.6333],[.3656,.2497,.6367],[.366,.2545,.64],[.3664,.2593,.6433],[.3668,.264,.6465],[.3672,.2688,.6496],[.3675,.2736,.6526],[.3678,.2784,.6556],[.3681,.2832,.6585],[.3684,.2879,.6613],[.3687,.2927,.6641],[.369,.2974,.6668],[.3692,.3022,.6695],[.3694,.3069,.6721],[.3697,.3117,.6746],[.3699,.3164,.677],[.3701,.3211,.6794],[.3703,.3258,.6818],[.3705,.3305,.6841],[.3707,.3352,.6863],[.3709,.3399,.6885],[.3712,.3445,.6907],[.3714,.3492,.6927],[.3716,.3538,.6948],[.3719,.3584,.6968],[.3721,.3631,.6987],[.3724,.3677,.7006],[.3726,.3723,.7024],[.3729,.3768,.7042],[.3732,.3814,.706],[.3736,.386,.7077],[.3739,.3905,.7094],[.3743,.395,.711],[.3747,.3996,.7126],[.3751,.4041,.7141],[.3756,.4086,.7156],[.3761,.413,.7171],[.3766,.4175,.7185],[.3772,.4219,.7199],[.3778,.4264,.7213],[.3784,.4308,.7226],[.3791,.4352,.7239],[.3798,.4396,.7251],[.3806,.444,.7264],[.3814,.4484,.7276],[.3822,.4527,.7287],[.3831,.4571,.7298],[.3841,.4614,.7309],[.3851,.4657,.732],[.3861,.47,.7331],[.3872,.4743,.7341],[.3884,.4786,.7351],[.3896,.4828,.736],[.3909,.4871,.737],[.3923,.4913,.7379],[.3937,.4955,.7388],[.3951,.4997,.7397],[.3967,.5039,.7405],[.3983,.5081,.7414],[.3999,.5122,.7422],[.4017,.5164,.743],[.4035,.5205,.7437],[.4053,.5246,.7445],[.4073,.5287,.7452],[.4093,.5328,.746],[.4114,.5368,.7467],[.4135,.5409,.7474],[.4157,.5449,.7481],[.418,.549,.7488],[.4204,.553,.7494],[.4228,.557,.7501],[.4253,.561,.7508],[.4279,.565,.7514],[.4306,.5689,.752],[.4333,.5729,.7527],[.4361,.5768,.7533],[.439,.5807,.7539],[.4419,.5846,.7545],[.4449,.5885,.7551],[.448,.5924,.7557],[.4512,.5962,.7564],[.4544,.6001,.757],[.4577,.6039,.7576],[.4611,.6078,.7582],[.4646,.6116,.7588],[.4681,.6154,.7594],[.4717,.6192,.76],[.4753,.6229,.7607],[.4791,.6267,.7613],[.4829,.6304,.7619],[.4867,.6342,.7626],[.4907,.6379,.7632],[.4947,.6416,.7639],[.4987,.6453,.7645],[.5029,.649,.7652],[.5071,.6526,.7659],[.5114,.6563,.7666],[.5157,.6599,.7673],[.5201,.6636,.7681],[.5246,.6672,.7688],[.5291,.6708,.7696],[.5337,.6744,.7703],[.5383,.678,.7711],[.5431,.6815,.7719],[.5478,.6851,.7728],[.5527,.6886,.7736],[.5576,.6922,.7745],[.5626,.6957,.7754],[.5676,.6992,.7763],[.5727,.7027,.7773],[.5778,.7061,.7783],[.583,.7096,.7793],[.5883,.713,.7803],[.5936,.7165,.7814],[.599,.7199,.7825],[.6044,.7233,.7836],[.6099,.7267,.7847],[.6154,.73,.786],[.621,.7334,.7872],[.6266,.7367,.7885],[.6323,.74,.7898],[.638,.7433,.7912],[.6438,.7466,.7926],[.6496,.7499,.794],[.6554,.7531,.7955],[.6613,.7563,.797],[.6672,.7595,.7986],[.6731,.7627,.8003],[.6791,.7658,.802],[.6851,.769,.8037],[.691,.7721,.8055],[.697,.7752,.8073],[.703,.7782,.8092],[.709,.7813,.8111],[.715,.7843,.8131],[.721,.7872,.8151],[.7269,.7902,.8172],[.7328,.7931,.8193],[.7387,.796,.8214],[.7446,.7988,.8236],[.7504,.8016,.8258],[.7562,.8044,.828],[.7619,.8071,.8303],[.7675,.8098,.8325],[.7731,.8124,.8348],[.7786,.815,.8371],[.784,.8176,.8394],[.7893,.82,.8416],[.7945,.8225,.8439],[.7997,.8248,.8462],[.8047,.8271,.8484],[.8096,.8293,.8506],[.8144,.8315,.8528],[.819,.8335,.855],[.8236,.8355,.8571],[.828,.8374,.8592],[.8322,.8392,.8613],[.8363,.8409,.8633],[.8403,.8426,.8653],[.8441,.8441,.8672],[.8478,.8455,.869],[.8513,.8467,.8709],[.8547,.8479,.8726],[.858,.8489,.8743],[.8611,.8498,.876],[.8641,.8505,.8776],[.867,.8511,.8791],[.8697,.8515,.8805],[.8723,.8518,.8819],[.8749,.8519,.8832],[.8772,.8519,.8843],[.8795,.8517,.8854],[.8817,.8513,.8864],[.8838,.8507,.8872],[.8858,.85,.888],[.8857,.85,.8857],[.8855,.8499,.8834],[.8853,.8496,.8809],[.8849,.8491,.8783],[.8843,.8484,.8756],[.8837,.8476,.8727],[.883,.8467,.8698],[.8821,.8456,.8667],[.8812,.8443,.8636],[.8802,.8429,.8603],[.8791,.8413,.8569],[.878,.8395,.8533],[.8769,.8376,.8496],[.8757,.8355,.8458],[.8745,.8333,.8417],[.8734,.831,.8375],[.8722,.8285,.833],[.8709,.8259,.8284],[.8697,.8231,.8235],[.8684,.8203,.8184],[.8671,.8174,.8131],[.8656,.8144,.8077],[.8642,.8112,.802],[.8627,.8081,.7963],[.8611,.8048,.7904],[.8594,.8014,.7844],[.8578,.798,.7783],[.856,.7945,.7721],[.8543,.791,.7658],[.8525,.7873,.7595],[.8507,.7837,.7531],[.8489,.7799,.7466],[.8471,.7761,.7401],[.8453,.7723,.7336],[.8435,.7684,.727],[.8417,.7644,.7203],[.8399,.7604,.7137],[.8381,.7564,.707],[.8363,.7523,.7003],[.8346,.7481,.6936],[.8328,.744,.6868],[.8311,.7398,.6801],[.8294,.7355,.6733],[.8278,.7313,.6666],[.8261,.727,.6599],[.8245,.7226,.6531],[.8229,.7183,.6464],[.8214,.7139,.6397],[.8199,.7095,.633],[.8184,.7051,.6264],[.8169,.7006,.6198],[.8155,.6961,.6132],[.8141,.6916,.6066],[.8127,.6871,.6001],[.8114,.6826,.5936],[.81,.678,.5871],[.8087,.6735,.5807],[.8075,.6689,.5743],[.8062,.6643,.568],[.805,.6596,.5618],[.8038,.655,.5556],[.8026,.6503,.5494],[.8014,.6457,.5433],[.8003,.641,.5373],[.7992,.6363,.5313],[.798,.6316,.5255],[.7969,.6268,.5196],[.7958,.6221,.5139],[.7948,.6174,.5082],[.7937,.6126,.5026],[.7926,.6078,.4971],[.7915,.6031,.4916],[.7905,.5983,.4862],[.7894,.5935,.4809],[.7883,.5887,.4757],[.7872,.5839,.4706],[.7862,.5791,.4655],[.7851,.5742,.4606],[.784,.5694,.4557],[.7829,.5646,.4509],[.7817,.5598,.4462],[.7806,.5549,.4416],[.7795,.5501,.4371],[.7783,.5452,.4327],[.7771,.5404,.4284],[.7759,.5355,.4241],[.7747,.5307,.42],[.7734,.5259,.4159],[.7722,.521,.412],[.7709,.5162,.4081],[.7696,.5113,.4043],[.7682,.5065,.4006],[.7669,.5017,.397],[.7655,.4968,.3935],[.764,.492,.3901],[.7626,.4872,.3868],[.7611,.4824,.3835],[.7596,.4776,.3804],[.758,.4728,.3773],[.7564,.468,.3743],[.7548,.4632,.3714],[.7532,.4584,.3686],[.7515,.4536,.3659],[.7498,.4489,.3633],[.748,.4441,.3607],[.7463,.4394,.3582],[.7445,.4347,.3558],[.7426,.4299,.3535],[.7407,.4252,.3513],[.7388,.4205,.3491],[.7368,.4159,.347],[.7348,.4112,.345],[.7328,.4065,.3431],[.7307,.4019,.3412],[.7286,.3972,.3395],[.7265,.3926,.3377],[.7243,.388,.3361],[.7221,.3834,.3345],[.7199,.3788,.333],[.7176,.3743,.3315],[.7153,.3697,.3301],[.7129,.3652,.3288],[.7105,.3607,.3275],[.7081,.3561,.3263],[.7057,.3517,.3252],[.7032,.3472,.3241],[.7006,.3427,.3231],[.6981,.3383,.3221],[.6955,.3339,.3211],[.6928,.3295,.3203],[.6901,.3251,.3195],[.6874,.3207,.3187],[.6847,.3163,.318],[.6819,.312,.3173],[.6791,.3077,.3167],[.6762,.3034,.3161],[.6733,.2991,.3155],[.6704,.2949,.315],[.6674,.2906,.3146],[.6644,.2864,.3142],[.6614,.2822,.3138],[.6583,.278,.3135],[.6552,.2739,.3132],[.6521,.2697,.3129],[.6489,.2656,.3127],[.6457,.2616,.3125],[.6424,.2575,.3123],[.6391,.2535,.3122],[.6358,.2494,.3121],[.6324,.2455,.312],[.629,.2415,.312],[.6256,.2376,.312],[.6221,.2337,.312],[.6186,.2298,.312],[.615,.2259,.3121],[.6114,.2221,.3121],[.6078,.2184,.3122],[.6041,.2146,.3123],[.6004,.2109,.3124],[.5966,.2072,.3126],[.5928,.2036,.3127],[.5889,.2,.3129],[.5851,.1964,.3131],[.5811,.1929,.3132],[.5772,.1894,.3134],[.5731,.186,.3136],[.5691,.1826,.3137],[.565,.1792,.3139],[.5608,.1759,.3141],[.5566,.1727,.3142],[.5524,.1695,.3144],[.5481,.1664,.3145],[.5438,.1633,.3146],[.5394,.1602,.3147],[.535,.1573,.3148],[.5305,.1544,.3148],[.526,.1515,.3148],[.5215,.1487,.3148],[.5169,.146,.3148],[.5123,.1433,.3147],[.5076,.1407,.3145],[.5029,.1382,.3144],[.4981,.1357,.3141],[.4934,.1333,.3139],[.4885,.1309,.3135],[.4837,.1286,.3132],[.4788,.1264,.3127],[.4738,.1243,.3123],[.4689,.1222,.3117],[.4639,.1201,.3111],[.4589,.1181,.3104],[.4538,.1162,.3097],[.4488,.1144,.3089],[.4437,.1125,.308],[.4386,.1108,.3071],[.4334,.1091,.3061],[.4283,.1074,.3051],[.4231,.1058,.304],[.418,.1042,.3028],[.4128,.1027,.3015],[.4076,.1012,.3002],[.4024,.0997,.2989],[.3972,.0983,.2974],[.392,.0969,.296],[.3868,.0956,.2944],[.3816,.0942,.2928],[.3764,.0929,.2912],[.3712,.0917,.2895],[.3661,.0904,.2877],[.3609,.0892,.2859],[.3557,.088,.2841],[.3506,.0869,.2822],[.3455,.0857,.2803],[.3404,.0846,.2783],[.3353,.0835,.2763],[.3303,.0825,.2743],[.3253,.0814,.2723],[.3203,.0804,.2702],[.3154,.0794,.2681],[.3105,.0785,.266],[.3056,.0775,.2639],[.3008,.0766,.2618],[.296,.0757,.2597],[.2913,.0749,.2576],[.2866,.0741,.2554],[.282,.0733,.2533],[.2775,.0726,.2512],[.273,.0719,.2492],[.2686,.0712,.2471],[.2643,.0706,.2451],[.26,.0701,.2431],[.2558,.0695,.2411],[.2517,.0691,.2392],[.2477,.0687,.2373],[.2438,.0683,.2355],[.24,.068,.2337],[.2363,.0677,.232],[.2327,.0676,.2304],[.2292,.0674,.2288],[.2258,.0674,.2273],[.2225,.0674,.2259],[.2193,.0675,.2245],[.2163,.0676,.2232],[.2133,.0678,.2221],[.2105,.0681,.221],[.2079,.0685,.22],[.2053,.0689,.2191],[.2029,.0694,.2183],[.2006,.0701,.2176],[.1982,.071,.2169],[.1957,.0722,.2162],[.1932,.0736,.2154],[.1905,.0753,.2147],[.1877,.0773,.2139],[.1849,.0794,.2131]]},viridis:{interpolate:!0,colors:[[.267,.0049,.3294],[.2685,.0096,.3354],[.2699,.0146,.3414],[.2713,.0199,.3473],[.2726,.0256,.3531],[.2738,.0315,.3589],[.275,.0378,.3645],[.276,.0442,.3702],[.277,.0503,.3757],[.2779,.0563,.3812],[.2788,.0621,.3866],[.2796,.0678,.3919],[.2803,.0734,.3972],[.2809,.0789,.4023],[.2814,.0843,.4074],[.2819,.0897,.4124],[.2823,.095,.4173],[.2827,.1002,.4222],[.2829,.1054,.4269],[.2831,.1106,.4316],[.2832,.1157,.4361],[.2832,.1208,.4406],[.2832,.1258,.445],[.2831,.1309,.4492],[.2829,.1359,.4534],[.2826,.1409,.4575],[.2823,.1459,.4615],[.2819,.1509,.4654],[.2814,.1558,.4692],[.2809,.1608,.4729],[.2803,.1657,.4765],[.2796,.1706,.48],[.2788,.1755,.4834],[.278,.1804,.4867],[.2771,.1852,.4899],[.2762,.1901,.493],[.2752,.1949,.496],[.2741,.1997,.4989],[.273,.2045,.5017],[.2718,.2093,.5044],[.2706,.2141,.5071],[.2693,.2188,.5096],[.268,.2235,.512],[.2666,.2283,.5143],[.2651,.233,.5166],[.2637,.2376,.5188],[.2621,.2423,.5208],[.2606,.2469,.5228],[.259,.2515,.5247],[.2573,.2561,.5266],[.2556,.2607,.5283],[.2539,.2653,.53],[.2522,.2698,.5316],[.2504,.2743,.5331],[.2486,.2788,.5346],[.2468,.2832,.5359],[.245,.2877,.5373],[.2431,.2921,.5385],[.2412,.2965,.5397],[.2393,.3009,.5408],[.2374,.3052,.5419],[.2355,.3095,.5429],[.2336,.3138,.5439],[.2317,.3181,.5448],[.2297,.3224,.5457],[.2278,.3266,.5465],[.2259,.3308,.5473],[.2239,.335,.5481],[.222,.3392,.5488],[.2201,.3433,.5494],[.2181,.3474,.55],[.2162,.3515,.5506],[.2143,.3556,.5512],[.2124,.3597,.5517],[.2105,.3637,.5522],[.2086,.3678,.5527],[.2068,.3718,.5531],[.2049,.3757,.5535],[.2031,.3797,.5539],[.2012,.3837,.5543],[.1994,.3876,.5546],[.1976,.3915,.555],[.1959,.3954,.5553],[.1941,.3993,.5556],[.1924,.4032,.5558],[.1906,.4071,.5561],[.1889,.4109,.5563],[.1872,.4147,.5565],[.1856,.4186,.5568],[.1839,.4224,.5569],[.1823,.4262,.5571],[.1806,.43,.5573],[.179,.4338,.5574],[.1774,.4375,.5576],[.1758,.4413,.5577],[.1743,.445,.5578],[.1727,.4488,.5579],[.1712,.4525,.558],[.1696,.4563,.558],[.1681,.46,.5581],[.1666,.4637,.5581],[.1651,.4674,.5581],[.1636,.4711,.5581],[.1621,.4748,.5581],[.1607,.4785,.5581],[.1592,.4822,.5581],[.1577,.4859,.558],[.1563,.4896,.5579],[.1548,.4933,.5578],[.1534,.497,.5577],[.1519,.5007,.5576],[.1505,.5044,.5574],[.149,.5081,.5572],[.1476,.5117,.557],[.1462,.5154,.5568],[.1448,.5191,.5566],[.1433,.5228,.5563],[.1419,.5265,.556],[.1405,.5301,.5557],[.1391,.5338,.5553],[.1378,.5375,.5549],[.1364,.5412,.5545],[.1351,.5449,.554],[.1337,.5485,.5535],[.1324,.5522,.553],[.1312,.5559,.5525],[.1299,.5596,.5519],[.1287,.5633,.5512],[.1276,.5669,.5506],[.1265,.5706,.5498],[.1254,.5743,.5491],[.1244,.578,.5483],[.1235,.5817,.5474],[.1226,.5854,.5466],[.1218,.5891,.5456],[.1211,.5927,.5446],[.1206,.5964,.5436],[.1201,.6001,.5425],[.1197,.6038,.5414],[.1195,.6075,.5402],[.1194,.6111,.539],[.1195,.6148,.5377],[.1197,.6185,.5363],[.1201,.6222,.5349],[.1206,.6258,.5335],[.1214,.6295,.532],[.1223,.6332,.5304],[.1234,.6368,.5288],[.1248,.6405,.5271],[.1263,.6441,.5253],[.1281,.6477,.5235],[.1301,.6514,.5216],[.1323,.655,.5197],[.1347,.6586,.5176],[.1373,.6623,.5156],[.1402,.6659,.5134],[.1433,.6695,.5112],[.1466,.673,.5089],[.1501,.6766,.5066],[.1539,.6802,.5042],[.1579,.6838,.5017],[.162,.6873,.4991],[.1664,.6909,.4965],[.1709,.6944,.4938],[.1757,.6979,.491],[.1807,.7014,.4882],[.1858,.7049,.4853],[.1911,.7084,.4823],[.1966,.7118,.4792],[.2022,.7153,.4761],[.208,.7187,.4729],[.214,.7221,.4696],[.2201,.7255,.4662],[.2264,.7289,.4628],[.2328,.7322,.4593],[.2394,.7356,.4557],[.2461,.7389,.452],[.2529,.7422,.4483],[.2599,.7455,.4445],[.2669,.7488,.4406],[.2741,.752,.4366],[.2815,.7552,.4326],[.2889,.7584,.4284],[.2965,.7616,.4242],[.3041,.7647,.4199],[.3119,.7678,.4156],[.3198,.7709,.4112],[.3278,.774,.4066],[.3359,.777,.402],[.3441,.78,.3974],[.3524,.783,.3926],[.3607,.786,.3878],[.3692,.7889,.3829],[.3778,.7918,.3779],[.3864,.7946,.3729],[.3952,.7975,.3678],[.404,.8003,.3626],[.4129,.803,.3573],[.4219,.8058,.3519],[.431,.8085,.3465],[.4401,.8111,.341],[.4494,.8138,.3354],[.4587,.8164,.3297],[.4681,.8189,.324],[.4775,.8214,.3182],[.487,.8239,.3123],[.4966,.8264,.3064],[.5063,.8288,.3004],[.516,.8312,.2943],[.5258,.8335,.2881],[.5356,.8358,.2819],[.5455,.838,.2756],[.5555,.8403,.2693],[.5655,.8424,.2629],[.5756,.8446,.2564],[.5857,.8467,.2499],[.5958,.8487,.2433],[.606,.8507,.2367],[.6163,.8527,.2301],[.6266,.8546,.2234],[.6369,.8565,.2166],[.6473,.8584,.2099],[.6576,.8602,.2031],[.6681,.862,.1963],[.6785,.8637,.1895],[.6889,.8654,.1827],[.6994,.8671,.176],[.7099,.8688,.1693],[.7204,.8704,.1626],[.7309,.8719,.156],[.7414,.8734,.1496],[.7519,.875,.1432],[.7624,.8764,.1371],[.7729,.8779,.1311],[.7833,.8793,.1254],[.7938,.8807,.12],[.8042,.882,.115],[.8146,.8834,.1103],[.8249,.8847,.1062],[.8353,.886,.1026],[.8456,.8873,.0997],[.8558,.8886,.0975],[.866,.8899,.096],[.8762,.8911,.0952],[.8863,.8924,.0954],[.8963,.8936,.0963],[.9063,.8949,.0981],[.9162,.8961,.1007],[.9261,.8973,.1041],[.9359,.8986,.1081],[.9456,.8998,.1128],[.9553,.9011,.1181],[.9649,.9023,.1239],[.9744,.9036,.1302],[.9839,.9049,.1369],[.9932,.9062,.1439]]},winter:{interpolate:!0,colors:[[0,0,1],[0,.0039,.998],[0,.0078,.9961],[0,.0118,.9941],[0,.0157,.9922],[0,.0196,.9902],[0,.0235,.9882],[0,.0275,.9863],[0,.0314,.9843],[0,.0353,.9824],[0,.0392,.9804],[0,.0431,.9784],[0,.0471,.9765],[0,.051,.9745],[0,.0549,.9725],[0,.0588,.9706],[0,.0627,.9686],[0,.0667,.9667],[0,.0706,.9647],[0,.0745,.9627],[0,.0784,.9608],[0,.0824,.9588],[0,.0863,.9569],[0,.0902,.9549],[0,.0941,.9529],[0,.098,.951],[0,.102,.949],[0,.1059,.9471],[0,.1098,.9451],[0,.1137,.9431],[0,.1176,.9412],[0,.1216,.9392],[0,.1255,.9373],[0,.1294,.9353],[0,.1333,.9333],[0,.1373,.9314],[0,.1412,.9294],[0,.1451,.9275],[0,.149,.9255],[0,.1529,.9235],[0,.1569,.9216],[0,.1608,.9196],[0,.1647,.9176],[0,.1686,.9157],[0,.1725,.9137],[0,.1765,.9118],[0,.1804,.9098],[0,.1843,.9078],[0,.1882,.9059],[0,.1922,.9039],[0,.1961,.902],[0,.2,.9],[0,.2039,.898],[0,.2078,.8961],[0,.2118,.8941],[0,.2157,.8922],[0,.2196,.8902],[0,.2235,.8882],[0,.2275,.8863],[0,.2314,.8843],[0,.2353,.8824],[0,.2392,.8804],[0,.2431,.8784],[0,.2471,.8765],[0,.251,.8745],[0,.2549,.8725],[0,.2588,.8706],[0,.2627,.8686],[0,.2667,.8667],[0,.2706,.8647],[0,.2745,.8627],[0,.2784,.8608],[0,.2824,.8588],[0,.2863,.8569],[0,.2902,.8549],[0,.2941,.8529],[0,.298,.851],[0,.302,.849],[0,.3059,.8471],[0,.3098,.8451],[0,.3137,.8431],[0,.3176,.8412],[0,.3216,.8392],[0,.3255,.8373],[0,.3294,.8353],[0,.3333,.8333],[0,.3373,.8314],[0,.3412,.8294],[0,.3451,.8275],[0,.349,.8255],[0,.3529,.8235],[0,.3569,.8216],[0,.3608,.8196],[0,.3647,.8176],[0,.3686,.8157],[0,.3725,.8137],[0,.3765,.8118],[0,.3804,.8098],[0,.3843,.8078],[0,.3882,.8059],[0,.3922,.8039],[0,.3961,.802],[0,.4,.8],[0,.4039,.798],[0,.4078,.7961],[0,.4118,.7941],[0,.4157,.7922],[0,.4196,.7902],[0,.4235,.7882],[0,.4275,.7863],[0,.4314,.7843],[0,.4353,.7824],[0,.4392,.7804],[0,.4431,.7784],[0,.4471,.7765],[0,.451,.7745],[0,.4549,.7725],[0,.4588,.7706],[0,.4627,.7686],[0,.4667,.7667],[0,.4706,.7647],[0,.4745,.7627],[0,.4784,.7608],[0,.4824,.7588],[0,.4863,.7569],[0,.4902,.7549],[0,.4941,.7529],[0,.498,.751],[0,.502,.749],[0,.5059,.7471],[0,.5098,.7451],[0,.5137,.7431],[0,.5176,.7412],[0,.5216,.7392],[0,.5255,.7373],[0,.5294,.7353],[0,.5333,.7333],[0,.5373,.7314],[0,.5412,.7294],[0,.5451,.7275],[0,.549,.7255],[0,.5529,.7235],[0,.5569,.7216],[0,.5608,.7196],[0,.5647,.7176],[0,.5686,.7157],[0,.5725,.7137],[0,.5765,.7118],[0,.5804,.7098],[0,.5843,.7078],[0,.5882,.7059],[0,.5922,.7039],[0,.5961,.702],[0,.6,.7],[0,.6039,.698],[0,.6078,.6961],[0,.6118,.6941],[0,.6157,.6922],[0,.6196,.6902],[0,.6235,.6882],[0,.6275,.6863],[0,.6314,.6843],[0,.6353,.6824],[0,.6392,.6804],[0,.6431,.6784],[0,.6471,.6765],[0,.651,.6745],[0,.6549,.6725],[0,.6588,.6706],[0,.6627,.6686],[0,.6667,.6667],[0,.6706,.6647],[0,.6745,.6627],[0,.6784,.6608],[0,.6824,.6588],[0,.6863,.6569],[0,.6902,.6549],[0,.6941,.6529],[0,.698,.651],[0,.702,.649],[0,.7059,.6471],[0,.7098,.6451],[0,.7137,.6431],[0,.7176,.6412],[0,.7216,.6392],[0,.7255,.6373],[0,.7294,.6353],[0,.7333,.6333],[0,.7373,.6314],[0,.7412,.6294],[0,.7451,.6275],[0,.749,.6255],[0,.7529,.6235],[0,.7569,.6216],[0,.7608,.6196],[0,.7647,.6176],[0,.7686,.6157],[0,.7725,.6137],[0,.7765,.6118],[0,.7804,.6098],[0,.7843,.6078],[0,.7882,.6059],[0,.7922,.6039],[0,.7961,.602],[0,.8,.6],[0,.8039,.598],[0,.8078,.5961],[0,.8118,.5941],[0,.8157,.5922],[0,.8196,.5902],[0,.8235,.5882],[0,.8275,.5863],[0,.8314,.5843],[0,.8353,.5824],[0,.8392,.5804],[0,.8431,.5784],[0,.8471,.5765],[0,.851,.5745],[0,.8549,.5725],[0,.8588,.5706],[0,.8627,.5686],[0,.8667,.5667],[0,.8706,.5647],[0,.8745,.5627],[0,.8784,.5608],[0,.8824,.5588],[0,.8863,.5569],[0,.8902,.5549],[0,.8941,.5529],[0,.898,.551],[0,.902,.549],[0,.9059,.5471],[0,.9098,.5451],[0,.9137,.5431],[0,.9176,.5412],[0,.9216,.5392],[0,.9255,.5373],[0,.9294,.5353],[0,.9333,.5333],[0,.9373,.5314],[0,.9412,.5294],[0,.9451,.5275],[0,.949,.5255],[0,.9529,.5235],[0,.9569,.5216],[0,.9608,.5196],[0,.9647,.5176],[0,.9686,.5157],[0,.9725,.5137],[0,.9765,.5118],[0,.9804,.5098],[0,.9843,.5078],[0,.9882,.5059],[0,.9922,.5039],[0,.9961,.502],[0,1,.5]]}};function p(e,t,r){var i,n;let s,a;if(!(0<=e<=1))throw Error("Illegal value for x! Must be in [0, 1].");if(!(t in d))throw Error("Colormap "+t+"does not exist!");!0===r&&(e=1-e);let o=d[t].colors;return!0===d[t].interpolate?(s=Math.floor((i=e)*((n=o).length-1)),a=Math.ceil(i*(n.length-1)),[Math.round((n[s][0]+n[a][0])/2*255),Math.round((n[s][1]+n[a][1])/2*255),Math.round((n[s][2]+n[a][2])/2*255)]):function(e,t){let r=0;for(;e>(r+1)/(t.length-0);)r++;return[Math.round(255*t[r][0]),Math.round(255*t[r][1]),Math.round(255*t[r][2])]}(e,o)}function f(e){return e.endsWith("_r")?function(t){return p(t,e.substring(0,e.length-2),!0)}:function(t){return p(t,e,!1)}}function m(e=null,t="Spectral",r=1,i="#000000",n=0,s=!1){var a;let o,l=Array.from({length:255},(e,t)=>t/254),u=(l=s?l.reverse():l).map(e=>p(e,t,!1)),c=new Uint8Array((u.length+1)*4);for(let e=0;e<u.length;e++){let[t,i,n]=u[e];c[4*e]=t,c[4*e+1]=i,c[4*e+2]=n,c[4*e+3]=r}let d=[(o=parseInt(a=i.replace(/^#/,""),16))>>16&255,o>>8&255,255&o],f=4*u.length;c[f]=d[0],c[f+1]=d[1],c[f+2]=d[2],c[f+3]=n,e&&e.dispose();let g=new h.DataTexture(c,u.length+1,1,h.RGBAFormat);return g.needsUpdate=!0,g}f("Accent"),f("Accent_r"),f("Blues"),f("Blues_r"),f("BrBG"),f("BrBG_r"),f("BuGn"),f("BuGn_r"),f("BuPu"),f("BuPu_r"),f("CMRmap"),f("CMRmap_r"),f("Dark2"),f("Dark2_r"),f("GnBu"),f("GnBu_r"),f("Greens"),f("Greens_r"),f("Greys"),f("Greys_r"),f("OrRd"),f("OrRd_r"),f("Oranges"),f("Oranges_r"),f("PRGn"),f("PRGn_r"),f("Paired"),f("Paired_r"),f("Pastel1"),f("Pastel1_r"),f("Pastel2"),f("Pastel2_r"),f("PiYG"),f("PiYG_r"),f("PuBu"),f("PuBu_r"),f("PuBuGn"),f("PuBuGn_r"),f("PuOr"),f("PuOr_r"),f("PuRd"),f("PuRd_r"),f("Purples"),f("Purples_r"),f("RdBu"),f("RdBu_r"),f("RdGy"),f("RdGy_r"),f("RdPu"),f("RdPu_r"),f("RdYlBu"),f("RdYlBu_r"),f("RdYlGn"),f("RdYlGn_r"),f("Reds"),f("Reds_r"),f("Set1"),f("Set1_r"),f("Set2"),f("Set2_r"),f("Set3"),f("Set3_r"),f("Spectral"),f("Spectral_r"),f("Wistia"),f("Wistia_r"),f("YlGn"),f("YlGn_r"),f("YlGnBu"),f("YlGnBu_r"),f("YlOrBr"),f("YlOrBr_r"),f("YlOrRd"),f("YlOrRd_r"),f("afmhot"),f("afmhot_r"),f("autumn"),f("autumn_r"),f("binary"),f("binary_r"),f("bone"),f("bone_r"),f("brg"),f("brg_r"),f("bwr"),f("bwr_r"),f("cividis"),f("cividis_r"),f("cool"),f("cool_r"),f("coolwarm"),f("coolwarm_r"),f("copper"),f("copper_r"),f("cubehelix"),f("cubehelix_r"),f("flag"),f("flag_r"),f("gist_earth"),f("gist_earth_r"),f("gist_gray"),f("gist_gray_r"),f("gist_heat"),f("gist_heat_r"),f("gist_ncar"),f("gist_ncar_r"),f("gist_rainbow"),f("gist_rainbow_r"),f("gist_stern"),f("gist_stern_r"),f("gist_yarg"),f("gist_yarg_r"),f("gnuplot"),f("gnuplot_r"),f("gnuplot2"),f("gnuplot2_r"),f("gray"),f("gray_r"),f("hot"),f("hot_r"),f("hsv"),f("hsv_r"),f("inferno"),f("inferno_r"),f("jet"),f("jet_r"),f("magma"),f("magma_r"),f("nipy_spectral"),f("nipy_spectral_r"),f("ocean"),f("ocean_r"),f("pink"),f("pink_r"),f("plasma"),f("plasma_r"),f("prism"),f("prism_r"),f("rainbow"),f("rainbow_r"),f("seismic"),f("seismic_r"),f("spring"),f("spring_r"),f("summer"),f("summer_r"),f("tab10"),f("tab10_r"),f("tab20"),f("tab20_r"),f("tab20b"),f("tab20b_r"),f("tab20c"),f("tab20c_r"),f("terrain"),f("terrain_r"),f("turbo"),f("turbo_r"),f("twilight"),f("twilight_r"),f("twilight_shifted"),f("twilight_shifted_r"),f("viridis"),f("viridis_r"),f("winter"),f("winter_r"),e.s(["evaluate_cmap",()=>p],27550),e.s(["GetColorMapTexture",()=>m,"colormaps",0,["magma","inferno","plasma","viridis","cividis","twilight","twilight_shifted","turbo","Blues","BrBG","BuGn","BuPu","CMRmap","GnBu","Greens","Greys","OrRd","Oranges","PRGn","PiYG","PuBu","PuBuGn","PuOr","PuRd","Purples","RdBu","RdGy","RdPu","RdYlBu","RdYlGn","Reds","Spectral","Wistia","YlGn","YlGnBu","YlOrBr","YlOrRd","afmhot","autumn","binary","bone","brg","bwr","cool","coolwarm","copper","cubehelix","flag","gist_earth","gist_gray","gist_heat","gist_ncar","gist_rainbow","gist_stern","gist_yarg","gnuplot","gnuplot2","gray","hot","hsv","jet","nipy_spectral","ocean","pink","prism","rainbow","seismic","spring","summer","terrain","winter","Accent","Dark2","Paired","Pastel1","Pastel2","Set1","Set2","Set3","tab10","tab20","tab20b","tab20c"]],72508),e.s(["ArrayToTexture",()=>x,"CreateTexture",()=>y],3546);var g=e.i(9914);function y(e,t){let{textureArrayDepths:r}=v.getState(),i=t||v.getState().textureData;if(i)if(2==e.length){let t=e[1],n=e[0],s={y:Math.floor(n/r[1]),x:Math.floor(t/r[2])},a=function(e,t,r){let i=[],n=Math.ceil(t.y/r.y),s=Math.ceil(t.x/r.x);for(let a=0;a<n;a++)for(let n=0;n<s;n++){let s=a*r.y,o=n*r.x,l=Math.min(s+r.y,t.y),u=Math.min(o+r.x,t.x),c=l-s,h=u-o;if(c<=0||h<=0)continue;let d=new Uint8Array(c*h),p=0;for(let r=s;r<l;r++){let i=r*t.x+o;d.set(e.subarray(i,i+h),p),p+=h}i.push({data:d,dims:{x:h,y:c}})}return i}(i,{y:n,x:t},s),o=[];for(let e of a){let t=new h.DataTexture(e.data,e.dims.x,e.dims.y,h.RedFormat,h.UnsignedByteType);t.needsUpdate=!0,o.push(t)}return o}else{let[t,n,s]=e,a={z:Math.floor(t/r[0]),y:Math.floor(n/r[1]),x:Math.floor(s/r[2])},o=function(e,t,r,i){let n=[],s={z:t.y*t.x,y:t.x};for(let a=0;a<i[0];a++)for(let o=0;o<i[1];o++)for(let l=0;l<i[2];l++){let i=a*r.z,u=o*r.y,c=l*r.x,h=Math.min(i+r.z,t.z),d=Math.min(u+r.y,t.y),p=Math.min(c+r.x,t.x)-c,f=h-i,m=d-u,g=new Uint8Array(f*m*p),y=0;for(let t=i;t<h;t++)for(let r=u;r<d;r++){let i=t*s.z+r*s.y+c;g.set(e.subarray(i,i+p),y),y+=p}n.push({data:g,dims:{x:p,y:m,z:f}})}return n}(i,{z:t,y:n,x:s},a,r),l=[];for(let e of o){let t=new h.Data3DTexture(e.data,e.dims.x,e.dims.y,e.dims.z);t.format=h.RedFormat,t.minFilter=h.NearestFilter,t.magFilter=h.NearestFilter,t.needsUpdate=!0,l.push(t)}return l}}function x(e,t){let r=function(e,t){let{clampExtremes:r,setTextureData:i}=v.getState(),n=e.data,[s,a]=t?[t.minVal,t.maxVal]:(0,g.ArrayMinMax)(n);return i(new Uint8Array(n.map(e=>isNaN(e)?255:(e-s)/(a-s)*254))),{minVal:s,maxVal:a}}(e,t);return[y(e.shape),r]}e.i(35690);let v=(0,c.create)((e,t)=>({dataShape:[1,1,1],shape:new h.Vector3(2,2,2),valueScales:{maxVal:1,minVal:-1},colormap:m(),timeSeries:{},strides:[10368,144,1],metadata:null,zMeta:[{}],dimArrays:[[0],[0],[0]],dimNames:["Default"],dimUnits:["Default"],dimCoords:{},plotDim:0,flipY:!1,initStore:"https://s3.bgc-jena.mpg.de:9000/esdl-esdc-v3.0.2/esdc-16d-2.5deg-46x72x1440-3.0.2.zarr",variable:"Default",variables:[],plotOn:!1,isFlat:!1,progress:0,status:null,is4D:!1,idx4D:null,titleDescription:{title:null,description:null},textureArrayDepths:[1,1,1],textureData:new Uint8Array(1),DPR:1,scalingFactor:null,clampExtremes:!1,setDataShape:t=>e({dataShape:t}),setShape:t=>e({shape:t}),setValueScales:t=>e({valueScales:t}),setColormap:t=>e({colormap:t}),setTimeSeries:t=>e({timeSeries:t}),updateTimeSeries:r=>{e({timeSeries:Object.fromEntries(Object.entries({...r,...t().timeSeries}).slice(0,10))})},setStrides:t=>e({strides:t}),setStatus:t=>e({status:t}),setMetadata:t=>e({metadata:t}),setZMeta:t=>e({zMeta:t}),setDimArrays:t=>e({dimArrays:t}),setDimNames:t=>e({dimNames:t}),setDimUnits:t=>e({dimUnits:t}),setDimCoords:t=>e({dimCoords:t}),updateDimCoords:r=>{e({dimCoords:Object.fromEntries(Object.entries({...r,...t().dimCoords}).slice(0,10))})},setPlotDim:t=>e({plotDim:t}),setFlipY:t=>e({flipY:t}),setInitStore:t=>e({initStore:t}),setVariable:t=>e({variable:t}),setVariables:t=>e({variables:t}),setPlotOn:t=>e({plotOn:t}),setIsFlat:t=>e({isFlat:t}),setProgress:t=>e({progress:t}),setIs4D:t=>e({is4D:t}),setIdx4D:t=>e({idx4D:t}),setTitleDescription:t=>e({titleDescription:t}),setTextureArrayDepths:t=>e({textureArrayDepths:t}),setTextureData:t=>e({textureData:t}),setDPR:t=>e({DPR:t}),setScalingFactor:t=>e({scalingFactor:t}),setClampExtremes:t=>e({clampExtremes:t})})),b=(0,c.create)((e,t)=>({plotType:"volume",pointSize:5,scalePoints:!1,scaleIntensity:1,quality:200,timeScale:1,valueRange:[0,1],xRange:[-1,1],yRange:[-1,1],zRange:[-1,1],selectTS:!1,showPoints:!1,linePointSize:2,lineWidth:1.25,lineColor:"#111111",pointColor:"#EA8686",useLineColor:!1,lineResolution:3,animate:!1,resetAnim:!1,animProg:0,cOffset:0,cScale:1,useFragOpt:!1,resetCamera:!1,useCustomColor:!1,useCustomPointColor:!1,transparency:0,nanTransparency:1,nanColor:"#000000",showBorders:!1,borderColor:"#000000",lonExtent:[-180,180],latExtent:[-90,90],originalExtent:new h.Vector4(-180,180,-90,90),lonResolution:1,latResolution:1,colorIdx:0,maxTextureSize:2048,max3DTextureSize:2048,vTransferRange:!1,vTransferScale:1,sphereResolution:10,displacement:0,displaceSurface:!0,offsetNegatives:!0,zSlice:[0,null],ySlice:[0,null],xSlice:[0,null],interpPixels:!1,useOrtho:!1,rotateFlat:!1,fillValue:void 0,coarsen:!1,kernel:{kernelDepth:1,kernelSize:1},setVTransferRange:t=>e({vTransferRange:t}),setVTransferScale:t=>e({vTransferScale:t}),setQuality:t=>e({quality:t}),setTimeScale:t=>e({timeScale:t}),setValueRange:t=>e({valueRange:t}),setXRange:t=>e({xRange:t}),setYRange:t=>e({yRange:t}),setZRange:t=>e({zRange:t}),setPointSize:t=>e({pointSize:t}),setScalePoints:t=>e({scalePoints:t}),setScaleIntensity:t=>e({scaleIntensity:t}),setPlotType:t=>e({plotType:t}),setSelectTS:t=>e({selectTS:t}),setShowPoints:t=>e({showPoints:t}),setLinePointSize:t=>e({linePointSize:t}),setLineWidth:t=>e({lineWidth:t}),setLineColor:t=>e({lineColor:t}),setPointColor:t=>e({pointColor:t}),setUseLineColor:t=>e({useLineColor:t}),setLineResolution:t=>e({lineResolution:t}),setAnimate:t=>e({animate:t}),setResetAnim:t=>e({resetAnim:t}),setAnimProg:t=>e({animProg:t}),setCOffset:t=>e({cOffset:t}),setCScale:t=>e({cScale:t}),setUseFragOpt:t=>e({useFragOpt:t}),setResetCamera:t=>e({resetCamera:t}),setUseCustomColor:t=>e({useCustomColor:t}),setUseCustomPointColor:t=>e({useCustomPointColor:t}),setTransparency:t=>e({transparency:t}),setNanTransparency:t=>e({nanTransparency:t}),setNanColor:t=>e({nanColor:t}),setShowBorders:t=>e({showBorders:t}),setBorderColor:t=>e({borderColor:t}),setLonExtent:t=>e({lonExtent:t}),setLatExtent:t=>e({latExtent:t}),setOriginalExtent:t=>e({originalExtent:t}),setLonResolution:t=>e({lonResolution:t}),setLatResolution:t=>e({latResolution:t}),incrementColorIdx:()=>e(e=>({colorIdx:(e.colorIdx+1)%10})),getColorIdx:()=>t().colorIdx,setMaxTextureSize:t=>e({maxTextureSize:t}),setMax3DTextureSize:t=>e({max3DTextureSize:t}),setSphereResolution:t=>e({sphereResolution:t}),setDisplacement:t=>e({displacement:t}),setDisplaceSurface:t=>e({displaceSurface:t}),setOffsetNegatives:t=>e({offsetNegatives:t}),setZSlice:t=>e({zSlice:t}),setYSlice:t=>e({ySlice:t}),setXSlice:t=>e({xSlice:t}),setInterpPixels:t=>e({interpPixels:t}),setUseOrtho:t=>e({useOrtho:t}),setFillValue:t=>e({fillValue:t})}));function w(e){if(e instanceof ArrayBuffer||ArrayBuffer.isView(e))return e.byteLength;if("object"==typeof e&&null!==e&&"data"in e){let t=e.data;if(ArrayBuffer.isView(t))return t.byteLength}try{return JSON.stringify(e).length}catch{return 0}}e.s(["usePlotStore",0,b],85503);class _{cache=new Map;order=[];totalSize=0;maxSize;sizeCalculator;sizes=new Map;constructor(e){this.maxSize=e.maxSize,this.sizeCalculator=e.sizeCalculator??w}get(e){if(this.cache.has(e))return this.order=this.order.filter(t=>t!==e),this.order.push(e),this.cache.get(e)}set(e,t){let r=this.sizeCalculator(t);for(this.cache.has(e)&&(this.totalSize-=this.sizes.get(e)??0),this.cache.set(e,t),this.sizes.set(e,r),this.totalSize+=r,this.order=this.order.filter(t=>t!==e),this.order.push(e);this.totalSize>this.maxSize&&this.order.length>0;){let e=this.order[0];this.order.shift();let t=this.sizes.get(e)??0;this.cache.delete(e),this.sizes.delete(e),this.totalSize-=t}}resize(e){if(e<0)throw Error("Cache size cannot be negative.");for(this.maxSize=e;this.totalSize>this.maxSize&&this.order.length>0;){let e=this.order[0];this.order.shift();let t=this.sizes.get(e)??0;this.cache.delete(e),this.sizes.delete(e),this.totalSize-=t}}has(e){return this.cache.has(e)}delete(e){return!!this.cache.has(e)&&(this.totalSize-=this.sizes.get(e)??0,this.cache.delete(e),this.sizes.delete(e),this.order=this.order.filter(t=>t!==e),!0)}clear(){this.cache.clear(),this.sizes.clear(),this.order=[],this.totalSize=0}get size(){return this.cache.size}get volume(){return this.totalSize}keys(){return this.cache.keys()}values(){return this.cache.values()}entries(){return this.cache.entries()}}let S=new _({maxSize:0xc800000}),k=(0,c.create)((e,t)=>({cache:S,maxSize:0xc800000,clearCache:()=>{let{cache:e}=t();e.clear()},setMaxSize:r=>{let{cache:i}=t();i.resize(r),e({maxSize:r})}}));e.s(["useCacheStore",0,k],82296);var M={},C=function(e,t,r,i,n){var s=new Worker(M[t]||(M[t]=URL.createObjectURL(new Blob([e+';addEventListener("error",function(e){e=e.error;postMessage({$e$:[e.message,e.code,e.stack]})})'],{type:"text/javascript"}))));return s.onmessage=function(e){var t=e.data,r=t.$e$;if(r){var i=Error(r[0]);i.code=r[1],i.stack=r[2],n(i,null)}else n(null,t)},s.postMessage(r,i),s},A=Uint8Array,I=Uint16Array,T=Int32Array,z=new A([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),E=new A([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),N=new A([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),j=function(e,t){for(var r=new I(31),i=0;i<31;++i)r[i]=t+=1<<e[i-1];for(var n=new T(r[30]),i=1;i<30;++i)for(var s=r[i];s<r[i+1];++s)n[s]=s-r[i]<<5|i;return{b:r,r:n}},O=j(z,2),D=O.b,P=O.r;D[28]=258,P[258]=28;for(var R=j(E,0),B=R.b,L=R.r,F=new I(32768),V=0;V<32768;++V){var U=(43690&V)>>1|(21845&V)<<1;U=(61680&(U=(52428&U)>>2|(13107&U)<<2))>>4|(3855&U)<<4,F[V]=((65280&U)>>8|(255&U)<<8)>>1}for(var $=function(e,t,r){for(var i,n=e.length,s=0,a=new I(t);s<n;++s)e[s]&&++a[e[s]-1];var o=new I(t);for(s=1;s<t;++s)o[s]=o[s-1]+a[s-1]<<1;if(r){i=new I(1<<t);var l=15-t;for(s=0;s<n;++s)if(e[s])for(var u=s<<4|e[s],c=t-e[s],h=o[e[s]-1]++<<c,d=h|(1<<c)-1;h<=d;++h)i[F[h]>>l]=u}else for(s=0,i=new I(n);s<n;++s)e[s]&&(i[s]=F[o[e[s]-1]++]>>15-e[s]);return i},W=new A(288),V=0;V<144;++V)W[V]=8;for(var V=144;V<256;++V)W[V]=9;for(var V=256;V<280;++V)W[V]=7;for(var V=280;V<288;++V)W[V]=8;for(var G=new A(32),V=0;V<32;++V)G[V]=5;var H=$(W,9,0),q=$(W,9,1),Y=$(G,5,0),X=$(G,5,1),Z=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},J=function(e,t,r){var i=t/8|0;return(e[i]|e[i+1]<<8)>>(7&t)&r},K=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(7&t)},Q=function(e){return(e+7)/8|0},ee=function(e,t,r){return(null==t||t<0)&&(t=0),(null==r||r>e.length)&&(r=e.length),new A(e.subarray(t,r))},et=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],er=function(e,t,r){var i=Error(t||et[e]);if(i.code=e,Error.captureStackTrace&&Error.captureStackTrace(i,er),!r)throw i;return i},ei=function(e,t,r,i){var n=e.length,s=i?i.length:0;if(!n||t.f&&!t.l)return r||new A(0);var a=!r,o=a||2!=t.i,l=t.i;a&&(r=new A(3*n));var u=function(e){var t=r.length;if(e>t){var i=new A(Math.max(2*t,e));i.set(r),r=i}},c=t.f||0,h=t.p||0,d=t.b||0,p=t.l,f=t.d,m=t.m,g=t.n,y=8*n;do{if(!p){c=J(e,h,1);var x=J(e,h+1,3);if(h+=3,x)if(1==x)p=q,f=X,m=9,g=5;else if(2==x){var v=J(e,h,31)+257,b=J(e,h+10,15)+4,w=v+J(e,h+5,31)+1;h+=14;for(var _=new A(w),S=new A(19),k=0;k<b;++k)S[N[k]]=J(e,h+3*k,7);h+=3*b;for(var M=Z(S),C=(1<<M)-1,I=$(S,M,1),k=0;k<w;){var T=I[J(e,h,C)];h+=15&T;var j=T>>4;if(j<16)_[k++]=j;else{var O=0,P=0;for(16==j?(P=3+J(e,h,3),h+=2,O=_[k-1]):17==j?(P=3+J(e,h,7),h+=3):18==j&&(P=11+J(e,h,127),h+=7);P--;)_[k++]=O}}var R=_.subarray(0,v),L=_.subarray(v);m=Z(R),g=Z(L),p=$(R,m,1),f=$(L,g,1)}else er(1);else{var j=Q(h)+4,F=e[j-4]|e[j-3]<<8,V=j+F;if(V>n){l&&er(0);break}o&&u(d+F),r.set(e.subarray(j,V),d),t.b=d+=F,t.p=h=8*V,t.f=c;continue}if(h>y){l&&er(0);break}}o&&u(d+131072);for(var U=(1<<m)-1,W=(1<<g)-1,G=h;;G=h){var O=p[K(e,h)&U],H=O>>4;if((h+=15&O)>y){l&&er(0);break}if(O||er(2),H<256)r[d++]=H;else if(256==H){G=h,p=null;break}else{var Y=H-254;if(H>264){var k=H-257,et=z[k];Y=J(e,h,(1<<et)-1)+D[k],h+=et}var ei=f[K(e,h)&W],en=ei>>4;ei||er(3),h+=15&ei;var L=B[en];if(en>3){var et=E[en];L+=K(e,h)&(1<<et)-1,h+=et}if(h>y){l&&er(0);break}o&&u(d+131072);var es=d+Y;if(d<L){var ea=s-L,eo=Math.min(L,es);for(ea+d<0&&er(3);d<eo;++d)r[d]=i[ea+d]}for(;d<es;++d)r[d]=r[d-L]}}t.l=p,t.p=G,t.b=d,t.f=c,p&&(c=1,t.m=m,t.d=f,t.n=g)}while(!c)return d!=r.length&&a?ee(r,0,d):r.subarray(0,d)},en=function(e,t,r){r<<=7&t;var i=t/8|0;e[i]|=r,e[i+1]|=r>>8},es=function(e,t,r){r<<=7&t;var i=t/8|0;e[i]|=r,e[i+1]|=r>>8,e[i+2]|=r>>16},ea=function(e,t){for(var r=[],i=0;i<e.length;++i)e[i]&&r.push({s:i,f:e[i]});var n=r.length,s=r.slice();if(!n)return{t:ep,l:0};if(1==n){var a=new A(r[0].s+1);return a[r[0].s]=1,{t:a,l:1}}r.sort(function(e,t){return e.f-t.f}),r.push({s:-1,f:25001});var o=r[0],l=r[1],u=0,c=1,h=2;for(r[0]={s:-1,f:o.f+l.f,l:o,r:l};c!=n-1;)o=r[r[u].f<r[h].f?u++:h++],l=r[u!=c&&r[u].f<r[h].f?u++:h++],r[c++]={s:-1,f:o.f+l.f,l:o,r:l};for(var d=s[0].s,i=1;i<n;++i)s[i].s>d&&(d=s[i].s);var p=new I(d+1),f=eo(r[c-1],p,0);if(f>t){var i=0,m=0,g=f-t,y=1<<g;for(s.sort(function(e,t){return p[t.s]-p[e.s]||e.f-t.f});i<n;++i){var x=s[i].s;if(p[x]>t)m+=y-(1<<f-p[x]),p[x]=t;else break}for(m>>=g;m>0;){var v=s[i].s;p[v]<t?m-=1<<t-p[v]++-1:++i}for(;i>=0&&m;--i){var b=s[i].s;p[b]==t&&(--p[b],++m)}f=t}return{t:new A(p),l:f}},eo=function(e,t,r){return -1==e.s?Math.max(eo(e.l,t,r+1),eo(e.r,t,r+1)):t[e.s]=r},el=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new I(++t),i=0,n=e[0],s=1,a=function(e){r[i++]=e},o=1;o<=t;++o)if(e[o]==n&&o!=t)++s;else{if(!n&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(n),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(n);s=1,n=e[o]}return{c:r.subarray(0,i),n:t}},eu=function(e,t){for(var r=0,i=0;i<t.length;++i)r+=e[i]*t[i];return r},ec=function(e,t,r){var i=r.length,n=Q(t+2);e[n]=255&i,e[n+1]=i>>8,e[n+2]=255^e[n],e[n+3]=255^e[n+1];for(var s=0;s<i;++s)e[n+s+4]=r[s];return(n+4+i)*8},eh=function(e,t,r,i,n,s,a,o,l,u,c){en(t,c++,r),++n[256];for(var h,d,p,f,m=ea(n,15),g=m.t,y=m.l,x=ea(s,15),v=x.t,b=x.l,w=el(g),_=w.c,S=w.n,k=el(v),M=k.c,C=k.n,A=new I(19),T=0;T<_.length;++T)++A[31&_[T]];for(var T=0;T<M.length;++T)++A[31&M[T]];for(var j=ea(A,7),O=j.t,D=j.l,P=19;P>4&&!O[N[P-1]];--P);var R=u+5<<3,B=eu(n,W)+eu(s,G)+a,L=eu(n,g)+eu(s,v)+a+14+3*P+eu(A,O)+2*A[16]+3*A[17]+7*A[18];if(l>=0&&R<=B&&R<=L)return ec(t,c,e.subarray(l,l+u));if(en(t,c,1+(L<B)),c+=2,L<B){h=$(g,y,0),d=g,p=$(v,b,0),f=v;var F=$(O,D,0);en(t,c,S-257),en(t,c+5,C-1),en(t,c+10,P-4),c+=14;for(var T=0;T<P;++T)en(t,c+3*T,O[N[T]]);c+=3*P;for(var V=[_,M],U=0;U<2;++U)for(var q=V[U],T=0;T<q.length;++T){var X=31&q[T];en(t,c,F[X]),c+=O[X],X>15&&(en(t,c,q[T]>>5&127),c+=q[T]>>12)}}else h=H,d=W,p=Y,f=G;for(var T=0;T<o;++T){var Z=i[T];if(Z>255){var X=Z>>18&31;es(t,c,h[X+257]),c+=d[X+257],X>7&&(en(t,c,Z>>23&31),c+=z[X]);var J=31&Z;es(t,c,p[J]),c+=f[J],J>3&&(es(t,c,Z>>5&8191),c+=E[J])}else es(t,c,h[Z]),c+=d[Z]}return es(t,c,h[256]),c+d[256]},ed=new T([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),ep=new A(0),ef=function(e,t,r,i,n,s){var a=s.z||e.length,o=new A(i+a+5*(1+Math.ceil(a/7e3))+n),l=o.subarray(i,o.length-n),u=s.l,c=7&(s.r||0);if(t){c&&(l[0]=s.r>>3);for(var h=ed[t-1],d=h>>13,p=8191&h,f=(1<<r)-1,m=s.p||new I(32768),g=s.h||new I(f+1),y=Math.ceil(r/3),x=2*y,v=function(t){return(e[t]^e[t+1]<<y^e[t+2]<<x)&f},b=new T(25e3),w=new I(288),_=new I(32),S=0,k=0,M=s.i||0,C=0,N=s.w||0,j=0;M+2<a;++M){var O=v(M),D=32767&M,R=g[O];if(m[D]=R,g[O]=D,N<=M){var B=a-M;if((S>7e3||C>24576)&&(B>423||!u)){c=eh(e,l,0,b,w,_,k,C,j,M-j,c),C=S=k=0,j=M;for(var F=0;F<286;++F)w[F]=0;for(var F=0;F<30;++F)_[F]=0}var V=2,U=0,$=p,W=D-R&32767;if(B>2&&O==v(M-W))for(var G=Math.min(d,B)-1,H=Math.min(32767,M),q=Math.min(258,B);W<=H&&--$&&D!=R;){if(e[M+V]==e[M+V-W]){for(var Y=0;Y<q&&e[M+Y]==e[M+Y-W];++Y);if(Y>V){if(V=Y,U=W,Y>G)break;for(var X=Math.min(W,Y-2),Z=0,F=0;F<X;++F){var J=M-W+F&32767,K=m[J],et=J-K&32767;et>Z&&(Z=et,R=J)}}}R=m[D=R],W+=D-R&32767}if(U){b[C++]=0x10000000|P[V]<<18|L[U];var er=31&P[V],ei=31&L[U];k+=z[er]+E[ei],++w[257+er],++_[ei],N=M+V,++S}else b[C++]=e[M],++w[e[M]]}}for(M=Math.max(M,N);M<a;++M)b[C++]=e[M],++w[e[M]];c=eh(e,l,u,b,w,_,k,C,j,M-j,c),u||(s.r=7&c|l[c/8|0]<<3,c-=7,s.h=g,s.p=m,s.i=M,s.w=N)}else{for(var M=s.w||0;M<a+u;M+=65535){var en=M+65535;en>=a&&(l[c/8|0]=u,en=a),c=ec(l,c+1,e.subarray(M,en))}s.i=a}return ee(o,0,i+Q(c)+n)},em=function(){for(var e=new Int32Array(256),t=0;t<256;++t){for(var r=t,i=9;--i;)r=(1&r&&-0x12477ce0)^r>>>1;e[t]=r}return e}(),eg=function(){var e=-1;return{p:function(t){for(var r=e,i=0;i<t.length;++i)r=em[255&r^t[i]]^r>>>8;e=r},d:function(){return~e}}},ey=function(){var e=1,t=0;return{p:function(r){for(var i=e,n=t,s=0|r.length,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)n+=i+=r[a];i=(65535&i)+15*(i>>16),n=(65535&n)+15*(n>>16)}e=i,t=n},d:function(){return e%=65521,t%=65521,(255&e)<<24|(65280&e)<<8|(255&t)<<8|t>>8}}},ex=function(e,t,r,i,n){if(!n&&(n={l:1},t.dictionary)){var s=t.dictionary.subarray(-32768),a=new A(s.length+e.length);a.set(s),a.set(e,s.length),e=a,n.w=s.length}return ef(e,null==t.level?6:t.level,null==t.mem?n.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):20:12+t.mem,r,i,n)},ev=function(e,t){var r={};for(var i in e)r[i]=e[i];for(var i in t)r[i]=t[i];return r},eb=function(e,t,r){for(var i=e(),n=e.toString(),s=n.slice(n.indexOf("[")+1,n.lastIndexOf("]")).replace(/\s+/g,"").split(","),a=0;a<i.length;++a){var o=i[a],l=s[a];if("function"==typeof o){t+=";"+l+"=";var u=o.toString();if(o.prototype)if(-1!=u.indexOf("[native code]")){var c=u.indexOf(" ",8)+1;t+=u.slice(c,u.indexOf("(",c))}else for(var h in t+=u,o.prototype)t+=";"+l+".prototype."+h+"="+o.prototype[h].toString();else t+=u}else r[l]=o}return t},ew=[],e_=function(e){var t=[];for(var r in e)e[r].buffer&&t.push((e[r]=new e[r].constructor(e[r])).buffer);return t},eS=function(e,t,r,i){if(!ew[r]){for(var n="",s={},a=e.length-1,o=0;o<a;++o)n=eb(e[o],n,s);ew[r]={c:eb(e[a],n,s),e:s}}var l=ev({},ew[r].e);return C(ew[r].c+";onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage="+t.toString()+"}",r,l,e_(l),i)},ek=function(){return[A,I,T,z,E,N,D,B,q,X,F,et,$,Z,J,K,Q,ee,er,ei,eY,eI,eT]},eM=function(){return[A,I,T,z,E,N,P,L,H,W,Y,G,F,ed,ep,$,en,es,ea,eo,el,eu,ec,eh,Q,ee,ef,ex,eG,eI]},eC=function(){return[eR,eB]},eA=function(){return[eV]},eI=function(e){return postMessage(e,[e.buffer])},eT=function(e){return e&&{out:e.size&&new A(e.size),dictionary:e.dictionary}},ez=function(e){return e.ondata=function(e,t){return postMessage([e,t],[e.buffer])},function(t){t.data.length?(e.push(t.data[0],t.data[1]),postMessage([t.data[0].length])):e.flush()}},eE=function(e,t,r,i,n,s,a){var o,l=eS(e,i,n,function(e,r){e?(l.terminate(),t.ondata.call(t,e)):Array.isArray(r)?1==r.length?(t.queuedSize-=r[0],t.ondrain&&t.ondrain(r[0])):(r[1]&&l.terminate(),t.ondata.call(t,e,r[0],r[1])):a(r)});l.postMessage(r),t.queuedSize=0,t.push=function(e,r){t.ondata||er(5),o&&t.ondata(er(4,0,1),null,!!r),t.queuedSize+=e.length,l.postMessage([e,o=r],[e.buffer])},t.terminate=function(){l.terminate()},s&&(t.flush=function(){l.postMessage([])})},eN=function(e,t){return e[t]|e[t+1]<<8},ej=function(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0},eO=function(e,t){return ej(e,t)+0x100000000*ej(e,t+4)},eD=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},eP=function(e,t){var r=t.filename;if(e[0]=31,e[1]=139,e[2]=8,e[8]=t.level<2?4:2*(9==t.level),e[9]=3,0!=t.mtime&&eD(e,4,Math.floor(new Date(t.mtime||Date.now())/1e3)),r){e[3]=8;for(var i=0;i<=r.length;++i)e[i+10]=r.charCodeAt(i)}},eR=function(e){(31!=e[0]||139!=e[1]||8!=e[2])&&er(6,"invalid gzip data");var t=e[3],r=10;4&t&&(r+=(e[10]|e[11]<<8)+2);for(var i=(t>>3&1)+(t>>4&1);i>0;i-=!e[r++]);return r+(2&t)},eB=function(e){var t=e.length;return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0},eL=function(e){return 10+(e.filename?e.filename.length+1:0)},eF=function(e,t){var r=t.level;if(e[0]=120,e[1]=(0==r?0:r<6?1:9==r?3:2)<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var i=ey();i.p(t.dictionary),eD(e,2,i.d())}},eV=function(e,t){return((15&e[0])!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&er(6,"invalid zlib data"),(e[1]>>5&1)==+!t&&er(6,"invalid zlib data: "+(32&e[1]?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function eU(e,t){return"function"==typeof e&&(t=e,e={}),this.ondata=t,e}var e$=function(){function e(e,t){if("function"==typeof e&&(t=e,e={}),this.ondata=t,this.o=e||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new A(98304),this.o.dictionary){var r=this.o.dictionary.subarray(-32768);this.b.set(r,32768-r.length),this.s.i=32768-r.length}}return e.prototype.p=function(e,t){this.ondata(ex(e,this.o,0,0,this.s),t)},e.prototype.push=function(e,t){this.ondata||er(5),this.s.l&&er(4);var r=e.length+this.s.z;if(r>this.b.length){if(r>2*this.b.length-32768){var i=new A(-32768&r);i.set(this.b.subarray(0,this.s.z)),this.b=i}var n=this.b.length-this.s.z;this.b.set(e.subarray(0,n),this.s.z),this.s.z=this.b.length,this.p(this.b,!1),this.b.set(this.b.subarray(-32768)),this.b.set(e.subarray(n),32768),this.s.z=e.length-n+32768,this.s.i=32766,this.s.w=32768}else this.b.set(e,this.s.z),this.s.z+=e.length;this.s.l=1&t,(this.s.z>this.s.w+8191||t)&&(this.p(this.b,t||!1),this.s.w=this.s.i,this.s.i-=2)},e.prototype.flush=function(){this.ondata||er(5),this.s.l&&er(4),this.p(this.b,!1),this.s.w=this.s.i,this.s.i-=2},e}(),eW=function(e,t){eE([eM,function(){return[ez,e$]}],this,eU.call(this,e,t),function(e){onmessage=ez(new e$(e.data))},6,1)};function eG(e,t){return ex(e,t||{},0,0)}var eH=function(){function e(e,t){"function"==typeof e&&(t=e,e={}),this.ondata=t;var r=e&&e.dictionary&&e.dictionary.subarray(-32768);this.s={i:0,b:r?r.length:0},this.o=new A(32768),this.p=new A(0),r&&this.o.set(r)}return e.prototype.e=function(e){if(this.ondata||er(5),this.d&&er(4),this.p.length){if(e.length){var t=new A(this.p.length+e.length);t.set(this.p),t.set(e,this.p.length),this.p=t}}else this.p=e},e.prototype.c=function(e){this.s.i=+(this.d=e||!1);var t=this.s.b,r=ei(this.p,this.s,this.o);this.ondata(ee(r,t,this.s.b),this.d),this.o=ee(r,this.s.b-32768),this.s.b=this.o.length,this.p=ee(this.p,this.s.p/8|0),this.s.p&=7},e.prototype.push=function(e,t){this.e(e),this.c(t)},e}(),eq=function(e,t){eE([ek,function(){return[ez,eH]}],this,eU.call(this,e,t),function(e){onmessage=ez(new eH(e.data))},7,0)};function eY(e,t){return ei(e,{i:2},t&&t.out,t&&t.dictionary)}function eX(e,t){t||(t={});var r=eg(),i=e.length;r.p(e);var n=ex(e,t,eL(t),8),s=n.length;return eP(n,t),eD(n,s-8,r.d()),eD(n,s-4,i),n}(function(){function e(e,t){this.c=eg(),this.l=0,this.v=1,e$.call(this,e,t)}e.prototype.push=function(e,t){this.c.p(e),this.l+=e.length,e$.prototype.push.call(this,e,t)},e.prototype.p=function(e,t){var r=ex(e,this.o,this.v&&eL(this.o),t&&8,this.s);this.v&&(eP(r,this.o),this.v=0),t&&(eD(r,r.length-8,this.c.d()),eD(r,r.length-4,this.l)),this.ondata(r,t)},e.prototype.flush=function(){e$.prototype.flush.call(this)}})();var eZ=function(){function e(e,t){this.v=1,this.r=0,eH.call(this,e,t)}return e.prototype.push=function(e,t){if(eH.prototype.e.call(this,e),this.r+=e.length,this.v){var r=this.p.subarray(this.v-1),i=r.length>3?eR(r):4;if(i>r.length){if(!t)return}else this.v>1&&this.onmember&&this.onmember(this.r-r.length);this.p=r.subarray(i),this.v=0}eH.prototype.c.call(this,t),!this.s.f||this.s.l||t||(this.v=Q(this.s.p)+9,this.s={i:0},this.o=new A(0),this.push(new A(0),t))},e}(),eJ=function(e,t){var r=this;eE([ek,eC,function(){return[ez,eH,eZ]}],this,eU.call(this,e,t),function(e){var t=new eZ(e.data);t.onmember=function(e){return postMessage(e)},onmessage=ez(t)},9,0,function(e){return r.onmember&&r.onmember(e)})},eK=(function(){function e(e,t){this.c=ey(),this.v=1,e$.call(this,e,t)}e.prototype.push=function(e,t){this.c.p(e),e$.prototype.push.call(this,e,t)},e.prototype.p=function(e,t){var r=ex(e,this.o,this.v&&(this.o.dictionary?6:2),t&&4,this.s);this.v&&(eF(r,this.o),this.v=0),t&&eD(r,r.length-4,this.c.d()),this.ondata(r,t)},e.prototype.flush=function(){e$.prototype.flush.call(this)}}(),function(){function e(e,t){eH.call(this,e,t),this.v=e&&e.dictionary?2:1}return e.prototype.push=function(e,t){if(eH.prototype.e.call(this,e),this.v){if(this.p.length<6&&!t)return;this.p=this.p.subarray(eV(this.p,this.v-1)),this.v=0}t&&(this.p.length<4&&er(6,"invalid zlib data"),this.p=this.p.subarray(0,-4)),eH.prototype.c.call(this,t)},e}()),eQ=function(e,t){eE([ek,eA,function(){return[ez,eH,eK]}],this,eU.call(this,e,t),function(e){onmessage=ez(new eK(e.data))},11,0)},e1=function(){function e(e,t){this.o=eU.call(this,e,t)||{},this.G=eZ,this.I=eH,this.Z=eK}return e.prototype.i=function(){var e=this;this.s.ondata=function(t,r){e.ondata(t,r)}},e.prototype.push=function(e,t){if(this.ondata||er(5),this.s)this.s.push(e,t);else{if(this.p&&this.p.length){var r=new A(this.p.length+e.length);r.set(this.p),r.set(e,this.p.length)}else this.p=e;this.p.length>2&&(this.s=31==this.p[0]&&139==this.p[1]&&8==this.p[2]?new this.G(this.o):(15&this.p[0])!=8||this.p[0]>>4>7||(this.p[0]<<8|this.p[1])%31?new this.I(this.o):new this.Z(this.o),this.i(),this.s.push(this.p,t),this.p=null)}},e}();function e0(e,t){e1.call(this,e,t),this.queuedSize=0,this.G=eJ,this.I=eq,this.Z=eQ}function e2(e,t){var r;return 31==e[0]&&139==e[1]&&8==e[2]?((r=eR(e))+8>e.length&&er(6,"invalid gzip data"),ei(e.subarray(r,-8),{i:2},t&&t.out||new A(eB(e)),t&&t.dictionary)):(15&e[0])!=8||e[0]>>4>7||(e[0]<<8|e[1])%31?eY(e,t):ei(e.subarray(eV(e,t&&t.dictionary),-4),{i:2},t&&t.out,t&&t.dictionary)}e0.prototype.i=function(){var e=this;this.s.ondata=function(t,r,i){e.ondata(t,r,i)},this.s.ondrain=function(t){e.queuedSize-=t,e.ondrain&&e.ondrain(t)}},e0.prototype.push=function(e,t){this.queuedSize+=e.length,e1.prototype.push.call(this,e,t)};var e9="undefined"!=typeof TextEncoder&&new TextEncoder,e3="undefined"!=typeof TextDecoder&&new TextDecoder,e4=0;try{e3.decode(ep,{stream:!0}),e4=1}catch(e){}var e8=function(e){for(var t="",r=0;;){var i=e[r++],n=(i>127)+(i>223)+(i>239);if(r+n>e.length)return{s:t,r:ee(e,r-1)};n?3==n?t+=String.fromCharCode(55296|(i=((15&i)<<18|(63&e[r++])<<12|(63&e[r++])<<6|63&e[r++])-65536)>>10,56320|1023&i):1&n?t+=String.fromCharCode((31&i)<<6|63&e[r++]):t+=String.fromCharCode((15&i)<<12|(63&e[r++])<<6|63&e[r++]):t+=String.fromCharCode(i)}};function e6(e,t){if(t){for(var r=new A(e.length),i=0;i<e.length;++i)r[i]=e.charCodeAt(i);return r}if(e9)return e9.encode(e);for(var n=e.length,s=new A(e.length+(e.length>>1)),a=0,o=function(e){s[a++]=e},i=0;i<n;++i){if(a+5>s.length){var l=new A(a+8+(n-i<<1));l.set(s),s=l}var u=e.charCodeAt(i);u<128||t?o(u):(u<2048?o(192|u>>6):(u>55295&&u<57344?(o(240|(u=65536+(1047552&u)|1023&e.charCodeAt(++i))>>18),o(128|u>>12&63)):o(224|u>>12),o(128|u>>6&63)),o(128|63&u))}return ee(s,0,a)}(function(e){this.ondata=e,e4?this.t=new TextDecoder:this.p=ep}).prototype.push=function(e,t){if(this.ondata||er(5),t=!!t,this.t){this.ondata(this.t.decode(e,{stream:!0}),t),t&&(this.t.decode().length&&er(8),this.t=null);return}this.p||er(4);var r=new A(this.p.length+e.length);r.set(this.p),r.set(e,this.p.length);var i=e8(r),n=i.s,s=i.r;t?(s.length&&er(8),this.p=null):this.p=s,this.ondata(n,t)},(function(e){this.ondata=e}).prototype.push=function(e,t){this.ondata||er(5),this.d&&er(4),this.ondata(e6(e),this.d=t||!1)};var e5=function(e){return 1==e?3:e<6?2:+(9==e)},e7=function(e,t){for(;1!=eN(e,t);t+=4+eN(e,t+2));return[eO(e,t+12),eO(e,t+4),eO(e,t+20)]},te=function(e){var t=0;if(e)for(var r in e){var i=e[r].length;i>65535&&er(9),t+=i+4}return t},tt=function(e,t,r,i,n,s,a,o){var l=i.length,u=r.extra,c=o&&o.length,h=te(u);eD(e,t,null!=a?0x2014b50:0x4034b50),t+=4,null!=a&&(e[t++]=20,e[t++]=r.os),e[t]=20,t+=2,e[t++]=r.flag<<1|(s<0&&8),e[t++]=n&&8,e[t++]=255&r.compression,e[t++]=r.compression>>8;var d=new Date(null==r.mtime?Date.now():r.mtime),p=d.getFullYear()-1980;if((p<0||p>119)&&er(10),eD(e,t,p<<25|d.getMonth()+1<<21|d.getDate()<<16|d.getHours()<<11|d.getMinutes()<<5|d.getSeconds()>>1),t+=4,-1!=s&&(eD(e,t,r.crc),eD(e,t+4,s<0?-s-2:s),eD(e,t+8,r.size)),eD(e,t+12,l),eD(e,t+14,h),t+=16,null!=a&&(eD(e,t,c),eD(e,t+6,r.attrs),eD(e,t+10,a),t+=14),e.set(i,t),t+=l,h)for(var f in u){var m=u[f],g=m.length;eD(e,t,+f),eD(e,t+2,g),e.set(m,t+4),t+=4+g}return c&&(e.set(o,t),t+=c),t},tr=function(e,t,r,i,n){eD(e,t,0x6054b50),eD(e,t+8,r),eD(e,t+10,r),eD(e,t+12,i),eD(e,t+16,n)},ti=function(){function e(e){this.filename=e,this.c=eg(),this.size=0,this.compression=0}return e.prototype.process=function(e,t){this.ondata(null,e,t)},e.prototype.push=function(e,t){this.ondata||er(5),this.c.p(e),this.size+=e.length,t&&(this.crc=this.c.d()),this.process(e,t||!1)},e}();function tn(e,t){var r=this;t||(t={}),ti.call(this,e),this.d=new e$(t,function(e,t){r.ondata(null,e,t)}),this.compression=8,this.flag=e5(t.level)}function ts(e,t){var r=this;t||(t={}),ti.call(this,e),this.d=new eW(t,function(e,t,i){r.ondata(e,t,i)}),this.compression=8,this.flag=e5(t.level),this.terminate=this.d.terminate}function ta(e){this.ondata=e,this.u=[],this.d=1}tn.prototype.process=function(e,t){try{this.d.push(e,t)}catch(e){this.ondata(e,null,t)}},tn.prototype.push=function(e,t){ti.prototype.push.call(this,e,t)},ts.prototype.process=function(e,t){this.d.push(e,t)},ts.prototype.push=function(e,t){ti.prototype.push.call(this,e,t)},ta.prototype.add=function(e){var t=this;if(this.ondata||er(5),2&this.d)this.ondata(er(4+(1&this.d)*8,0,1),null,!1);else{var r=e6(e.filename),i=r.length,n=e.comment,s=n&&e6(n),a=i!=e.filename.length||s&&n.length!=s.length,o=i+te(e.extra)+30;i>65535&&this.ondata(er(11,0,1),null,!1);var l=new A(o);tt(l,0,e,r,a,-1);var u=[l],c=function(){for(var e=0,r=u;e<r.length;e++){var i=r[e];t.ondata(null,i,!1)}u=[]},h=this.d;this.d=0;var d=this.u.length,p=ev(e,{f:r,u:a,o:s,t:function(){e.terminate&&e.terminate()},r:function(){if(c(),h){var e=t.u[d+1];e?e.r():t.d=1}h=1}}),f=0;e.ondata=function(r,i,n){if(r)t.ondata(r,i,n),t.terminate();else if(f+=i.length,u.push(i),n){var s=new A(16);eD(s,0,0x8074b50),eD(s,4,e.crc),eD(s,8,f),eD(s,12,e.size),u.push(s),p.c=f,p.b=o+f+16,p.crc=e.crc,p.size=e.size,h&&p.r(),h=1}else h&&c()},this.u.push(p)}},ta.prototype.end=function(){var e=this;2&this.d?this.ondata(er(4+(1&this.d)*8,0,1),null,!0):(this.d?this.e():this.u.push({r:function(){1&e.d&&(e.u.splice(-1,1),e.e())},t:function(){}}),this.d=3)},ta.prototype.e=function(){for(var e=0,t=0,r=0,i=0,n=this.u;i<n.length;i++){var s=n[i];r+=46+s.f.length+te(s.extra)+(s.o?s.o.length:0)}for(var a=new A(r+22),o=0,l=this.u;o<l.length;o++){var s=l[o];tt(a,e,s,s.f,s.u,-s.c-2,t,s.o),e+=46+s.f.length+te(s.extra)+(s.o?s.o.length:0),t+=s.b}tr(a,e,this.u.length,r,t),this.ondata(null,a,!0),this.d=2},ta.prototype.terminate=function(){for(var e=0,t=this.u;e<t.length;e++)t[e].t();this.d=2};var to=function(){function e(){}return e.prototype.push=function(e,t){this.ondata(null,e,t)},e.compression=0,e}();function tl(){var e=this;this.i=new eH(function(t,r){e.ondata(null,t,r)})}function tu(e,t){var r=this;t<32e4?this.i=new eH(function(e,t){r.ondata(null,e,t)}):(this.i=new eq(function(e,t,i){r.ondata(e,t,i)}),this.terminate=this.i.terminate)}function tc(e){this.onfile=e,this.k=[],this.o={0:to},this.p=ep}tl.prototype.push=function(e,t){try{this.i.push(e,t)}catch(e){this.ondata(e,null,t)}},tl.compression=8,tu.prototype.push=function(e,t){this.i.terminate&&(e=ee(e,0)),this.i.push(e,t)},tu.compression=8,tc.prototype.push=function(e,t){var r=this;if(this.onfile||er(5),this.p||er(4),this.c>0){var i=Math.min(this.c,e.length),n=e.subarray(0,i);if(this.c-=i,this.d?this.d.push(n,!this.c):this.k[0].push(n),(e=e.subarray(i)).length)return this.push(e,t)}else{var s=0,a=0,o=void 0,l=void 0;this.p.length?e.length?((l=new A(this.p.length+e.length)).set(this.p),l.set(e,this.p.length)):l=this.p:l=e;for(var u=l.length,c=this.c,h=c&&this.d,d=this;a<u-4&&"break"!==function(){var e=ej(l,a);if(0x4034b50==e){s=1,o=a,d.d=null,d.c=0;var t=eN(l,a+6),i=eN(l,a+8),n=8&t,h=eN(l,a+26),p=eN(l,a+28);if(u>a+30+h+p){var f,m,g=[];d.k.unshift(g),s=2;var y=ej(l,a+18),x=ej(l,a+22),v=function(e,t){if(t){for(var r="",i=0;i<e.length;i+=16384)r+=String.fromCharCode.apply(null,e.subarray(i,i+16384));return r}if(e3)return e3.decode(e);var n=e8(e),s=n.s,r=n.r;return r.length&&er(8),s}(l.subarray(a+30,a+=30+h),!(2048&t));0xffffffff==y?(y=(f=n?[-2]:e7(l,a))[0],x=f[1]):n&&(y=-1),a+=p,d.c=y;var b={name:v,compression:i,start:function(){if(b.ondata||er(5),y){var e=r.o[i];e||b.ondata(er(14,"unknown compression type "+i,1),null,!1),(m=y<0?new e(v):new e(v,y,x)).ondata=function(e,t,r){b.ondata(e,t,r)};for(var t=0;t<g.length;t++){var n=g[t];m.push(n,!1)}r.k[0]==g&&r.c?r.d=m:m.push(ep,!0)}else b.ondata(null,ep,!0)},terminate:function(){m&&m.terminate&&m.terminate()}};y>=0&&(b.size=y,b.originalSize=x),d.onfile(b)}return"break"}if(c){if(0x8074b50==e)return o=a+=12+(-2==c&&8),s=3,d.c=0,"break";else if(0x2014b50==e)return o=a-=4,s=3,d.c=0,"break"}}();++a);if(this.p=ep,c<0){var p=s?l.subarray(0,o-12-(-2==c&&8)-(0x8074b50==ej(l,o-16)&&4)):l.subarray(0,a);h?h.push(p,!!s):this.k[+(2==s)].push(p)}if(2&s)return this.push(l.subarray(a),t);this.p=l.subarray(a)}t&&(this.c&&er(13),this.p=null)},tc.prototype.register=function(e){this.o[e.compression]=e},"function"==typeof queueMicrotask&&queueMicrotask,e.s(["decompressSync",()=>e2,"gzipSync",()=>eX],50814),e.s(["GetNCArray",()=>iT,"GetNCDims",()=>iA,"GetNCMetadata",()=>iI],34801);var th=e.i(3321);let td=(0,c.create)(e=>({error:null,setError:t=>e({error:t})}));e.s(["useErrorStore",0,td],25613);var tp=e.i(42001);let tf=(e,t)=>((e+t-1)/t|0)*t,tm=e=>e&&"number"==typeof e.length&&e.buffer instanceof ArrayBuffer&&"number"==typeof e.byteLength,tg={i32:{numElements:1,align:4,size:4,type:"i32",View:Int32Array},u32:{numElements:1,align:4,size:4,type:"u32",View:Uint32Array},f32:{numElements:1,align:4,size:4,type:"f32",View:Float32Array},f16:{numElements:1,align:2,size:2,type:"u16",View:Uint16Array},vec2f:{numElements:2,align:8,size:8,type:"f32",View:Float32Array},vec2i:{numElements:2,align:8,size:8,type:"i32",View:Int32Array},vec2u:{numElements:2,align:8,size:8,type:"u32",View:Uint32Array},vec2h:{numElements:2,align:4,size:4,type:"u16",View:Uint16Array},vec3i:{numElements:3,align:16,size:12,type:"i32",View:Int32Array},vec3u:{numElements:3,align:16,size:12,type:"u32",View:Uint32Array},vec3f:{numElements:3,align:16,size:12,type:"f32",View:Float32Array},vec3h:{numElements:3,align:8,size:6,type:"u16",View:Uint16Array},vec4i:{numElements:4,align:16,size:16,type:"i32",View:Int32Array},vec4u:{numElements:4,align:16,size:16,type:"u32",View:Uint32Array},vec4f:{numElements:4,align:16,size:16,type:"f32",View:Float32Array},vec4h:{numElements:4,align:8,size:8,type:"u16",View:Uint16Array},mat2x2f:{numElements:4,align:8,size:16,type:"f32",View:Float32Array},mat2x2h:{numElements:4,align:4,size:8,type:"u16",View:Uint16Array},mat3x2f:{numElements:6,align:8,size:24,type:"f32",View:Float32Array},mat3x2h:{numElements:6,align:4,size:12,type:"u16",View:Uint16Array},mat4x2f:{numElements:8,align:8,size:32,type:"f32",View:Float32Array},mat4x2h:{numElements:8,align:4,size:16,type:"u16",View:Uint16Array},mat2x3f:{numElements:8,align:16,size:32,pad:[3,1],type:"f32",View:Float32Array},mat2x3h:{numElements:8,align:8,size:16,pad:[3,1],type:"u16",View:Uint16Array},mat3x3f:{numElements:12,align:16,size:48,pad:[3,1],type:"f32",View:Float32Array},mat3x3h:{numElements:12,align:8,size:24,pad:[3,1],type:"u16",View:Uint16Array},mat4x3f:{numElements:16,align:16,size:64,pad:[3,1],type:"f32",View:Float32Array},mat4x3h:{numElements:16,align:8,size:32,pad:[3,1],type:"u16",View:Uint16Array},mat2x4f:{numElements:8,align:16,size:32,type:"f32",View:Float32Array},mat2x4h:{numElements:8,align:8,size:16,type:"u16",View:Uint16Array},mat3x4f:{numElements:12,align:16,size:48,pad:[3,1],type:"f32",View:Float32Array},mat3x4h:{numElements:12,align:8,size:24,pad:[3,1],type:"u16",View:Uint16Array},mat4x4f:{numElements:16,align:16,size:64,type:"f32",View:Float32Array},mat4x4h:{numElements:16,align:8,size:32,type:"u16",View:Uint16Array},bool:{numElements:0,align:1,size:0,type:"bool",View:Uint32Array}},ty={...tg,"atomic<i32>":tg.i32,"atomic<u32>":tg.u32,"vec2<i32>":tg.vec2i,"vec2<u32>":tg.vec2u,"vec2<f32>":tg.vec2f,"vec2<f16>":tg.vec2h,"vec3<i32>":tg.vec3i,"vec3<u32>":tg.vec3u,"vec3<f32>":tg.vec3f,"vec3<f16>":tg.vec3h,"vec4<i32>":tg.vec4i,"vec4<u32>":tg.vec4u,"vec4<f32>":tg.vec4f,"vec4<f16>":tg.vec4h,"mat2x2<f32>":tg.mat2x2f,"mat2x2<f16>":tg.mat2x2h,"mat3x2<f32>":tg.mat3x2f,"mat3x2<f16>":tg.mat3x2h,"mat4x2<f32>":tg.mat4x2f,"mat4x2<f16>":tg.mat4x2h,"mat2x3<f32>":tg.mat2x3f,"mat2x3<f16>":tg.mat2x3h,"mat3x3<f32>":tg.mat3x3f,"mat3x3<f16>":tg.mat3x3h,"mat4x3<f32>":tg.mat4x3f,"mat4x3<f16>":tg.mat4x3h,"mat2x4<f32>":tg.mat2x4f,"mat2x4<f16>":tg.mat2x4h,"mat3x4<f32>":tg.mat3x4f,"mat3x4<f16>":tg.mat3x4h,"mat4x4<f32>":tg.mat4x4f,"mat4x4<f16>":tg.mat4x4h},tx=Object.keys(ty);function tv(e,t,r,i){let{size:n,type:s}=e;try{let{View:e,align:a,size:o}=ty[s],l=void 0!==i,u=l?tf(n,a):o,c=u/e.BYTES_PER_ELEMENT,h=l?0===i?(t.byteLength-r)/u:i:1;return new e(t,r,c*h)}catch{throw Error(`unknown type: ${s}`)}}function tb(e,t,r=0){var i;let n,s,a=(i=void 0===e.group?e:e.typeDefinition,n=t||new ArrayBuffer(function(e){if(e.elementType)return e.size;{let t=e.numElements||1;if(e.fields)return e.size*t;{let{align:r}=ty[e.type];return t>1?tf(e.size,r)*t:e.size}}}(i)),{views:(s=(e,t)=>{let r=e.elementType;if(r){var i,a;if(!r.fields&&!r.elementType&&ty[r.type].flatten)return tv(r,n,t,e.numElements);{let{size:o}=function e(t){let r=t.elementType;if(r){let e=r.size,t=function e(t){let r=t.elementType;if(r)return e(r);let i=t.fields;if(i)return Object.values(i).reduce((t,{type:r})=>Math.max(t,e(r)),0);let{type:n}=t,{align:s}=ty[n];return s}(r);return{unalignedSize:e,align:t,size:tf(e,t)}}let i=t.fields;if(i){let t=Object.values(i).pop();if(0===t.type.size)return e(t.type)}return{size:0,unalignedSize:0,align:1}}(e);return i=0===e.numElements?(n.byteLength-t)/o:e.numElements,a=e=>s(r,t+o*e),Array(i).fill(0).map((e,t)=>a(t))}}if("string"==typeof e)throw Error("unreachable");{let r=e.fields;if(!r)return tv(e,n,t);{let e={};for(let[i,{type:n,offset:a}]of Object.entries(r))e[i]=s(n,t+a);return e}}})(i,r||0),arrayBuffer:n});return{...a,set(e){!function e(t,r){if(void 0!==t)if(tm(r))if(1===r.length&&"number"==typeof t)r[0]=t;else if(Array.isArray(t[0])||tm(t[0])){let e=t[0].length,i=3===e?4:e;for(let e=0;e<t.length;++e){let n=e*i;r.set(t[e],n)}}else r.set(t);else if(Array.isArray(r))t.forEach((t,i)=>{e(t,r[i])});else for(let[i,n]of Object.entries(t)){let t=r[i];t&&e(n,t)}}(e,a.views)}}}!function(e=[],t){let r=new Set;for(let t of tx){let i=ty[t];r.has(i)||(r.add(i),i.flatten=!e.includes(t)||void 0)}}(),new WeakMap;class tw{constructor(e,t){this.name=e,this.attributes=t,this.size=0}get isArray(){return!1}get isStruct(){return!1}get isTemplate(){return!1}get isPointer(){return!1}getTypeName(){return this.name}}class t_{constructor(e,t,r){this.name=e,this.type=t,this.attributes=r,this.offset=0,this.size=0}get isArray(){return this.type.isArray}get isStruct(){return this.type.isStruct}get isTemplate(){return this.type.isTemplate}get align(){return this.type.isStruct?this.type.align:0}get members(){return this.type.isStruct?this.type.members:null}get format(){return this.type.isArray||this.type.isTemplate?this.type.format:null}get count(){return this.type.isArray?this.type.count:0}get stride(){return this.type.isArray?this.type.stride:this.size}}class tS extends tw{constructor(e,t){super(e,t),this.members=[],this.align=0,this.startLine=-1,this.endLine=-1,this.inUse=!1}get isStruct(){return!0}}class tk extends tw{constructor(e,t){super(e,t),this.count=0,this.stride=0}get isArray(){return!0}getTypeName(){return`array<${this.format.getTypeName()}, ${this.count}>`}}class tM extends tw{constructor(e,t,r){super(e,r),this.format=t}get isPointer(){return!0}getTypeName(){return`&${this.format.getTypeName()}`}}class tC extends tw{constructor(e,t,r,i){super(e,r),this.format=t,this.access=i}get isTemplate(){return!0}getTypeName(){let e=this.name;if(null!==this.format){if("vec2"===e||"vec3"===e||"vec4"===e||"mat2x2"===e||"mat2x3"===e||"mat2x4"===e||"mat3x2"===e||"mat3x3"===e||"mat3x4"===e||"mat4x2"===e||"mat4x3"===e||"mat4x4"===e){if("f32"===this.format.name)return e+"f";if("i32"===this.format.name)return e+"i";if("u32"===this.format.name)return e+"u";if("bool"===this.format.name)return e+"b";if("f16"===this.format.name)return e+"h"}e+=`<${this.format.name}>`}return e}}(t=a||(a={}))[t.Uniform=0]="Uniform",t[t.Storage=1]="Storage",t[t.Texture=2]="Texture",t[t.Sampler=3]="Sampler",t[t.StorageTexture=4]="StorageTexture";class tA{constructor(e,t,r,i,n,s,a){this.name=e,this.type=t,this.group=r,this.binding=i,this.attributes=n,this.resourceType=s,this.access=a}get isArray(){return this.type.isArray}get isStruct(){return this.type.isStruct}get isTemplate(){return this.type.isTemplate}get size(){return this.type.size}get align(){return this.type.isStruct?this.type.align:0}get members(){return this.type.isStruct?this.type.members:null}get format(){return this.type.isArray||this.type.isTemplate?this.type.format:null}get count(){return this.type.isArray?this.type.count:0}get stride(){return this.type.isArray?this.type.stride:this.size}}class tI{constructor(e,t){this.name=e,this.type=t}}class tT{constructor(e,t,r,i){this.name=e,this.type=t,this.locationType=r,this.location=i,this.interpolation=null}}class tz{constructor(e,t,r,i){this.name=e,this.type=t,this.locationType=r,this.location=i}}class tE{constructor(e,t,r,i){this.name=e,this.type=t,this.attributes=r,this.id=i}}class tN{constructor(e,t,r){this.name=e,this.type=t,this.attributes=r}}class tj{constructor(e,t=null,r){this.stage=null,this.inputs=[],this.outputs=[],this.arguments=[],this.returnType=null,this.resources=[],this.overrides=[],this.startLine=-1,this.endLine=-1,this.inUse=!1,this.calls=new Set,this.name=e,this.stage=t,this.attributes=r}}class tO{constructor(){this.vertex=[],this.fragment=[],this.compute=[]}}let tD=new Float32Array(1),tP=new Int32Array(tD.buffer),tR=new Uint16Array(1),tB=new Uint32Array(1),tL=new Float32Array(tB.buffer,0,1);function tF(e){return tB[0]=112+(e>>6&31)<<23|(63&e)<<17,tL[0]}function tV(e,t,r,i){var n,s,a,o;let l=[0,0,0,0];for(let u=0;u<i;++u)switch(r){case"8unorm":l[u]=e[t]/255,t++;break;case"8snorm":l[u]=e[t]/255*2-1,t++;break;case"8uint":l[u]=e[t],t++;break;case"8sint":l[u]=e[t]-127,t++;break;case"16uint":l[u]=e[t]|e[t+1]<<8,t+=2;break;case"16sint":l[u]=(e[t]|e[t+1]<<8)-32768,t+=2;break;case"16float":l[u]=(n=e[t]|e[t+1]<<8,s=void 0,a=void 0,o=void 0,s=(32768&n)>>15,o=1023&n,0==(a=(31744&n)>>10)?(s?-1:1)*6103515625e-14*(o/1024):31==a?o?NaN:1/0*(s?-1:1):(s?-1:1)*Math.pow(2,a-15)*(1+o/1024)),t+=2;break;case"32uint":case"32sint":l[u]=e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24,t+=4;break;case"32float":l[u]=new Float32Array(e.buffer,t,1)[0],t+=4}return l}function tU(e,t,r,i,n){for(let s=0;s<i;++s)switch(r){case"8unorm":e[t]=255*n[s],t++;break;case"8snorm":e[t]=.5*(n[s]+1)*255,t++;break;case"8uint":e[t]=n[s],t++;break;case"8sint":e[t]=n[s]+127,t++;break;case"16uint":new Uint16Array(e.buffer,t,1)[0]=n[s],t+=2;break;case"16sint":new Int16Array(e.buffer,t,1)[0]=n[s],t+=2;break;case"16float":{let r=function(e){tD[0]=e;let t=tP[0],r=t>>31&1,i=t>>23&255,n=8388607&t;if(255===i)return tR[0]=r<<15|31744|512*(0!==n),tR[0];if(0===i){if(0===n)return tR[0]=r<<15,tR[0];n|=8388608;let e=113;for(;!(8388608&n);)n<<=1,e--;return n&=8388607,(i=127-e)>0?(n=(n>>126-i)+(n>>127-i&1),tR[0]=r<<15|i<<10|n>>13):tR[0]=r<<15,tR[0]}return(i=i-127+15)>=31?tR[0]=r<<15|31744:i<=0?i<-10?tR[0]=r<<15:(n=(8388608|n)>>1-i,tR[0]=r<<15|n>>13):(n>>=13,tR[0]=r<<15|i<<10|n),tR[0]}(n[s]);new Uint16Array(e.buffer,t,1)[0]=r,t+=2;break}case"32uint":new Uint32Array(e.buffer,t,1)[0]=n[s],t+=4;break;case"32sint":new Int32Array(e.buffer,t,1)[0]=n[s],t+=4;break;case"32float":new Float32Array(e.buffer,t,1)[0]=n[s],t+=4}return n}let t$={r8unorm:{bytesPerBlock:1,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},r8snorm:{bytesPerBlock:1,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},r8uint:{bytesPerBlock:1,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},r8sint:{bytesPerBlock:1,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},rg8unorm:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rg8snorm:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rg8uint:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rg8sint:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rgba8unorm:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},"rgba8unorm-srgb":{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgba8snorm:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgba8uint:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgba8sint:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},bgra8unorm:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},"bgra8unorm-srgb":{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},r16uint:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},r16sint:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},r16float:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},rg16uint:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rg16sint:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rg16float:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rgba16uint:{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgba16sint:{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgba16float:{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},r32uint:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},r32sint:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},r32float:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},rg32uint:{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rg32sint:{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rg32float:{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rgba32uint:{bytesPerBlock:16,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgba32sint:{bytesPerBlock:16,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgba32float:{bytesPerBlock:16,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgb10a2uint:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgb10a2unorm:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rg11b10ufloat:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},stencil8:{bytesPerBlock:1,blockWidth:1,blockHeight:1,isCompressed:!1,isDepthStencil:!0,hasDepth:!1,hasStencil:!0,channels:1},depth16unorm:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,isDepthStencil:!0,hasDepth:!0,hasStencil:!1,channels:1},depth24plus:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,isDepthStencil:!0,hasDepth:!0,hasStencil:!1,depthOnlyFormat:"depth32float",channels:1},"depth24plus-stencil8":{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,isDepthStencil:!0,hasDepth:!0,hasStencil:!0,depthOnlyFormat:"depth32float",channels:1},depth32float:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,isDepthStencil:!0,hasDepth:!0,hasStencil:!1,channels:1},"depth32float-stencil8":{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,isDepthStencil:!0,hasDepth:!0,hasStencil:!0,stencilOnlyFormat:"depth32float",channels:1},rgb9e5ufloat:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},"bc1-rgba-unorm":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc1-rgba-unorm-srgb":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc2-rgba-unorm":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc2-rgba-unorm-srgb":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc3-rgba-unorm":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc3-rgba-unorm-srgb":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc4-r-unorm":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:1},"bc4-r-snorm":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:1},"bc5-rg-unorm":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:2},"bc5-rg-snorm":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:2},"bc6h-rgb-ufloat":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc6h-rgb-float":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc7-rgba-unorm":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc7-rgba-unorm-srgb":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"etc2-rgb8unorm":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"etc2-rgb8unorm-srgb":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"etc2-rgb8a1unorm":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"etc2-rgb8a1unorm-srgb":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"etc2-rgba8unorm":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"etc2-rgba8unorm-srgb":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"eac-r11unorm":{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!0,channels:1},"eac-r11snorm":{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!0,channels:1},"eac-rg11unorm":{bytesPerBlock:16,blockWidth:1,blockHeight:1,isCompressed:!0,channels:2},"eac-rg11snorm":{bytesPerBlock:16,blockWidth:1,blockHeight:1,isCompressed:!0,channels:2},"astc-4x4-unorm":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"astc-4x4-unorm-srgb":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"astc-5x4-unorm":{bytesPerBlock:16,blockWidth:5,blockHeight:4,isCompressed:!0,channels:4},"astc-5x4-unorm-srgb":{bytesPerBlock:16,blockWidth:5,blockHeight:4,isCompressed:!0,channels:4},"astc-5x5-unorm":{bytesPerBlock:16,blockWidth:5,blockHeight:5,isCompressed:!0,channels:4},"astc-5x5-unorm-srgb":{bytesPerBlock:16,blockWidth:5,blockHeight:5,isCompressed:!0,channels:4},"astc-6x5-unorm":{bytesPerBlock:16,blockWidth:6,blockHeight:5,isCompressed:!0,channels:4},"astc-6x5-unorm-srgb":{bytesPerBlock:16,blockWidth:6,blockHeight:5,isCompressed:!0,channels:4},"astc-6x6-unorm":{bytesPerBlock:16,blockWidth:6,blockHeight:6,isCompressed:!0,channels:4},"astc-6x6-unorm-srgb":{bytesPerBlock:16,blockWidth:6,blockHeight:6,isCompressed:!0,channels:4},"astc-8x5-unorm":{bytesPerBlock:16,blockWidth:8,blockHeight:5,isCompressed:!0,channels:4},"astc-8x5-unorm-srgb":{bytesPerBlock:16,blockWidth:8,blockHeight:5,isCompressed:!0,channels:4},"astc-8x6-unorm":{bytesPerBlock:16,blockWidth:8,blockHeight:6,isCompressed:!0,channels:4},"astc-8x6-unorm-srgb":{bytesPerBlock:16,blockWidth:8,blockHeight:6,isCompressed:!0,channels:4},"astc-8x8-unorm":{bytesPerBlock:16,blockWidth:8,blockHeight:8,isCompressed:!0,channels:4},"astc-8x8-unorm-srgb":{bytesPerBlock:16,blockWidth:8,blockHeight:8,isCompressed:!0,channels:4},"astc-10x5-unorm":{bytesPerBlock:16,blockWidth:10,blockHeight:5,isCompressed:!0,channels:4},"astc-10x5-unorm-srgb":{bytesPerBlock:16,blockWidth:10,blockHeight:5,isCompressed:!0,channels:4},"astc-10x6-unorm":{bytesPerBlock:16,blockWidth:10,blockHeight:6,isCompressed:!0,channels:4},"astc-10x6-unorm-srgb":{bytesPerBlock:16,blockWidth:10,blockHeight:6,isCompressed:!0,channels:4},"astc-10x8-unorm":{bytesPerBlock:16,blockWidth:10,blockHeight:8,isCompressed:!0,channels:4},"astc-10x8-unorm-srgb":{bytesPerBlock:16,blockWidth:10,blockHeight:8,isCompressed:!0,channels:4},"astc-10x10-unorm":{bytesPerBlock:16,blockWidth:10,blockHeight:10,isCompressed:!0,channels:4},"astc-10x10-unorm-srgb":{bytesPerBlock:16,blockWidth:10,blockHeight:10,isCompressed:!0,channels:4},"astc-12x10-unorm":{bytesPerBlock:16,blockWidth:12,blockHeight:10,isCompressed:!0,channels:4},"astc-12x10-unorm-srgb":{bytesPerBlock:16,blockWidth:12,blockHeight:10,isCompressed:!0,channels:4},"astc-12x12-unorm":{bytesPerBlock:16,blockWidth:12,blockHeight:12,isCompressed:!0,channels:4},"astc-12x12-unorm-srgb":{bytesPerBlock:16,blockWidth:12,blockHeight:12,isCompressed:!0,channels:4}};class tW{constructor(){this.id=tW._id++,this.line=0}get isAstNode(){return!0}get astNodeType(){return""}search(e){e(this)}searchBlock(e,t){if(e){for(let r of(t(tG.instance),e))r instanceof Array?this.searchBlock(r,t):r.search(t);t(tH.instance)}}constEvaluate(e,t){throw Error("Cannot evaluate node")}constEvaluateString(e){return this.constEvaluate(e).toString()}}tW._id=0;class tG extends tW{}tG.instance=new tG;class tH extends tW{}tH.instance=new tH;let tq=new Set(["all","all","any","select","arrayLength","abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","clamp","cos","cosh","countLeadingZeros","countOneBits","countTrailingZeros","cross","degrees","determinant","distance","dot","dot4U8Packed","dot4I8Packed","exp","exp2","extractBits","faceForward","firstLeadingBit","firstTrailingBit","floor","fma","fract","frexp","insertBits","inverseSqrt","ldexp","length","log","log2","max","min","mix","modf","normalize","pow","quantizeToF16","radians","reflect","refract","reverseBits","round","saturate","sign","sin","sinh","smoothStep","sqrt","step","tan","tanh","transpose","trunc","dpdx","dpdxCoarse","dpdxFine","dpdy","dpdyCoarse","dpdyFine","fwidth","fwidthCoarse","fwidthFine","textureDimensions","textureGather","textureGatherCompare","textureLoad","textureNumLayers","textureNumLevels","textureNumSamples","textureSample","textureSampleBias","textureSampleCompare","textureSampleCompareLevel","textureSampleGrad","textureSampleLevel","textureSampleBaseClampToEdge","textureStore","atomicLoad","atomicStore","atomicAdd","atomicSub","atomicMax","atomicMin","atomicAnd","atomicOr","atomicXor","atomicExchange","atomicCompareExchangeWeak","pack4x8snorm","pack4x8unorm","pack4xI8","pack4xU8","pack4x8Clamp","pack4xU8Clamp","pack2x16snorm","pack2x16unorm","pack2x16float","unpack4x8snorm","unpack4x8unorm","unpack4xI8","unpack4xU8","unpack2x16snorm","unpack2x16unorm","unpack2x16float","storageBarrier","textureBarrier","workgroupBarrier","workgroupUniformLoad","subgroupAdd","subgroupExclusiveAdd","subgroupInclusiveAdd","subgroupAll","subgroupAnd","subgroupAny","subgroupBallot","subgroupBroadcast","subgroupBroadcastFirst","subgroupElect","subgroupMax","subgroupMin","subgroupMul","subgroupExclusiveMul","subgroupInclusiveMul","subgroupOr","subgroupShuffle","subgroupShuffleDown","subgroupShuffleUp","subgroupShuffleXor","subgroupXor","quadBroadcast","quadSwapDiagonal","quadSwapX","quadSwapY"]);class tY extends tW{constructor(){super()}}class tX extends tY{constructor(e,t,r,i,n,s){super(),this.calls=new Set,this.name=e,this.args=t,this.returnType=r,this.body=i,this.startLine=n,this.endLine=s}get astNodeType(){return"function"}search(e){if(this.attributes)for(let t of this.attributes)e(t);for(let t of(e(this),this.args))e(t);this.searchBlock(this.body,e)}}class tZ extends tY{constructor(e){super(),this.expression=e}get astNodeType(){return"staticAssert"}search(e){this.expression.search(e)}}class tJ extends tY{constructor(e,t){super(),this.condition=e,this.body=t}get astNodeType(){return"while"}search(e){this.condition.search(e),this.searchBlock(this.body,e)}}class tK extends tY{constructor(e,t){super(),this.body=e,this.loopId=t}get astNodeType(){return"continuing"}search(e){this.searchBlock(this.body,e)}}class tQ extends tY{constructor(e,t,r,i){super(),this.init=e,this.condition=t,this.increment=r,this.body=i}get astNodeType(){return"for"}search(e){var t,r,i;null==(t=this.init)||t.search(e),null==(r=this.condition)||r.search(e),null==(i=this.increment)||i.search(e),this.searchBlock(this.body,e)}}class t1 extends tY{constructor(e,t,r,i,n){super(),this.attributes=null,this.name=e,this.type=t,this.storage=r,this.access=i,this.value=n}get astNodeType(){return"var"}search(e){var t;e(this),null==(t=this.value)||t.search(e)}}class t0 extends tY{constructor(e,t,r){super(),this.attributes=null,this.name=e,this.type=t,this.value=r}get astNodeType(){return"override"}search(e){var t;null==(t=this.value)||t.search(e)}}class t2 extends tY{constructor(e,t,r,i,n){super(),this.attributes=null,this.name=e,this.type=t,this.storage=r,this.access=i,this.value=n}get astNodeType(){return"let"}search(e){var t;e(this),null==(t=this.value)||t.search(e)}}class t9 extends tY{constructor(e,t,r,i,n){super(),this.attributes=null,this.name=e,this.type=t,this.storage=r,this.access=i,this.value=n}get astNodeType(){return"const"}constEvaluate(e,t){return this.value.constEvaluate(e,t)}search(e){var t;e(this),null==(t=this.value)||t.search(e)}}(r=o||(o={})).increment="++",r.decrement="--",(i=o||(o={})).parse=function(e){if("parse"==e)throw Error("Invalid value for IncrementOperator");return i[e]};class t3 extends tY{constructor(e,t){super(),this.operator=e,this.variable=t}get astNodeType(){return"increment"}search(e){this.variable.search(e)}}(n=l||(l={})).assign="=",n.addAssign="+=",n.subtractAssin="-=",n.multiplyAssign="*=",n.divideAssign="/=",n.moduloAssign="%=",n.andAssign="&=",n.orAssign="|=",n.xorAssign="^=",n.shiftLeftAssign="<<=",n.shiftRightAssign=">>=",(l||(l={})).parse=function(e){if("parse"==e)throw Error("Invalid value for AssignOperator");return e};class t4 extends tY{constructor(e,t,r){super(),this.operator=e,this.variable=t,this.value=r}get astNodeType(){return"assign"}search(e){this.variable.search(e),this.value.search(e)}}class t8 extends tY{constructor(e,t){super(),this.name=e,this.args=t}get astNodeType(){return"call"}isBuiltin(){return tq.has(this.name)}search(e){for(let t of this.args)t.search(e);e(this)}}class t6 extends tY{constructor(e,t){super(),this.body=e,this.continuing=t}get astNodeType(){return"loop"}}class t5 extends tY{constructor(e,t){super(),this.condition=e,this.cases=t}get astNodeType(){return"switch"}}class t7 extends tY{constructor(e,t,r,i){super(),this.condition=e,this.body=t,this.elseif=r,this.else=i}get astNodeType(){return"if"}search(e){this.condition.search(e),this.searchBlock(this.body,e),this.searchBlock(this.elseif,e),this.searchBlock(this.else,e)}}class re extends tY{constructor(e){super(),this.value=e}get astNodeType(){return"return"}search(e){var t;null==(t=this.value)||t.search(e)}}class rt extends tY{constructor(e){super(),this.name=e}get astNodeType(){return"enable"}}class rr extends tY{constructor(e){super(),this.extensions=e}get astNodeType(){return"requires"}}class ri extends tY{constructor(e,t){super(),this.severity=e,this.rule=t}get astNodeType(){return"diagnostic"}}class rn extends tY{constructor(e,t){super(),this.name=e,this.type=t}get astNodeType(){return"alias"}}class rs extends tY{constructor(){super()}get astNodeType(){return"discard"}}class ra extends tY{constructor(){super(),this.condition=null,this.loopId=-1}get astNodeType(){return"break"}}class ro extends tY{constructor(){super(),this.loopId=-1}get astNodeType(){return"continue"}}class rl extends tY{constructor(e){super(),this.attributes=null,this.name=e}get astNodeType(){return"type"}get isStruct(){return!1}get isArray(){return!1}static maxFormatType(e){let t=e[0];if("f32"===t.name)return t;for(let r=1;r<e.length;++r){let i=rl._priority.get(t.name);rl._priority.get(e[r].name)<i&&(t=e[r])}return"x32"===t.name?rl.i32:t}getTypeName(){return this.name}}rl.x32=new rl("x32"),rl.f32=new rl("f32"),rl.i32=new rl("i32"),rl.u32=new rl("u32"),rl.f16=new rl("f16"),rl.bool=new rl("bool"),rl.void=new rl("void"),rl._priority=new Map([["f32",0],["f16",1],["u32",2],["i32",3],["x32",3]]);class ru extends rl{constructor(e){super(e)}}class rc extends rl{constructor(e,t,r,i){super(e),this.members=t,this.startLine=r,this.endLine=i}get astNodeType(){return"struct"}get isStruct(){return!0}getMemberIndex(e){for(let t=0;t<this.members.length;t++)if(this.members[t].name==e)return t;return -1}search(e){for(let t of this.members)e(t)}}class rh extends rl{constructor(e,t,r){super(e),this.format=t,this.access=r}get astNodeType(){return"template"}getTypeName(){let e=this.name;if(null!==this.format){if("vec2"===e||"vec3"===e||"vec4"===e||"mat2x2"===e||"mat2x3"===e||"mat2x4"===e||"mat3x2"===e||"mat3x3"===e||"mat3x4"===e||"mat4x2"===e||"mat4x3"===e||"mat4x4"===e){if("f32"===this.format.name)return e+"f";if("i32"===this.format.name)return e+"i";if("u32"===this.format.name)return e+"u";if("bool"===this.format.name)return e+"b";if("f16"===this.format.name)return e+"h"}e+=`<${this.format.name}>`}return e}}rh.vec2f=new rh("vec2",rl.f32,null),rh.vec3f=new rh("vec3",rl.f32,null),rh.vec4f=new rh("vec4",rl.f32,null),rh.vec2i=new rh("vec2",rl.i32,null),rh.vec3i=new rh("vec3",rl.i32,null),rh.vec4i=new rh("vec4",rl.i32,null),rh.vec2u=new rh("vec2",rl.u32,null),rh.vec3u=new rh("vec3",rl.u32,null),rh.vec4u=new rh("vec4",rl.u32,null),rh.vec2h=new rh("vec2",rl.f16,null),rh.vec3h=new rh("vec3",rl.f16,null),rh.vec4h=new rh("vec4",rl.f16,null),rh.vec2b=new rh("vec2",rl.bool,null),rh.vec3b=new rh("vec3",rl.bool,null),rh.vec4b=new rh("vec4",rl.bool,null),rh.mat2x2f=new rh("mat2x2",rl.f32,null),rh.mat2x3f=new rh("mat2x3",rl.f32,null),rh.mat2x4f=new rh("mat2x4",rl.f32,null),rh.mat3x2f=new rh("mat3x2",rl.f32,null),rh.mat3x3f=new rh("mat3x3",rl.f32,null),rh.mat3x4f=new rh("mat3x4",rl.f32,null),rh.mat4x2f=new rh("mat4x2",rl.f32,null),rh.mat4x3f=new rh("mat4x3",rl.f32,null),rh.mat4x4f=new rh("mat4x4",rl.f32,null),rh.mat2x2h=new rh("mat2x2",rl.f16,null),rh.mat2x3h=new rh("mat2x3",rl.f16,null),rh.mat2x4h=new rh("mat2x4",rl.f16,null),rh.mat3x2h=new rh("mat3x2",rl.f16,null),rh.mat3x3h=new rh("mat3x3",rl.f16,null),rh.mat3x4h=new rh("mat3x4",rl.f16,null),rh.mat4x2h=new rh("mat4x2",rl.f16,null),rh.mat4x3h=new rh("mat4x3",rl.f16,null),rh.mat4x4h=new rh("mat4x4",rl.f16,null),rh.mat2x2i=new rh("mat2x2",rl.i32,null),rh.mat2x3i=new rh("mat2x3",rl.i32,null),rh.mat2x4i=new rh("mat2x4",rl.i32,null),rh.mat3x2i=new rh("mat3x2",rl.i32,null),rh.mat3x3i=new rh("mat3x3",rl.i32,null),rh.mat3x4i=new rh("mat3x4",rl.i32,null),rh.mat4x2i=new rh("mat4x2",rl.i32,null),rh.mat4x3i=new rh("mat4x3",rl.i32,null),rh.mat4x4i=new rh("mat4x4",rl.i32,null),rh.mat2x2u=new rh("mat2x2",rl.u32,null),rh.mat2x3u=new rh("mat2x3",rl.u32,null),rh.mat2x4u=new rh("mat2x4",rl.u32,null),rh.mat3x2u=new rh("mat3x2",rl.u32,null),rh.mat3x3u=new rh("mat3x3",rl.u32,null),rh.mat3x4u=new rh("mat3x4",rl.u32,null),rh.mat4x2u=new rh("mat4x2",rl.u32,null),rh.mat4x3u=new rh("mat4x3",rl.u32,null),rh.mat4x4u=new rh("mat4x4",rl.u32,null);class rd extends rl{constructor(e,t,r,i){super(e),this.storage=t,this.type=r,this.access=i}get astNodeType(){return"pointer"}}class rp extends rl{constructor(e,t,r,i){super(e),this.attributes=t,this.format=r,this.count=i}get astNodeType(){return"array"}get isArray(){return!0}}class rf extends rl{constructor(e,t,r){super(e),this.format=t,this.access=r}get astNodeType(){return"sampler"}}class rm extends tW{constructor(){super(),this.postfix=null}}class rg extends rm{constructor(e){super(),this.value=e}get astNodeType(){return"stringExpr"}toString(){return this.value}constEvaluateString(){return this.value}}class ry extends rm{constructor(e,t){super(),this.type=e,this.args=t}get astNodeType(){return"createExpr"}search(e){if(e(this),this.args)for(let t of this.args)t.search(e)}constEvaluate(e,t){return t&&(t[0]=this.type),e.evalExpression(this,e.context)}}class rx extends rm{constructor(e,t){super(),this.cachedReturnValue=null,this.name=e,this.args=t}get astNodeType(){return"callExpr"}setCachedReturnValue(e){this.cachedReturnValue=e}get isBuiltin(){return tq.has(this.name)}constEvaluate(e,t){return e.evalExpression(this,e.context)}search(e){for(let t of this.args)t.search(e);e(this)}}class rv extends rm{constructor(e){super(),this.name=e}get astNodeType(){return"varExpr"}search(e){e(this),this.postfix&&this.postfix.search(e)}constEvaluate(e,t){return e.evalExpression(this,e.context)}}class rb extends rm{constructor(e,t){super(),this.name=e,this.initializer=t}get astNodeType(){return"constExpr"}constEvaluate(e,t){if(this.initializer){let t=e.evalExpression(this.initializer,e.context);return null!==t&&this.postfix?t.getSubData(e,this.postfix,e.context):t}return null}search(e){this.initializer.search(e)}}class rw extends rm{constructor(e,t){super(),this.value=e,this.type=t}get astNodeType(){return"literalExpr"}constEvaluate(e,t){return void 0!==t&&(t[0]=this.type),this.value}get isScalar(){return this.value instanceof rB}get isVector(){return this.value instanceof rL||this.value instanceof rF}get scalarValue(){return this.value instanceof rB?this.value.value:(console.error("Value is not scalar."),0)}get vectorValue(){return this.value instanceof rL||this.value instanceof rF?this.value.data:(console.error("Value is not a vector or matrix."),new Float32Array(0))}}class r_ extends rm{constructor(e,t){super(),this.type=e,this.value=t}get astNodeType(){return"bitcastExpr"}search(e){this.value.search(e)}}class rS extends rm{constructor(e){super(),this.index=e}search(e){this.index.search(e)}}class rk extends rm{constructor(){super()}}class rM extends rk{constructor(e,t){super(),this.operator=e,this.right=t}get astNodeType(){return"unaryOp"}constEvaluate(e,t){return e.evalExpression(this,e.context)}search(e){this.right.search(e)}}class rC extends rk{constructor(e,t,r){super(),this.operator=e,this.left=t,this.right=r}get astNodeType(){return"binaryOp"}_getPromotedType(e,t){return e.name===t.name?e:"f32"===e.name||"f32"===t.name?rl.f32:"u32"===e.name||"u32"===t.name?rl.u32:rl.i32}constEvaluate(e,t){return e.evalExpression(this,e.context)}search(e){this.left.search(e),this.right.search(e)}}class rA extends tW{constructor(e){super(),this.body=e}}class rI extends rm{constructor(){super()}get astNodeType(){return"default"}}class rT extends rA{constructor(e,t){super(t),this.selectors=e}get astNodeType(){return"case"}search(e){this.searchBlock(this.body,e)}}class rz extends rA{constructor(e){super(e)}get astNodeType(){return"default"}search(e){this.searchBlock(this.body,e)}}class rE extends tW{constructor(e,t,r){super(),this.name=e,this.type=t,this.attributes=r}get astNodeType(){return"argument"}}class rN extends tW{constructor(e,t){super(),this.condition=e,this.body=t}get astNodeType(){return"elseif"}search(e){this.condition.search(e),this.searchBlock(this.body,e)}}class rj extends tW{constructor(e,t,r){super(),this.name=e,this.type=t,this.attributes=r}get astNodeType(){return"member"}}class rO extends tW{constructor(e,t){super(),this.name=e,this.value=t}get astNodeType(){return"attribute"}}class rD{constructor(e,t){this.parent=null,this.typeInfo=e,this.parent=t,this.id=rD._id++}clone(){throw`Clone: Not implemented for ${this.constructor.name}`}setDataValue(e,t,r,i){console.error(`SetDataValue: Not implemented for ${this.constructor.name}`)}getSubData(e,t,r){return console.error(`GetDataValue: Not implemented for ${this.constructor.name}`),null}toString(){return`<${this.typeInfo.getTypeName()}>`}}rD._id=0;class rP extends rD{constructor(){super(new tw("void",null),null)}toString(){return"void"}}rP.void=new rP;class rR extends rD{constructor(e){super(new tM("pointer",e.typeInfo,null),null),this.reference=e}clone(){return this}setDataValue(e,t,r,i){this.reference.setDataValue(e,t,r,i)}getSubData(e,t,r){return t?this.reference.getSubData(e,t,r):this}toString(){return`&${this.reference.toString()}`}}class rB extends rD{constructor(e,t,r=null){super(t,r),e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array?this.data=e:"x32"===this.typeInfo.name?e-Math.floor(e)!=0?this.data=new Float32Array([e]):this.data=e>=0?new Uint32Array([e]):new Int32Array([e]):"i32"===this.typeInfo.name||"bool"===this.typeInfo.name?this.data=new Int32Array([e]):"u32"===this.typeInfo.name?this.data=new Uint32Array([e]):"f32"===this.typeInfo.name||"f16"===this.typeInfo.name?this.data=new Float32Array([e]):console.error("ScalarData2: Invalid type",t)}clone(){if(this.data instanceof Float32Array)return new rB(new Float32Array(this.data),this.typeInfo,null);if(this.data instanceof Int32Array)return new rB(new Int32Array(this.data),this.typeInfo,null);if(this.data instanceof Uint32Array)return new rB(new Uint32Array(this.data),this.typeInfo,null);throw"ScalarData: Invalid data type"}get value(){return this.data[0]}set value(e){this.data[0]=e}setDataValue(e,t,r,i){if(r)return void console.error("SetDataValue: Scalar data does not support postfix",r);if(!(t instanceof rB))return void console.error("SetDataValue: Invalid value",t);let n=t.data[0];"i32"===this.typeInfo.name||"u32"===this.typeInfo.name?n=Math.floor(n):"bool"===this.typeInfo.name&&(n=+!!n),this.data[0]=n}getSubData(e,t,r){return t?(console.error("getSubData: Scalar data does not support postfix",t),null):this}toString(){return`${this.value}`}}class rL extends rD{constructor(e,t,r=null){if(super(t,r),e instanceof Float32Array||e instanceof Uint32Array||e instanceof Int32Array)this.data=e;else{const t=this.typeInfo.name;"vec2f"===t||"vec3f"===t||"vec4f"===t?this.data=new Float32Array(e):"vec2i"===t||"vec3i"===t||"vec4i"===t?this.data=new Int32Array(e):"vec2u"===t||"vec3u"===t||"vec4u"===t?this.data=new Uint32Array(e):"vec2h"===t||"vec3h"===t||"vec4h"===t?this.data=new Float32Array(e):"vec2b"===t||"vec3b"===t||"vec4b"===t?this.data=new Int32Array(e):"vec2"===t||"vec3"===t||"vec4"===t?this.data=new Float32Array(e):console.error(`VectorData: Invalid type ${t}`)}}clone(){if(this.data instanceof Float32Array)return new rL(new Float32Array(this.data),this.typeInfo,null);if(this.data instanceof Int32Array)return new rL(new Int32Array(this.data),this.typeInfo,null);if(this.data instanceof Uint32Array)return new rL(new Uint32Array(this.data),this.typeInfo,null);throw"VectorData: Invalid data type"}setDataValue(e,t,r,i){r instanceof rg?console.error("TODO: Set vector postfix"):t instanceof rL?this.data=t.data:console.error("SetDataValue: Invalid value",t)}getSubData(e,t,r){if(null===t)return this;let i=e.getTypeInfo("f32");if(this.typeInfo instanceof tC)i=this.typeInfo.format||i;else{let t=this.typeInfo.name;"vec2f"===t||"vec3f"===t||"vec4f"===t?i=e.getTypeInfo("f32"):"vec2i"===t||"vec3i"===t||"vec4i"===t?i=e.getTypeInfo("i32"):"vec2b"===t||"vec3b"===t||"vec4b"===t?i=e.getTypeInfo("bool"):"vec2u"===t||"vec3u"===t||"vec4u"===t?i=e.getTypeInfo("u32"):"vec2h"===t||"vec3h"===t||"vec4h"===t?i=e.getTypeInfo("f16"):console.error(`GetSubData: Unknown type ${t}`)}let n=this;for(;null!==t&&null!==n;){if(t instanceof rS){let s=t.index,a=-1;if(s instanceof rw){if(!(s.value instanceof rB))return console.error(`GetSubData: Invalid array index ${s.value}`),null;a=s.value.value}else{let t=e.evalExpression(s,r);if(!(t instanceof rB))return console.error("GetSubData: Unknown index type",s),null;a=t.value}if(a<0||a>=n.data.length)return console.error("GetSubData: Index out of range",a),null;if(n.data instanceof Float32Array)return new rB(new Float32Array(n.data.buffer,n.data.byteOffset+4*a,1),i);if(n.data instanceof Int32Array)return new rB(new Int32Array(n.data.buffer,n.data.byteOffset+4*a,1),i);if(n.data instanceof Uint32Array)return new rB(new Uint32Array(n.data.buffer,n.data.byteOffset+4*a,1),i);throw"GetSubData: Invalid data type"}if(!(t instanceof rg))return console.error("GetSubData: Unknown postfix",t),null;{let r=t.value.toLowerCase();if(1===r.length){let e=0;if("x"===r||"r"===r)e=0;else if("y"===r||"g"===r)e=1;else if("z"===r||"b"===r)e=2;else{if("w"!==r&&"a"!==r)return console.error(`GetSubData: Unknown member ${r}`),null;e=3}if(this.data instanceof Float32Array)return new rB(new Float32Array(this.data.buffer,this.data.byteOffset+4*e,1),i,this);if(this.data instanceof Int32Array)return new rB(new Int32Array(this.data.buffer,this.data.byteOffset+4*e,1),i,this);if(this.data instanceof Uint32Array)return new rB(new Uint32Array(this.data.buffer,this.data.byteOffset+4*e,1),i,this)}let s=[];for(let e of r)"x"===e||"r"===e?s.push(this.data[0]):"y"===e||"g"===e?s.push(this.data[1]):"z"===e||"b"===e?s.push(this.data[2]):"w"===e||"a"===e?s.push(this.data[3]):console.error(`GetDataValue: Unknown member ${e}`);n=function(e,t,r){let i=t.length;return 2===i?"f32"===r?new rL(new Float32Array(t),e.getTypeInfo("vec2f")):"i32"===r||"bool"===r?new rL(new Int32Array(t),e.getTypeInfo("vec2i")):"u32"===r?new rL(new Uint32Array(t),e.getTypeInfo("vec2u")):"f16"===r?new rL(new Float32Array(t),e.getTypeInfo("vec2h")):(console.error(`getSubData: Unknown format ${r}`),null):3===i?"f32"===r?new rL(new Float32Array(t),e.getTypeInfo("vec3f")):"i32"===r||"bool"===r?new rL(new Int32Array(t),e.getTypeInfo("vec3i")):"u32"===r?new rL(new Uint32Array(t),e.getTypeInfo("vec3u")):"f16"===r?new rL(new Float32Array(t),e.getTypeInfo("vec3h")):(console.error(`getSubData: Unknown format ${r}`),null):4===i?"f32"===r?new rL(new Float32Array(t),e.getTypeInfo("vec4f")):"i32"===r||"bool"===r?new rL(new Int32Array(t),e.getTypeInfo("vec4i")):"u32"===r?new rL(new Uint32Array(t),e.getTypeInfo("vec4u")):"f16"===r?new rL(new Float32Array(t),e.getTypeInfo("vec4h")):(console.error(`getSubData: Unknown format ${r}`),null):(console.error(`getSubData: Invalid vector size ${t.length}`),null)}(e,s,i.name)}t=t.postfix}return n}toString(){let e=`${this.data[0]}`;for(let t=1;t<this.data.length;++t)e+=`, ${this.data[t]}`;return e}}class rF extends rD{constructor(e,t,r=null){super(t,r),e instanceof Float32Array?this.data=e:this.data=new Float32Array(e)}clone(){return new rF(new Float32Array(this.data),this.typeInfo,null)}setDataValue(e,t,r,i){r instanceof rg?console.error("TODO: Set matrix postfix"):t instanceof rF?this.data=t.data:console.error("SetDataValue: Invalid value",t)}getSubData(e,t,r){if(null===t)return this;let i=this.typeInfo.name;if(e.getTypeInfo("f32"),this.typeInfo instanceof tC)this.typeInfo.format;else if(i.endsWith("f"))e.getTypeInfo("f32");else if(i.endsWith("i"))e.getTypeInfo("i32");else if(i.endsWith("u"))e.getTypeInfo("u32");else{if(!i.endsWith("h"))return console.error(`GetDataValue: Unknown type ${i}`),null;e.getTypeInfo("f16")}if(t instanceof rS){let n,s=t.index,a=-1;if(s instanceof rw){if(!(s.value instanceof rB))return console.error(`GetDataValue: Invalid array index ${s.value}`),null;a=s.value.value}else{let t=e.evalExpression(s,r);if(!(t instanceof rB))return console.error("GetDataValue: Unknown index type",s),null;a=t.value}if(a<0||a>=this.data.length)return console.error("GetDataValue: Index out of range",a),null;let o=i.endsWith("h")?"h":"f";if("mat2x2"===i||"mat2x2f"===i||"mat2x2h"===i||"mat3x2"===i||"mat3x2f"===i||"mat3x2h"===i||"mat4x2"===i||"mat4x2f"===i||"mat4x2h"===i)n=new rL(new Float32Array(this.data.buffer,this.data.byteOffset+2*a*4,2),e.getTypeInfo(`vec2${o}`));else if("mat2x3"===i||"mat2x3f"===i||"mat2x3h"===i||"mat3x3"===i||"mat3x3f"===i||"mat3x3h"===i||"mat4x3"===i||"mat4x3f"===i||"mat4x3h"===i)n=new rL(new Float32Array(this.data.buffer,this.data.byteOffset+3*a*4,3),e.getTypeInfo(`vec3${o}`));else{if("mat2x4"!==i&&"mat2x4f"!==i&&"mat2x4h"!==i&&"mat3x4"!==i&&"mat3x4f"!==i&&"mat3x4h"!==i&&"mat4x4"!==i&&"mat4x4f"!==i&&"mat4x4h"!==i)return console.error(`GetDataValue: Unknown type ${i}`),null;n=new rL(new Float32Array(this.data.buffer,this.data.byteOffset+4*a*4,4),e.getTypeInfo(`vec4${o}`))}return t.postfix?n.getSubData(e,t.postfix,r):n}return console.error("GetDataValue: Invalid postfix",t),null}toString(){let e=`${this.data[0]}`;for(let t=1;t<this.data.length;++t)e+=`, ${this.data[t]}`;return e}}class rV extends rD{constructor(e,t,r=0,i=null){super(t,i),this.buffer=e instanceof ArrayBuffer?e:e.buffer,this.offset=r}clone(){return new rV(new Uint8Array(new Uint8Array(this.buffer,this.offset,this.typeInfo.size)).buffer,this.typeInfo,0,null)}setDataValue(e,t,r,i){if(null===t)return void console.log("setDataValue: NULL data.");let n=this.offset,s=this.typeInfo;for(;r;){if(r instanceof rS)if(s instanceof tk){let t=r.index;if(t instanceof rw){if(!(t.value instanceof rB))return void console.error(`SetDataValue: Invalid index type ${t.value}`);n+=t.value.value*s.stride}else{let r=e.evalExpression(t,i);if(!(r instanceof rB))return void console.error("SetDataValue: Unknown index type",t);n+=r.value*s.stride}s=s.format}else console.error(`SetDataValue: Type ${s.getTypeName()} is not an array`);else{if(!(r instanceof rg))return void console.error("SetDataValue: Unknown postfix type",r);{let e=r.value;if(s instanceof tS){let t=!1;for(let r of s.members)if(r.name===e){n+=r.offset,s=r.type,t=!0;break}if(!t)return void console.error(`SetDataValue: Member ${e} not found`)}else if(s instanceof tw){let r=s.getTypeName(),i=0;if("x"===e||"r"===e)i=0;else if("y"===e||"g"===e)i=1;else if("z"===e||"b"===e)i=2;else{if("w"!==e&&"a"!==e)return void console.error(`SetDataValue: Unknown member ${e}`);i=3}if(!(t instanceof rB))return void console.error("SetDataValue: Invalid value",t);let a=t.value;return"vec2f"===r?void(new Float32Array(this.buffer,n,2)[i]=a):"vec3f"===r?void(new Float32Array(this.buffer,n,3)[i]=a):"vec4f"===r?void(new Float32Array(this.buffer,n,4)[i]=a):"vec2i"===r?void(new Int32Array(this.buffer,n,2)[i]=a):"vec3i"===r?void(new Int32Array(this.buffer,n,3)[i]=a):"vec4i"===r?void(new Int32Array(this.buffer,n,4)[i]=a):"vec2u"===r?void(new Uint32Array(this.buffer,n,2)[i]=a):"vec3u"===r?void(new Uint32Array(this.buffer,n,3)[i]=a):"vec4u"===r?void(new Uint32Array(this.buffer,n,4)[i]=a):void console.error(`SetDataValue: Type ${r} is not a struct`)}}}r=r.postfix}this.setData(e,t,s,n,i)}setData(e,t,r,i,n){let s=r.getTypeName();if("f32"!==s&&"f16"!==s)if("i32"!==s&&"atomic<i32>"!==s&&"x32"!==s)if("u32"!==s&&"atomic<u32>"!==s)if("bool"!==s)if("vec2f"!==s&&"vec2h"!==s)if("vec3f"!==s&&"vec3h"!==s)if("vec4f"!==s&&"vec4h"!==s)if("vec2i"!==s)if("vec3i"!==s)if("vec4i"!==s)if("vec2u"!==s)if("vec3u"!==s)if("vec4u"!==s)if("vec2b"!==s)if("vec3b"!==s)if("vec4b"!==s)if("mat2x2f"!==s&&"mat2x2h"!==s)if("mat2x3f"!==s&&"mat2x3h"!==s)if("mat2x4f"!==s&&"mat2x4h"!==s)if("mat3x2f"!==s&&"mat3x2h"!==s)if("mat3x3f"!==s&&"mat3x3h"!==s)if("mat3x4f"!==s&&"mat3x4h"!==s)if("mat4x2f"!==s&&"mat4x2h"!==s)if("mat4x3f"!==s&&"mat4x3h"!==s)if("mat4x4f"!==s&&"mat4x4h"!==s)if(t instanceof rV){if(r===t.typeInfo)return void new Uint8Array(this.buffer,i,t.buffer.byteLength).set(new Uint8Array(t.buffer));console.error("SetDataValue: Type mismatch",s,t.typeInfo.getTypeName())}else console.error(`SetData: Unknown type ${s}`);else{let e=new Float32Array(this.buffer,i,16);t instanceof rF?(e[0]=t.data[0],e[1]=t.data[1],e[2]=t.data[2],e[3]=t.data[3],e[4]=t.data[4],e[5]=t.data[5],e[6]=t.data[6],e[7]=t.data[7],e[8]=t.data[8],e[9]=t.data[9],e[10]=t.data[10],e[11]=t.data[11],e[12]=t.data[12],e[13]=t.data[13],e[14]=t.data[14],e[15]=t.data[15]):(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15])}else{let e=new Float32Array(this.buffer,i,12);t instanceof rF?(e[0]=t.data[0],e[1]=t.data[1],e[2]=t.data[2],e[3]=t.data[3],e[4]=t.data[4],e[5]=t.data[5],e[6]=t.data[6],e[7]=t.data[7],e[8]=t.data[8],e[9]=t.data[9],e[10]=t.data[10],e[11]=t.data[11]):(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11])}else{let e=new Float32Array(this.buffer,i,8);t instanceof rF?(e[0]=t.data[0],e[1]=t.data[1],e[2]=t.data[2],e[3]=t.data[3],e[4]=t.data[4],e[5]=t.data[5],e[6]=t.data[6],e[7]=t.data[7]):(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7])}else{let e=new Float32Array(this.buffer,i,12);t instanceof rF?(e[0]=t.data[0],e[1]=t.data[1],e[2]=t.data[2],e[3]=t.data[3],e[4]=t.data[4],e[5]=t.data[5],e[6]=t.data[6],e[7]=t.data[7],e[8]=t.data[8],e[9]=t.data[9],e[10]=t.data[10],e[11]=t.data[11]):(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11])}else{let e=new Float32Array(this.buffer,i,9);t instanceof rF?(e[0]=t.data[0],e[1]=t.data[1],e[2]=t.data[2],e[3]=t.data[3],e[4]=t.data[4],e[5]=t.data[5],e[6]=t.data[6],e[7]=t.data[7],e[8]=t.data[8]):(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8])}else{let e=new Float32Array(this.buffer,i,6);t instanceof rF?(e[0]=t.data[0],e[1]=t.data[1],e[2]=t.data[2],e[3]=t.data[3],e[4]=t.data[4],e[5]=t.data[5]):(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5])}else{let e=new Float32Array(this.buffer,i,8);t instanceof rF?(e[0]=t.data[0],e[1]=t.data[1],e[2]=t.data[2],e[3]=t.data[3],e[4]=t.data[4],e[5]=t.data[5],e[6]=t.data[6],e[7]=t.data[7]):(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7])}else{let e=new Float32Array(this.buffer,i,6);t instanceof rF?(e[0]=t.data[0],e[1]=t.data[1],e[2]=t.data[2],e[3]=t.data[3],e[4]=t.data[4],e[5]=t.data[5]):(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5])}else{let e=new Float32Array(this.buffer,i,4);t instanceof rF?(e[0]=t.data[0],e[1]=t.data[1],e[2]=t.data[2],e[3]=t.data[3]):(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3])}else{let e=new Uint32Array(this.buffer,i,4);t instanceof rL?(e[0]=t.data[0],e[1]=t.data[1],e[2]=t.data[2],e[3]=t.data[3]):(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3])}else{let e=new Uint32Array(this.buffer,i,3);t instanceof rL?(e[0]=t.data[0],e[1]=t.data[1],e[2]=t.data[2]):(e[0]=t[0],e[1]=t[1],e[2]=t[2])}else{let e=new Uint32Array(this.buffer,i,2);t instanceof rL?(e[0]=t.data[0],e[1]=t.data[1]):(e[0]=t[0],e[1]=t[1])}else{let e=new Uint32Array(this.buffer,i,4);t instanceof rL?(e[0]=t.data[0],e[1]=t.data[1],e[2]=t.data[2],e[3]=t.data[3]):(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3])}else{let e=new Uint32Array(this.buffer,i,3);t instanceof rL?(e[0]=t.data[0],e[1]=t.data[1],e[2]=t.data[2]):(e[0]=t[0],e[1]=t[1],e[2]=t[2])}else{let e=new Uint32Array(this.buffer,i,2);t instanceof rL?(e[0]=t.data[0],e[1]=t.data[1]):(e[0]=t[0],e[1]=t[1])}else{let e=new Int32Array(this.buffer,i,4);t instanceof rL?(e[0]=t.data[0],e[1]=t.data[1],e[2]=t.data[2],e[3]=t.data[3]):(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3])}else{let e=new Int32Array(this.buffer,i,3);t instanceof rL?(e[0]=t.data[0],e[1]=t.data[1],e[2]=t.data[2]):(e[0]=t[0],e[1]=t[1],e[2]=t[2])}else{let e=new Int32Array(this.buffer,i,2);t instanceof rL?(e[0]=t.data[0],e[1]=t.data[1]):(e[0]=t[0],e[1]=t[1])}else{let e=new Float32Array(this.buffer,i,4);t instanceof rL?(e[0]=t.data[0],e[1]=t.data[1],e[2]=t.data[2],e[3]=t.data[3]):(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3])}else{let e=new Float32Array(this.buffer,i,3);t instanceof rL?(e[0]=t.data[0],e[1]=t.data[1],e[2]=t.data[2]):(e[0]=t[0],e[1]=t[1],e[2]=t[2])}else{let e=new Float32Array(this.buffer,i,2);t instanceof rL?(e[0]=t.data[0],e[1]=t.data[1]):(e[0]=t[0],e[1]=t[1])}else t instanceof rB&&(new Int32Array(this.buffer,i,1)[0]=t.value);else t instanceof rB&&(new Uint32Array(this.buffer,i,1)[0]=t.value);else t instanceof rB&&(new Int32Array(this.buffer,i,1)[0]=t.value);else t instanceof rB&&(new Float32Array(this.buffer,i,1)[0]=t.value)}getSubData(e,t,r){var i,n,s;if(null===t)return this;let a=this.offset,o=this.typeInfo;for(;t;){if(t instanceof rS){let i=t.index,n=i instanceof rm?e.evalExpression(i,r):i,s=0;if(n instanceof rB?s=n.value:"number"==typeof n?s=n:console.error("GetDataValue: Invalid index type",i),o instanceof tk)a+=s*o.stride,o=o.format;else{let t=o.getTypeName();"mat4x4"===t||"mat4x4f"===t||"mat4x4h"===t?(a+=16*s,o=e.getTypeInfo("vec4f")):console.error(`getDataValue: Type ${o.getTypeName()} is not an array`)}}else{if(!(t instanceof rg))return console.error("GetDataValue: Unknown postfix type",t),null;{let r=t.value;if(o instanceof tS){let e=!1;for(let t of o.members)if(t.name===r){a+=t.offset,o=t.type,e=!0;break}if(!e)return console.error(`GetDataValue: Member ${r} not found`),null}else if(o instanceof tw){let t=o.getTypeName();if("vec2f"===t||"vec3f"===t||"vec4f"===t||"vec2i"===t||"vec3i"===t||"vec4i"===t||"vec2u"===t||"vec3u"===t||"vec4u"===t||"vec2b"===t||"vec3b"===t||"vec4b"===t||"vec2h"===t||"vec3h"===t||"vec4h"===t||"vec2"===t||"vec3"===t||"vec4"===t){if(r.length>0&&r.length<5){let i="f",n=[];for(let s=0;s<r.length;++s){let o=r[s].toLowerCase(),l=0;if("x"===o||"r"===o)l=0;else if("y"===o||"g"===o)l=1;else if("z"===o||"b"===o)l=2;else{if("w"!==o&&"a"!==o)return console.error(`Unknown member ${r}`),null;l=3}if(1===r.length){if(t.endsWith("f"))return this.buffer.byteLength<a+4*l+4?(console.log("Insufficient buffer data"),null):new rB(new Float32Array(this.buffer,a+4*l,1),e.getTypeInfo("f32"),this);if(t.endsWith("h"))return new rB(new Float32Array(this.buffer,a+4*l,1),e.getTypeInfo("f16"),this);if(t.endsWith("i"))return new rB(new Int32Array(this.buffer,a+4*l,1),e.getTypeInfo("i32"),this);if(t.endsWith("b"))return new rB(new Int32Array(this.buffer,a+4*l,1),e.getTypeInfo("bool"),this);if(t.endsWith("u"))return new rB(new Uint32Array(this.buffer,a+4*l,1),e.getTypeInfo("i32"),this)}if("vec2f"===t)n.push(new Float32Array(this.buffer,a,2)[l]);else if("vec3f"===t){if(a+12>=this.buffer.byteLength)return console.log("Insufficient buffer data"),null;let e=new Float32Array(this.buffer,a,3);n.push(e[l])}else if("vec4f"===t)n.push(new Float32Array(this.buffer,a,4)[l]);else if("vec2i"===t)i="i",n.push(new Int32Array(this.buffer,a,2)[l]);else if("vec3i"===t)i="i",n.push(new Int32Array(this.buffer,a,3)[l]);else if("vec4i"===t)i="i",n.push(new Int32Array(this.buffer,a,4)[l]);else if("vec2u"===t){i="u";let e=new Uint32Array(this.buffer,a,2);n.push(e[l])}else"vec3u"===t?(i="u",n.push(new Uint32Array(this.buffer,a,3)[l])):"vec4u"===t&&(i="u",n.push(new Uint32Array(this.buffer,a,4)[l]))}return 2===n.length?o=e.getTypeInfo(`vec2${i}`):3===n.length?o=e.getTypeInfo(`vec3${i}`):4===n.length?o=e.getTypeInfo(`vec4${i}`):console.error(`GetDataValue: Invalid vector length ${n.length}`),new rL(n,o,null)}return console.error(`GetDataValue: Unknown member ${r}`),null}return console.error(`GetDataValue: Type ${t} is not a struct`),null}}}t=t.postfix}let l=o.getTypeName();return"f32"===l?new rB(new Float32Array(this.buffer,a,1),o,this):"i32"===l?new rB(new Int32Array(this.buffer,a,1),o,this):"u32"===l?new rB(new Uint32Array(this.buffer,a,1),o,this):"vec2f"===l?new rL(new Float32Array(this.buffer,a,2),o,this):"vec3f"===l?new rL(new Float32Array(this.buffer,a,3),o,this):"vec4f"===l?new rL(new Float32Array(this.buffer,a,4),o,this):"vec2i"===l?new rL(new Int32Array(this.buffer,a,2),o,this):"vec3i"===l?new rL(new Int32Array(this.buffer,a,3),o,this):"vec4i"===l?new rL(new Int32Array(this.buffer,a,4),o,this):"vec2u"===l?new rL(new Uint32Array(this.buffer,a,2),o,this):"vec3u"===l?new rL(new Uint32Array(this.buffer,a,3),o,this):"vec4u"===l?new rL(new Uint32Array(this.buffer,a,4),o,this):o instanceof tC&&"atomic"===o.name?"u32"===(null==(i=o.format)?void 0:i.name)?new rB(new Uint32Array(this.buffer,a,1)[0],o.format,this):"i32"===(null==(n=o.format)?void 0:n.name)?new rB(new Int32Array(this.buffer,a,1)[0],o.format,this):(console.error(`GetDataValue: Invalid atomic format ${null==(s=o.format)?void 0:s.name}`),null):new rV(this.buffer,o,a,this)}toString(){let e="";if(this.typeInfo instanceof tk)if("f32"===this.typeInfo.format.name){let t=new Float32Array(this.buffer,this.offset);e=`[${t[0]}`;for(let r=1;r<t.length;++r)e+=`, ${t[r]}`}else if("i32"===this.typeInfo.format.name){let t=new Int32Array(this.buffer,this.offset);e=`[${t[0]}`;for(let r=1;r<t.length;++r)e+=`, ${t[r]}`}else if("u32"===this.typeInfo.format.name){let t=new Uint32Array(this.buffer,this.offset);e=`[${t[0]}`;for(let r=1;r<t.length;++r)e+=`, ${t[r]}`}else if("vec2f"===this.typeInfo.format.name){let t=new Float32Array(this.buffer,this.offset);e=`[${t[0]}, ${t[1]}]`;for(let r=1;r<t.length/2;++r)e+=`, [${t[2*r]}, ${t[2*r+1]}]`}else if("vec3f"===this.typeInfo.format.name){let t=new Float32Array(this.buffer,this.offset);e=`[${t[0]}, ${t[1]}, ${t[2]}]`;for(let r=4;r<t.length;r+=4)e+=`, [${t[r]}, ${t[r+1]}, ${t[r+2]}]`}else if("vec4f"===this.typeInfo.format.name){let t=new Float32Array(this.buffer,this.offset);e=`[${t[0]}, ${t[1]}, ${t[2]}, ${t[3]}]`;for(let r=4;r<t.length;r+=4)e+=`, [${t[r]}, ${t[r+1]}, ${t[r+2]}, ${t[r+3]}]`}else e="[...]";else this.typeInfo instanceof tS?e+="{...}":e="[...]";return e}}class rU extends rD{constructor(e,t,r,i){super(t,null),this.data=e,this.descriptor=r,this.view=i}clone(){return new rU(this.data,this.typeInfo,this.descriptor,this.view)}get width(){var e,t;let r=this.descriptor.size;return r instanceof Array&&r.length>0?null!=(e=r[0])?e:0:r instanceof Object&&null!=(t=r.width)?t:0}get height(){var e,t;let r=this.descriptor.size;return r instanceof Array&&r.length>1?null!=(e=r[1])?e:0:r instanceof Object&&null!=(t=r.height)?t:0}get depthOrArrayLayers(){var e,t;let r=this.descriptor.size;return r instanceof Array&&r.length>2?null!=(e=r[2])?e:0:r instanceof Object&&null!=(t=r.depthOrArrayLayers)?t:0}get format(){var e;return this.descriptor&&null!=(e=this.descriptor.format)?e:"rgba8unorm"}get sampleCount(){var e;return this.descriptor&&null!=(e=this.descriptor.sampleCount)?e:1}get mipLevelCount(){var e;return this.descriptor&&null!=(e=this.descriptor.mipLevelCount)?e:1}get dimension(){var e;return this.descriptor&&null!=(e=this.descriptor.dimension)?e:"2d"}getMipLevelSize(e){if(e>=this.mipLevelCount)return[0,0,0];let t=[this.width,this.height,this.depthOrArrayLayers];for(let r=0;r<t.length;++r)t[r]=Math.max(1,t[r]>>e);return t}get texelByteSize(){let e=t$[this.format];return e?e.isDepthStencil?4:e.bytesPerBlock:0}get bytesPerRow(){return this.width*this.texelByteSize}get isDepthStencil(){let e=t$[this.format];return!!e&&e.isDepthStencil}getGpuSize(){let e=this.format,t=t$[e],r=this.width;if(!e||r<=0||!t)return -1;let i=this.height,n=this.depthOrArrayLayers,s=this.dimension;return r/t.blockWidth*("1d"===s?1:i/t.blockHeight)*t.bytesPerBlock*n}getPixel(e,t,r=0,i=0){let n=this.texelByteSize,s=this.bytesPerRow,a=this.height;return function(e,t,r,i,n,s,a,o,l){let u=i*(a>>=n)*(s>>=n)+r*a+t*o;switch(l){case"r8unorm":return[tV(e,u,"8unorm",1)[0]];case"r8snorm":return[tV(e,u,"8snorm",1)[0]];case"r8uint":return[tV(e,u,"8uint",1)[0]];case"r8sint":return[tV(e,u,"8sint",1)[0]];case"rg8unorm":{let t=tV(e,u,"8unorm",2);return[t[0],t[1]]}case"rg8snorm":{let t=tV(e,u,"8snorm",2);return[t[0],t[1]]}case"rg8uint":{let t=tV(e,u,"8uint",2);return[t[0],t[1]]}case"rg8sint":{let t=tV(e,u,"8sint",2);return[t[0],t[1]]}case"rgba8unorm-srgb":case"rgba8unorm":{let t=tV(e,u,"8unorm",4);return[t[0],t[1],t[2],t[3]]}case"rgba8snorm":{let t=tV(e,u,"8snorm",4);return[t[0],t[1],t[2],t[3]]}case"rgba8uint":{let t=tV(e,u,"8uint",4);return[t[0],t[1],t[2],t[3]]}case"rgba8sint":{let t=tV(e,u,"8sint",4);return[t[0],t[1],t[2],t[3]]}case"bgra8unorm-srgb":case"bgra8unorm":{let t=tV(e,u,"8unorm",4);return[t[2],t[1],t[0],t[3]]}case"r16uint":return[tV(e,u,"16uint",1)[0]];case"r16sint":return[tV(e,u,"16sint",1)[0]];case"r16float":return[tV(e,u,"16float",1)[0]];case"rg16uint":{let t=tV(e,u,"16uint",2);return[t[0],t[1]]}case"rg16sint":{let t=tV(e,u,"16sint",2);return[t[0],t[1]]}case"rg16float":{let t=tV(e,u,"16float",2);return[t[0],t[1]]}case"rgba16uint":{let t=tV(e,u,"16uint",4);return[t[0],t[1],t[2],t[3]]}case"rgba16sint":{let t=tV(e,u,"16sint",4);return[t[0],t[1],t[2],t[3]]}case"rgba16float":{let t=tV(e,u,"16float",4);return[t[0],t[1],t[2],t[3]]}case"r32uint":return[tV(e,u,"32uint",1)[0]];case"r32sint":return[tV(e,u,"32sint",1)[0]];case"depth16unorm":case"depth24plus":case"depth24plus-stencil8":case"depth32float":case"depth32float-stencil8":case"r32float":return[tV(e,u,"32float",1)[0]];case"rg32uint":{let t=tV(e,u,"32uint",2);return[t[0],t[1]]}case"rg32sint":{let t=tV(e,u,"32sint",2);return[t[0],t[1]]}case"rg32float":{let t=tV(e,u,"32float",2);return[t[0],t[1]]}case"rgba32uint":{let t=tV(e,u,"32uint",4);return[t[0],t[1],t[2],t[3]]}case"rgba32sint":{let t=tV(e,u,"32sint",4);return[t[0],t[1],t[2],t[3]]}case"rgba32float":{let t=tV(e,u,"32float",4);return[t[0],t[1],t[2],t[3]]}case"rg11b10ufloat":{var c;let t=new Uint32Array(e.buffer,u,1)[0];return[tF(2047&t),tF((4192256&t)>>11),(c=(0xffc00000&t)>>22,tB[0]=112+(c>>5&31)<<23|(31&c)<<18,tL[0]),1]}}return null}(new Uint8Array(this.data[i]),e,t,r,i,a,s,n,this.format)}setPixel(e,t,r,i,n){let s=this.texelByteSize,a=this.bytesPerRow,o=this.height;!function(e,t,r,i,n,s,a,o,l,u){let c=i*(a>>=n)*(s>>=n)+r*a+t*o;switch(l){case"r8unorm":return tU(e,c,"8unorm",1,u);case"r8snorm":return tU(e,c,"8snorm",1,u);case"r8uint":return tU(e,c,"8uint",1,u);case"r8sint":return tU(e,c,"8sint",1,u);case"rg8unorm":return tU(e,c,"8unorm",2,u);case"rg8snorm":return tU(e,c,"8snorm",2,u);case"rg8uint":return tU(e,c,"8uint",2,u);case"rg8sint":return tU(e,c,"8sint",2,u);case"rgba8unorm-srgb":case"rgba8unorm":case"bgra8unorm-srgb":case"bgra8unorm":return tU(e,c,"8unorm",4,u);case"rgba8snorm":return tU(e,c,"8snorm",4,u);case"rgba8uint":return tU(e,c,"8uint",4,u);case"rgba8sint":return tU(e,c,"8sint",4,u);case"r16uint":return tU(e,c,"16uint",1,u);case"r16sint":return tU(e,c,"16sint",1,u);case"r16float":return tU(e,c,"16float",1,u);case"rg16uint":return tU(e,c,"16uint",2,u);case"rg16sint":return tU(e,c,"16sint",2,u);case"rg16float":return tU(e,c,"16float",2,u);case"rgba16uint":return tU(e,c,"16uint",4,u);case"rgba16sint":return tU(e,c,"16sint",4,u);case"rgba16float":return tU(e,c,"16float",4,u);case"r32uint":return tU(e,c,"32uint",1,u);case"r32sint":return tU(e,c,"32sint",1,u);case"depth16unorm":case"depth24plus":case"depth24plus-stencil8":case"depth32float":case"depth32float-stencil8":case"r32float":return tU(e,c,"32float",1,u);case"rg32uint":return tU(e,c,"32uint",2,u);case"rg32sint":return tU(e,c,"32sint",2,u);case"rg32float":return tU(e,c,"32float",2,u);case"rgba32uint":return tU(e,c,"32uint",4,u);case"rgba32sint":return tU(e,c,"32sint",4,u);case"rgba32float":return tU(e,c,"32float",4,u);case"rg11b10ufloat":console.error("TODO: rg11b10ufloat not supported for writing")}}(new Uint8Array(this.data[i]),e,t,r,i,o,a,s,this.format,n)}}(s=u||(u={}))[s.token=0]="token",s[s.keyword=1]="keyword",s[s.reserved=2]="reserved";class r${constructor(e,t,r){this.name=e,this.type=t,this.rule=r}toString(){return this.name}}class rW{}rW.none=new r$("",u.reserved,""),rW.eof=new r$("EOF",u.token,""),rW.reserved={asm:new r$("asm",u.reserved,"asm"),bf16:new r$("bf16",u.reserved,"bf16"),do:new r$("do",u.reserved,"do"),enum:new r$("enum",u.reserved,"enum"),f16:new r$("f16",u.reserved,"f16"),f64:new r$("f64",u.reserved,"f64"),handle:new r$("handle",u.reserved,"handle"),i8:new r$("i8",u.reserved,"i8"),i16:new r$("i16",u.reserved,"i16"),i64:new r$("i64",u.reserved,"i64"),mat:new r$("mat",u.reserved,"mat"),premerge:new r$("premerge",u.reserved,"premerge"),regardless:new r$("regardless",u.reserved,"regardless"),typedef:new r$("typedef",u.reserved,"typedef"),u8:new r$("u8",u.reserved,"u8"),u16:new r$("u16",u.reserved,"u16"),u64:new r$("u64",u.reserved,"u64"),unless:new r$("unless",u.reserved,"unless"),using:new r$("using",u.reserved,"using"),vec:new r$("vec",u.reserved,"vec"),void:new r$("void",u.reserved,"void")},rW.keywords={array:new r$("array",u.keyword,"array"),atomic:new r$("atomic",u.keyword,"atomic"),bool:new r$("bool",u.keyword,"bool"),f32:new r$("f32",u.keyword,"f32"),i32:new r$("i32",u.keyword,"i32"),mat2x2:new r$("mat2x2",u.keyword,"mat2x2"),mat2x3:new r$("mat2x3",u.keyword,"mat2x3"),mat2x4:new r$("mat2x4",u.keyword,"mat2x4"),mat3x2:new r$("mat3x2",u.keyword,"mat3x2"),mat3x3:new r$("mat3x3",u.keyword,"mat3x3"),mat3x4:new r$("mat3x4",u.keyword,"mat3x4"),mat4x2:new r$("mat4x2",u.keyword,"mat4x2"),mat4x3:new r$("mat4x3",u.keyword,"mat4x3"),mat4x4:new r$("mat4x4",u.keyword,"mat4x4"),ptr:new r$("ptr",u.keyword,"ptr"),sampler:new r$("sampler",u.keyword,"sampler"),sampler_comparison:new r$("sampler_comparison",u.keyword,"sampler_comparison"),struct:new r$("struct",u.keyword,"struct"),texture_1d:new r$("texture_1d",u.keyword,"texture_1d"),texture_2d:new r$("texture_2d",u.keyword,"texture_2d"),texture_2d_array:new r$("texture_2d_array",u.keyword,"texture_2d_array"),texture_3d:new r$("texture_3d",u.keyword,"texture_3d"),texture_cube:new r$("texture_cube",u.keyword,"texture_cube"),texture_cube_array:new r$("texture_cube_array",u.keyword,"texture_cube_array"),texture_multisampled_2d:new r$("texture_multisampled_2d",u.keyword,"texture_multisampled_2d"),texture_storage_1d:new r$("texture_storage_1d",u.keyword,"texture_storage_1d"),texture_storage_2d:new r$("texture_storage_2d",u.keyword,"texture_storage_2d"),texture_storage_2d_array:new r$("texture_storage_2d_array",u.keyword,"texture_storage_2d_array"),texture_storage_3d:new r$("texture_storage_3d",u.keyword,"texture_storage_3d"),texture_depth_2d:new r$("texture_depth_2d",u.keyword,"texture_depth_2d"),texture_depth_2d_array:new r$("texture_depth_2d_array",u.keyword,"texture_depth_2d_array"),texture_depth_cube:new r$("texture_depth_cube",u.keyword,"texture_depth_cube"),texture_depth_cube_array:new r$("texture_depth_cube_array",u.keyword,"texture_depth_cube_array"),texture_depth_multisampled_2d:new r$("texture_depth_multisampled_2d",u.keyword,"texture_depth_multisampled_2d"),texture_external:new r$("texture_external",u.keyword,"texture_external"),u32:new r$("u32",u.keyword,"u32"),vec2:new r$("vec2",u.keyword,"vec2"),vec3:new r$("vec3",u.keyword,"vec3"),vec4:new r$("vec4",u.keyword,"vec4"),bitcast:new r$("bitcast",u.keyword,"bitcast"),block:new r$("block",u.keyword,"block"),break:new r$("break",u.keyword,"break"),case:new r$("case",u.keyword,"case"),continue:new r$("continue",u.keyword,"continue"),continuing:new r$("continuing",u.keyword,"continuing"),default:new r$("default",u.keyword,"default"),diagnostic:new r$("diagnostic",u.keyword,"diagnostic"),discard:new r$("discard",u.keyword,"discard"),else:new r$("else",u.keyword,"else"),enable:new r$("enable",u.keyword,"enable"),fallthrough:new r$("fallthrough",u.keyword,"fallthrough"),false:new r$("false",u.keyword,"false"),fn:new r$("fn",u.keyword,"fn"),for:new r$("for",u.keyword,"for"),function:new r$("function",u.keyword,"function"),if:new r$("if",u.keyword,"if"),let:new r$("let",u.keyword,"let"),const:new r$("const",u.keyword,"const"),loop:new r$("loop",u.keyword,"loop"),while:new r$("while",u.keyword,"while"),private:new r$("private",u.keyword,"private"),read:new r$("read",u.keyword,"read"),read_write:new r$("read_write",u.keyword,"read_write"),return:new r$("return",u.keyword,"return"),requires:new r$("requires",u.keyword,"requires"),storage:new r$("storage",u.keyword,"storage"),switch:new r$("switch",u.keyword,"switch"),true:new r$("true",u.keyword,"true"),alias:new r$("alias",u.keyword,"alias"),type:new r$("type",u.keyword,"type"),uniform:new r$("uniform",u.keyword,"uniform"),var:new r$("var",u.keyword,"var"),override:new r$("override",u.keyword,"override"),workgroup:new r$("workgroup",u.keyword,"workgroup"),write:new r$("write",u.keyword,"write"),r8unorm:new r$("r8unorm",u.keyword,"r8unorm"),r8snorm:new r$("r8snorm",u.keyword,"r8snorm"),r8uint:new r$("r8uint",u.keyword,"r8uint"),r8sint:new r$("r8sint",u.keyword,"r8sint"),r16uint:new r$("r16uint",u.keyword,"r16uint"),r16sint:new r$("r16sint",u.keyword,"r16sint"),r16float:new r$("r16float",u.keyword,"r16float"),rg8unorm:new r$("rg8unorm",u.keyword,"rg8unorm"),rg8snorm:new r$("rg8snorm",u.keyword,"rg8snorm"),rg8uint:new r$("rg8uint",u.keyword,"rg8uint"),rg8sint:new r$("rg8sint",u.keyword,"rg8sint"),r32uint:new r$("r32uint",u.keyword,"r32uint"),r32sint:new r$("r32sint",u.keyword,"r32sint"),r32float:new r$("r32float",u.keyword,"r32float"),rg16uint:new r$("rg16uint",u.keyword,"rg16uint"),rg16sint:new r$("rg16sint",u.keyword,"rg16sint"),rg16float:new r$("rg16float",u.keyword,"rg16float"),rgba8unorm:new r$("rgba8unorm",u.keyword,"rgba8unorm"),rgba8unorm_srgb:new r$("rgba8unorm_srgb",u.keyword,"rgba8unorm_srgb"),rgba8snorm:new r$("rgba8snorm",u.keyword,"rgba8snorm"),rgba8uint:new r$("rgba8uint",u.keyword,"rgba8uint"),rgba8sint:new r$("rgba8sint",u.keyword,"rgba8sint"),bgra8unorm:new r$("bgra8unorm",u.keyword,"bgra8unorm"),bgra8unorm_srgb:new r$("bgra8unorm_srgb",u.keyword,"bgra8unorm_srgb"),rgb10a2unorm:new r$("rgb10a2unorm",u.keyword,"rgb10a2unorm"),rg11b10float:new r$("rg11b10float",u.keyword,"rg11b10float"),rg32uint:new r$("rg32uint",u.keyword,"rg32uint"),rg32sint:new r$("rg32sint",u.keyword,"rg32sint"),rg32float:new r$("rg32float",u.keyword,"rg32float"),rgba16uint:new r$("rgba16uint",u.keyword,"rgba16uint"),rgba16sint:new r$("rgba16sint",u.keyword,"rgba16sint"),rgba16float:new r$("rgba16float",u.keyword,"rgba16float"),rgba32uint:new r$("rgba32uint",u.keyword,"rgba32uint"),rgba32sint:new r$("rgba32sint",u.keyword,"rgba32sint"),rgba32float:new r$("rgba32float",u.keyword,"rgba32float"),static_assert:new r$("static_assert",u.keyword,"static_assert")},rW.tokens={decimal_float_literal:new r$("decimal_float_literal",u.token,/((-?[0-9]*\.[0-9]+|-?[0-9]+\.[0-9]*)((e|E)(\+|-)?[0-9]+)?[fh]?)|(-?[0-9]+(e|E)(\+|-)?[0-9]+[fh]?)|(-?[0-9]+[fh])/),hex_float_literal:new r$("hex_float_literal",u.token,/-?0x((([0-9a-fA-F]*\.[0-9a-fA-F]+|[0-9a-fA-F]+\.[0-9a-fA-F]*)((p|P)(\+|-)?[0-9]+[fh]?)?)|([0-9a-fA-F]+(p|P)(\+|-)?[0-9]+[fh]?))/),int_literal:new r$("int_literal",u.token,/-?0x[0-9a-fA-F]+|0i?|-?[1-9][0-9]*i?/),uint_literal:new r$("uint_literal",u.token,/0x[0-9a-fA-F]+u|0u|[1-9][0-9]*u/),name:new r$("name",u.token,/([_\p{XID_Start}][\p{XID_Continue}]+)|([\p{XID_Start}])/u),ident:new r$("ident",u.token,/[_a-zA-Z][0-9a-zA-Z_]*/),and:new r$("and",u.token,"&"),and_and:new r$("and_and",u.token,"&&"),arrow:new r$("arrow ",u.token,"->"),attr:new r$("attr",u.token,"@"),forward_slash:new r$("forward_slash",u.token,"/"),bang:new r$("bang",u.token,"!"),bracket_left:new r$("bracket_left",u.token,"["),bracket_right:new r$("bracket_right",u.token,"]"),brace_left:new r$("brace_left",u.token,"{"),brace_right:new r$("brace_right",u.token,"}"),colon:new r$("colon",u.token,":"),comma:new r$("comma",u.token,","),equal:new r$("equal",u.token,"="),equal_equal:new r$("equal_equal",u.token,"=="),not_equal:new r$("not_equal",u.token,"!="),greater_than:new r$("greater_than",u.token,">"),greater_than_equal:new r$("greater_than_equal",u.token,">="),shift_right:new r$("shift_right",u.token,">>"),less_than:new r$("less_than",u.token,"<"),less_than_equal:new r$("less_than_equal",u.token,"<="),shift_left:new r$("shift_left",u.token,"<<"),modulo:new r$("modulo",u.token,"%"),minus:new r$("minus",u.token,"-"),minus_minus:new r$("minus_minus",u.token,"--"),period:new r$("period",u.token,"."),plus:new r$("plus",u.token,"+"),plus_plus:new r$("plus_plus",u.token,"++"),or:new r$("or",u.token,"|"),or_or:new r$("or_or",u.token,"||"),paren_left:new r$("paren_left",u.token,"("),paren_right:new r$("paren_right",u.token,")"),semicolon:new r$("semicolon",u.token,";"),star:new r$("star",u.token,"*"),tilde:new r$("tilde",u.token,"~"),underscore:new r$("underscore",u.token,"_"),xor:new r$("xor",u.token,"^"),plus_equal:new r$("plus_equal",u.token,"+="),minus_equal:new r$("minus_equal",u.token,"-="),times_equal:new r$("times_equal",u.token,"*="),division_equal:new r$("division_equal",u.token,"/="),modulo_equal:new r$("modulo_equal",u.token,"%="),and_equal:new r$("and_equal",u.token,"&="),or_equal:new r$("or_equal",u.token,"|="),xor_equal:new r$("xor_equal",u.token,"^="),shift_right_equal:new r$("shift_right_equal",u.token,">>="),shift_left_equal:new r$("shift_left_equal",u.token,"<<=")},rW.simpleTokens={"@":rW.tokens.attr,"{":rW.tokens.brace_left,"}":rW.tokens.brace_right,":":rW.tokens.colon,",":rW.tokens.comma,"(":rW.tokens.paren_left,")":rW.tokens.paren_right,";":rW.tokens.semicolon},rW.literalTokens={"&":rW.tokens.and,"&&":rW.tokens.and_and,"->":rW.tokens.arrow,"/":rW.tokens.forward_slash,"!":rW.tokens.bang,"[":rW.tokens.bracket_left,"]":rW.tokens.bracket_right,"=":rW.tokens.equal,"==":rW.tokens.equal_equal,"!=":rW.tokens.not_equal,">":rW.tokens.greater_than,">=":rW.tokens.greater_than_equal,">>":rW.tokens.shift_right,"<":rW.tokens.less_than,"<=":rW.tokens.less_than_equal,"<<":rW.tokens.shift_left,"%":rW.tokens.modulo,"-":rW.tokens.minus,"--":rW.tokens.minus_minus,".":rW.tokens.period,"+":rW.tokens.plus,"++":rW.tokens.plus_plus,"|":rW.tokens.or,"||":rW.tokens.or_or,"*":rW.tokens.star,"~":rW.tokens.tilde,_:rW.tokens.underscore,"^":rW.tokens.xor,"+=":rW.tokens.plus_equal,"-=":rW.tokens.minus_equal,"*=":rW.tokens.times_equal,"/=":rW.tokens.division_equal,"%=":rW.tokens.modulo_equal,"&=":rW.tokens.and_equal,"|=":rW.tokens.or_equal,"^=":rW.tokens.xor_equal,">>=":rW.tokens.shift_right_equal,"<<=":rW.tokens.shift_left_equal},rW.regexTokens={decimal_float_literal:rW.tokens.decimal_float_literal,hex_float_literal:rW.tokens.hex_float_literal,int_literal:rW.tokens.int_literal,uint_literal:rW.tokens.uint_literal,ident:rW.tokens.ident},rW.storage_class=[rW.keywords.function,rW.keywords.private,rW.keywords.workgroup,rW.keywords.uniform,rW.keywords.storage],rW.access_mode=[rW.keywords.read,rW.keywords.write,rW.keywords.read_write],rW.sampler_type=[rW.keywords.sampler,rW.keywords.sampler_comparison],rW.sampled_texture_type=[rW.keywords.texture_1d,rW.keywords.texture_2d,rW.keywords.texture_2d_array,rW.keywords.texture_3d,rW.keywords.texture_cube,rW.keywords.texture_cube_array],rW.multisampled_texture_type=[rW.keywords.texture_multisampled_2d],rW.storage_texture_type=[rW.keywords.texture_storage_1d,rW.keywords.texture_storage_2d,rW.keywords.texture_storage_2d_array,rW.keywords.texture_storage_3d],rW.depth_texture_type=[rW.keywords.texture_depth_2d,rW.keywords.texture_depth_2d_array,rW.keywords.texture_depth_cube,rW.keywords.texture_depth_cube_array,rW.keywords.texture_depth_multisampled_2d],rW.texture_external_type=[rW.keywords.texture_external],rW.any_texture_type=[...rW.sampled_texture_type,...rW.multisampled_texture_type,...rW.storage_texture_type,...rW.depth_texture_type,...rW.texture_external_type],rW.texel_format=[rW.keywords.r8unorm,rW.keywords.r8snorm,rW.keywords.r8uint,rW.keywords.r8sint,rW.keywords.r16uint,rW.keywords.r16sint,rW.keywords.r16float,rW.keywords.rg8unorm,rW.keywords.rg8snorm,rW.keywords.rg8uint,rW.keywords.rg8sint,rW.keywords.r32uint,rW.keywords.r32sint,rW.keywords.r32float,rW.keywords.rg16uint,rW.keywords.rg16sint,rW.keywords.rg16float,rW.keywords.rgba8unorm,rW.keywords.rgba8unorm_srgb,rW.keywords.rgba8snorm,rW.keywords.rgba8uint,rW.keywords.rgba8sint,rW.keywords.bgra8unorm,rW.keywords.bgra8unorm_srgb,rW.keywords.rgb10a2unorm,rW.keywords.rg11b10float,rW.keywords.rg32uint,rW.keywords.rg32sint,rW.keywords.rg32float,rW.keywords.rgba16uint,rW.keywords.rgba16sint,rW.keywords.rgba16float,rW.keywords.rgba32uint,rW.keywords.rgba32sint,rW.keywords.rgba32float],rW.const_literal=[rW.tokens.int_literal,rW.tokens.uint_literal,rW.tokens.decimal_float_literal,rW.tokens.hex_float_literal,rW.keywords.true,rW.keywords.false],rW.literal_or_ident=[rW.tokens.ident,rW.tokens.int_literal,rW.tokens.uint_literal,rW.tokens.decimal_float_literal,rW.tokens.hex_float_literal,rW.tokens.name],rW.element_count_expression=[rW.tokens.int_literal,rW.tokens.uint_literal,rW.tokens.ident],rW.template_types=[rW.keywords.vec2,rW.keywords.vec3,rW.keywords.vec4,rW.keywords.mat2x2,rW.keywords.mat2x3,rW.keywords.mat2x4,rW.keywords.mat3x2,rW.keywords.mat3x3,rW.keywords.mat3x4,rW.keywords.mat4x2,rW.keywords.mat4x3,rW.keywords.mat4x4,rW.keywords.atomic,rW.keywords.bitcast,...rW.any_texture_type],rW.attribute_name=[rW.tokens.ident,rW.keywords.block,rW.keywords.diagnostic],rW.assignment_operators=[rW.tokens.equal,rW.tokens.plus_equal,rW.tokens.minus_equal,rW.tokens.times_equal,rW.tokens.division_equal,rW.tokens.modulo_equal,rW.tokens.and_equal,rW.tokens.or_equal,rW.tokens.xor_equal,rW.tokens.shift_right_equal,rW.tokens.shift_left_equal],rW.increment_operators=[rW.tokens.plus_plus,rW.tokens.minus_minus];class rG{constructor(e,t,r,i,n){this.type=e,this.lexeme=t,this.line=r,this.start=i,this.end=n}toString(){return this.lexeme}isTemplateType(){return -1!=rW.template_types.indexOf(this.type)}isArrayType(){return this.type==rW.keywords.array}isArrayOrTemplateType(){return this.isArrayType()||this.isTemplateType()}}class rH{constructor(e){this._tokens=[],this._start=0,this._current=0,this._line=1,this._source=null!=e?e:""}scanTokens(){for(;!this._isAtEnd();)if(this._start=this._current,!this.scanToken())throw`Invalid syntax at line ${this._line}`;return this._tokens.push(new rG(rW.eof,"",this._line,this._current,this._current)),this._tokens}scanToken(){let e=this._advance();if("\n"==e)return this._line++,!0;if(this._isWhitespace(e))return!0;if("/"==e){if("/"==this._peekAhead()){for(;"\n"!=e;){if(this._isAtEnd())return!0;e=this._advance()}return this._line++,!0}if("*"==this._peekAhead()){this._advance();let t=1;for(;t>0&&!this._isAtEnd();)if("\n"==(e=this._advance()))this._line++;else if("*"==e){if("/"==this._peekAhead()&&(this._advance(),0==--t))break}else"/"==e&&"*"==this._peekAhead()&&(this._advance(),t++);return!0}}let t=rW.simpleTokens[e];if(t)return this._addToken(t),!0;let r=rW.none,i=this._isAlpha(e),n="_"===e;if(this._isAlphaNumeric(e)){let t=this._peekAhead();for(;this._isAlphaNumeric(t);)e+=this._advance(),t=this._peekAhead()}if(i){let t=rW.keywords[e];if(t)return this._addToken(t),!0}if(i||n)return this._addToken(rW.tokens.ident),!0;for(;;){let t=this._findType(e),i=this._peekAhead();if("-"==e&&this._tokens.length>0){if("="==i)return this._current++,e+=i,this._addToken(rW.tokens.minus_equal),!0;if("-"==i)return this._current++,e+=i,this._addToken(rW.tokens.minus_minus),!0;let r=this._tokens.length-1;if((-1!=rW.literal_or_ident.indexOf(this._tokens[r].type)||this._tokens[r].type==rW.tokens.paren_right)&&">"!=i)return this._addToken(t),!0}if(">"==e&&(">"==i||"="==i)){let e=!1,r=this._tokens.length-1;for(let t=0;t<5&&r>=0&&-1===rW.assignment_operators.indexOf(this._tokens[r].type);++t,--r)if(this._tokens[r].type===rW.tokens.less_than){r>0&&this._tokens[r-1].isArrayOrTemplateType()&&(e=!0);break}if(e)return this._addToken(t),!0}if(t===rW.none){let i=e,n=0;for(let e=0;e<2;++e)if(i+=this._peekAhead(e),(t=this._findType(i))!==rW.none){n=e;break}if(t===rW.none)return r!==rW.none&&(this._current--,this._addToken(r),!0);e=i,this._current+=n+1}if(r=t,this._isAtEnd())break;e+=this._advance()}return r!==rW.none&&(this._addToken(r),!0)}_findType(e){for(let t in rW.regexTokens){let r=rW.regexTokens[t];if(this._match(e,r.rule))return r}return rW.literalTokens[e]||rW.none}_match(e,t){let r=t.exec(e);return r&&0==r.index&&r[0]==e}_isAtEnd(){return this._current>=this._source.length}_isAlpha(e){return!this._isNumeric(e)&&!this._isWhitespace(e)&&"_"!==e&&"."!==e&&"("!==e&&")"!==e&&"["!==e&&"]"!==e&&"{"!==e&&"}"!==e&&","!==e&&";"!==e&&":"!==e&&"="!==e&&"!"!==e&&"<"!==e&&">"!==e&&"+"!==e&&"-"!==e&&"*"!==e&&"/"!==e&&"%"!==e&&"&"!==e&&"|"!==e&&"^"!==e&&"~"!==e&&"@"!==e&&"#"!==e&&"?"!==e&&"'"!==e&&"`"!==e&&'"'!==e&&"\\"!==e&&"\n"!==e&&"\r"!==e&&"	"!==e&&"\0"!==e}_isNumeric(e){return e>="0"&&e<="9"}_isAlphaNumeric(e){return this._isAlpha(e)||this._isNumeric(e)||"_"===e}_isWhitespace(e){return" "==e||"	"==e||"\r"==e}_advance(e=0){let t=this._source[this._current];return e=e||0,e++,this._current+=e,t}_peekAhead(e=0){return e=e||0,this._current+e>=this._source.length?"\0":this._source[this._current+e]}_addToken(e){let t=this._source.substring(this._start,this._current);this._tokens.push(new rG(e,t,this._line,this._start,this._current))}}function rq(e){return Array.isArray(e)||(null==e?void 0:e.buffer)instanceof ArrayBuffer}let rY=new Float32Array(1),rX=new Uint32Array(rY.buffer),rZ=new Uint32Array(rY.buffer),rJ=new Int32Array(1),rK=new Float32Array(rJ.buffer),rQ=new Uint32Array(rJ.buffer),r1=new Uint32Array(1),r0=new Float32Array(r1.buffer),r2=new Int32Array(r1.buffer);function r9(e,t,r){if(t===r)return e;if("f32"===t){if("i32"===r||"x32"===r)return rY[0]=e,rX[0];if("u32"===r)return rY[0]=e,rZ[0]}else if("i32"===t||"x32"===t){if("f32"===r)return rJ[0]=e,rK[0];if("u32"===r)return rJ[0]=e,rQ[0]}else if("u32"===t){if("f32"===r)return r1[0]=e,r0[0];if("i32"===r||"x32"===r)return r1[0]=e,r2[0]}return console.error(`Unsupported cast from ${t} to ${r}`),e}class r3{constructor(e){this.resources=null,this.inUse=!1,this.info=null,this.node=e}}class r4{constructor(e,t){this.align=e,this.size=t}}class r8{constructor(){this.uniforms=[],this.storage=[],this.textures=[],this.samplers=[],this.aliases=[],this.overrides=[],this.structs=[],this.entry=new tO,this.functions=[],this._types=new Map,this._functions=new Map}_isStorageTexture(e){return"texture_storage_1d"==e.name||"texture_storage_2d"==e.name||"texture_storage_2d_array"==e.name||"texture_storage_3d"==e.name}updateAST(e){for(let t of e)t instanceof tX&&this._functions.set(t.name,new r3(t));for(let t of e)if(t instanceof rc){let e=this.getTypeInfo(t,null);e instanceof tS&&this.structs.push(e)}for(let t of e)if(t instanceof rn)this.aliases.push(this._getAliasInfo(t));else if(t instanceof t0){let e=this._getAttributeNum(t.attributes,"id",0),r=null!=t.type?this.getTypeInfo(t.type,t.attributes):null;this.overrides.push(new tE(t.name,r,t.attributes,e))}else if(this._isUniformVar(t)){let e=this._getAttributeNum(t.attributes,"group",0),r=this._getAttributeNum(t.attributes,"binding",0),i=this.getTypeInfo(t.type,t.attributes),n=new tA(t.name,i,e,r,t.attributes,a.Uniform,t.access);n.access||(n.access="read"),this.uniforms.push(n)}else if(this._isStorageVar(t)){let e=this._getAttributeNum(t.attributes,"group",0),r=this._getAttributeNum(t.attributes,"binding",0),i=this.getTypeInfo(t.type,t.attributes),n=this._isStorageTexture(i),s=new tA(t.name,i,e,r,t.attributes,n?a.StorageTexture:a.Storage,t.access);s.access||(s.access="read"),this.storage.push(s)}else if(this._isTextureVar(t)){let e=this._getAttributeNum(t.attributes,"group",0),r=this._getAttributeNum(t.attributes,"binding",0),i=this.getTypeInfo(t.type,t.attributes),n=this._isStorageTexture(i),s=new tA(t.name,i,e,r,t.attributes,n?a.StorageTexture:a.Texture,t.access);s.access||(s.access="read"),n?this.storage.push(s):this.textures.push(s)}else if(this._isSamplerVar(t)){let e=this._getAttributeNum(t.attributes,"group",0),r=this._getAttributeNum(t.attributes,"binding",0),i=this.getTypeInfo(t.type,t.attributes),n=new tA(t.name,i,e,r,t.attributes,a.Sampler,t.access);this.samplers.push(n)}for(let t of e)if(t instanceof tX){let e=this._getAttribute(t,"vertex"),r=this._getAttribute(t,"fragment"),i=this._getAttribute(t,"compute"),n=e||r||i,s=new tj(t.name,null==n?void 0:n.name,t.attributes);s.attributes=t.attributes,s.startLine=t.startLine,s.endLine=t.endLine,this.functions.push(s),this._functions.get(t.name).info=s,n&&(this._functions.get(t.name).inUse=!0,s.inUse=!0,s.resources=this._findResources(t,!!n),s.inputs=this._getInputs(t.args),s.outputs=this._getOutputs(t.returnType),this.entry[n.name].push(s)),s.arguments=t.args.map(e=>new tN(e.name,this.getTypeInfo(e.type,e.attributes),e.attributes)),s.returnType=t.returnType?this.getTypeInfo(t.returnType,t.attributes):null}for(let e of this._functions.values())e.info&&(e.info.inUse=e.inUse,this._addCalls(e.node,e.info.calls));for(let e of this._functions.values())e.node.search(t=>{var r,i,n;if(t instanceof rO){if(t.value)if(rq(t.value))for(let i of t.value)for(let t of this.overrides)i===t.name&&(null==(r=e.info)||r.overrides.push(t));else for(let r of this.overrides)t.value===r.name&&(null==(i=e.info)||i.overrides.push(r))}else if(t instanceof rv)for(let r of this.overrides)t.name===r.name&&(null==(n=e.info)||n.overrides.push(r))});for(let e of this.uniforms)this._markStructsInUse(e.type);for(let e of this.storage)this._markStructsInUse(e.type)}getStructInfo(e){for(let t of this.structs)if(t.name==e)return t;return null}getOverrideInfo(e){for(let t of this.overrides)if(t.name==e)return t;return null}_markStructsInUse(e){if(e)if(e.isStruct){if(e.inUse=!0,e.members)for(let t of e.members)this._markStructsInUse(t.type)}else if(e.isArray)this._markStructsInUse(e.format);else if(e.isTemplate)e.format&&this._markStructsInUse(e.format);else{let t=this._getAlias(e.name);t&&this._markStructsInUse(t)}}_addCalls(e,t){var r;for(let i of e.calls){let e=null==(r=this._functions.get(i.name))?void 0:r.info;e&&t.add(e)}}findResource(e,t,r){if(r){for(let i of this.entry.compute)if(i.name===r){for(let r of i.resources)if(r.group==e&&r.binding==t)return r}for(let i of this.entry.vertex)if(i.name===r){for(let r of i.resources)if(r.group==e&&r.binding==t)return r}for(let i of this.entry.fragment)if(i.name===r){for(let r of i.resources)if(r.group==e&&r.binding==t)return r}}for(let r of this.uniforms)if(r.group==e&&r.binding==t)return r;for(let r of this.storage)if(r.group==e&&r.binding==t)return r;for(let r of this.textures)if(r.group==e&&r.binding==t)return r;for(let r of this.samplers)if(r.group==e&&r.binding==t)return r;return null}_findResource(e){for(let t of this.uniforms)if(t.name==e)return t;for(let t of this.storage)if(t.name==e)return t;for(let t of this.textures)if(t.name==e)return t;for(let t of this.samplers)if(t.name==e)return t;return null}_markStructsFromAST(e){let t=this.getTypeInfo(e,null);this._markStructsInUse(t)}_findResources(e,t){let r=[],i=this,n=[];return e.search(s=>{if(s instanceof tG)n.push({});else if(s instanceof tH)n.pop();else if(s instanceof t1)t&&null!==s.type&&this._markStructsFromAST(s.type),n.length>0&&(n[n.length-1][s.name]=s);else if(s instanceof ry)t&&null!==s.type&&this._markStructsFromAST(s.type);else if(s instanceof t2)t&&null!==s.type&&this._markStructsFromAST(s.type),n.length>0&&(n[n.length-1][s.name]=s);else if(s instanceof rv){if(n.length>0&&n[n.length-1][s.name])return;let e=i._findResource(s.name);e&&r.push(e)}else if(s instanceof rx){let n=i._functions.get(s.name);n&&(t&&(n.inUse=!0),e.calls.add(n.node),null===n.resources&&(n.resources=i._findResources(n.node,t)),r.push(...n.resources))}else if(s instanceof t8){let n=i._functions.get(s.name);n&&(t&&(n.inUse=!0),e.calls.add(n.node),null===n.resources&&(n.resources=i._findResources(n.node,t)),r.push(...n.resources))}}),[...new Map(r.map(e=>[e.name,e])).values()]}getBindGroups(){let e=[];function t(t,r){t>=e.length&&(e.length=t+1),void 0===e[t]&&(e[t]=[]),r>=e[t].length&&(e[t].length=r+1)}for(let r of this.uniforms)t(r.group,r.binding),e[r.group][r.binding]=r;for(let r of this.storage)t(r.group,r.binding),e[r.group][r.binding]=r;for(let r of this.textures)t(r.group,r.binding),e[r.group][r.binding]=r;for(let r of this.samplers)t(r.group,r.binding),e[r.group][r.binding]=r;return e}_getOutputs(e,t){if(void 0===t&&(t=[]),e instanceof rc)this._getStructOutputs(e,t);else{let r=this._getOutputInfo(e);null!==r&&t.push(r)}return t}_getStructOutputs(e,t){for(let r of e.members)if(r.type instanceof rc)this._getStructOutputs(r.type,t);else{let e=this._getAttribute(r,"location")||this._getAttribute(r,"builtin");if(null!==e){let i=this.getTypeInfo(r.type,r.type.attributes),n=this._parseInt(e.value),s=new tz(r.name,i,e.name,n);t.push(s)}}}_getOutputInfo(e){let t=this._getAttribute(e,"location")||this._getAttribute(e,"builtin");if(null!==t){let r=this.getTypeInfo(e,e.attributes),i=this._parseInt(t.value);return new tz("",r,t.name,i)}return null}_getInputs(e,t){for(let r of(void 0===t&&(t=[]),e))if(r.type instanceof rc)this._getStructInputs(r.type,t);else{let e=this._getInputInfo(r);null!==e&&t.push(e)}return t}_getStructInputs(e,t){for(let r of e.members)if(r.type instanceof rc)this._getStructInputs(r.type,t);else{let e=this._getInputInfo(r);null!==e&&t.push(e)}}_getInputInfo(e){let t=this._getAttribute(e,"location")||this._getAttribute(e,"builtin");if(null!==t){let r=this._getAttribute(e,"interpolation"),i=this.getTypeInfo(e.type,e.attributes),n=this._parseInt(t.value),s=new tT(e.name,i,t.name,n);return null!==r&&(s.interpolation=this._parseString(r.value)),s}return null}_parseString(e){return e instanceof Array&&(e=e[0]),e}_parseInt(e){e instanceof Array&&(e=e[0]);let t=parseInt(e);return isNaN(t)?e:t}_getAlias(e){for(let t of this.aliases)if(t.name==e)return t.type;return null}_getAliasInfo(e){return new tI(e.name,this.getTypeInfo(e.type,null))}getTypeInfoByName(e){for(let t of this.structs)if(t.name==e)return t;for(let t of this.aliases)if(t.name==e)return t.type;return null}getTypeInfo(e,t=null){if(this._types.has(e))return this._types.get(e);if(e instanceof rd){let r=e.type?this.getTypeInfo(e.type,e.attributes):null,i=new tM(e.name,r,t);return this._types.set(e,i),this._updateTypeInfo(i),i}if(e instanceof rp){let r=e.format?this.getTypeInfo(e.format,e.attributes):null,i=new tk(e.name,t);return i.format=r,i.count=e.count,this._types.set(e,i),this._updateTypeInfo(i),i}if(e instanceof rc){let r=new tS(e.name,t);for(let t of(r.startLine=e.startLine,r.endLine=e.endLine,e.members)){let e=this.getTypeInfo(t.type,t.attributes);r.members.push(new t_(t.name,e,t.attributes))}return this._types.set(e,r),this._updateTypeInfo(r),r}if(e instanceof rf){let r=e.format instanceof rl,i=e.format?r?this.getTypeInfo(e.format,null):new tw(e.format,null):null,n=new tC(e.name,i,t,e.access);return this._types.set(e,n),this._updateTypeInfo(n),n}if(e instanceof rh){let r=e.format?this.getTypeInfo(e.format,null):null,i=new tC(e.name,r,t,e.access);return this._types.set(e,i),this._updateTypeInfo(i),i}let r=new tw(e.name,t);return this._types.set(e,r),this._updateTypeInfo(r),r}_updateTypeInfo(e){var t,r,i;let n=this._getTypeSize(e);if(e.size=null!=(t=null==n?void 0:n.size)?t:0,e instanceof tk&&e.format){let t=this._getTypeSize(e.format);e.stride=Math.max(null!=(r=null==t?void 0:t.size)?r:0,null!=(i=null==t?void 0:t.align)?i:0),this._updateTypeInfo(e.format)}e instanceof tM&&this._updateTypeInfo(e.format),e instanceof tS&&this._updateStructInfo(e)}_updateStructInfo(e){let t=0,r=0,i=0,n=0;for(let s=0,a=e.members.length;s<a;++s){let a=e.members[s],o=this._getTypeSize(a);if(!o)continue;null!=this._getAlias(a.type.name)||a.type;let l=o.align,u=o.size;t=this._roundUp(l,t+r),r=u,i=t,n=Math.max(n,l),a.offset=t,a.size=u,this._updateTypeInfo(a.type)}e.size=this._roundUp(n,i+r),e.align=n}_getTypeSize(e){var t,r;if(null==e)return null;let i=this._getAttributeNum(e.attributes,"size",0),n=this._getAttributeNum(e.attributes,"align",0);if(e instanceof t_&&(e=e.type),e instanceof tw){let t=this._getAlias(e.name);null!==t&&(e=t)}{let r=r8._typeInfo[e.name];if(void 0!==r){let s="f16"===(null==(t=e.format)?void 0:t.name)?2:1;return new r4(Math.max(n,r.align/s),Math.max(i,r.size/s))}}{let t=r8._typeInfo[e.name.substring(0,e.name.length-1)];if(t){let r="h"===e.name[e.name.length-1]?2:1;return new r4(Math.max(n,t.align/r),Math.max(i,t.size/r))}}if(e instanceof tk){let t=e,s=8,a=8,o=this._getTypeSize(t.format);return null!==o&&(a=o.size,s=o.align),a=t.count*this._getAttributeNum(null!=(r=null==e?void 0:e.attributes)?r:null,"stride",this._roundUp(s,a)),i&&(a=i),new r4(Math.max(n,s),Math.max(i,a))}if(e instanceof tS){let t=0,r=0,s=0,a=0,o=0;for(let r of e.members){let e=this._getTypeSize(r.type);null!==e&&(t=Math.max(e.align,t),s=this._roundUp(e.align,s+a),a=e.size,o=s)}return r=this._roundUp(t,o+a),new r4(Math.max(n,t),Math.max(i,r))}return null}_isUniformVar(e){return e instanceof t1&&"uniform"==e.storage}_isStorageVar(e){return e instanceof t1&&"storage"==e.storage}_isTextureVar(e){return e instanceof t1&&null!==e.type&&-1!=r8._textureTypes.indexOf(e.type.name)}_isSamplerVar(e){return e instanceof t1&&null!==e.type&&-1!=r8._samplerTypes.indexOf(e.type.name)}_getAttribute(e,t){if(!e||!e.attributes)return null;for(let r of e.attributes)if(r.name==t)return r;return null}_getAttributeNum(e,t,r){if(null===e)return r;for(let i of e)if(i.name==t){let e=null!==i&&null!==i.value?i.value:r;return e instanceof Array&&(e=e[0]),"number"==typeof e?e:"string"==typeof e?parseInt(e):r}return r}_roundUp(e,t){return Math.ceil(t/e)*e}}r8._typeInfo={f16:{align:2,size:2},i32:{align:4,size:4},u32:{align:4,size:4},f32:{align:4,size:4},atomic:{align:4,size:4},vec2:{align:8,size:8},vec3:{align:16,size:12},vec4:{align:16,size:16},mat2x2:{align:8,size:16},mat3x2:{align:8,size:24},mat4x2:{align:8,size:32},mat2x3:{align:16,size:32},mat3x3:{align:16,size:48},mat4x3:{align:16,size:64},mat2x4:{align:16,size:32},mat3x4:{align:16,size:48},mat4x4:{align:16,size:64}},r8._textureTypes=rW.any_texture_type.map(e=>e.name),r8._samplerTypes=rW.sampler_type.map(e=>e.name);let r6=0;class r5{constructor(e,t,r){this.id=r6++,this.name=e,this.value=t,this.node=r}clone(){return new r5(this.name,this.value,this.node)}}class r7{constructor(e){this.id=r6++,this.name=e.name,this.node=e}clone(){return new r7(this.node)}}class ie{constructor(e){this.parent=null,this.variables=new Map,this.functions=new Map,this.currentFunctionName="",this.id=r6++,e&&(this.parent=e,this.currentFunctionName=e.currentFunctionName)}getVariable(e){var t;return this.variables.has(e)?null!=(t=this.variables.get(e))?t:null:this.parent?this.parent.getVariable(e):null}getFunction(e){var t;return this.functions.has(e)?null!=(t=this.functions.get(e))?t:null:this.parent?this.parent.getFunction(e):null}createVariable(e,t,r){this.variables.set(e,new r5(e,t,null!=r?r:null))}setVariable(e,t,r){let i=this.getVariable(e);null!==i?i.value=t:this.createVariable(e,t,r)}getVariableValue(e){var t;let r=this.getVariable(e);return null!=(t=null==r?void 0:r.value)?t:null}clone(){return new ie(this)}}class it{evalExpression(e,t){return null}getTypeInfo(e){return null}getVariableName(e,t){return""}}class ir{constructor(e){this.exec=e}getTypeInfo(e){return this.exec.getTypeInfo(e)}All(e,t){let r=this.exec.evalExpression(e.args[0],t),i=!0;if(r instanceof rL)return r.data.forEach(e=>{e||(i=!1)}),new rB(+!!i,this.getTypeInfo("bool"));throw Error(`All() expects a vector argument. Line ${e.line}`)}Any(e,t){let r=this.exec.evalExpression(e.args[0],t);if(r instanceof rL)return new rB(+!!r.data.some(e=>e),this.getTypeInfo("bool"));throw Error(`Any() expects a vector argument. Line ${e.line}`)}Select(e,t){let r=this.exec.evalExpression(e.args[2],t);if(!(r instanceof rB))throw Error(`Select() expects a bool condition. Line ${e.line}`);return r.value?this.exec.evalExpression(e.args[1],t):this.exec.evalExpression(e.args[0],t)}ArrayLength(e,t){let r=e.args[0];r instanceof rM&&(r=r.right);let i=this.exec.evalExpression(r,t);if(i instanceof rV&&0===i.typeInfo.size){let e=i.typeInfo;return new rB(i.buffer.byteLength/e.stride,this.getTypeInfo("u32"))}return new rB(i.typeInfo.size,this.getTypeInfo("u32"))}Abs(e,t){let r=this.exec.evalExpression(e.args[0],t);return r instanceof rL?new rL(r.data.map(e=>Math.abs(e)),r.typeInfo):new rB(Math.abs(r.value),r.typeInfo)}Acos(e,t){let r=this.exec.evalExpression(e.args[0],t);return r instanceof rL?new rL(r.data.map(e=>Math.acos(e)),r.typeInfo):new rB(Math.acos(r.value),r.typeInfo)}Acosh(e,t){let r=this.exec.evalExpression(e.args[0],t);return r instanceof rL?new rL(r.data.map(e=>Math.acosh(e)),r.typeInfo):new rB(Math.acosh(r.value),r.typeInfo)}Asin(e,t){let r=this.exec.evalExpression(e.args[0],t);return r instanceof rL?new rL(r.data.map(e=>Math.asin(e)),r.typeInfo):new rB(Math.asin(r.value),r.typeInfo)}Asinh(e,t){let r=this.exec.evalExpression(e.args[0],t);return r instanceof rL?new rL(r.data.map(e=>Math.asinh(e)),r.typeInfo):new rB(Math.asinh(r.value),r.typeInfo)}Atan(e,t){let r=this.exec.evalExpression(e.args[0],t);return r instanceof rL?new rL(r.data.map(e=>Math.atan(e)),r.typeInfo):new rB(Math.atan(r.value),r.typeInfo)}Atanh(e,t){let r=this.exec.evalExpression(e.args[0],t);return r instanceof rL?new rL(r.data.map(e=>Math.atanh(e)),r.typeInfo):new rB(Math.atanh(r.value),r.typeInfo)}Atan2(e,t){let r=this.exec.evalExpression(e.args[0],t),i=this.exec.evalExpression(e.args[1],t);return r instanceof rL&&i instanceof rL?new rL(r.data.map((e,t)=>Math.atan2(e,i.data[t])),r.typeInfo):new rB(Math.atan2(r.value,i.value),r.typeInfo)}Ceil(e,t){let r=this.exec.evalExpression(e.args[0],t);return r instanceof rL?new rL(r.data.map(e=>Math.ceil(e)),r.typeInfo):new rB(Math.ceil(r.value),r.typeInfo)}_clamp(e,t,r){return Math.min(Math.max(e,t),r)}Clamp(e,t){let r=this.exec.evalExpression(e.args[0],t),i=this.exec.evalExpression(e.args[1],t),n=this.exec.evalExpression(e.args[2],t);return r instanceof rL&&i instanceof rL&&n instanceof rL?new rL(r.data.map((e,t)=>this._clamp(e,i.data[t],n.data[t])),r.typeInfo):new rB(this._clamp(r.value,i.value,n.value),r.typeInfo)}Cos(e,t){let r=this.exec.evalExpression(e.args[0],t);return r instanceof rL?new rL(r.data.map(e=>Math.cos(e)),r.typeInfo):new rB(Math.cos(r.value),r.typeInfo)}Cosh(e,t){let r=this.exec.evalExpression(e.args[0],t);return r instanceof rL?new rL(r.data.map(e=>Math.cosh(e)),r.typeInfo):new rB(Math.cos(r.value),r.typeInfo)}CountLeadingZeros(e,t){let r=this.exec.evalExpression(e.args[0],t);return r instanceof rL?new rL(r.data.map(e=>Math.clz32(e)),r.typeInfo):new rB(Math.clz32(r.value),r.typeInfo)}_countOneBits(e){let t=0;for(;0!==e;)1&e&&t++,e>>=1;return t}CountOneBits(e,t){let r=this.exec.evalExpression(e.args[0],t);return r instanceof rL?new rL(r.data.map(e=>this._countOneBits(e)),r.typeInfo):new rB(this._countOneBits(r.value),r.typeInfo)}_countTrailingZeros(e){if(0===e)return 32;let t=0;for(;!(1&e);)e>>=1,t++;return t}CountTrailingZeros(e,t){let r=this.exec.evalExpression(e.args[0],t);return r instanceof rL?new rL(r.data.map(e=>this._countTrailingZeros(e)),r.typeInfo):new rB(this._countTrailingZeros(r.value),r.typeInfo)}Cross(e,t){let r=this.exec.evalExpression(e.args[0],t),i=this.exec.evalExpression(e.args[1],t);if(r instanceof rL&&i instanceof rL){if(3!==r.data.length||3!==i.data.length)return console.error(`Cross() expects 3D vectors. Line ${e.line}`),null;let t=r.data,n=i.data;return new rL([t[1]*n[2]-n[1]*t[2],t[2]*n[0]-n[2]*t[0],t[0]*n[1]-n[0]*t[1]],r.typeInfo)}return console.error(`Cross() expects vector arguments. Line ${e.line}`),null}Degrees(e,t){let r=this.exec.evalExpression(e.args[0],t),i=180/Math.PI;return r instanceof rL?new rL(r.data.map(e=>e*i),r.typeInfo):new rB(r.value*i,this.getTypeInfo("f32"))}Determinant(e,t){let r=this.exec.evalExpression(e.args[0],t);if(r instanceof rF){let e=r.data,t=r.typeInfo.getTypeName(),i=t.endsWith("h")?this.getTypeInfo("f16"):this.getTypeInfo("f32");if("mat2x2"===t||"mat2x2f"===t||"mat2x2h"===t)return new rB(e[0]*e[3]-e[1]*e[2],i);if("mat2x3"===t||"mat2x3f"===t||"mat2x3h"===t)return new rB(e[0]*(e[4]*e[8]-e[5]*e[7])-e[1]*(e[3]*e[8]-e[5]*e[6])+e[2]*(e[3]*e[7]-e[4]*e[6]),i);if("mat2x4"===t||"mat2x4f"===t||"mat2x4h"===t)console.error(`TODO: Determinant for ${t}`);else if("mat3x2"===t||"mat3x2f"===t||"mat3x2h"===t)console.error(`TODO: Determinant for ${t}`);else{if("mat3x3"===t||"mat3x3f"===t||"mat3x3h"===t)return new rB(e[0]*(e[4]*e[8]-e[5]*e[7])-e[1]*(e[3]*e[8]-e[5]*e[6])+e[2]*(e[3]*e[7]-e[4]*e[6]),i);"mat3x4"===t||"mat3x4f"===t||"mat3x4h"===t||"mat4x2"===t||"mat4x2f"===t||"mat4x2h"===t||"mat4x3"===t||"mat4x3f"===t||"mat4x3h"===t?console.error(`TODO: Determinant for ${t}`):"mat4x4"!==t&&"mat4x4f"!==t&&"mat4x4h"!==t||console.error(`TODO: Determinant for ${t}`)}}return console.error(`Determinant expects a matrix argument. Line ${e.line}`),null}Distance(e,t){let r=this.exec.evalExpression(e.args[0],t),i=this.exec.evalExpression(e.args[1],t);if(r instanceof rL&&i instanceof rL){let e=0;for(let t=0;t<r.data.length;++t)e+=(r.data[t]-i.data[t])*(r.data[t]-i.data[t]);return new rB(Math.sqrt(e),this.getTypeInfo("f32"))}return new rB(Math.abs(r.value-i.value),r.typeInfo)}_dot(e,t){let r=0;for(let i=0;i<e.length;++i)r+=t[i]*e[i];return r}Dot(e,t){let r=this.exec.evalExpression(e.args[0],t),i=this.exec.evalExpression(e.args[1],t);return r instanceof rL&&i instanceof rL?new rB(this._dot(r.data,i.data),this.getTypeInfo("f32")):(console.error(`Dot() expects vector arguments. Line ${e.line}`),null)}Dot4U8Packed(e,t){return console.error(`TODO: dot4U8Packed. Line ${e.line}`),null}Dot4I8Packed(e,t){return console.error(`TODO: dot4I8Packed. Line ${e.line}`),null}Exp(e,t){let r=this.exec.evalExpression(e.args[0],t);return r instanceof rL?new rL(r.data.map(e=>Math.exp(e)),r.typeInfo):new rB(Math.exp(r.value),r.typeInfo)}Exp2(e,t){let r=this.exec.evalExpression(e.args[0],t);return r instanceof rL?new rL(r.data.map(e=>Math.pow(2,e)),r.typeInfo):new rB(Math.pow(2,r.value),r.typeInfo)}ExtractBits(e,t){let r=this.exec.evalExpression(e.args[0],t),i=this.exec.evalExpression(e.args[1],t),n=this.exec.evalExpression(e.args[2],t);if("u32"!==i.typeInfo.name&&"x32"!==i.typeInfo.name)return console.error(`ExtractBits() expects an i32 offset argument. Line ${e.line}`),null;if("u32"!==n.typeInfo.name&&"x32"!==n.typeInfo.name)return console.error(`ExtractBits() expects an i32 count argument. Line ${e.line}`),null;let s=i.value,a=n.value;return r instanceof rL?new rL(r.data.map(e=>e>>s&(1<<a)-1),r.typeInfo):"i32"!==r.typeInfo.name&&"x32"!==r.typeInfo.name?(console.error(`ExtractBits() expects an i32 argument. Line ${e.line}`),null):new rB(r.value>>s&(1<<a)-1,this.getTypeInfo("i32"))}FaceForward(e,t){let r=this.exec.evalExpression(e.args[0],t),i=this.exec.evalExpression(e.args[1],t),n=this.exec.evalExpression(e.args[2],t);return r instanceof rL&&i instanceof rL&&n instanceof rL?new rL(0>this._dot(i.data,n.data)?Array.from(r.data):r.data.map(e=>-e),r.typeInfo):(console.error(`FaceForward() expects vector arguments. Line ${e.line}`),null)}_firstLeadingBit(e){return 0===e?-1:31-Math.clz32(e)}FirstLeadingBit(e,t){let r=this.exec.evalExpression(e.args[0],t);return r instanceof rL?new rL(r.data.map(e=>this._firstLeadingBit(e)),r.typeInfo):new rB(this._firstLeadingBit(r.value),r.typeInfo)}_firstTrailingBit(e){return 0===e?-1:Math.log2(e&-e)}FirstTrailingBit(e,t){let r=this.exec.evalExpression(e.args[0],t);return r instanceof rL?new rL(r.data.map(e=>this._firstTrailingBit(e)),r.typeInfo):new rB(this._firstTrailingBit(r.value),r.typeInfo)}Floor(e,t){let r=this.exec.evalExpression(e.args[0],t);return r instanceof rL?new rL(r.data.map(e=>Math.floor(e)),r.typeInfo):new rB(Math.floor(r.value),r.typeInfo)}Fma(e,t){let r=this.exec.evalExpression(e.args[0],t),i=this.exec.evalExpression(e.args[1],t),n=this.exec.evalExpression(e.args[2],t);return r instanceof rL&&i instanceof rL&&n instanceof rL?r.data.length!==i.data.length||r.data.length!==n.data.length?(console.error(`Fma() expects vectors of the same length. Line ${e.line}`),null):new rL(r.data.map((e,t)=>e*i.data[t]+n.data[t]),r.typeInfo):new rB(r.value*i.value+n.value,r.typeInfo)}Fract(e,t){let r=this.exec.evalExpression(e.args[0],t);return r instanceof rL?new rL(r.data.map(e=>e-Math.floor(e)),r.typeInfo):new rB(r.value-Math.floor(r.value),r.typeInfo)}Frexp(e,t){return console.error(`TODO: frexp. Line ${e.line}`),null}InsertBits(e,t){let r=this.exec.evalExpression(e.args[0],t),i=this.exec.evalExpression(e.args[1],t),n=this.exec.evalExpression(e.args[2],t),s=this.exec.evalExpression(e.args[3],t);if("u32"!==n.typeInfo.name&&"x32"!==n.typeInfo.name)return console.error(`InsertBits() expects an i32 offset argument. Line ${e.line}`),null;let a=n.value,o=(1<<s.value)-1<<a,l=~o;return r instanceof rL&&i instanceof rL?new rL(r.data.map((e,t)=>e&l|i.data[t]<<a&o),r.typeInfo):new rB(r.value&l|i.value<<a&o,r.typeInfo)}InverseSqrt(e,t){let r=this.exec.evalExpression(e.args[0],t);return r instanceof rL?new rL(r.data.map(e=>1/Math.sqrt(e)),r.typeInfo):new rB(1/Math.sqrt(r.value),r.typeInfo)}Ldexp(e,t){return console.error(`TODO: ldexp. Line ${e.line}`),null}Length(e,t){let r=this.exec.evalExpression(e.args[0],t);if(r instanceof rL){let e=0;return r.data.forEach(t=>{e+=t*t}),new rB(Math.sqrt(e),this.getTypeInfo("f32"))}return new rB(Math.abs(r.value),r.typeInfo)}Log(e,t){let r=this.exec.evalExpression(e.args[0],t);return r instanceof rL?new rL(r.data.map(e=>Math.log(e)),r.typeInfo):new rB(Math.log(r.value),r.typeInfo)}Log2(e,t){let r=this.exec.evalExpression(e.args[0],t);return r instanceof rL?new rL(r.data.map(e=>Math.log2(e)),r.typeInfo):new rB(Math.log2(r.value),r.typeInfo)}Max(e,t){let r=this.exec.evalExpression(e.args[0],t),i=this.exec.evalExpression(e.args[1],t);return r instanceof rL&&i instanceof rL?new rL(r.data.map((e,t)=>Math.max(e,i.data[t])),r.typeInfo):new rB(Math.max(r.value,i.value),r.typeInfo)}Min(e,t){let r=this.exec.evalExpression(e.args[0],t),i=this.exec.evalExpression(e.args[1],t);return r instanceof rL&&i instanceof rL?new rL(r.data.map((e,t)=>Math.min(e,i.data[t])),r.typeInfo):new rB(Math.min(r.value,i.value),r.typeInfo)}Mix(e,t){let r=this.exec.evalExpression(e.args[0],t),i=this.exec.evalExpression(e.args[1],t),n=this.exec.evalExpression(e.args[2],t);return r instanceof rL&&i instanceof rL&&n instanceof rL?new rL(r.data.map((e,t)=>r.data[t]*(1-n.data[t])+i.data[t]*n.data[t]),r.typeInfo):new rB(r.value*(1-n.value)+i.value*n.value,r.typeInfo)}Modf(e,t){let r=this.exec.evalExpression(e.args[0],t),i=this.exec.evalExpression(e.args[1],t);return r instanceof rL&&i instanceof rL?new rL(r.data.map((e,t)=>e%i.data[t]),r.typeInfo):new rB(r.value%i.value,r.typeInfo)}Normalize(e,t){let r=this.exec.evalExpression(e.args[0],t);if(r instanceof rL){let i=this.Length(e,t).value;return new rL(r.data.map(e=>e/i),r.typeInfo)}return console.error(`Normalize() expects a vector argument. Line ${e.line}`),null}Pow(e,t){let r=this.exec.evalExpression(e.args[0],t),i=this.exec.evalExpression(e.args[1],t);return r instanceof rL&&i instanceof rL?new rL(r.data.map((e,t)=>Math.pow(e,i.data[t])),r.typeInfo):new rB(Math.pow(r.value,i.value),r.typeInfo)}QuantizeToF16(e,t){let r=this.exec.evalExpression(e.args[0],t);return r instanceof rL?new rL(r.data.map(e=>e),r.typeInfo):new rB(r.value,r.typeInfo)}Radians(e,t){let r=this.exec.evalExpression(e.args[0],t);return r instanceof rL?new rL(r.data.map(e=>e*Math.PI/180),r.typeInfo):new rB(r.value*Math.PI/180,this.getTypeInfo("f32"))}Reflect(e,t){let r=this.exec.evalExpression(e.args[0],t),i=this.exec.evalExpression(e.args[1],t);if(r instanceof rL&&i instanceof rL){let e=this._dot(r.data,i.data);return new rL(r.data.map((t,r)=>t-2*e*i.data[r]),r.typeInfo)}return console.error(`Reflect() expects vector arguments. Line ${e.line}`),null}Refract(e,t){let r=this.exec.evalExpression(e.args[0],t),i=this.exec.evalExpression(e.args[1],t),n=this.exec.evalExpression(e.args[2],t);if(r instanceof rL&&i instanceof rL&&n instanceof rB){let e=this._dot(i.data,r.data);return new rL(r.data.map((t,r)=>{let s=1-n.value*n.value*(1-e*e);if(s<0)return 0;let a=Math.sqrt(s);return n.value*t-(n.value*e+a)*i.data[r]}),r.typeInfo)}return console.error(`Refract() expects vector arguments and a scalar argument. Line ${e.line}`),null}ReverseBits(e,t){return console.error(`TODO: reverseBits. Line ${e.line}`),null}Round(e,t){let r=this.exec.evalExpression(e.args[0],t);return r instanceof rL?new rL(r.data.map(e=>Math.round(e)),r.typeInfo):new rB(Math.round(r.value),r.typeInfo)}Saturate(e,t){let r=this.exec.evalExpression(e.args[0],t);return r instanceof rL?new rL(r.data.map(e=>Math.min(Math.max(e,0),1)),r.typeInfo):new rB(Math.min(Math.max(r.value,0),1),r.typeInfo)}Sign(e,t){let r=this.exec.evalExpression(e.args[0],t);return r instanceof rL?new rL(r.data.map(e=>Math.sign(e)),r.typeInfo):new rB(Math.sign(r.value),r.typeInfo)}Sin(e,t){let r=this.exec.evalExpression(e.args[0],t);return r instanceof rL?new rL(r.data.map(e=>Math.sin(e)),r.typeInfo):new rB(Math.sin(r.value),r.typeInfo)}Sinh(e,t){let r=this.exec.evalExpression(e.args[0],t);return r instanceof rL?new rL(r.data.map(e=>Math.sinh(e)),r.typeInfo):new rB(Math.sinh(r.value),r.typeInfo)}_smoothstep(e,t,r){let i=Math.min(Math.max((r-e)/(t-e),0),1);return i*i*(3-2*i)}SmoothStep(e,t){let r=this.exec.evalExpression(e.args[0],t),i=this.exec.evalExpression(e.args[1],t),n=this.exec.evalExpression(e.args[2],t);return n instanceof rL&&r instanceof rL&&i instanceof rL?new rL(n.data.map((e,t)=>this._smoothstep(r.data[t],i.data[t],e)),n.typeInfo):new rB(this._smoothstep(r.value,i.value,n.value),n.typeInfo)}Sqrt(e,t){let r=this.exec.evalExpression(e.args[0],t);return r instanceof rL?new rL(r.data.map(e=>Math.sqrt(e)),r.typeInfo):new rB(Math.sqrt(r.value),r.typeInfo)}Step(e,t){let r=this.exec.evalExpression(e.args[0],t),i=this.exec.evalExpression(e.args[1],t);return i instanceof rL&&r instanceof rL?new rL(i.data.map((e,t)=>e<r.data[t]?0:1),i.typeInfo):new rB(i.value<r.value?0:1,r.typeInfo)}Tan(e,t){let r=this.exec.evalExpression(e.args[0],t);return r instanceof rL?new rL(r.data.map(e=>Math.tan(e)),r.typeInfo):new rB(Math.tan(r.value),r.typeInfo)}Tanh(e,t){let r=this.exec.evalExpression(e.args[0],t);return r instanceof rL?new rL(r.data.map(e=>Math.tanh(e)),r.typeInfo):new rB(Math.tanh(r.value),r.typeInfo)}_getTransposeType(e){let t=e.getTypeName();return"mat2x2f"===t||"mat2x2h"===t?e:"mat2x3f"===t?this.getTypeInfo("mat3x2f"):"mat2x3h"===t?this.getTypeInfo("mat3x2h"):"mat2x4f"===t?this.getTypeInfo("mat4x2f"):"mat2x4h"===t?this.getTypeInfo("mat4x2h"):"mat3x2f"===t?this.getTypeInfo("mat2x3f"):"mat3x2h"===t?this.getTypeInfo("mat2x3h"):"mat3x3f"===t||"mat3x3h"===t?e:"mat3x4f"===t?this.getTypeInfo("mat4x3f"):"mat3x4h"===t?this.getTypeInfo("mat4x3h"):"mat4x2f"===t?this.getTypeInfo("mat2x4f"):"mat4x2h"===t?this.getTypeInfo("mat2x4h"):"mat4x3f"===t?this.getTypeInfo("mat3x4f"):"mat4x3h"===t?this.getTypeInfo("mat3x4h"):("mat4x4f"===t||"mat4x4h"===t||console.error(`Invalid matrix type ${t}`),e)}Transpose(e,t){let r=this.exec.evalExpression(e.args[0],t);if(!(r instanceof rF))return console.error(`Transpose() expects a matrix argument. Line ${e.line}`),null;let i=this._getTransposeType(r.typeInfo);if("mat2x2"===r.typeInfo.name||"mat2x2f"===r.typeInfo.name||"mat2x2h"===r.typeInfo.name){let e=r.data;return new rF([e[0],e[2],e[1],e[3]],i)}if("mat2x3"===r.typeInfo.name||"mat2x3f"===r.typeInfo.name||"mat2x3h"===r.typeInfo.name){let e=r.data;return new rF([e[0],e[3],e[6],e[1],e[4],e[7]],i)}if("mat2x4"===r.typeInfo.name||"mat2x4f"===r.typeInfo.name||"mat2x4h"===r.typeInfo.name){let e=r.data;return new rF([e[0],e[4],e[8],e[12],e[1],e[5],e[9],e[13]],i)}if("mat3x2"===r.typeInfo.name||"mat3x2f"===r.typeInfo.name||"mat3x2h"===r.typeInfo.name){let e=r.data;return new rF([e[0],e[3],e[1],e[4],e[2],e[5]],i)}if("mat3x3"===r.typeInfo.name||"mat3x3f"===r.typeInfo.name||"mat3x3h"===r.typeInfo.name){let e=r.data;return new rF([e[0],e[3],e[6],e[1],e[4],e[7],e[2],e[5],e[8]],i)}if("mat3x4"===r.typeInfo.name||"mat3x4f"===r.typeInfo.name||"mat3x4h"===r.typeInfo.name){let e=r.data;return new rF([e[0],e[4],e[8],e[12],e[1],e[5],e[9],e[13],e[2],e[6],e[10],e[14]],i)}if("mat4x2"===r.typeInfo.name||"mat4x2f"===r.typeInfo.name||"mat4x2h"===r.typeInfo.name){let e=r.data;return new rF([e[0],e[4],e[1],e[5],e[2],e[6]],i)}if("mat4x3"===r.typeInfo.name||"mat4x3f"===r.typeInfo.name||"mat4x3h"===r.typeInfo.name){let e=r.data;return new rF([e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]],i)}if("mat4x4"===r.typeInfo.name||"mat4x4f"===r.typeInfo.name||"mat4x4h"===r.typeInfo.name){let e=r.data;return new rF([e[0],e[4],e[8],e[12],e[1],e[5],e[9],e[13],e[2],e[6],e[10],e[14],e[3],e[7],e[11],e[15]],i)}return console.error(`Invalid matrix type ${r.typeInfo.name}`),null}Trunc(e,t){let r=this.exec.evalExpression(e.args[0],t);return r instanceof rL?new rL(r.data.map(e=>Math.trunc(e)),r.typeInfo):new rB(Math.trunc(r.value),r.typeInfo)}Dpdx(e,t){return console.error(`TODO: dpdx. Line ${e.line}`),null}DpdxCoarse(e,t){return console.error(`TODO: dpdxCoarse. Line ${e.line}`),null}DpdxFine(e,t){return console.error("TODO: dpdxFine"),null}Dpdy(e,t){return console.error("TODO: dpdy"),null}DpdyCoarse(e,t){return console.error("TODO: dpdyCoarse"),null}DpdyFine(e,t){return console.error("TODO: dpdyFine"),null}Fwidth(e,t){return console.error("TODO: fwidth"),null}FwidthCoarse(e,t){return console.error("TODO: fwidthCoarse"),null}FwidthFine(e,t){return console.error("TODO: fwidthFine"),null}TextureDimensions(e,t){let r=e.args[0],i=e.args.length>1?this.exec.evalExpression(e.args[1],t).value:0;if(r instanceof rv){let n=r.name,s=t.getVariableValue(n);if(s instanceof rU){if(i<0||i>=s.mipLevelCount)return console.error(`Invalid mip level for textureDimensions. Line ${e.line}`),null;let t=s.getMipLevelSize(i),r=s.dimension;return"1d"===r?new rB(t[0],this.getTypeInfo("u32")):"3d"===r?new rL(t,this.getTypeInfo("vec3u")):"2d"===r?new rL(t.slice(0,2),this.getTypeInfo("vec2u")):(console.error(`Invalid texture dimension ${r} not found. Line ${e.line}`),null)}return console.error(`Texture ${n} not found. Line ${e.line}`),null}return console.error(`Invalid texture argument for textureDimensions. Line ${e.line}`),null}TextureGather(e,t){return console.error("TODO: textureGather"),null}TextureGatherCompare(e,t){return console.error("TODO: textureGatherCompare"),null}TextureLoad(e,t){let r=e.args[0],i=this.exec.evalExpression(e.args[1],t),n=e.args.length>2?this.exec.evalExpression(e.args[2],t).value:0;if(!(i instanceof rL)||2!==i.data.length)return console.error(`Invalid UV argument for textureLoad. Line ${e.line}`),null;if(r instanceof rv){let s=r.name,a=t.getVariableValue(s);if(a instanceof rU){let t=Math.floor(i.data[0]),r=Math.floor(i.data[1]);if(t<0||t>=a.width||r<0||r>=a.height)return console.error(`Texture ${s} out of bounds. Line ${e.line}`),null;let o=a.getPixel(t,r,0,n);return null===o?(console.error(`Invalid texture format for textureLoad. Line ${e.line}`),null):new rL(o,this.getTypeInfo("vec4f"))}return console.error(`Texture ${s} not found. Line ${e.line}`),null}return console.error(`Invalid texture argument for textureLoad. Line ${e.line}`),null}TextureNumLayers(e,t){let r=e.args[0];if(r instanceof rv){let i=r.name,n=t.getVariableValue(i);return n instanceof rU?new rB(n.depthOrArrayLayers,this.getTypeInfo("u32")):(console.error(`Texture ${i} not found. Line ${e.line}`),null)}return console.error(`Invalid texture argument for textureNumLayers. Line ${e.line}`),null}TextureNumLevels(e,t){let r=e.args[0];if(r instanceof rv){let i=r.name,n=t.getVariableValue(i);return n instanceof rU?new rB(n.mipLevelCount,this.getTypeInfo("u32")):(console.error(`Texture ${i} not found. Line ${e.line}`),null)}return console.error(`Invalid texture argument for textureNumLevels. Line ${e.line}`),null}TextureNumSamples(e,t){let r=e.args[0];if(r instanceof rv){let i=r.name,n=t.getVariableValue(i);return n instanceof rU?new rB(n.sampleCount,this.getTypeInfo("u32")):(console.error(`Texture ${i} not found. Line ${e.line}`),null)}return console.error(`Invalid texture argument for textureNumSamples. Line ${e.line}`),null}TextureSample(e,t){return console.error("TODO: textureSample"),null}TextureSampleBias(e,t){return console.error("TODO: textureSampleBias"),null}TextureSampleCompare(e,t){return console.error("TODO: textureSampleCompare"),null}TextureSampleCompareLevel(e,t){return console.error("TODO: textureSampleCompareLevel"),null}TextureSampleGrad(e,t){return console.error("TODO: textureSampleGrad"),null}TextureSampleLevel(e,t){return console.error("TODO: textureSampleLevel"),null}TextureSampleBaseClampToEdge(e,t){return console.error("TODO: textureSampleBaseClampToEdge"),null}TextureStore(e,t){let r=e.args[0],i=this.exec.evalExpression(e.args[1],t),n=4===e.args.length?this.exec.evalExpression(e.args[2],t).value:0,s=4===e.args.length?this.exec.evalExpression(e.args[3],t).data:this.exec.evalExpression(e.args[2],t).data;if(4!==s.length)return console.error(`Invalid value argument for textureStore. Line ${e.line}`),null;if(!(i instanceof rL)||2!==i.data.length)return console.error(`Invalid UV argument for textureStore. Line ${e.line}`),null;if(r instanceof rv){let a=r.name,o=t.getVariableValue(a);if(o instanceof rU){let t=o.getMipLevelSize(0),r=Math.floor(i.data[0]),l=Math.floor(i.data[1]);return r<0||r>=t[0]||l<0||l>=t[1]?console.error(`Texture ${a} out of bounds. Line ${e.line}`):o.setPixel(r,l,0,n,Array.from(s)),null}return console.error(`Texture ${a} not found. Line ${e.line}`),null}return console.error(`Invalid texture argument for textureStore. Line ${e.line}`),null}AtomicLoad(e,t){let r=e.args[0];r instanceof rM&&(r=r.right);let i=this.exec.getVariableName(r,t);return t.getVariable(i).value.getSubData(this.exec,r.postfix,t)}AtomicStore(e,t){let r=e.args[0];r instanceof rM&&(r=r.right);let i=this.exec.getVariableName(r,t),n=t.getVariable(i),s=e.args[1],a=this.exec.evalExpression(s,t),o=n.value.getSubData(this.exec,r.postfix,t);return o instanceof rB&&a instanceof rB&&(o.value=a.value),n.value instanceof rV&&n.value.setDataValue(this.exec,o,r.postfix,t),null}AtomicAdd(e,t){let r=e.args[0];r instanceof rM&&(r=r.right);let i=this.exec.getVariableName(r,t),n=t.getVariable(i),s=e.args[1],a=this.exec.evalExpression(s,t),o=n.value.getSubData(this.exec,r.postfix,t),l=new rB(o.value,o.typeInfo);return o instanceof rB&&a instanceof rB&&(o.value+=a.value),n.value instanceof rV&&n.value.setDataValue(this.exec,o,r.postfix,t),l}AtomicSub(e,t){let r=e.args[0];r instanceof rM&&(r=r.right);let i=this.exec.getVariableName(r,t),n=t.getVariable(i),s=e.args[1],a=this.exec.evalExpression(s,t),o=n.value.getSubData(this.exec,r.postfix,t),l=new rB(o.value,o.typeInfo);return o instanceof rB&&a instanceof rB&&(o.value-=a.value),n.value instanceof rV&&n.value.setDataValue(this.exec,o,r.postfix,t),l}AtomicMax(e,t){let r=e.args[0];r instanceof rM&&(r=r.right);let i=this.exec.getVariableName(r,t),n=t.getVariable(i),s=e.args[1],a=this.exec.evalExpression(s,t),o=n.value.getSubData(this.exec,r.postfix,t),l=new rB(o.value,o.typeInfo);return o instanceof rB&&a instanceof rB&&(o.value=Math.max(o.value,a.value)),n.value instanceof rV&&n.value.setDataValue(this.exec,o,r.postfix,t),l}AtomicMin(e,t){let r=e.args[0];r instanceof rM&&(r=r.right);let i=this.exec.getVariableName(r,t),n=t.getVariable(i),s=e.args[1],a=this.exec.evalExpression(s,t),o=n.value.getSubData(this.exec,r.postfix,t),l=new rB(o.value,o.typeInfo);return o instanceof rB&&a instanceof rB&&(o.value=Math.min(o.value,a.value)),n.value instanceof rV&&n.value.setDataValue(this.exec,o,r.postfix,t),l}AtomicAnd(e,t){let r=e.args[0];r instanceof rM&&(r=r.right);let i=this.exec.getVariableName(r,t),n=t.getVariable(i),s=e.args[1],a=this.exec.evalExpression(s,t),o=n.value.getSubData(this.exec,r.postfix,t),l=new rB(o.value,o.typeInfo);return o instanceof rB&&a instanceof rB&&(o.value=o.value&a.value),n.value instanceof rV&&n.value.setDataValue(this.exec,o,r.postfix,t),l}AtomicOr(e,t){let r=e.args[0];r instanceof rM&&(r=r.right);let i=this.exec.getVariableName(r,t),n=t.getVariable(i),s=e.args[1],a=this.exec.evalExpression(s,t),o=n.value.getSubData(this.exec,r.postfix,t),l=new rB(o.value,o.typeInfo);return o instanceof rB&&a instanceof rB&&(o.value=o.value|a.value),n.value instanceof rV&&n.value.setDataValue(this.exec,o,r.postfix,t),l}AtomicXor(e,t){let r=e.args[0];r instanceof rM&&(r=r.right);let i=this.exec.getVariableName(r,t),n=t.getVariable(i),s=e.args[1],a=this.exec.evalExpression(s,t),o=n.value.getSubData(this.exec,r.postfix,t),l=new rB(o.value,o.typeInfo);return o instanceof rB&&a instanceof rB&&(o.value=o.value^a.value),n.value instanceof rV&&n.value.setDataValue(this.exec,o,r.postfix,t),l}AtomicExchange(e,t){let r=e.args[0];r instanceof rM&&(r=r.right);let i=this.exec.getVariableName(r,t),n=t.getVariable(i),s=e.args[1],a=this.exec.evalExpression(s,t),o=n.value.getSubData(this.exec,r.postfix,t),l=new rB(o.value,o.typeInfo);return o instanceof rB&&a instanceof rB&&(o.value=a.value),n.value instanceof rV&&n.value.setDataValue(this.exec,o,r.postfix,t),l}AtomicCompareExchangeWeak(e,t){return console.error("TODO: atomicCompareExchangeWeak"),null}Pack4x8snorm(e,t){return console.error("TODO: pack4x8snorm"),null}Pack4x8unorm(e,t){return console.error("TODO: pack4x8unorm"),null}Pack4xI8(e,t){return console.error("TODO: pack4xI8"),null}Pack4xU8(e,t){return console.error("TODO: pack4xU8"),null}Pack4x8Clamp(e,t){return console.error("TODO: pack4x8Clamp"),null}Pack4xU8Clamp(e,t){return console.error("TODO: pack4xU8Clamp"),null}Pack2x16snorm(e,t){return console.error("TODO: pack2x16snorm"),null}Pack2x16unorm(e,t){return console.error("TODO: pack2x16unorm"),null}Pack2x16float(e,t){return console.error("TODO: pack2x16float"),null}Unpack4x8snorm(e,t){return console.error("TODO: unpack4x8snorm"),null}Unpack4x8unorm(e,t){return console.error("TODO: unpack4x8unorm"),null}Unpack4xI8(e,t){return console.error("TODO: unpack4xI8"),null}Unpack4xU8(e,t){return console.error("TODO: unpack4xU8"),null}Unpack2x16snorm(e,t){return console.error("TODO: unpack2x16snorm"),null}Unpack2x16unorm(e,t){return console.error("TODO: unpack2x16unorm"),null}Unpack2x16float(e,t){return console.error("TODO: unpack2x16float"),null}StorageBarrier(e,t){return null}TextureBarrier(e,t){return null}WorkgroupBarrier(e,t){return null}WorkgroupUniformLoad(e,t){return null}SubgroupAdd(e,t){return console.error("TODO: subgroupAdd"),null}SubgroupExclusiveAdd(e,t){return console.error("TODO: subgroupExclusiveAdd"),null}SubgroupInclusiveAdd(e,t){return console.error("TODO: subgroupInclusiveAdd"),null}SubgroupAll(e,t){return console.error("TODO: subgroupAll"),null}SubgroupAnd(e,t){return console.error("TODO: subgroupAnd"),null}SubgroupAny(e,t){return console.error("TODO: subgroupAny"),null}SubgroupBallot(e,t){return console.error("TODO: subgroupBallot"),null}SubgroupBroadcast(e,t){return console.error("TODO: subgroupBroadcast"),null}SubgroupBroadcastFirst(e,t){return console.error("TODO: subgroupBroadcastFirst"),null}SubgroupElect(e,t){return console.error("TODO: subgroupElect"),null}SubgroupMax(e,t){return console.error("TODO: subgroupMax"),null}SubgroupMin(e,t){return console.error("TODO: subgroupMin"),null}SubgroupMul(e,t){return console.error("TODO: subgroupMul"),null}SubgroupExclusiveMul(e,t){return console.error("TODO: subgroupExclusiveMul"),null}SubgroupInclusiveMul(e,t){return console.error("TODO: subgroupInclusiveMul"),null}SubgroupOr(e,t){return console.error("TODO: subgroupOr"),null}SubgroupShuffle(e,t){return console.error("TODO: subgroupShuffle"),null}SubgroupShuffleDown(e,t){return console.error("TODO: subgroupShuffleDown"),null}SubgroupShuffleUp(e,t){return console.error("TODO: subgroupShuffleUp"),null}SubgroupShuffleXor(e,t){return console.error("TODO: subgroupShuffleXor"),null}SubgroupXor(e,t){return console.error("TODO: subgroupXor"),null}QuadBroadcast(e,t){return console.error("TODO: quadBroadcast"),null}QuadSwapDiagonal(e,t){return console.error("TODO: quadSwapDiagonal"),null}QuadSwapX(e,t){return console.error("TODO: quadSwapX"),null}QuadSwapY(e,t){return console.error("TODO: quadSwapY"),null}}let ii={vec2:2,vec2f:2,vec2i:2,vec2u:2,vec2b:2,vec2h:2,vec3:3,vec3f:3,vec3i:3,vec3u:3,vec3b:3,vec3h:3,vec4:4,vec4f:4,vec4i:4,vec4u:4,vec4b:4,vec4h:4},is={mat2x2:[2,2,4],mat2x2f:[2,2,4],mat2x2h:[2,2,4],mat2x3:[2,3,6],mat2x3f:[2,3,6],mat2x3h:[2,3,6],mat2x4:[2,4,8],mat2x4f:[2,4,8],mat2x4h:[2,4,8],mat3x2:[3,2,6],mat3x2f:[3,2,6],mat3x2h:[3,2,6],mat3x3:[3,3,9],mat3x3f:[3,3,9],mat3x3h:[3,3,9],mat3x4:[3,4,12],mat3x4f:[3,4,12],mat3x4h:[3,4,12],mat4x2:[4,2,8],mat4x2f:[4,2,8],mat4x2h:[4,2,8],mat4x3:[4,3,12],mat4x3f:[4,3,12],mat4x3h:[4,3,12],mat4x4:[4,4,16],mat4x4f:[4,4,16],mat4x4h:[4,4,16]};class ia extends it{constructor(e,t){var r;super(),this.ast=null!=e?e:[],this.reflection=new r8,this.reflection.updateAST(this.ast),this.context=null!=(r=null==t?void 0:t.clone())?r:new ie,this.builtins=new ir(this),this.typeInfo={bool:this.getTypeInfo(rl.bool),i32:this.getTypeInfo(rl.i32),u32:this.getTypeInfo(rl.u32),f32:this.getTypeInfo(rl.f32),f16:this.getTypeInfo(rl.f16),vec2f:this.getTypeInfo(rh.vec2f),vec2u:this.getTypeInfo(rh.vec2u),vec2i:this.getTypeInfo(rh.vec2i),vec2h:this.getTypeInfo(rh.vec2h),vec3f:this.getTypeInfo(rh.vec3f),vec3u:this.getTypeInfo(rh.vec3u),vec3i:this.getTypeInfo(rh.vec3i),vec3h:this.getTypeInfo(rh.vec3h),vec4f:this.getTypeInfo(rh.vec4f),vec4u:this.getTypeInfo(rh.vec4u),vec4i:this.getTypeInfo(rh.vec4i),vec4h:this.getTypeInfo(rh.vec4h),mat2x2f:this.getTypeInfo(rh.mat2x2f),mat2x3f:this.getTypeInfo(rh.mat2x3f),mat2x4f:this.getTypeInfo(rh.mat2x4f),mat3x2f:this.getTypeInfo(rh.mat3x2f),mat3x3f:this.getTypeInfo(rh.mat3x3f),mat3x4f:this.getTypeInfo(rh.mat3x4f),mat4x2f:this.getTypeInfo(rh.mat4x2f),mat4x3f:this.getTypeInfo(rh.mat4x3f),mat4x4f:this.getTypeInfo(rh.mat4x4f)}}getVariableValue(e){var t,r;let i=null!=(r=null==(t=this.context.getVariable(e))?void 0:t.value)?r:null;if(null===i)return null;if(i instanceof rB)return i.value;if(i instanceof rL||i instanceof rF)return Array.from(i.data);if(i instanceof rV&&i.typeInfo instanceof tk){if("u32"===i.typeInfo.format.name)return Array.from(new Uint32Array(i.buffer,i.offset,i.typeInfo.count));if("i32"===i.typeInfo.format.name)return Array.from(new Int32Array(i.buffer,i.offset,i.typeInfo.count));if("f32"===i.typeInfo.format.name)return Array.from(new Float32Array(i.buffer,i.offset,i.typeInfo.count))}return console.error(`Unsupported return variable type ${i.typeInfo.name}`),null}execute(e){(e=null!=e?e:{}).constants&&this._setOverrides(e.constants,this.context),this._execStatements(this.ast,this.context)}dispatchWorkgroups(e,t,r,i){let n=this.context.clone();(i=null!=i?i:{}).constants&&this._setOverrides(i.constants,n),this._execStatements(this.ast,n);let s=n.getFunction(e);if(!s)return void console.error(`Function ${e} not found`);if("number"==typeof t)t=[t,1,1];else{if(0===t.length)return void console.error("Invalid dispatch count");1===t.length?t=[t[0],1,1]:2===t.length?t=[t[0],t[1],1]:t.length>3&&(t=[t[0],t[1],t[2]])}let a=t[0],o=t[1],l=t[2],u=this.getTypeInfo("vec3u");for(let e in n.setVariable("@num_workgroups",new rL(t,u)),r)for(let t in r[e]){let i=r[e][t];n.variables.forEach(r=>{var n;let s=r.node;if(null==s?void 0:s.attributes){let a=null,o=null;for(let e of s.attributes)"binding"===e.name?a=e.value:"group"===e.name&&(o=e.value);t==a&&e==o&&(void 0!==i.texture&&void 0!==i.descriptor?r.value=new rU(i.texture,this.getTypeInfo(s.type),i.descriptor,null!=(n=i.texture.view)?n:null):void 0!==i.uniform?r.value=new rV(i.uniform,this.getTypeInfo(s.type)):r.value=new rV(i,this.getTypeInfo(s.type)))}})}for(let e=0;e<l;++e)for(let t=0;t<o;++t)for(let r=0;r<a;++r)n.setVariable("@workgroup_id",new rL([r,t,e],this.getTypeInfo("vec3u"))),this._dispatchWorkgroup(s,[r,t,e],n)}execStatement(e,t){if(e instanceof re)return this.evalExpression(e.value,t);if(e instanceof ra){if(e.condition){let r=this.evalExpression(e.condition,t);if(!(r instanceof rB))throw Error("Invalid break-if condition");if(!r.value)return null}return ia._breakObj}if(e instanceof ro)return ia._continueObj;if(e instanceof t2)this._let(e,t);else if(e instanceof t1)this._var(e,t);else if(e instanceof t9)this._const(e,t);else if(e instanceof tX)this._function(e,t);else{if(e instanceof t7)return this._if(e,t);if(e instanceof t5)return this._switch(e,t);if(e instanceof tQ)return this._for(e,t);if(e instanceof tJ)return this._while(e,t);if(e instanceof t6)return this._loop(e,t);if(e instanceof tK){let r=t.clone();return r.currentFunctionName=t.currentFunctionName,this._execStatements(e.body,r)}if(e instanceof t4)this._assign(e,t);else if(e instanceof t3)this._increment(e,t);else{if(e instanceof rc)return null;if(e instanceof t0){let r=e.name;null===t.getVariable(r)&&t.setVariable(r,new rB(0,this.getTypeInfo("u32")))}else if(e instanceof t8)this._call(e,t);else{if(e instanceof ri||e instanceof rn)return null;console.error("Invalid statement type.",e,`Line ${e.line}`)}}}return null}evalExpression(e,t){return e instanceof rC?this._evalBinaryOp(e,t):e instanceof rw?this._evalLiteral(e,t):e instanceof rv?this._evalVariable(e,t):e instanceof rx?this._evalCall(e,t):e instanceof ry?this._evalCreate(e,t):e instanceof rb?this._evalConst(e,t):e instanceof r_?this._evalBitcast(e,t):e instanceof rM?this._evalUnaryOp(e,t):(console.error("Invalid expression type",e,`Line ${e.line}`),null)}getTypeInfo(e){var t;if(e instanceof rl){let t=this.reflection.getTypeInfo(e);if(null!==t)return t}let r=null!=(t=this.typeInfo[e])?t:null;return null!==r||(r=this.reflection.getTypeInfoByName(e)),r}_setOverrides(e,t){for(let r in e){let i=e[r],n=this.reflection.getOverrideInfo(r);null!==n?(null===n.type&&(n.type=this.getTypeInfo("u32")),"u32"===n.type.name||"i32"===n.type.name||"f32"===n.type.name||"f16"===n.type.name?t.setVariable(r,new rB(i,n.type)):"bool"===n.type.name?t.setVariable(r,new rB(+!!i,n.type)):"vec2"===n.type.name||"vec3"===n.type.name||"vec4"===n.type.name||"vec2f"===n.type.name||"vec3f"===n.type.name||"vec4f"===n.type.name||"vec2i"===n.type.name||"vec3i"===n.type.name||"vec4i"===n.type.name||"vec2u"===n.type.name||"vec3u"===n.type.name||"vec4u"===n.type.name||"vec2h"===n.type.name||"vec3h"===n.type.name||"vec4h"===n.type.name?t.setVariable(r,new rL(i,n.type)):console.error(`Invalid constant type for ${r}`)):console.error(`Override ${r} does not exist in the shader.`)}}_dispatchWorkgroup(e,t,r){let i=[1,1,1];for(let t of e.node.attributes)if("workgroup_size"===t.name){if(t.value.length>0){let e=r.getVariableValue(t.value[0]);i[0]=e instanceof rB?e.value:parseInt(t.value[0])}if(t.value.length>1){let e=r.getVariableValue(t.value[1]);i[1]=e instanceof rB?e.value:parseInt(t.value[1])}if(t.value.length>2){let e=r.getVariableValue(t.value[2]);i[2]=e instanceof rB?e.value:parseInt(t.value[2])}}let n=this.getTypeInfo("vec3u"),s=this.getTypeInfo("u32");r.setVariable("@workgroup_size",new rL(i,n));let a=i[0],o=i[1],l=i[2];for(let u=0,c=0;u<l;++u)for(let l=0;l<o;++l)for(let o=0;o<a;++o,++c){let a=[o,l,u],h=[o+t[0]*i[0],l+t[1]*i[1],u+t[2]*i[2]];r.setVariable("@local_invocation_id",new rL(a,n)),r.setVariable("@global_invocation_id",new rL(h,n)),r.setVariable("@local_invocation_index",new rB(c,s)),this._dispatchExec(e,r)}}_dispatchExec(e,t){for(let r of e.node.args)for(let e of r.attributes)if("builtin"===e.name){let i=`@${e.value}`,n=t.getVariable(i);void 0!==n&&t.variables.set(r.name,n)}this._execStatements(e.node.body,t)}getVariableName(e,t){for(;e instanceof rM;)e=e.right;return e instanceof rv?e.name:(console.error("Unknown variable type",e,"Line",e.line),null)}_execStatements(e,t){for(let r of e){if(r instanceof Array){let e=t.clone(),i=this._execStatements(r,e);if(i)return i;continue}let e=this.execStatement(r,t);if(e)return e}return null}_call(e,t){let r=t.clone();r.currentFunctionName=e.name;let i=t.getFunction(e.name);if(i){for(let t=0;t<i.node.args.length;++t){let n=i.node.args[t],s=this.evalExpression(e.args[t],r);r.setVariable(n.name,s,n)}this._execStatements(i.node.body,r)}else e.isBuiltin?this._callBuiltinFunction(e,r):this.getTypeInfo(e.name)&&this._evalCreate(e,t)}_increment(e,t){let r=this.getVariableName(e.variable,t),i=t.getVariable(r);i?"++"===e.operator?i.value instanceof rB?i.value.value++:console.error(`Variable ${r} is not a scalar. Line ${e.line}`):"--"===e.operator?i.value instanceof rB?i.value.value--:console.error(`Variable ${r} is not a scalar. Line ${e.line}`):console.error(`Unknown increment operator ${e.operator}. Line ${e.line}`):console.error(`Variable ${r} not found. Line ${e.line}`)}_getVariableData(e,t){if(e instanceof rv){let r=this.getVariableName(e,t),i=t.getVariable(r);return null===i?(console.error(`Variable ${r} not found. Line ${e.line}`),null):i.value.getSubData(this,e.postfix,t)}if(e instanceof rM){if("*"===e.operator){let r=this._getVariableData(e.right,t);return r instanceof rR?r.reference.getSubData(this,e.postfix,t):(console.error(`Variable ${e.right} is not a pointer. Line ${e.line}`),null)}if("&"===e.operator)return new rR(this._getVariableData(e.right,t))}return null}_assign(e,t){let r=null,i="<var>",n=null;if(e.variable instanceof rM){let r=this._getVariableData(e.variable,t),i=this.evalExpression(e.value,t),n=e.operator;if("="===n){if(r instanceof rB||r instanceof rL||r instanceof rF){if(i instanceof rB||i instanceof rL||i instanceof rF&&r.data.length===i.data.length)return void r.data.set(i.data);console.error(`Invalid assignment. Line ${e.line}`)}else if(r instanceof rV&&i instanceof rV&&r.buffer.byteLength-r.offset>=i.buffer.byteLength-i.offset)return void(r.buffer.byteLength%4==0?new Uint32Array(r.buffer,r.offset,r.typeInfo.size/4).set(new Uint32Array(i.buffer,i.offset,i.typeInfo.size/4)):new Uint8Array(r.buffer,r.offset,r.typeInfo.size).set(new Uint8Array(i.buffer,i.offset,i.typeInfo.size)));return console.error(`Invalid assignment. Line ${e.line}`),null}if("+="===n)return r instanceof rB||r instanceof rL||r instanceof rF?i instanceof rB||i instanceof rL||i instanceof rF?void r.data.set(i.data.map((e,t)=>r.data[t]+e)):void console.error(`Invalid assignment . Line ${e.line}`):void console.error(`Invalid assignment. Line ${e.line}`);if("-="===n)return(r instanceof rB||r instanceof rL||r instanceof rF)&&(i instanceof rB||i instanceof rL||i instanceof rF)?void r.data.set(i.data.map((e,t)=>r.data[t]-e)):void console.error(`Invalid assignment. Line ${e.line}`)}if(e.variable instanceof rM){if("*"===e.variable.operator){i=this.getVariableName(e.variable.right,t);let n=t.getVariable(i);if(!(n&&n.value instanceof rR))return void console.error(`Variable ${i} is not a pointer. Line ${e.line}`);r=n.value.reference;let s=e.variable.postfix;if(!s){let t=e.variable.right;for(;t instanceof rM;){if(t.postfix){s=t.postfix;break}t=t.right}}s&&(r=r.getSubData(this,s,t))}}else{n=e.variable.postfix,i=this.getVariableName(e.variable,t);let s=t.getVariable(i);if(null===s)return void console.error(`Variable ${i} not found. Line ${e.line}`);r=s.value}if(r instanceof rR&&(r=r.reference),null===r)return void console.error(`Variable ${i} not found. Line ${e.line}`);let s=this.evalExpression(e.value,t),a=e.operator;if("="===a)if(r instanceof rV)r.setDataValue(this,s,n,t);else if(n){if(!(r instanceof rL||r instanceof rF))return void console.error(`Variable ${i} is not a vector or matrix. Line ${e.line}`);if(n instanceof rS){let a=this.evalExpression(n.index,t).value;if(r instanceof rL){if(!(s instanceof rB))return void console.error(`Invalid assignment to ${i}. Line ${e.line}`);r.data[a]=s.value}else{if(!(r instanceof rF))return void console.error(`Invalid assignment to ${i}. Line ${e.line}`);{let a=this.evalExpression(n.index,t).value;if(a<0||!(s instanceof rL))return void console.error(`Invalid assignment to ${i}. Line ${e.line}`);{let t=r.typeInfo.getTypeName();if("mat2x2"===t||"mat2x2f"===t||"mat2x2h"===t){if(!(a<2&&2===s.data.length))return void console.error(`Invalid assignment to ${i}. Line ${e.line}`);r.data[2*a]=s.data[0],r.data[2*a+1]=s.data[1]}else if("mat2x3"===t||"mat2x3f"===t||"mat2x3h"===t){if(!(a<2&&3===s.data.length))return void console.error(`Invalid assignment to ${i}. Line ${e.line}`);r.data[3*a]=s.data[0],r.data[3*a+1]=s.data[1],r.data[3*a+2]=s.data[2]}else if("mat2x4"===t||"mat2x4f"===t||"mat2x4h"===t){if(!(a<2&&4===s.data.length))return void console.error(`Invalid assignment to ${i}. Line ${e.line}`);r.data[4*a]=s.data[0],r.data[4*a+1]=s.data[1],r.data[4*a+2]=s.data[2],r.data[4*a+3]=s.data[3]}else if("mat3x2"===t||"mat3x2f"===t||"mat3x2h"===t){if(!(a<3&&2===s.data.length))return void console.error(`Invalid assignment to ${i}. Line ${e.line}`);r.data[2*a]=s.data[0],r.data[2*a+1]=s.data[1]}else if("mat3x3"===t||"mat3x3f"===t||"mat3x3h"===t){if(!(a<3&&3===s.data.length))return void console.error(`Invalid assignment to ${i}. Line ${e.line}`);r.data[3*a]=s.data[0],r.data[3*a+1]=s.data[1],r.data[3*a+2]=s.data[2]}else if("mat3x4"===t||"mat3x4f"===t||"mat3x4h"===t){if(!(a<3&&4===s.data.length))return void console.error(`Invalid assignment to ${i}. Line ${e.line}`);r.data[4*a]=s.data[0],r.data[4*a+1]=s.data[1],r.data[4*a+2]=s.data[2],r.data[4*a+3]=s.data[3]}else if("mat4x2"===t||"mat4x2f"===t||"mat4x2h"===t){if(!(a<4&&2===s.data.length))return void console.error(`Invalid assignment to ${i}. Line ${e.line}`);r.data[2*a]=s.data[0],r.data[2*a+1]=s.data[1]}else if("mat4x3"===t||"mat4x3f"===t||"mat4x3h"===t){if(!(a<4&&3===s.data.length))return void console.error(`Invalid assignment to ${i}. Line ${e.line}`);r.data[3*a]=s.data[0],r.data[3*a+1]=s.data[1],r.data[3*a+2]=s.data[2]}else{if("mat4x4"!==t&&"mat4x4f"!==t&&"mat4x4h"!==t||!(a<4&&4===s.data.length))return void console.error(`Invalid assignment to ${i}. Line ${e.line}`);r.data[4*a]=s.data[0],r.data[4*a+1]=s.data[1],r.data[4*a+2]=s.data[2],r.data[4*a+3]=s.data[3]}}}}}else if(n instanceof rg){let t=n.value;if(!(r instanceof rL))return void console.error(`Invalid assignment to ${t}. Variable ${i} is not a vector. Line ${e.line}`);if(s instanceof rB){if(t.length>1)return void console.error(`Invalid assignment to ${t} for variable ${i}. Line ${e.line}`);if("x"===t)r.data[0]=s.value;else if("y"===t){if(r.data.length<2)return void console.error(`Invalid assignment to ${t} for variable ${i}. Line ${e.line}`);r.data[1]=s.value}else if("z"===t){if(r.data.length<3)return void console.error(`Invalid assignment to ${t} for variable ${i}. Line ${e.line}`);r.data[2]=s.value}else if("w"===t){if(r.data.length<4)return void console.error(`Invalid assignment to ${t} for variable ${i}. Line ${e.line}`);r.data[3]=s.value}}else{if(!(s instanceof rL))return void console.error(`Invalid assignment to ${i}. Line ${e.line}`);if(t.length!==s.data.length)return void console.error(`Invalid assignment to ${t} for variable ${i}. Line ${e.line}`);for(let n=0;n<t.length;++n){let a=t[n];if("x"===a||"r"===a)r.data[0]=s.data[n];else if("y"===a||"g"===a){if(s.data.length<2)return void console.error(`Invalid assignment to ${a} for variable ${i}. Line ${e.line}`);r.data[1]=s.data[n]}else if("z"===a||"b"===a){if(s.data.length<3)return void console.error(`Invalid assignment to ${a} for variable ${i}. Line ${e.line}`);r.data[2]=s.data[n]}else{if("w"!==a&&"a"!==a||s.data.length<4)return void console.error(`Invalid assignment to ${a} for variable ${i}. Line ${e.line}`);r.data[3]=s.data[n]}}}}}else r instanceof rB&&s instanceof rB?r.value=s.value:r instanceof rL&&s instanceof rL||r instanceof rF&&s instanceof rF?r.data.set(s.data):console.error(`Invalid assignment to ${i}. Line ${e.line}`);else{let i=r.getSubData(this,n,t);if(i instanceof rL&&s instanceof rB){let t=i.data,r=s.value;if("+="===a)for(let e=0;e<t.length;++e)t[e]+=r;else if("-="===a)for(let e=0;e<t.length;++e)t[e]-=r;else if("*="===a)for(let e=0;e<t.length;++e)t[e]*=r;else if("/="===a)for(let e=0;e<t.length;++e)t[e]/=r;else if("%="===a)for(let e=0;e<t.length;++e)t[e]%=r;else if("&="===a)for(let e=0;e<t.length;++e)t[e]&=r;else if("|="===a)for(let e=0;e<t.length;++e)t[e]|=r;else if("^="===a)for(let e=0;e<t.length;++e)t[e]^=r;else if("<<="===a)for(let e=0;e<t.length;++e)t[e]<<=r;else if(">>="===a)for(let e=0;e<t.length;++e)t[e]>>=r;else console.error(`Invalid operator ${a}. Line ${e.line}`)}else if(i instanceof rL&&s instanceof rL){let t=i.data,r=s.data;if(t.length!==r.length)return void console.error(`Vector length mismatch. Line ${e.line}`);if("+="===a)for(let e=0;e<t.length;++e)t[e]+=r[e];else if("-="===a)for(let e=0;e<t.length;++e)t[e]-=r[e];else if("*="===a)for(let e=0;e<t.length;++e)t[e]*=r[e];else if("/="===a)for(let e=0;e<t.length;++e)t[e]/=r[e];else if("%="===a)for(let e=0;e<t.length;++e)t[e]%=r[e];else if("&="===a)for(let e=0;e<t.length;++e)t[e]&=r[e];else if("|="===a)for(let e=0;e<t.length;++e)t[e]|=r[e];else if("^="===a)for(let e=0;e<t.length;++e)t[e]^=r[e];else if("<<="===a)for(let e=0;e<t.length;++e)t[e]<<=r[e];else if(">>="===a)for(let e=0;e<t.length;++e)t[e]>>=r[e];else console.error(`Invalid operator ${a}. Line ${e.line}`)}else{if(!(i instanceof rB&&s instanceof rB))return void console.error(`Invalid type for ${e.operator} operator. Line ${e.line}`);"+="===a?i.value+=s.value:"-="===a?i.value-=s.value:"*="===a?i.value*=s.value:"/="===a?i.value/=s.value:"%="===a?i.value%=s.value:"&="===a?i.value&=s.value:"|="===a?i.value|=s.value:"^="===a?i.value^=s.value:"<<="===a?i.value<<=s.value:">>="===a?i.value>>=s.value:console.error(`Invalid operator ${a}. Line ${e.line}`)}r instanceof rV&&r.setDataValue(this,i,n,t)}}_function(e,t){let r=new r7(e);t.functions.set(e.name,r)}_const(e,t){let r=null;null!==e.value&&(r=this.evalExpression(e.value,t)),t.createVariable(e.name,r,e)}_let(e,t){let r=null;if(null!==e.value){if(null===(r=this.evalExpression(e.value,t)))return void console.error(`Invalid value for variable ${e.name}. Line ${e.line}`);e.value instanceof rM||(r=r.clone())}else{let i=e.type.name;if("f32"===i||"i32"===i||"u32"===i||"bool"===i||"f16"===i||"vec2"===i||"vec3"===i||"vec4"===i||"vec2f"===i||"vec3f"===i||"vec4f"===i||"vec2i"===i||"vec3i"===i||"vec4i"===i||"vec2u"===i||"vec3u"===i||"vec4u"===i||"vec2h"===i||"vec3h"===i||"vec4h"===i||"vec2b"===i||"vec3b"===i||"vec4b"===i||"mat2x2"===i||"mat2x3"===i||"mat2x4"===i||"mat3x2"===i||"mat3x3"===i||"mat3x4"===i||"mat4x2"===i||"mat4x3"===i||"mat4x4"===i||"mat2x2f"===i||"mat2x3f"===i||"mat2x4f"===i||"mat3x2f"===i||"mat3x3f"===i||"mat3x4f"===i||"mat4x2f"===i||"mat4x3f"===i||"mat4x4f"===i||"mat2x2h"===i||"mat2x3h"===i||"mat2x4h"===i||"mat3x2h"===i||"mat3x3h"===i||"mat3x4h"===i||"mat4x2h"===i||"mat4x3h"===i||"mat4x4h"===i||"array"===i){let i=new ry(e.type,[]);r=this._evalCreate(i,t)}}t.createVariable(e.name,r,e)}_var(e,t){let r=null;if(null!==e.value){if(null===(r=this.evalExpression(e.value,t)))return void console.error(`Invalid value for variable ${e.name}. Line ${e.line}`);e.value instanceof rM||(r=r.clone())}else{if(null===e.type)return void console.error(`Variable ${e.name} has no type. Line ${e.line}`);let i=e.type.name;if("f32"===i||"i32"===i||"u32"===i||"bool"===i||"f16"===i||"vec2"===i||"vec3"===i||"vec4"===i||"vec2f"===i||"vec3f"===i||"vec4f"===i||"vec2i"===i||"vec3i"===i||"vec4i"===i||"vec2u"===i||"vec3u"===i||"vec4u"===i||"vec2h"===i||"vec3h"===i||"vec4h"===i||"vec2b"===i||"vec3b"===i||"vec4b"===i||"mat2x2"===i||"mat2x3"===i||"mat2x4"===i||"mat3x2"===i||"mat3x3"===i||"mat3x4"===i||"mat4x2"===i||"mat4x3"===i||"mat4x4"===i||"mat2x2f"===i||"mat2x3f"===i||"mat2x4f"===i||"mat3x2f"===i||"mat3x3f"===i||"mat3x4f"===i||"mat4x2f"===i||"mat4x3f"===i||"mat4x4f"===i||"mat2x2h"===i||"mat2x3h"===i||"mat2x4h"===i||"mat3x2h"===i||"mat3x3h"===i||"mat3x4h"===i||"mat4x2h"===i||"mat4x3h"===i||"mat4x4h"===i||e.type instanceof rp||e.type instanceof rc||e.type instanceof rh){let i=new ry(e.type,[]);r=this._evalCreate(i,t)}}t.createVariable(e.name,r,e)}_switch(e,t){t=t.clone();let r=this.evalExpression(e.condition,t);if(!(r instanceof rB))return console.error(`Invalid if condition. Line ${e.line}`),null;let i=null;for(let n of e.cases)if(n instanceof rT)for(let s of n.selectors){if(s instanceof rI){i=n;continue}let a=this.evalExpression(s,t);if(!(a instanceof rB))return console.error(`Invalid case selector. Line ${e.line}`),null;if(a.value===r.value)return this._execStatements(n.body,t)}else n instanceof rz&&(i=n);return i?this._execStatements(i.body,t):null}_if(e,t){t=t.clone();let r=this.evalExpression(e.condition,t);if(!(r instanceof rB))return console.error(`Invalid if condition. Line ${e.line}`),null;if(r.value)return this._execStatements(e.body,t);for(let r of e.elseif){let i=this.evalExpression(r.condition,t);if(!(i instanceof rB))return console.error(`Invalid if condition. Line ${e.line}`),null;if(i.value)return this._execStatements(r.body,t)}return e.else?this._execStatements(e.else,t):null}_getScalarValue(e){return e instanceof rB?e.value:(console.error("Expected scalar value.",e),0)}_for(e,t){for(t=t.clone(),this.execStatement(e.init,t);this._getScalarValue(this.evalExpression(e.condition,t));){let r=this._execStatements(e.body,t);if(r===ia._breakObj)break;if(null!==r&&r!==ia._continueObj)return r;this.execStatement(e.increment,t)}return null}_loop(e,t){for(t=t.clone();;){let r=this._execStatements(e.body,t);if(r===ia._breakObj)break;if(r===ia._continueObj){if(e.continuing&&this._execStatements(e.continuing.body,t)===ia._breakObj)break}else if(null!==r)return r}return null}_while(e,t){for(t=t.clone();this._getScalarValue(this.evalExpression(e.condition,t));){let r=this._execStatements(e.body,t);if(r===ia._breakObj)break;if(r!==ia._continueObj&&null!==r)return r}return null}_evalBitcast(e,t){let r=this.evalExpression(e.value,t),i=e.type;if(r instanceof rB)return new rB(r9(r.value,r.typeInfo.name,i.name),this.getTypeInfo(i));if(r instanceof rL){let t=r.typeInfo.getTypeName(),n="";if(t.endsWith("f"))n="f32";else if(t.endsWith("i"))n="i32";else if(t.endsWith("u"))n="u32";else if(t.endsWith("b"))n="bool";else{if(!t.endsWith("h"))return console.error(`Unknown vector type ${t}. Line ${e.line}`),null;n="f16"}let s=i.getTypeName(),a="";if(s.endsWith("f"))a="f32";else if(s.endsWith("i"))a="i32";else if(s.endsWith("u"))a="u32";else if(s.endsWith("b"))a="bool";else{if(!s.endsWith("h"))return console.error(`Unknown vector type ${a}. Line ${e.line}`),null;a="f16"}return new rL(function(e,t,r){if(t===r)return e;let i=Array(e.length);for(let n=0;n<e.length;n++)i[n]=r9(e[n],t,r);return i}(Array.from(r.data),n,a),this.getTypeInfo(i))}return console.error(`TODO: bitcast for ${r.typeInfo.name}. Line ${e.line}`),null}_evalConst(e,t){return t.getVariableValue(e.name).clone().getSubData(this,e.postfix,t)}_evalCreate(e,t){var r;if(e instanceof ry){if(null===e.type)return rP.void;switch(e.type.getTypeName()){case"bool":case"i32":case"u32":case"f32":case"f16":return this._callConstructorValue(e,t);case"vec2":case"vec3":case"vec4":case"vec2f":case"vec3f":case"vec4f":case"vec2h":case"vec3h":case"vec4h":case"vec2i":case"vec3i":case"vec4i":case"vec2u":case"vec3u":case"vec4u":case"vec2b":case"vec3b":case"vec4b":return this._callConstructorVec(e,t);case"mat2x2":case"mat2x2f":case"mat2x2h":case"mat2x3":case"mat2x3f":case"mat2x3h":case"mat2x4":case"mat2x4f":case"mat2x4h":case"mat3x2":case"mat3x2f":case"mat3x2h":case"mat3x3":case"mat3x3f":case"mat3x3h":case"mat3x4":case"mat3x4f":case"mat3x4h":case"mat4x2":case"mat4x2f":case"mat4x2h":case"mat4x3":case"mat4x3f":case"mat4x3h":case"mat4x4":case"mat4x4f":case"mat4x4h":return this._callConstructorMatrix(e,t)}}let i=e instanceof ry?e.type.name:e.name,n=e instanceof ry?this.getTypeInfo(e.type):this.getTypeInfo(e.name);if(null===n)return console.error(`Unknown type ${i}. Line ${e.line}`),null;if(0===n.size)return null;let s=new rV(new ArrayBuffer(n.size),n,0);if(n instanceof tS){if(e.args)for(let r=0;r<e.args.length;++r){let i=n.members[r],a=e.args[r],o=this.evalExpression(a,t);s.setData(this,o,i.type,i.offset,t)}}else if(n instanceof tk){let i=0;if(e.args)for(let a=0;a<e.args.length;++a){let o=e.args[a],l=this.evalExpression(o,t);null===n.format&&("x32"===(null==(r=l.typeInfo)?void 0:r.name)?n.format=this.getTypeInfo("i32"):n.format=l.typeInfo),s.setData(this,l,n.format,i,t),i+=n.stride}}else console.error(`Unknown type "${i}". Line ${e.line}`);return e instanceof ry?s.getSubData(this,e.postfix,t):s}_evalLiteral(e,t){let r=this.getTypeInfo(e.type),i=r.name;return"x32"===i||"u32"===i||"f32"===i||"f16"===i||"i32"===i||"bool"===i?new rB(e.scalarValue,r):"vec2"===i||"vec3"===i||"vec4"===i||"vec2f"===i||"vec3f"===i||"vec4f"===i||"vec2h"===i||"vec3h"===i||"vec4h"===i||"vec2i"===i||"vec3i"===i||"vec4i"===i||"vec2u"===i||"vec3u"===i||"vec4u"===i?this._callConstructorVec(e,t):"mat2x2"===i||"mat2x3"===i||"mat2x4"===i||"mat3x2"===i||"mat3x3"===i||"mat3x4"===i||"mat4x2"===i||"mat4x3"===i||"mat4x4"===i||"mat2x2f"===i||"mat2x3f"===i||"mat2x4f"===i||"mat3x2f"===i||"mat3x3f"===i||"mat3x4f"===i||"mat4x2f"===i||"mat4x3f"===i||"mat4x4f"===i||"mat2x2h"===i||"mat2x3h"===i||"mat2x4h"===i||"mat3x2h"===i||"mat3x3h"===i||"mat3x4h"===i||"mat4x2h"===i||"mat4x3h"===i||"mat4x4h"===i?this._callConstructorMatrix(e,t):e.value}_evalVariable(e,t){let r=t.getVariableValue(e.name);return null===r?r:r.getSubData(this,e.postfix,t)}_maxFormatTypeInfo(e){let t=e[0];if("f32"===t.name)return t;for(let r=1;r<e.length;++r){let i=ia._priority.get(t.name);ia._priority.get(e[r].name)<i&&(t=e[r])}return"x32"===t.name?this.getTypeInfo("i32"):t}_evalUnaryOp(e,t){let r=this.evalExpression(e.right,t);if("&"===e.operator)return new rR(r);if("*"===e.operator)return r instanceof rR?r.reference.getSubData(this,e.postfix,t):(console.error(`Invalid dereference. Line ${e.line}`),null);let i=r instanceof rB?r.value:r instanceof rL?Array.from(r.data):null;switch(e.operator){case"+":if(rq(i))return new rL(i.map((e,t)=>+e),r.typeInfo);return new rB(+i,this._maxFormatTypeInfo([r.typeInfo,r.typeInfo]));case"-":if(rq(i))return new rL(i.map((e,t)=>-e),r.typeInfo);return new rB(-i,this._maxFormatTypeInfo([r.typeInfo,r.typeInfo]));case"!":if(rq(i))return new rL(i.map((e,t)=>+!e),r.typeInfo);return new rB(+!i,this._maxFormatTypeInfo([r.typeInfo,r.typeInfo]));case"~":if(rq(i))return new rL(i.map((e,t)=>~e),r.typeInfo);return new rB(~i,this._maxFormatTypeInfo([r.typeInfo,r.typeInfo]))}return console.error(`Invalid unary operator ${e.operator}. Line ${e.line}`),null}_evalBinaryOp(e,t){let r=this.evalExpression(e.left,t),i=this.evalExpression(e.right,t),n=r instanceof rB?r.value:r instanceof rL||r instanceof rF?Array.from(r.data):null,s=i instanceof rB?i.value:i instanceof rL||i instanceof rF?Array.from(i.data):null;switch(e.operator){case"+":if(rq(n)&&rq(s)){if(n.length!==s.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;return new rL(n.map((e,t)=>e+s[t]),r.typeInfo)}if(rq(n))return new rL(n.map((e,t)=>e+s),r.typeInfo);if(rq(s))return new rL(s.map((e,t)=>n+e),i.typeInfo);return new rB(n+s,this._maxFormatTypeInfo([r.typeInfo,i.typeInfo]));case"-":if(rq(n)&&rq(s)){if(n.length!==s.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;return new rL(n.map((e,t)=>e-s[t]),r.typeInfo)}if(rq(n))return new rL(n.map((e,t)=>e-s),r.typeInfo);if(rq(s))return new rL(s.map((e,t)=>n-e),i.typeInfo);return new rB(n-s,this._maxFormatTypeInfo([r.typeInfo,i.typeInfo]));case"*":if(rq(n)&&rq(s)){if(r instanceof rF&&i instanceof rF){let t=function(e,t,r,i){if(void 0===is[t.name]||void 0===is[i.name])return null;let n=is[t.name][0],s=is[t.name][1],a=is[i.name][0];if(n!==is[i.name][1])return null;let o=Array(a*s);for(let t=0;t<s;t++)for(let i=0;i<a;i++){let l=0;for(let a=0;a<n;a++)l+=e[a*s+t]*r[i*n+a];o[t*a+i]=l}return o}(n,r.typeInfo,s,i.typeInfo);if(null===t)return console.error(`Matrix multiplication failed. Line ${e.line}.`),null;let a=is[i.typeInfo.name][0],o=is[r.typeInfo.name][1];return new rF(t,this.getTypeInfo(`mat${a}x${o}f`))}if(r instanceof rF&&i instanceof rL){let t=function(e,t,r,i){if(void 0===is[t.name]||void 0===ii[i.name])return null;let n=is[t.name][0],s=is[t.name][1];if(n!==r.length)return null;let a=Array(s);for(let t=0;t<s;t++){let i=0;for(let a=0;a<n;a++)i+=e[a*s+t]*r[a];a[t]=i}return a}(n,r.typeInfo,s,i.typeInfo);return null===t?(console.error(`Matrix vector multiplication failed. Line ${e.line}.`),null):new rL(t,i.typeInfo)}if(r instanceof rL&&i instanceof rF){let t=function(e,t,r,i){if(void 0===ii[t.name]||void 0===is[i.name])return null;let n=is[i.name][0],s=is[i.name][1];if(s!==e.length)return null;let a=[];for(let t=0;t<n;t++){let i=0;for(let a=0;a<s;a++)i+=e[a]*r[a*n+t];a[t]=i}return a}(n,r.typeInfo,s,i.typeInfo);return null===t?(console.error(`Matrix vector multiplication failed. Line ${e.line}.`),null):new rL(t,r.typeInfo)}if(n.length!==s.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;return new rL(n.map((e,t)=>e*s[t]),r.typeInfo)}if(rq(n)){let e=n.map((e,t)=>e*s);return r instanceof rF?new rF(e,r.typeInfo):new rL(e,r.typeInfo)}if(rq(s)){let e=s.map((e,t)=>n*e);return i instanceof rF?new rF(e,i.typeInfo):new rL(e,i.typeInfo)}return new rB(n*s,this._maxFormatTypeInfo([r.typeInfo,i.typeInfo]));case"%":if(rq(n)&&rq(s)){if(n.length!==s.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;return new rL(n.map((e,t)=>e%s[t]),r.typeInfo)}if(rq(n))return new rL(n.map((e,t)=>e%s),r.typeInfo);if(rq(s))return new rL(s.map((e,t)=>n%e),i.typeInfo);return new rB(n%s,this._maxFormatTypeInfo([r.typeInfo,i.typeInfo]));case"/":if(rq(n)&&rq(s)){if(n.length!==s.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;return new rL(n.map((e,t)=>e/s[t]),r.typeInfo)}if(rq(n))return new rL(n.map((e,t)=>e/s),r.typeInfo);if(rq(s))return new rL(s.map((e,t)=>n/e),i.typeInfo);return new rB(n/s,this._maxFormatTypeInfo([r.typeInfo,i.typeInfo]));case"&":if(rq(n)&&rq(s)){if(n.length!==s.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;return new rL(n.map((e,t)=>e&s[t]),r.typeInfo)}if(rq(n))return new rL(n.map((e,t)=>e&s),r.typeInfo);if(rq(s))return new rL(s.map((e,t)=>n&e),i.typeInfo);return new rB(n&s,this._maxFormatTypeInfo([r.typeInfo,i.typeInfo]));case"|":if(rq(n)&&rq(s)){if(n.length!==s.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;return new rL(n.map((e,t)=>e|s[t]),r.typeInfo)}if(rq(n))return new rL(n.map((e,t)=>e|s),r.typeInfo);if(rq(s))return new rL(s.map((e,t)=>n|e),i.typeInfo);return new rB(n|s,this._maxFormatTypeInfo([r.typeInfo,i.typeInfo]));case"^":if(rq(n)&&rq(s)){if(n.length!==s.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;return new rL(n.map((e,t)=>e^s[t]),r.typeInfo)}if(rq(n))return new rL(n.map((e,t)=>e^s),r.typeInfo);if(rq(s))return new rL(s.map((e,t)=>n^e),i.typeInfo);return new rB(n^s,this._maxFormatTypeInfo([r.typeInfo,i.typeInfo]));case"<<":if(rq(n)&&rq(s)){if(n.length!==s.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;return new rL(n.map((e,t)=>e<<s[t]),r.typeInfo)}if(rq(n))return new rL(n.map((e,t)=>e<<s),r.typeInfo);if(rq(s))return new rL(s.map((e,t)=>n<<e),i.typeInfo);return new rB(n<<s,this._maxFormatTypeInfo([r.typeInfo,i.typeInfo]));case">>":if(rq(n)&&rq(s)){if(n.length!==s.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;return new rL(n.map((e,t)=>e>>s[t]),r.typeInfo)}if(rq(n))return new rL(n.map((e,t)=>e>>s),r.typeInfo);if(rq(s))return new rL(s.map((e,t)=>n>>e),i.typeInfo);return new rB(n>>s,this._maxFormatTypeInfo([r.typeInfo,i.typeInfo]));case">":if(rq(n)&&rq(s)){if(n.length!==s.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;return new rL(n.map((e,t)=>+(e>s[t])),r.typeInfo)}if(rq(n))return new rL(n.map((e,t)=>+(e>s)),r.typeInfo);if(rq(s))return new rL(s.map((e,t)=>+(n>e)),i.typeInfo);return new rB(+(n>s),this.getTypeInfo("bool"));case"<":if(rq(n)&&rq(s)){if(n.length!==s.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;return new rL(n.map((e,t)=>+(e<s[t])),r.typeInfo)}if(rq(n))return new rL(n.map((e,t)=>+(e<s)),r.typeInfo);if(rq(s))return new rL(s.map((e,t)=>+(n<e)),i.typeInfo);return new rB(+(n<s),this.getTypeInfo("bool"));case"==":if(rq(n)&&rq(s)){if(n.length!==s.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;return new rL(n.map((e,t)=>+(e===s[t])),r.typeInfo)}if(rq(n))return new rL(n.map((e,t)=>+(e==s)),r.typeInfo);if(rq(s))return new rL(s.map((e,t)=>+(n==e)),i.typeInfo);return new rB(+(n===s),this.getTypeInfo("bool"));case"!=":if(rq(n)&&rq(s)){if(n.length!==s.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;return new rL(n.map((e,t)=>+(e!==s[t])),r.typeInfo)}if(rq(n))return new rL(n.map((e,t)=>+(e!==s)),r.typeInfo);if(rq(s))return new rL(s.map((e,t)=>+(n!==e)),i.typeInfo);return new rB(+(n!==s),this.getTypeInfo("bool"));case">=":if(rq(n)&&rq(s)){if(n.length!==s.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;return new rL(n.map((e,t)=>+(e>=s[t])),r.typeInfo)}if(rq(n))return new rL(n.map((e,t)=>+(e>=s)),r.typeInfo);if(rq(s))return new rL(s.map((e,t)=>+(n>=e)),i.typeInfo);return new rB(+(n>=s),this.getTypeInfo("bool"));case"<=":if(rq(n)&&rq(s)){if(n.length!==s.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;return new rL(n.map((e,t)=>+(e<=s[t])),r.typeInfo)}if(rq(n))return new rL(n.map((e,t)=>+(e<=s)),r.typeInfo);if(rq(s))return new rL(s.map((e,t)=>+(n<=e)),i.typeInfo);return new rB(+(n<=s),this.getTypeInfo("bool"));case"&&":if(rq(n)&&rq(s)){if(n.length!==s.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;return new rL(n.map((e,t)=>e&&s[t]?1:0),r.typeInfo)}if(rq(n))return new rL(n.map((e,t)=>e&&s?1:0),r.typeInfo);if(rq(s))return new rL(s.map((e,t)=>n&&e?1:0),i.typeInfo);return new rB(n&&s?1:0,this.getTypeInfo("bool"));case"||":if(rq(n)&&rq(s)){if(n.length!==s.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;return new rL(n.map((e,t)=>e||s[t]?1:0),r.typeInfo)}if(rq(n))return new rL(n.map((e,t)=>e||s?1:0),r.typeInfo);if(rq(s))return new rL(s.map((e,t)=>n||e?1:0),i.typeInfo);return new rB(n||s?1:0,this.getTypeInfo("bool"))}return console.error(`Unknown operator ${e.operator}. Line ${e.line}`),null}_evalCall(e,t){if(null!==e.cachedReturnValue)return e.cachedReturnValue;let r=t.clone();r.currentFunctionName=e.name;let i=t.getFunction(e.name);if(!i)return e.isBuiltin?this._callBuiltinFunction(e,r):this.getTypeInfo(e.name)?this._evalCreate(e,t):(console.error(`Unknown function "${e.name}". Line ${e.line}`),null);for(let t=0;t<i.node.args.length;++t){let n=i.node.args[t],s=this.evalExpression(e.args[t],r);r.createVariable(n.name,s,n)}return this._execStatements(i.node.body,r)}_callBuiltinFunction(e,t){switch(e.name){case"all":return this.builtins.All(e,t);case"any":return this.builtins.Any(e,t);case"select":return this.builtins.Select(e,t);case"arrayLength":return this.builtins.ArrayLength(e,t);case"abs":return this.builtins.Abs(e,t);case"acos":return this.builtins.Acos(e,t);case"acosh":return this.builtins.Acosh(e,t);case"asin":return this.builtins.Asin(e,t);case"asinh":return this.builtins.Asinh(e,t);case"atan":return this.builtins.Atan(e,t);case"atanh":return this.builtins.Atanh(e,t);case"atan2":return this.builtins.Atan2(e,t);case"ceil":return this.builtins.Ceil(e,t);case"clamp":return this.builtins.Clamp(e,t);case"cos":return this.builtins.Cos(e,t);case"cosh":return this.builtins.Cosh(e,t);case"countLeadingZeros":return this.builtins.CountLeadingZeros(e,t);case"countOneBits":return this.builtins.CountOneBits(e,t);case"countTrailingZeros":return this.builtins.CountTrailingZeros(e,t);case"cross":return this.builtins.Cross(e,t);case"degrees":return this.builtins.Degrees(e,t);case"determinant":return this.builtins.Determinant(e,t);case"distance":return this.builtins.Distance(e,t);case"dot":return this.builtins.Dot(e,t);case"dot4U8Packed":return this.builtins.Dot4U8Packed(e,t);case"dot4I8Packed":return this.builtins.Dot4I8Packed(e,t);case"exp":return this.builtins.Exp(e,t);case"exp2":return this.builtins.Exp2(e,t);case"extractBits":return this.builtins.ExtractBits(e,t);case"faceForward":return this.builtins.FaceForward(e,t);case"firstLeadingBit":return this.builtins.FirstLeadingBit(e,t);case"firstTrailingBit":return this.builtins.FirstTrailingBit(e,t);case"floor":return this.builtins.Floor(e,t);case"fma":return this.builtins.Fma(e,t);case"fract":return this.builtins.Fract(e,t);case"frexp":return this.builtins.Frexp(e,t);case"insertBits":return this.builtins.InsertBits(e,t);case"inverseSqrt":return this.builtins.InverseSqrt(e,t);case"ldexp":return this.builtins.Ldexp(e,t);case"length":return this.builtins.Length(e,t);case"log":return this.builtins.Log(e,t);case"log2":return this.builtins.Log2(e,t);case"max":return this.builtins.Max(e,t);case"min":return this.builtins.Min(e,t);case"mix":return this.builtins.Mix(e,t);case"modf":return this.builtins.Modf(e,t);case"normalize":return this.builtins.Normalize(e,t);case"pow":return this.builtins.Pow(e,t);case"quantizeToF16":return this.builtins.QuantizeToF16(e,t);case"radians":return this.builtins.Radians(e,t);case"reflect":return this.builtins.Reflect(e,t);case"refract":return this.builtins.Refract(e,t);case"reverseBits":return this.builtins.ReverseBits(e,t);case"round":return this.builtins.Round(e,t);case"saturate":return this.builtins.Saturate(e,t);case"sign":return this.builtins.Sign(e,t);case"sin":return this.builtins.Sin(e,t);case"sinh":return this.builtins.Sinh(e,t);case"smoothStep":return this.builtins.SmoothStep(e,t);case"sqrt":return this.builtins.Sqrt(e,t);case"step":return this.builtins.Step(e,t);case"tan":return this.builtins.Tan(e,t);case"tanh":return this.builtins.Tanh(e,t);case"transpose":return this.builtins.Transpose(e,t);case"trunc":return this.builtins.Trunc(e,t);case"dpdx":return this.builtins.Dpdx(e,t);case"dpdxCoarse":return this.builtins.DpdxCoarse(e,t);case"dpdxFine":return this.builtins.DpdxFine(e,t);case"dpdy":return this.builtins.Dpdy(e,t);case"dpdyCoarse":return this.builtins.DpdyCoarse(e,t);case"dpdyFine":return this.builtins.DpdyFine(e,t);case"fwidth":return this.builtins.Fwidth(e,t);case"fwidthCoarse":return this.builtins.FwidthCoarse(e,t);case"fwidthFine":return this.builtins.FwidthFine(e,t);case"textureDimensions":return this.builtins.TextureDimensions(e,t);case"textureGather":return this.builtins.TextureGather(e,t);case"textureGatherCompare":return this.builtins.TextureGatherCompare(e,t);case"textureLoad":return this.builtins.TextureLoad(e,t);case"textureNumLayers":return this.builtins.TextureNumLayers(e,t);case"textureNumLevels":return this.builtins.TextureNumLevels(e,t);case"textureNumSamples":return this.builtins.TextureNumSamples(e,t);case"textureSample":return this.builtins.TextureSample(e,t);case"textureSampleBias":return this.builtins.TextureSampleBias(e,t);case"textureSampleCompare":return this.builtins.TextureSampleCompare(e,t);case"textureSampleCompareLevel":return this.builtins.TextureSampleCompareLevel(e,t);case"textureSampleGrad":return this.builtins.TextureSampleGrad(e,t);case"textureSampleLevel":return this.builtins.TextureSampleLevel(e,t);case"textureSampleBaseClampToEdge":return this.builtins.TextureSampleBaseClampToEdge(e,t);case"textureStore":return this.builtins.TextureStore(e,t);case"atomicLoad":return this.builtins.AtomicLoad(e,t);case"atomicStore":return this.builtins.AtomicStore(e,t);case"atomicAdd":return this.builtins.AtomicAdd(e,t);case"atomicSub":return this.builtins.AtomicSub(e,t);case"atomicMax":return this.builtins.AtomicMax(e,t);case"atomicMin":return this.builtins.AtomicMin(e,t);case"atomicAnd":return this.builtins.AtomicAnd(e,t);case"atomicOr":return this.builtins.AtomicOr(e,t);case"atomicXor":return this.builtins.AtomicXor(e,t);case"atomicExchange":return this.builtins.AtomicExchange(e,t);case"atomicCompareExchangeWeak":return this.builtins.AtomicCompareExchangeWeak(e,t);case"pack4x8snorm":return this.builtins.Pack4x8snorm(e,t);case"pack4x8unorm":return this.builtins.Pack4x8unorm(e,t);case"pack4xI8":return this.builtins.Pack4xI8(e,t);case"pack4xU8":return this.builtins.Pack4xU8(e,t);case"pack4x8Clamp":return this.builtins.Pack4x8Clamp(e,t);case"pack4xU8Clamp":return this.builtins.Pack4xU8Clamp(e,t);case"pack2x16snorm":return this.builtins.Pack2x16snorm(e,t);case"pack2x16unorm":return this.builtins.Pack2x16unorm(e,t);case"pack2x16float":return this.builtins.Pack2x16float(e,t);case"unpack4x8snorm":return this.builtins.Unpack4x8snorm(e,t);case"unpack4x8unorm":return this.builtins.Unpack4x8unorm(e,t);case"unpack4xI8":return this.builtins.Unpack4xI8(e,t);case"unpack4xU8":return this.builtins.Unpack4xU8(e,t);case"unpack2x16snorm":return this.builtins.Unpack2x16snorm(e,t);case"unpack2x16unorm":return this.builtins.Unpack2x16unorm(e,t);case"unpack2x16float":return this.builtins.Unpack2x16float(e,t);case"storageBarrier":return this.builtins.StorageBarrier(e,t);case"textureBarrier":return this.builtins.TextureBarrier(e,t);case"workgroupBarrier":return this.builtins.WorkgroupBarrier(e,t);case"workgroupUniformLoad":return this.builtins.WorkgroupUniformLoad(e,t);case"subgroupAdd":return this.builtins.SubgroupAdd(e,t);case"subgroupExclusiveAdd":return this.builtins.SubgroupExclusiveAdd(e,t);case"subgroupInclusiveAdd":return this.builtins.SubgroupInclusiveAdd(e,t);case"subgroupAll":return this.builtins.SubgroupAll(e,t);case"subgroupAnd":return this.builtins.SubgroupAnd(e,t);case"subgroupAny":return this.builtins.SubgroupAny(e,t);case"subgroupBallot":return this.builtins.SubgroupBallot(e,t);case"subgroupBroadcast":return this.builtins.SubgroupBroadcast(e,t);case"subgroupBroadcastFirst":return this.builtins.SubgroupBroadcastFirst(e,t);case"subgroupElect":return this.builtins.SubgroupElect(e,t);case"subgroupMax":return this.builtins.SubgroupMax(e,t);case"subgroupMin":return this.builtins.SubgroupMin(e,t);case"subgroupMul":return this.builtins.SubgroupMul(e,t);case"subgroupExclusiveMul":return this.builtins.SubgroupExclusiveMul(e,t);case"subgroupInclusiveMul":return this.builtins.SubgroupInclusiveMul(e,t);case"subgroupOr":return this.builtins.SubgroupOr(e,t);case"subgroupShuffle":return this.builtins.SubgroupShuffle(e,t);case"subgroupShuffleDown":return this.builtins.SubgroupShuffleDown(e,t);case"subgroupShuffleUp":return this.builtins.SubgroupShuffleUp(e,t);case"subgroupShuffleXor":return this.builtins.SubgroupShuffleXor(e,t);case"subgroupXor":return this.builtins.SubgroupXor(e,t);case"quadBroadcast":return this.builtins.QuadBroadcast(e,t);case"quadSwapDiagonal":return this.builtins.QuadSwapDiagonal(e,t);case"quadSwapX":return this.builtins.QuadSwapX(e,t);case"quadSwapY":return this.builtins.QuadSwapY(e,t)}let r=t.getFunction(e.name);if(r){let i=t.clone();for(let t=0;t<r.node.args.length;++t){let n=r.node.args[t],s=this.evalExpression(e.args[t],i);i.setVariable(n.name,s,n)}return this._execStatements(r.node.body,i)}return null}_callConstructorValue(e,t){if(!e.args||0===e.args.length)return new rB(0,this.getTypeInfo(e.type));let r=this.evalExpression(e.args[0],t);return r.typeInfo=this.getTypeInfo(e.type),r.getSubData(this,e.postfix,t).clone()}_callConstructorVec(e,t){let r=this.getTypeInfo(e.type),i=e.type.getTypeName(),n=ii[i];if(void 0===n)return console.error(`Invalid vec constructor ${i}. Line ${e.line}`),null;let s=[];if(e instanceof rw)if(e.isVector)for(let t of e.vectorValue)s.push(t);else s.push(e.scalarValue);else if(e.args)for(let r of e.args){let e=this.evalExpression(r,t);if(e instanceof rL){let t=e.data;for(let e=0;e<t.length;++e){let r=t[e];s.push(r)}}else if(e instanceof rB){let t=e.value;s.push(t)}}if(e.type instanceof rh&&null===e.type.format&&(e.type.format=rh.f32),0===s.length)return new rL(Array(n).fill(0),r).getSubData(this,e.postfix,t);if(1===s.length)for(;s.length<n;)s.push(s[0]);return s.length<n?(console.error(`Invalid vec constructor. Line ${e.line}`),null):new rL(s.length>n?s.slice(0,n):s,r).getSubData(this,e.postfix,t)}_callConstructorMatrix(e,t){let r=this.getTypeInfo(e.type),i=e.type.getTypeName(),n=is[i];if(void 0===n)return console.error(`Invalid matrix constructor ${i}. Line ${e.line}`),null;let s=[];if(e instanceof rw)if(e.isVector)for(let t of e.vectorValue)s.push(t);else s.push(e.scalarValue);else if(e.args)for(let r of e.args){let e=this.evalExpression(r,t);e instanceof rL?s.push(...e.data):e instanceof rB?s.push(e.value):e instanceof rF&&s.push(...e.data)}return(r instanceof tC&&null===r.format&&(r.format=this.getTypeInfo("f32")),0===s.length)?new rF(Array(n[2]).fill(0),r).getSubData(this,e.postfix,t):s.length!==n[2]?(console.error(`Invalid matrix constructor. Line ${e.line}`),null):new rF(s,r).getSubData(this,e.postfix,t)}}ia._breakObj=new rD(new tw("BREAK",null),null),ia._continueObj=new rD(new tw("CONTINUE",null),null),ia._priority=new Map([["f32",0],["f16",1],["u32",2],["i32",3],["x32",3]]);class io{constructor(){this.constants=new Map,this.aliases=new Map,this.structs=new Map}}class il{constructor(){this._tokens=[],this._current=0,this._currentLine=1,this._deferArrayCountEval=[],this._currentLoop=[],this._context=new io,this._exec=new ia,this._forwardTypeCount=0}parse(e){this._initialize(e),this._deferArrayCountEval.length=0;let t=[];for(;!this._isAtEnd();){let e=this._global_decl_or_directive();if(!e)break;t.push(e)}if(this._deferArrayCountEval.length>0){for(let e of this._deferArrayCountEval){let t=e.arrayType,r=e.countNode;if(r instanceof rv){let e=r.name,i=this._context.constants.get(e);if(i)try{t.count=i.constEvaluate(this._exec)}catch(e){}}}this._deferArrayCountEval.length=0}if(this._forwardTypeCount>0)for(let e of t)e.search(e=>{e instanceof rj||e instanceof rd?e.type=this._forwardType(e.type):e instanceof rp?e.format=this._forwardType(e.format):e instanceof t1||e instanceof t2||e instanceof t9?e.type=this._forwardType(e.type):e instanceof tX?e.returnType=this._forwardType(e.returnType):e instanceof rE&&(e.type=this._forwardType(e.type))});return t}_forwardType(e){if(e instanceof ru){let t=this._getType(e.name);if(t)return t}else e instanceof rd?e.type=this._forwardType(e.type):e instanceof rp&&(e.format=this._forwardType(e.format));return e}_initialize(e){if(e)if("string"==typeof e){let t=new rH(e);this._tokens=t.scanTokens()}else this._tokens=e;else this._tokens=[];this._current=0}_updateNode(e,t){return e.line=null!=t?t:this._currentLine,e}_error(e,t){return{token:e,message:t,toString:()=>`${t}`}}_isAtEnd(){return this._current>=this._tokens.length||this._peek().type==rW.eof}_match(e){if(e instanceof r$)return!!this._check(e)&&(this._advance(),!0);for(let t=0,r=e.length;t<r;++t){let r=e[t];if(this._check(r))return this._advance(),!0}return!1}_consume(e,t){if(this._check(e))return this._advance();throw this._error(this._peek(),`${t}. Line:${this._currentLine}`)}_check(e){if(this._isAtEnd())return!1;let t=this._peek();if(e instanceof Array){let r=t.type,i=!1;for(let t of e){if(r===t)return!0;t===rW.tokens.name&&(i=!0)}if(i){let e=rW.tokens.name.rule.exec(t.lexeme);if(e&&0==e.index&&e[0]==t.lexeme)return!0}return!1}if(t.type===e)return!0;if(e===rW.tokens.name){let e=rW.tokens.name.rule.exec(t.lexeme);return e&&0==e.index&&e[0]==t.lexeme}return!1}_advance(){var e,t;return this._currentLine=null!=(t=null==(e=this._peek())?void 0:e.line)?t:-1,this._isAtEnd()||this._current++,this._previous()}_peek(){return this._tokens[this._current]}_previous(){return this._tokens[this._current-1]}_global_decl_or_directive(){for(;this._match(rW.tokens.semicolon)&&!this._isAtEnd(););if(this._match(rW.keywords.alias)){let e=this._type_alias();return this._consume(rW.tokens.semicolon,"Expected ';'"),this._exec.reflection.updateAST([e]),e}if(this._match(rW.keywords.diagnostic)){let e=this._diagnostic();return this._consume(rW.tokens.semicolon,"Expected ';'"),this._exec.reflection.updateAST([e]),e}if(this._match(rW.keywords.requires)){let e=this._requires_directive();return this._consume(rW.tokens.semicolon,"Expected ';'"),this._exec.reflection.updateAST([e]),e}if(this._match(rW.keywords.enable)){let e=this._enable_directive();return this._consume(rW.tokens.semicolon,"Expected ';'"),this._exec.reflection.updateAST([e]),e}let e=this._attribute();if(this._check(rW.keywords.var)){let t=this._global_variable_decl();return null!=t&&(t.attributes=e),this._consume(rW.tokens.semicolon,"Expected ';'."),this._exec.reflection.updateAST([t]),t}if(this._check(rW.keywords.override)){let t=this._override_variable_decl();return null!=t&&(t.attributes=e),this._consume(rW.tokens.semicolon,"Expected ';'."),this._exec.reflection.updateAST([t]),t}if(this._check(rW.keywords.let)){let t=this._global_let_decl();return null!=t&&(t.attributes=e),this._consume(rW.tokens.semicolon,"Expected ';'."),this._exec.reflection.updateAST([t]),t}if(this._check(rW.keywords.const)){let t=this._global_const_decl();return null!=t&&(t.attributes=e),this._consume(rW.tokens.semicolon,"Expected ';'."),this._exec.reflection.updateAST([t]),t}if(this._check(rW.keywords.struct)){let t=this._struct_decl();return null!=t&&(t.attributes=e),this._exec.reflection.updateAST([t]),t}if(this._check(rW.keywords.fn)){let t=this._function_decl();return null!=t&&(t.attributes=e),this._exec.reflection.updateAST([t]),t}return null}_function_decl(){if(!this._match(rW.keywords.fn))return null;let e=this._currentLine,t=this._consume(rW.tokens.ident,"Expected function name.").toString();this._consume(rW.tokens.paren_left,"Expected '(' for function arguments.");let r=[];if(!this._check(rW.tokens.paren_right))do{if(this._check(rW.tokens.paren_right))break;let e=this._attribute(),t=this._consume(rW.tokens.name,"Expected argument name.").toString();this._consume(rW.tokens.colon,"Expected ':' for argument type.");let i=this._attribute(),n=this._type_decl();null!=n&&(n.attributes=i,r.push(this._updateNode(new rE(t,n,e))))}while(this._match(rW.tokens.comma))this._consume(rW.tokens.paren_right,"Expected ')' after function arguments.");let i=null;if(this._match(rW.tokens.arrow)){let e=this._attribute();null!=(i=this._type_decl())&&(i.attributes=e)}let n=this._compound_statement(),s=this._currentLine;return this._updateNode(new tX(t,r,i,n,e,s),e)}_compound_statement(){let e=[];for(this._consume(rW.tokens.brace_left,"Expected '{' for block.");!this._check(rW.tokens.brace_right);){let t=this._statement();null!==t&&e.push(t)}return this._consume(rW.tokens.brace_right,"Expected '}' for block."),e}_statement(){for(;this._match(rW.tokens.semicolon)&&!this._isAtEnd(););if(this._check(rW.tokens.attr)&&this._attribute(),this._check(rW.keywords.if))return this._if_statement();if(this._check(rW.keywords.switch))return this._switch_statement();if(this._check(rW.keywords.loop))return this._loop_statement();if(this._check(rW.keywords.for))return this._for_statement();if(this._check(rW.keywords.while))return this._while_statement();if(this._check(rW.keywords.continuing))return this._continuing_statement();if(this._check(rW.keywords.static_assert))return this._static_assert_statement();if(this._check(rW.tokens.brace_left))return this._compound_statement();let e=null;if(this._check(rW.keywords.return))e=this._return_statement();else if(this._check([rW.keywords.var,rW.keywords.let,rW.keywords.const]))e=this._variable_statement();else if(this._match(rW.keywords.discard))e=this._updateNode(new rs);else if(this._match(rW.keywords.break)){let t=this._updateNode(new ra);this._currentLoop.length>0&&(t.loopId=this._currentLoop[this._currentLoop.length-1].id),e=t,this._check(rW.keywords.if)&&(this._advance(),t.condition=this._optional_paren_expression())}else if(this._match(rW.keywords.continue)){let t=this._updateNode(new ro);if(!(this._currentLoop.length>0))throw this._error(this._peek(),`Continue statement must be inside a loop. Line: ${t.line}`);t.loopId=this._currentLoop[this._currentLoop.length-1].id,e=t}else e=this._increment_decrement_statement()||this._func_call_statement()||this._assignment_statement();return null!=e&&this._consume(rW.tokens.semicolon,"Expected ';' after statement."),e}_static_assert_statement(){if(!this._match(rW.keywords.static_assert))return null;let e=this._currentLine,t=this._optional_paren_expression();return this._updateNode(new tZ(t),e)}_while_statement(){if(!this._match(rW.keywords.while))return null;let e=this._updateNode(new tJ(null,null));return this._currentLoop.push(e),e.condition=this._optional_paren_expression(),this._check(rW.tokens.attr)&&this._attribute(),e.body=this._compound_statement(),this._currentLoop.pop(),e}_continuing_statement(){let e=this._currentLoop.length>0?this._currentLoop[this._currentLoop.length-1].id:-1;if(!this._match(rW.keywords.continuing))return null;let t=this._currentLine,r=this._compound_statement();return this._updateNode(new tK(r,e),t)}_for_statement(){if(!this._match(rW.keywords.for))return null;this._consume(rW.tokens.paren_left,"Expected '('.");let e=this._updateNode(new tQ(null,null,null,null));return this._currentLoop.push(e),e.init=this._check(rW.tokens.semicolon)?null:this._for_init(),this._consume(rW.tokens.semicolon,"Expected ';'."),e.condition=this._check(rW.tokens.semicolon)?null:this._short_circuit_or_expression(),this._consume(rW.tokens.semicolon,"Expected ';'."),e.increment=this._check(rW.tokens.paren_right)?null:this._for_increment(),this._consume(rW.tokens.paren_right,"Expected ')'."),this._check(rW.tokens.attr)&&this._attribute(),e.body=this._compound_statement(),this._currentLoop.pop(),e}_for_init(){return this._variable_statement()||this._func_call_statement()||this._assignment_statement()}_for_increment(){return this._func_call_statement()||this._increment_decrement_statement()||this._assignment_statement()}_variable_statement(){if(this._check(rW.keywords.var)){let e=this._variable_decl();if(null===e)throw this._error(this._peek(),"Variable declaration expected.");let t=null;return this._match(rW.tokens.equal)&&(t=this._short_circuit_or_expression()),this._updateNode(new t1(e.name,e.type,e.storage,e.access,t),e.line)}if(this._match(rW.keywords.let)){let e=this._currentLine,t=this._consume(rW.tokens.name,"Expected name for let.").toString(),r=null;if(this._match(rW.tokens.colon)){let e=this._attribute();null!=(r=this._type_decl())&&(r.attributes=e)}this._consume(rW.tokens.equal,"Expected '=' for let.");let i=this._short_circuit_or_expression();return this._updateNode(new t2(t,r,null,null,i),e)}if(this._match(rW.keywords.const)){let e=this._currentLine,t=this._consume(rW.tokens.name,"Expected name for const.").toString(),r=null;if(this._match(rW.tokens.colon)){let e=this._attribute();null!=(r=this._type_decl())&&(r.attributes=e)}this._consume(rW.tokens.equal,"Expected '=' for const.");let i=this._short_circuit_or_expression();return null===r&&i instanceof rw&&(r=i.type),this._updateNode(new t9(t,r,null,null,i),e)}return null}_increment_decrement_statement(){let e=this._current,t=this._unary_expression();if(null==t)return null;if(!this._check(rW.increment_operators))return this._current=e,null;let r=this._consume(rW.increment_operators,"Expected increment operator");return this._updateNode(new t3(r.type===rW.tokens.plus_plus?o.increment:o.decrement,t))}_assignment_statement(){let e=null,t=this._currentLine;if(this._check(rW.tokens.brace_right))return null;let r=this._match(rW.tokens.underscore);if(r||(e=this._unary_expression()),!r&&null==e)return null;let i=this._consume(rW.assignment_operators,"Expected assignment operator."),n=this._short_circuit_or_expression();return this._updateNode(new t4(l.parse(i.lexeme),e,n),t)}_func_call_statement(){if(!this._check(rW.tokens.ident))return null;let e=this._currentLine,t=this._current,r=this._consume(rW.tokens.ident,"Expected function name."),i=this._argument_expression_list();return null===i?(this._current=t,null):this._updateNode(new t8(r.lexeme,i),e)}_loop_statement(){if(!this._match(rW.keywords.loop))return null;this._check(rW.tokens.attr)&&this._attribute(),this._consume(rW.tokens.brace_left,"Expected '{' for loop.");let e=this._updateNode(new t6([],null));this._currentLoop.push(e);let t=this._statement();for(;null!==t;){if(Array.isArray(t))for(let r of t)e.body.push(r);else e.body.push(t);if(t instanceof tK){e.continuing=t;break}t=this._statement()}return this._currentLoop.pop(),this._consume(rW.tokens.brace_right,"Expected '}' for loop."),e}_switch_statement(){if(!this._match(rW.keywords.switch))return null;let e=this._updateNode(new t5(null,[]));if(this._currentLoop.push(e),e.condition=this._optional_paren_expression(),this._check(rW.tokens.attr)&&this._attribute(),this._consume(rW.tokens.brace_left,"Expected '{' for switch."),e.cases=this._switch_body(),null==e.cases||0==e.cases.length)throw this._error(this._previous(),"Expected 'case' or 'default'.");return this._consume(rW.tokens.brace_right,"Expected '}' for switch."),this._currentLoop.pop(),e}_switch_body(){let e=[],t=!1;for(;this._check([rW.keywords.default,rW.keywords.case]);){if(this._match(rW.keywords.case)){let r=this._case_selectors();for(let e of r)if(e instanceof rI){if(t)throw this._error(this._previous(),"Multiple default cases in switch statement.");t=!0;break}this._match(rW.tokens.colon),this._check(rW.tokens.attr)&&this._attribute(),this._consume(rW.tokens.brace_left,"Exected '{' for switch case.");let i=this._case_body();this._consume(rW.tokens.brace_right,"Exected '}' for switch case."),e.push(this._updateNode(new rT(r,i)))}if(this._match(rW.keywords.default)){if(t)throw this._error(this._previous(),"Multiple default cases in switch statement.");this._match(rW.tokens.colon),this._check(rW.tokens.attr)&&this._attribute(),this._consume(rW.tokens.brace_left,"Exected '{' for switch default.");let r=this._case_body();this._consume(rW.tokens.brace_right,"Exected '}' for switch default."),e.push(this._updateNode(new rz(r)))}}return e}_case_selectors(){let e=[];for(this._match(rW.keywords.default)?e.push(this._updateNode(new rI)):e.push(this._shift_expression());this._match(rW.tokens.comma);)this._match(rW.keywords.default)?e.push(this._updateNode(new rI)):e.push(this._shift_expression());return e}_case_body(){if(this._match(rW.keywords.fallthrough))return this._consume(rW.tokens.semicolon,"Expected ';'"),[];let e=this._statement();if(null==e)return[];e instanceof Array||(e=[e]);let t=this._case_body();return 0==t.length?e:[...e,t[0]]}_if_statement(){if(!this._match(rW.keywords.if))return null;let e=this._currentLine,t=this._optional_paren_expression();this._check(rW.tokens.attr)&&this._attribute();let r=this._compound_statement(),i=[];this._match_elseif()&&(this._check(rW.tokens.attr)&&this._attribute(),i=this._elseif_statement(i));let n=null;return this._match(rW.keywords.else)&&(this._check(rW.tokens.attr)&&this._attribute(),n=this._compound_statement()),this._updateNode(new t7(t,r,i,n),e)}_match_elseif(){return this._tokens[this._current].type===rW.keywords.else&&this._tokens[this._current+1].type===rW.keywords.if&&(this._advance(),this._advance(),!0)}_elseif_statement(e=[]){let t=this._optional_paren_expression(),r=this._compound_statement();return e.push(this._updateNode(new rN(t,r))),this._match_elseif()&&(this._check(rW.tokens.attr)&&this._attribute(),this._elseif_statement(e)),e}_return_statement(){if(!this._match(rW.keywords.return))return null;let e=this._short_circuit_or_expression();return this._updateNode(new re(e))}_short_circuit_or_expression(){let e=this._short_circuit_and_expr();for(;this._match(rW.tokens.or_or);)e=this._updateNode(new rC(this._previous().toString(),e,this._short_circuit_and_expr()));return e}_short_circuit_and_expr(){let e=this._inclusive_or_expression();for(;this._match(rW.tokens.and_and);)e=this._updateNode(new rC(this._previous().toString(),e,this._inclusive_or_expression()));return e}_inclusive_or_expression(){let e=this._exclusive_or_expression();for(;this._match(rW.tokens.or);)e=this._updateNode(new rC(this._previous().toString(),e,this._exclusive_or_expression()));return e}_exclusive_or_expression(){let e=this._and_expression();for(;this._match(rW.tokens.xor);)e=this._updateNode(new rC(this._previous().toString(),e,this._and_expression()));return e}_and_expression(){let e=this._equality_expression();for(;this._match(rW.tokens.and);)e=this._updateNode(new rC(this._previous().toString(),e,this._equality_expression()));return e}_equality_expression(){let e=this._relational_expression();return this._match([rW.tokens.equal_equal,rW.tokens.not_equal])?this._updateNode(new rC(this._previous().toString(),e,this._relational_expression())):e}_relational_expression(){let e=this._shift_expression();for(;this._match([rW.tokens.less_than,rW.tokens.greater_than,rW.tokens.less_than_equal,rW.tokens.greater_than_equal]);)e=this._updateNode(new rC(this._previous().toString(),e,this._shift_expression()));return e}_shift_expression(){let e=this._additive_expression();for(;this._match([rW.tokens.shift_left,rW.tokens.shift_right]);)e=this._updateNode(new rC(this._previous().toString(),e,this._additive_expression()));return e}_additive_expression(){let e=this._multiplicative_expression();for(;this._match([rW.tokens.plus,rW.tokens.minus]);)e=this._updateNode(new rC(this._previous().toString(),e,this._multiplicative_expression()));return e}_multiplicative_expression(){let e=this._unary_expression();for(;this._match([rW.tokens.star,rW.tokens.forward_slash,rW.tokens.modulo]);)e=this._updateNode(new rC(this._previous().toString(),e,this._unary_expression()));return e}_unary_expression(){return this._match([rW.tokens.minus,rW.tokens.bang,rW.tokens.tilde,rW.tokens.star,rW.tokens.and])?this._updateNode(new rM(this._previous().toString(),this._unary_expression())):this._singular_expression()}_singular_expression(){let e=this._primary_expression(),t=this._postfix_expression();return t&&(e.postfix=t),e}_postfix_expression(){if(this._match(rW.tokens.bracket_left)){let e=this._short_circuit_or_expression();this._consume(rW.tokens.bracket_right,"Expected ']'.");let t=this._updateNode(new rS(e)),r=this._postfix_expression();return r&&(t.postfix=r),t}if(this._match(rW.tokens.period)){let e=this._consume(rW.tokens.name,"Expected member name."),t=this._postfix_expression(),r=this._updateNode(new rg(e.lexeme));return t&&(r.postfix=t),r}return null}_getStruct(e){return this._context.aliases.has(e)?this._context.aliases.get(e).type:this._context.structs.has(e)?this._context.structs.get(e):null}_getType(e){let t=this._getStruct(e);if(null!==t)return t;switch(e){case"void":return rl.void;case"bool":return rl.bool;case"i32":return rl.i32;case"u32":return rl.u32;case"f32":return rl.f32;case"f16":return rl.f16;case"vec2f":return rh.vec2f;case"vec3f":return rh.vec3f;case"vec4f":return rh.vec4f;case"vec2i":return rh.vec2i;case"vec3i":return rh.vec3i;case"vec4i":return rh.vec4i;case"vec2u":return rh.vec2u;case"vec3u":return rh.vec3u;case"vec4u":return rh.vec4u;case"vec2h":return rh.vec2h;case"vec3h":return rh.vec3h;case"vec4h":return rh.vec4h;case"mat2x2f":return rh.mat2x2f;case"mat2x3f":return rh.mat2x3f;case"mat2x4f":return rh.mat2x4f;case"mat3x2f":return rh.mat3x2f;case"mat3x3f":return rh.mat3x3f;case"mat3x4f":return rh.mat3x4f;case"mat4x2f":return rh.mat4x2f;case"mat4x3f":return rh.mat4x3f;case"mat4x4f":return rh.mat4x4f;case"mat2x2h":return rh.mat2x2h;case"mat2x3h":return rh.mat2x3h;case"mat2x4h":return rh.mat2x4h;case"mat3x2h":return rh.mat3x2h;case"mat3x3h":return rh.mat3x3h;case"mat3x4h":return rh.mat3x4h;case"mat4x2h":return rh.mat4x2h;case"mat4x3h":return rh.mat4x3h;case"mat4x4h":return rh.mat4x4h;case"mat2x2i":return rh.mat2x2i;case"mat2x3i":return rh.mat2x3i;case"mat2x4i":return rh.mat2x4i;case"mat3x2i":return rh.mat3x2i;case"mat3x3i":return rh.mat3x3i;case"mat3x4i":return rh.mat3x4i;case"mat4x2i":return rh.mat4x2i;case"mat4x3i":return rh.mat4x3i;case"mat4x4i":return rh.mat4x4i;case"mat2x2u":return rh.mat2x2u;case"mat2x3u":return rh.mat2x3u;case"mat2x4u":return rh.mat2x4u;case"mat3x2u":return rh.mat3x2u;case"mat3x3u":return rh.mat3x3u;case"mat3x4u":return rh.mat3x4u;case"mat4x2u":return rh.mat4x2u;case"mat4x3u":return rh.mat4x3u;case"mat4x4u":return rh.mat4x4u}return null}_validateTypeRange(e,t){if("i32"===t.name){if(e<-0x80000000||e>0x7fffffff)throw this._error(this._previous(),`Value out of range for i32: ${e}. Line: ${this._currentLine}.`)}else if("u32"===t.name&&(e<0||e>0xffffffff))throw this._error(this._previous(),`Value out of range for u32: ${e}. Line: ${this._currentLine}.`)}_primary_expression(){if(this._match(rW.tokens.ident)){let e=this._previous().toString();if(this._check(rW.tokens.paren_left)){let t=this._argument_expression_list(),r=this._getType(e);return null!==r?this._updateNode(new ry(r,t)):this._updateNode(new rx(e,t))}if(this._context.constants.has(e)){let t=this._context.constants.get(e);return this._updateNode(new rb(e,t.value))}return this._updateNode(new rv(e))}if(this._match(rW.tokens.int_literal)){let e=this._previous().toString(),t=e.endsWith("i")||e.endsWith("i")?rl.i32:e.endsWith("u")||e.endsWith("U")?rl.u32:rl.x32,r=parseInt(e);return this._validateTypeRange(r,t),this._updateNode(new rw(new rB(r,this._exec.getTypeInfo(t)),t))}if(this._match(rW.tokens.uint_literal)){let e=parseInt(this._previous().toString());return this._validateTypeRange(e,rl.u32),this._updateNode(new rw(new rB(e,this._exec.getTypeInfo(rl.u32)),rl.u32))}if(this._match([rW.tokens.decimal_float_literal,rW.tokens.hex_float_literal])){let e=this._previous().toString(),t=e.endsWith("h");t&&(e=e.substring(0,e.length-1));let r=parseFloat(e);this._validateTypeRange(r,t?rl.f16:rl.f32);let i=t?rl.f16:rl.f32;return this._updateNode(new rw(new rB(r,this._exec.getTypeInfo(i)),i))}if(this._match([rW.keywords.true,rW.keywords.false])){let e=this._previous().toString()===rW.keywords.true.rule;return this._updateNode(new rw(new rB(+!!e,this._exec.getTypeInfo(rl.bool)),rl.bool))}if(this._check(rW.tokens.paren_left))return this._paren_expression();if(this._match(rW.keywords.bitcast)){this._consume(rW.tokens.less_than,"Expected '<'.");let e=this._type_decl();this._consume(rW.tokens.greater_than,"Expected '>'.");let t=this._paren_expression();return this._updateNode(new r_(e,t))}let e=this._type_decl(),t=this._argument_expression_list();return this._updateNode(new ry(e,t))}_argument_expression_list(){if(!this._match(rW.tokens.paren_left))return null;let e=[];do{if(this._check(rW.tokens.paren_right))break;let t=this._short_circuit_or_expression();e.push(t)}while(this._match(rW.tokens.comma))return this._consume(rW.tokens.paren_right,"Expected ')' for agument list"),e}_optional_paren_expression(){this._match(rW.tokens.paren_left);let e=this._short_circuit_or_expression();return this._match(rW.tokens.paren_right),e}_paren_expression(){this._consume(rW.tokens.paren_left,"Expected '('.");let e=this._short_circuit_or_expression();return this._consume(rW.tokens.paren_right,"Expected ')'."),e}_struct_decl(){if(!this._match(rW.keywords.struct))return null;let e=this._currentLine,t=this._consume(rW.tokens.ident,"Expected name for struct.").toString();this._consume(rW.tokens.brace_left,"Expected '{' for struct body.");let r=[];for(;!this._check(rW.tokens.brace_right);){let e=this._attribute(),t=this._consume(rW.tokens.name,"Expected variable name.").toString();this._consume(rW.tokens.colon,"Expected ':' for struct member type.");let i=this._attribute(),n=this._type_decl();null!=n&&(n.attributes=i),this._check(rW.tokens.brace_right)?this._match(rW.tokens.comma):this._consume(rW.tokens.comma,"Expected ',' for struct member."),r.push(this._updateNode(new rj(t,n,e)))}this._consume(rW.tokens.brace_right,"Expected '}' after struct body.");let i=this._currentLine,n=this._updateNode(new rc(t,r,e,i),e);return this._context.structs.set(t,n),n}_global_variable_decl(){let e=this._variable_decl();if(!e)return null;if(this._match(rW.tokens.equal)&&(e.value=this._const_expression()),null!==e.type&&e.value instanceof rw){if("x32"!==e.value.type.name&&e.type.getTypeName()!==e.value.type.getTypeName())throw this._error(this._peek(),`Invalid cast from ${e.value.type.name} to ${e.type.name}. Line:${this._currentLine}`);e.value.isScalar&&this._validateTypeRange(e.value.scalarValue,e.type),e.value.type=e.type}else null===e.type&&e.value instanceof rw&&(e.type="x32"===e.value.type.name?rl.i32:e.value.type,e.value.isScalar&&this._validateTypeRange(e.value.scalarValue,e.type));return e}_override_variable_decl(){let e=this._override_decl();return e&&this._match(rW.tokens.equal)&&(e.value=this._const_expression()),e}_global_const_decl(){var e;if(!this._match(rW.keywords.const))return null;let t=this._consume(rW.tokens.name,"Expected variable name"),r=this._currentLine,i=null;if(this._match(rW.tokens.colon)){let e=this._attribute();null!=(i=this._type_decl())&&(i.attributes=e)}let n=null;this._consume(rW.tokens.equal,"const declarations require an assignment");let s=this._short_circuit_or_expression();try{let e=[rl.f32],r=s.constEvaluate(this._exec,e);r instanceof rB&&this._validateTypeRange(r.value,e[0]),e[0]instanceof rh&&null===e[0].format&&r.typeInfo instanceof tC&&null!==r.typeInfo.format&&("f16"===r.typeInfo.format.name?e[0].format=rl.f16:"f32"===r.typeInfo.format.name?e[0].format=rl.f32:"i32"===r.typeInfo.format.name?e[0].format=rl.i32:"u32"===r.typeInfo.format.name?e[0].format=rl.u32:"bool"===r.typeInfo.format.name?e[0].format=rl.bool:console.error(`TODO: impelement template format type ${r.typeInfo.format.name}`)),n=this._updateNode(new rw(r,e[0])),this._exec.context.setVariable(t.toString(),r)}catch(e){n=s}if(null!==i&&n instanceof rw){if("x32"!==n.type.name&&i.getTypeName()!==n.type.getTypeName())throw this._error(this._peek(),`Invalid cast from ${n.type.name} to ${i.name}. Line:${this._currentLine}`);n.type=i,n.isScalar&&this._validateTypeRange(n.scalarValue,n.type)}else null===i&&n instanceof rw&&(i=null!=(e=null==n?void 0:n.type)?e:rl.f32)===rl.x32&&(i=rl.i32);let a=this._updateNode(new t9(t.toString(),i,"","",n),r);return this._context.constants.set(a.name,a),a}_global_let_decl(){if(!this._match(rW.keywords.let))return null;let e=this._currentLine,t=this._consume(rW.tokens.name,"Expected variable name"),r=null;if(this._match(rW.tokens.colon)){let e=this._attribute();null!=(r=this._type_decl())&&(r.attributes=e)}let i=null;if(this._match(rW.tokens.equal)&&(i=this._const_expression()),null!==r&&i instanceof rw){if("x32"!==i.type.name&&r.getTypeName()!==i.type.getTypeName())throw this._error(this._peek(),`Invalid cast from ${i.type.name} to ${r.name}. Line:${this._currentLine}`);i.type=r}else null===r&&i instanceof rw&&(r="x32"===i.type.name?rl.i32:i.type);return i instanceof rw&&i.isScalar&&this._validateTypeRange(i.scalarValue,r),this._updateNode(new t2(t.toString(),r,"","",i),e)}_const_expression(){return this._short_circuit_or_expression()}_variable_decl(){if(!this._match(rW.keywords.var))return null;let e=this._currentLine,t="",r="";this._match(rW.tokens.less_than)&&(t=this._consume(rW.storage_class,"Expected storage_class.").toString(),this._match(rW.tokens.comma)&&(r=this._consume(rW.access_mode,"Expected access_mode.").toString()),this._consume(rW.tokens.greater_than,"Expected '>'."));let i=this._consume(rW.tokens.name,"Expected variable name"),n=null;if(this._match(rW.tokens.colon)){let e=this._attribute();null!=(n=this._type_decl())&&(n.attributes=e)}return this._updateNode(new t1(i.toString(),n,t,r,null),e)}_override_decl(){if(!this._match(rW.keywords.override))return null;let e=this._consume(rW.tokens.name,"Expected variable name"),t=null;if(this._match(rW.tokens.colon)){let e=this._attribute();null!=(t=this._type_decl())&&(t.attributes=e)}return this._updateNode(new t0(e.toString(),t,null))}_diagnostic(){this._consume(rW.tokens.paren_left,"Expected '('");let e=this._consume(rW.tokens.ident,"Expected severity control name.");this._consume(rW.tokens.comma,"Expected ','");let t=this._consume(rW.tokens.ident,"Expected diagnostic rule name.").toString();return this._match(rW.tokens.period)&&(t+=`.${this._consume(rW.tokens.ident,"Expected diagnostic message.").toString()}`),this._consume(rW.tokens.paren_right,"Expected ')'"),this._updateNode(new ri(e.toString(),t))}_enable_directive(){let e=this._consume(rW.tokens.ident,"identity expected.");return this._updateNode(new rt(e.toString()))}_requires_directive(){let e=[this._consume(rW.tokens.ident,"identity expected.").toString()];for(;this._match(rW.tokens.comma);){let t=this._consume(rW.tokens.ident,"identity expected.");e.push(t.toString())}return this._updateNode(new rr(e))}_type_alias(){let e=this._consume(rW.tokens.ident,"identity expected.");this._consume(rW.tokens.equal,"Expected '=' for type alias.");let t=this._type_decl();if(null===t)throw this._error(this._peek(),"Expected Type for Alias.");this._context.aliases.has(t.name)&&(t=this._context.aliases.get(t.name).type);let r=this._updateNode(new rn(e.toString(),t));return this._context.aliases.set(r.name,r),r}_type_decl(){if(this._check([rW.tokens.ident,...rW.texel_format,rW.keywords.bool,rW.keywords.f32,rW.keywords.i32,rW.keywords.u32])){let e=this._advance().toString();if(this._context.structs.has(e))return this._context.structs.get(e);if(this._context.aliases.has(e))return this._context.aliases.get(e).type;if(!this._getType(e)){let t=this._updateNode(new ru(e));return this._forwardTypeCount++,t}return this._updateNode(new rl(e))}let e=this._texture_sampler_types();if(e)return e;if(this._check(rW.template_types)){let e=this._advance().toString(),t=null,r=null;return this._match(rW.tokens.less_than)&&(t=this._type_decl(),r=null,this._match(rW.tokens.comma)&&(r=this._consume(rW.access_mode,"Expected access_mode for pointer").toString()),this._consume(rW.tokens.greater_than,"Expected '>' for type.")),this._updateNode(new rh(e,t,r))}if(this._match(rW.keywords.ptr)){let e=this._previous().toString();this._consume(rW.tokens.less_than,"Expected '<' for pointer.");let t=this._consume(rW.storage_class,"Expected storage_class for pointer");this._consume(rW.tokens.comma,"Expected ',' for pointer.");let r=this._type_decl(),i=null;return this._match(rW.tokens.comma)&&(i=this._consume(rW.access_mode,"Expected access_mode for pointer").toString()),this._consume(rW.tokens.greater_than,"Expected '>' for pointer."),this._updateNode(new rd(e,t.toString(),r,i))}let t=this._attribute();if(this._match(rW.keywords.array)){let e=null,r=-1,i=this._previous(),n=null;if(this._match(rW.tokens.less_than)){e=this._type_decl(),this._context.aliases.has(e.name)&&(e=this._context.aliases.get(e.name).type);let t="";if(this._match(rW.tokens.comma)){n=this._shift_expression();try{t=n.constEvaluate(this._exec).toString(),n=null}catch(e){t="1"}}this._consume(rW.tokens.greater_than,"Expected '>' for array."),r=t?parseInt(t):0}let s=this._updateNode(new rp(i.toString(),t,e,r));return n&&this._deferArrayCountEval.push({arrayType:s,countNode:n}),s}return null}_texture_sampler_types(){if(this._match(rW.sampler_type)||this._match(rW.depth_texture_type))return this._updateNode(new rf(this._previous().toString(),null,null));if(this._match(rW.sampled_texture_type)||this._match(rW.multisampled_texture_type)){let e=this._previous();this._consume(rW.tokens.less_than,"Expected '<' for sampler type.");let t=this._type_decl();return this._consume(rW.tokens.greater_than,"Expected '>' for sampler type."),this._updateNode(new rf(e.toString(),t,null))}if(this._match(rW.storage_texture_type)){let e=this._previous();this._consume(rW.tokens.less_than,"Expected '<' for sampler type.");let t=this._consume(rW.texel_format,"Invalid texel format.").toString();this._consume(rW.tokens.comma,"Expected ',' after texel format.");let r=this._consume(rW.access_mode,"Expected access mode for storage texture type.").toString();return this._consume(rW.tokens.greater_than,"Expected '>' for sampler type."),this._updateNode(new rf(e.toString(),t,r))}return null}_attribute(){let e=[];for(;this._match(rW.tokens.attr);){let t=this._consume(rW.attribute_name,"Expected attribute name"),r=this._updateNode(new rO(t.toString(),null));if(this._match(rW.tokens.paren_left)){if(r.value=this._consume(rW.literal_or_ident,"Expected attribute value").toString(),this._check(rW.tokens.comma)){this._advance();do{let e=this._consume(rW.literal_or_ident,"Expected attribute value").toString();r.value instanceof Array||(r.value=[r.value]),r.value.push(e)}while(this._match(rW.tokens.comma))}this._consume(rW.tokens.paren_right,"Expected ')'")}e.push(r)}return 0==e.length?null:e}}class iu extends r8{constructor(e){super(),e&&this.update(e)}update(e){let t=(new il).parse(e);this.updateAST(t)}}function ic(e,t){return Object.fromEntries(t.map(t=>{let r=function(e,t,r){switch(t.resourceType){case a.Uniform:case a.Storage:case a.StorageTexture:return iy(e,t.type,0);default:return{size:0,type:t.type.name}}}(e,t,0);return[t.name,{typeDefinition:r,group:t.group,binding:t.binding,size:r.size}]}))}function ih(e,t,r){return{fields:Object.fromEntries(t.members.map(t=>[t.name,{offset:t.offset,type:iy(e,t.type,0)}])),size:t.size,offset:r}}function id(e){return e.name.includes("2d_array")?"2d-array":e.name.includes("cube_array")?"cube-array":e.name.includes("3d")?"3d":e.name.includes("1d")?"1d":e.name.includes("cube")?"cube":"2d"}function ip(e,t){let r={};for(let i of e)r[i.name]={stage:t,resources:i.resources.map(e=>{let{name:r,group:i}=e;return{name:r,group:i,entry:function(e,t){let{binding:r,access:i,type:n}=e;switch(e.resourceType){case a.Uniform:return{binding:r,visibility:t,buffer:{...e.size&&{minBindingSize:e.size}}};case a.Storage:return{binding:r,visibility:t,buffer:{type:""===i||"read"===i?"read-only-storage":"storage",...e.size&&{minBindingSize:e.size}}};case a.Texture:{if("texture_external"===n.name)return{binding:r,visibility:t,externalTexture:{}};let e=n.name.includes("multisampled");return{binding:r,visibility:t,texture:{sampleType:function(e){if(e.name.includes("depth"))return"depth";switch(e.format?.name){case"f32":return"float";case"i32":return"sint";case"u32":return"uint";default:throw Error("unknown texture sample type")}}(n),viewDimension:id(n),multisampled:e}}}case a.Sampler:return{binding:r,visibility:t,sampler:{type:n.name.endsWith("_comparison")?"comparison":"filtering"}};case a.StorageTexture:return{binding:r,visibility:t,storageTexture:{access:function(e){switch(e.access){case"read":return"read-only";case"write":return"write-only";case"read_write":return"read-write";default:throw Error("unknonw storage texture access")}}(n),format:n.format.name,viewDimension:id(n)}};default:throw Error("unknown resource type")}}(e,t)}})};return r}function im(e){let t=new iu(e),r=Object.fromEntries(t.structs.map(e=>[e.name,ih(t,e,0)])),i=ic(t,t.uniforms),n=ic(t,t.storage.filter(e=>e.resourceType===a.Storage)),s=ic(t,t.storage.filter(e=>e.resourceType===a.StorageTexture)),o=ic(t,t.textures.filter(e=>"texture_external"!==e.type.name)),l=ic(t,t.textures.filter(e=>"texture_external"===e.type.name));return{externalTextures:l,samplers:ic(t,t.samplers),structs:r,storages:n,storageTextures:s,textures:o,uniforms:i,entryPoints:{...ip(t.entry.vertex,GPUShaderStage.VERTEX),...ip(t.entry.fragment,GPUShaderStage.FRAGMENT),...ip(t.entry.compute,GPUShaderStage.COMPUTE)}}}function ig(e,t=""){if(!e)throw Error(t)}function iy(e,t,r){if(t.isArray)return ig(!t.isStruct,"struct array is invalid"),ig(!t.isStruct,"template array is invalid"),{size:t.size,elementType:iy(e,t.format,r),numElements:t.count};if(t.isStruct)return ig(!t.isTemplate,"template struct is invalid"),ih(e,t,r);{let e=t.isTemplate?`${t.name}<${t.format.name}>`:t.name;return{size:t.size,type:e}}}new WeakMap,[...new Map([[Int8Array,{formats:["sint8","snorm8"],defaultForType:1}],[Uint8Array,{formats:["uint8","unorm8"],defaultForType:1}],[Int16Array,{formats:["sint16","snorm16"],defaultForType:1}],[Uint16Array,{formats:["uint16","unorm16"],defaultForType:1}],[Int32Array,{formats:["sint32","snorm32"],defaultForType:0}],[Uint32Array,{formats:["uint32","unorm32"],defaultForType:0}],[Float32Array,{formats:["float32","float32"],defaultForType:0}]]).entries()].map(([e,{formats:[t,r]}])=>[[t,e],[r,e]]).flat(),Int8Array,Uint8Array,Int8Array,Uint8Array,Int16Array,Uint16Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Int32Array,Uint32Array,Uint16Array,Float32Array;let ix=e=>{let t="f16"===e?"enable f16;":"",r=`
        ${t}
        struct Params {
            zStride: u32,
            yStride: u32,
            xStride: u32,
            xSize: u32,
            ySize: u32,
            reduceDim: u32,
            dimLength: u32,
        };
        @group(0) @binding(0) var<storage, read> inputData: array<${e}>;
        @group(0) @binding(1) var<storage, read_write> outputData: array<${e}>;
        @group(0) @binding(2) var<uniform> params: Params;

        @compute @workgroup_size(16, 16, 1)
        fn main(@builtin(global_invocation_id) global_id: vec3<u32>) {
            let zStride = params.zStride;
            let yStride = params.yStride;
            let xStride = params.xStride;
            let xSize = params.xSize;
            let ySize = params.ySize;
            let reduceDim = params.reduceDim;
            let dimLength = params.dimLength;
                            
            let outX = global_id.y;
            let outY = global_id.x;
            
            if (outX >= xSize || outY >= ySize) {
                return;
            }
    `,i=`
        ${t}
        struct Params {
            xStride: u32,
            yStride: u32,
            zStride: u32,
            xSize: u32,
            ySize: u32,
            zSize: u32,
            workGroups: vec3<u32>,
            kernelSize: u32,
            kernelDepth: u32
        };
        @group(0) @binding(0) var<storage, read> inputData: array<${e}>;
        @group(0) @binding(1) var<storage, read_write> outputData: array<${e}>;
        @group(0) @binding(2) var<uniform> params: Params;
        
        @compute @workgroup_size(4, 4, 4)
        fn main(@builtin(global_invocation_id) global_id: vec3<u32>) {
            let zStride = params.zStride;
            let yStride = params.yStride;
            let xStride = params.xStride; 
            let xSize = params.xSize;
            let ySize = params.ySize;
            let zSize = params.zSize; 
            let workGroups = params.workGroups;
            let kernelSize = params.kernelSize;
            let kernelDepth = params.kernelDepth;

            let outX = global_id.x; 
            let outY = global_id.y;
            let outZ = global_id.z; 

            if (outX >= xSize || outY >= ySize || outZ >= zSize) {
                return;
            }

            let total_threads_per_slice = workGroups.x * workGroups.y * 16;
            let globalIdx = global_id.z * total_threads_per_slice + 
                            global_id.y * (workGroups.x * 4) + 
                            global_id.x;

            let xy_radius: i32 = i32(kernelSize/2u);
            let z_radius: i32 = i32(kernelDepth/2u);

            let xy_start: i32 = select(-xy_radius, 0, kernelSize == 1u);
            let xy_end: i32 = select(xy_radius + 1, 1, kernelSize == 1u);
            let z_start: i32 = select(-z_radius, 0, kernelDepth == 1u);
            let z_end: i32 = select(z_radius + 1, 1, kernelDepth == 1u);
    `,n=`
        ${t}
        struct Params {
            xStride: u32,
            yStride: u32,
            xSize: u32,
            ySize: u32,
            kernelSize: u32,
            kernelDepth: u32
        };
        @group(0) @binding(0) var<storage, read> inputData: array<${e}>;
        @group(0) @binding(1) var<storage, read_write> outputData: array<${e}>;
        @group(0) @binding(2) var<uniform> params: Params;

        @compute @workgroup_size(16, 16, 1)
        fn main(@builtin(global_invocation_id) global_id: vec3<u32>,) {
            let xStride = params.xStride; 
            let yStride = params.yStride;
            let xSize = params.xSize;
            let ySize = params.ySize;
            let kernelSize = params.kernelSize;

            let outX = global_id.x; 
            let outY = global_id.y;

            if (outX >= xSize|| outY >= ySize) {
                return;
            }

            let globalIdx = outY * xSize + outX;
            let thisVal = inputData[globalIdx];
            let isNaN: bool = thisVal != thisVal;
            if (isNaN){
                outputData[globalIdx] = thisVal;
                return;
            }   

            let xy_radius: i32 = i32(kernelSize/2u);

    `;return{MeanReduction:`
        ${r}
            var sum: f32 = 0.0;
            
            // Iterate along the dimension we're averaging
            if (reduceDim == 0u) { // Average along Z
                let cCoord = outX * xStride + outY * yStride;
                for (var z: u32 = 0u; z < dimLength; z++) {
                    let inputIndex = cCoord + (z * zStride);
                    let newVal = f32(inputData[u32(inputIndex)]);
                    if (newVal != newVal){ //This only evaluates if newVal is NaN
                        continue;
                    }
                    sum += newVal;
                }
            } else if (reduceDim == 1u) { // Average along Y
                let cCoord = outX * xStride + outY * zStride;
                for (var y: u32 = 0u; y < dimLength; y++) {
                    let inputIndex = cCoord + (y * yStride);
                    let newVal = f32(inputData[u32(inputIndex)]);
                    if (newVal != newVal){ //This only evaluates if newVal is NaN
                        continue;
                    }
                    sum += newVal;
                }
            } else { // Average along X
                let cCoord = outX * yStride + outY * zStride;
                for (var x: u32 = 0u; x < dimLength; x++) {
                    let inputIndex = cCoord + (x * xStride);
                    let newVal = f32(inputData[u32(inputIndex)]);
                    if (newVal != newVal){ //This only evaluates if newVal is NaN
                        continue;
                    }
                    sum += newVal;
                }
            }
            
            let outputIndex = outY * xSize + outX;
            outputData[outputIndex] = ${e}(sum / f32(dimLength));
        }
    `,MinReduction:`
        ${r}
            var min: f32 = 1e12;
            
            // Iterate along the dimension we're averaging
            if (reduceDim == 0u) { // Average along Z
                let cCoord = outX * xStride + outY * yStride;
                for (var z: u32 = 0u; z < dimLength; z++) {
                    let inputIndex = cCoord + (z * zStride);
                    let newMin = f32(inputData[inputIndex]);
                    if (newMin < min) {
                        min = newMin;
                    }
                }
            } else if (reduceDim == 1u) { // Average along Y
                let cCoord = outX * xStride + outY * zStride;
                for (var y: u32 = 0u; y < dimLength; y++) {
                    let inputIndex = cCoord + (y * yStride);
                    let newMin = f32(inputData[inputIndex]);
                    if (newMin < min) {
                        min = newMin;
                    }
                }
            } else { // Average along X
                let cCoord = outX * yStride + outY * zStride;
                for (var x: u32 = 0u; x < dimLength; x++) {
                    let inputIndex = cCoord + (x * xStride);
                    let newMin = f32(inputData[inputIndex]);
                    if (newMin < min) {
                        min = newMin;
                    }
                }
            }
            
            let outputIndex = outY * xSize + outX;
            outputData[outputIndex] = ${e}(min);
        }
    `,MaxReduction:`
        ${r}
            
            var max: f32 = -1e12;
            
            // Iterate along the dimension we're averaging
            if (reduceDim == 0u) { // Average along Z
                let cCoord = outX * xStride + outY * yStride;
                for (var z: u32 = 0u; z < dimLength; z++) {
                    let inputIndex = cCoord + (z * zStride);
                    let newMax = f32(inputData[inputIndex]);
                    if (newMax > max) {
                        max = newMax;
                    }
                }
            } else if (reduceDim == 1u) { // Average along Y
                let cCoord = outX * xStride + outY * zStride;
                for (var y: u32 = 0u; y < dimLength; y++) {
                    let inputIndex = cCoord + (y * yStride);
                    let newMax = f32(inputData[inputIndex]);
                    if (newMax > max) {
                        max = newMax;
                    }
                }
            } else { // Average along X
                let cCoord = outX * yStride + outY * zStride;
                for (var x: u32 = 0u; x < dimLength; x++) {
                    let inputIndex = cCoord + (x * xStride);
                    let newMax = f32(inputData[inputIndex]);
                    if (newMax > max) {
                        max = newMax;
                    }
                }
            }
            
            let outputIndex = outY * xSize + outX;
            outputData[outputIndex] = ${e}(max);
        }
    `,StDevReduction:`
        ${r}
            var sum: f32 = 0.0;
            // Iterate along the dimension we're averaging
            if (reduceDim == 0u) { // Average along Z
                let cCoord = outX * xStride + outY * yStride;
                for (var z: u32 = 0u; z < dimLength; z++) {
                    let inputIndex = cCoord + (z * zStride);
                    let newVal = f32(inputData[u32(inputIndex)]);
                    if (newVal != newVal){ //This only evaluates if newVal is NaN
                        continue;
                    }
                    sum += newVal;
                }
            } else if (reduceDim == 1u) { // Average along Y
                let cCoord = outX * xStride + outY * zStride;
                for (var y: u32 = 0u; y < dimLength; y++) {
                    let inputIndex = cCoord + (y * yStride);
                    let newVal = f32(inputData[u32(inputIndex)]);
                    if (newVal != newVal){ //This only evaluates if newVal is NaN
                        continue;
                    }
                    sum += newVal;
                }
            } else { // Average along X
                let cCoord = outX * yStride + outY * zStride;
                for (var x: u32 = 0u; x < dimLength; x++) {
                    let inputIndex = cCoord + (x * xStride);
                    let newVal = f32(inputData[u32(inputIndex)]);
                    if (newVal != newVal){ //This only evaluates if newVal is NaN
                        continue;
                    }
                    sum += newVal;
                }
            }
            
            let mean: f32 = sum / f32(dimLength);

            var squaredDiffSum: f32 = 0.0;

            // Iterate along the dimension again
            if (reduceDim == 0u) { // Average along Z
                let cCoord = outX * xStride + outY * yStride;
                for (var z: u32 = 0u; z < dimLength; z++) {
                    let inputIndex = cCoord + (z * zStride);
                    let newVal = f32(inputData[u32(inputIndex)]);
                    if (newVal != newVal){ //This only evaluates if newVal is NaN
                        continue;
                    }
                    let diff: f32 = mean - newVal;
                    squaredDiffSum += diff*diff;
                }
            } else if (reduceDim == 1u) { // Average along Y
                let cCoord = outX * xStride + outY * zStride;
                for (var y: u32 = 0u; y < dimLength; y++) {
                    let inputIndex = cCoord + (y * yStride);
                    let newVal = f32(inputData[u32(inputIndex)]);
                    if (newVal != newVal){ //This only evaluates if newVal is NaN
                        continue;
                    }
                    let diff: f32 = mean - newVal;
                    squaredDiffSum += diff*diff;
                }
            } else { // Average along X
                let cCoord = outX * yStride + outY * zStride;
                for (var x: u32 = 0u; x < dimLength; x++) {
                    let inputIndex = cCoord + (x * xStride);
                    let newVal = f32(inputData[u32(inputIndex)]);
                    if (newVal != newVal){ //This only evaluates if newVal is NaN
                        continue;
                    }
                    let diff: f32 = mean - newVal;
                    squaredDiffSum += diff*diff;
                }
            }

            let stDev: f32 = sqrt(squaredDiffSum / f32(dimLength));
            let outputIndex = outY * xSize + outX;
            outputData[outputIndex] = ${e}(stDev);
        }
    `,CUMSUMReduction:`
        ${t}
        struct Params {
            zStride: u32,
            yStride: u32,
            xStride: u32,
            xSize: u32,
            ySize: u32,
            reduceDim: u32,
            dimLength: u32,
        };
        @group(0) @binding(0) var<storage, read> inputData: array<${e}>;
        @group(0) @binding(1) var<storage, read_write> outputData: array<f32>;
        @group(0) @binding(2) var<uniform> params: Params;

        @compute @workgroup_size(16, 16, 1)
        fn main(@builtin(global_invocation_id) global_id: vec3<u32>) {
            let zStride = params.zStride;
            let yStride = params.yStride;
            let xStride = params.xStride;
            let xSize = params.xSize;
            let ySize = params.ySize;
            let reduceDim = params.reduceDim;
            let dimLength = params.dimLength;
                            
            let outX = global_id.y;
            let outY = global_id.x;
            
            if (outX >= xSize || outY >= ySize) {
                return;
            }
            
            var accum: f32 = 0;
            
            // Iterate along the dimension we're averaging
            if (reduceDim == 0u) { // Average along Z
                let cCoord = outX * xStride + outY * yStride;
                for (var z: u32 = 0u; z < dimLength; z++) {
                    let inputIndex = cCoord + (z * zStride);
                    accum += f32(inputData[inputIndex]);
                    
                }
            } else if (reduceDim == 1u) { // Average along Y
                let cCoord = outX * xStride + outY * zStride;
                for (var y: u32 = 0u; y < dimLength; y++) {
                    let inputIndex = cCoord + (y * yStride);
                    accum += f32(inputData[inputIndex]);
                }
            } else { // Average along X
                let cCoord = outX * yStride + outY * zStride;
                for (var x: u32 = 0u; x < dimLength; x++) {
                    let inputIndex = cCoord + (x * xStride);
                    accum += f32(inputData[inputIndex]);
                }
            }
            
            let outputIndex = outY * xSize + outX;
            outputData[outputIndex] = accum;
        }
    `,LinearSlopeReduction:`
        ${r}
            let meanY: f32 = f32(dimLength)/2;
            var sum: f32 = 0.0;


            // Iterate along the dimension we're averaging
            if (reduceDim == 0u) { // Average along Z
                let cCoord = outX * xStride + outY * yStride;
                for (var z: u32 = 0u; z < dimLength; z++) {
                    let inputIndex = cCoord + (z * zStride);
                    sum += f32(inputData[inputIndex]);
                }
            } else if (reduceDim == 1u) { // Average along Y
                let cCoord = outX * xStride + outY * zStride;
                for (var y: u32 = 0u; y < dimLength; y++) {
                    let inputIndex = cCoord + (y * yStride);
                    sum += f32(inputData[inputIndex]);
                }
            } else { // Average along X
                let cCoord = outX * yStride + outY * zStride;
                for (var x: u32 = 0u; x < dimLength; x++) {
                    let inputIndex = cCoord + (x * xStride);
                    sum += f32(inputData[inputIndex]);
                }
            }
            
            let meanX: f32 = sum / f32(dimLength);
            var numSum: f32 = 0;
            var denomSum: f32 = 0;

            if (reduceDim == 0u) { // Average along Z
                let cCoord = outX * xStride + outY * yStride;
                for (var z: u32 = 0u; z < dimLength; z++) {
                    let inputIndex = cCoord + (z * zStride);
                    let xi: f32 = f32(inputData[inputIndex]);
                    numSum += (xi - meanX)*(f32(z) - meanY);
                    denomSum += (f32(z) - meanY)*(f32(z) - meanY);
                }
            } else if (reduceDim == 1u) { // Average along Y
                let cCoord = outX * xStride + outY * zStride;
                for (var y: u32 = 0u; y < dimLength; y++) {
                    let inputIndex = cCoord + (y * yStride);
                    let xi: f32 = f32(inputData[inputIndex]);
                    numSum += (xi - meanX)*(f32(y) - meanY);
                    denomSum += (f32(y) - meanY)*(f32(y) - meanY);
                }
            } else { // Average along X
                let cCoord = outX * yStride + outY * zStride;
                for (var x: u32 = 0u; x < dimLength; x++) {
                    let inputIndex = cCoord + (x * xStride);
                    let xi: f32 = f32(inputData[inputIndex]);
                    numSum += (xi - meanX)*(f32(x) - meanY);
                    denomSum += (f32(x) - meanY)*(f32(x) - meanY);
                }
            }
            
            let outputIndex = outY * xSize + outX;
            outputData[outputIndex] = ${e}(numSum/denomSum);
        }
    `,TwoVarLinearSlopeReduction:`
        ${t}
        struct Params {
        zStride: u32,
        yStride: u32,
        xStride: u32,
        xSize: u32,
        ySize: u32,
        reduceDim: u32,
        dimLength: u32,
        };
        @group(0) @binding(0) var<storage, read> firstData: array<${e}>;
        @group(0) @binding(1) var<storage, read> secondData: array<${e}>;
        @group(0) @binding(2) var<storage, read_write> outputData: array<${e}>;
        @group(0) @binding(3) var<uniform> params: Params;

        @compute @workgroup_size(16, 16, 1)
        fn main(@builtin(global_invocation_id) global_id: vec3<u32>) {
            let zStride = params.zStride;
            let yStride = params.yStride;
            let xStride = params.xStride;
            let xSize = params.xSize;
            let ySize = params.ySize;
            let reduceDim = params.reduceDim;
            let dimLength = params.dimLength;
                            
            let outX = global_id.y;
            let outY = global_id.x;
            
            if (outX >= xSize || outY >= ySize) {
                return;
            }

            var ySum: f32 = 0;
            var xSum: f32 = 0.0;

            // Iterate along the dimension we're averaging
            if (reduceDim == 0u) { 
                let cCoord = outX * xStride + outY * yStride;
                for (var z: u32 = 0u; z < dimLength; z++) {
                    let inputIndex = cCoord + (z * zStride);
                    let xi: f32 = f32(firstData[inputIndex]);
                    let yi: f32 = f32(secondData[inputIndex]);
                    if (xi != xi || yi != yi){ //This only evaluates if a value is NaN
                        continue;
                    }
                    xSum += f32(firstData[inputIndex]);
                    ySum += f32(secondData[inputIndex]);
                }
            } else if (reduceDim == 1u) { 
                let cCoord = outX * xStride + outY * zStride;
                for (var y: u32 = 0u; y < dimLength; y++) {
                    let inputIndex = cCoord + (y * yStride);
                    let xi: f32 = f32(firstData[inputIndex]);
                    let yi: f32 = f32(secondData[inputIndex]);
                    if (xi != xi || yi != yi){ //This only evaluates if a value is NaN
                        continue;
                    }
                    xSum += f32(firstData[inputIndex]);
                    ySum += f32(secondData[inputIndex]);
                }
            } else { 
                let cCoord = outX * yStride + outY * zStride;
                for (var x: u32 = 0u; x < dimLength; x++) {
                    let inputIndex = cCoord + (x * xStride);
                    let xi: f32 = f32(firstData[inputIndex]);
                    let yi: f32 = f32(secondData[inputIndex]);
                    if (xi != xi || yi != yi){ //This only evaluates if a value is NaN
                        continue;
                    }
                    xSum += f32(firstData[inputIndex]);
                    ySum += f32(secondData[inputIndex]);
                }
            }
            
            let xMean: f32 = xSum / f32(dimLength);
            let yMean: f32 = ySum / f32(dimLength);
            var numSum: f32 = 0;
            var denomSum: f32 = 0;

            if (reduceDim == 0u) { // Average along Z
                let cCoord = outX * xStride + outY * yStride;
                for (var z: u32 = 0u; z < dimLength; z++) {
                    let inputIndex = cCoord + (z * zStride);
                    let xi: f32 = f32(firstData[inputIndex]);
                    let yi: f32 = f32(secondData[inputIndex]);
                    if (xi != xi || yi != yi){ //This only evaluates if a value is NaN
                        continue;
                    }
                    numSum += (xi - xMean)*(f32(yi) - yMean);
                    denomSum += (f32(yi) - yMean)*(f32(yi) - yMean);
                }
            } else if (reduceDim == 1u) { // Average along Y
                let cCoord = outX * xStride + outY * zStride;
                for (var y: u32 = 0u; y < dimLength; y++) {
                    let inputIndex = cCoord + (y * yStride);
                    let xi: f32 = f32(firstData[inputIndex]);
                    let yi: f32 = f32(secondData[inputIndex]);
                    if (xi != xi || yi != yi){ //This only evaluates if a value is NaN
                        continue;
                    }
                    numSum += (xi - xMean)*(f32(yi) - yMean);
                    denomSum += (f32(yi) - yMean)*(f32(yi) - yMean);
                }
            } else { // Average along X
                let cCoord = outX * yStride + outY * zStride;
                for (var x: u32 = 0u; x < dimLength; x++) {
                    let inputIndex = cCoord + (x * xStride);
                    let xi: f32 = f32(firstData[inputIndex]);
                    let yi: f32 = f32(secondData[inputIndex]);
                    if (xi != xi || yi != yi){ //This only evaluates if a value is NaN
                        continue;
                    }
                    numSum += (xi - xMean)*(f32(yi) - yMean);
                    denomSum += (f32(yi) - yMean)*(f32(yi) - yMean);
                }
            }
            
            let outputIndex = outY * xSize + outX;
            outputData[outputIndex] = ${e}(numSum/(denomSum+1e-4));
        }
    `,CovarianceReduction:`
        ${t}
        struct Params {
        zStride: u32,
        yStride: u32,
        xStride: u32,
        xSize: u32,
        ySize: u32,
        reduceDim: u32,
        dimLength: u32,
        };
        @group(0) @binding(0) var<storage, read> firstData: array<${e}>;
        @group(0) @binding(1) var<storage, read> secondData: array<${e}>;
        @group(0) @binding(2) var<storage, read_write> outputData: array<${e}>;
        @group(0) @binding(3) var<uniform> params: Params;

        @compute @workgroup_size(16, 16, 1)
        fn main(@builtin(global_invocation_id) global_id: vec3<u32>) {
            let zStride = params.zStride;
            let yStride = params.yStride;
            let xStride = params.xStride;
            let xSize = params.xSize;
            let ySize = params.ySize;
            let reduceDim = params.reduceDim;
            let dimLength = params.dimLength;
                            
            let outX = global_id.y;
            let outY = global_id.x;
            
            if (outX >= xSize || outY >= ySize) {
                return;
            }
            var ySum: f32 = 0;
            var xSum: f32 = 0.0;
            var numSum: f32 = 0;

        // Calculate base coordinate and stride for the dimension we're iterating over
            var baseCoord: u32;
            var iterStride: u32;

            if (reduceDim == 0u) {
                baseCoord = outX * xStride + outY * yStride;
                iterStride = zStride;
            } else if (reduceDim == 1u) {
                baseCoord = outX * xStride + outY * zStride;
                iterStride = yStride;
            } else {
                baseCoord = outX * yStride + outY * zStride;
                iterStride = xStride;
            }

            // Single pass: calculate sums, means, and covariance
            for (var i: u32 = 0u; i < dimLength; i++) {
                let inputIndex = baseCoord + (i * iterStride);
                let xi: f32 = f32(firstData[inputIndex]);
                let yi: f32 = f32(secondData[inputIndex]);
                if (xi != xi || yi != yi){ //This only evaluates if a value is NaN
                    continue;
                }
                xSum += xi;
                ySum += yi;
            }

            let xMean: f32 = xSum / f32(dimLength);
            let yMean: f32 = ySum / f32(dimLength);

            // Second pass for covariance calculation
            for (var i: u32 = 0u; i < dimLength; i++) {
                let inputIndex = baseCoord + (i * iterStride);
                let xi: f32 = f32(firstData[inputIndex]);
                let yi: f32 = f32(secondData[inputIndex]);
                if (xi != xi || yi != yi){ //This only evaluates if a value is NaN
                    continue;
                }
                numSum += (xi - xMean) * (yi - yMean);
            }

            let outputIndex = outY * xSize + outX;
            outputData[outputIndex] = ${e}(numSum / (f32(dimLength) - 1));
        }
    `,CorrelationReduction:`
        ${t}
        struct Params {
            zStride: u32,
            yStride: u32,
            xStride: u32,
            xSize: u32,
            ySize: u32,
            reduceDim: u32,
            dimLength: u32,
        };
        @group(0) @binding(0) var<storage, read> firstData: array<${e}>;
        @group(0) @binding(1) var<storage, read> secondData: array<${e}>;
        @group(0) @binding(2) var<storage, read_write> outputData: array<${e}>;
        @group(0) @binding(3) var<uniform> params: Params;

        @compute @workgroup_size(16, 16, 1)
        fn main(@builtin(global_invocation_id) global_id: vec3<u32>) {
            let zStride = params.zStride;
            let yStride = params.yStride;
            let xStride = params.xStride;
            let xSize = params.xSize;
            let ySize = params.ySize;
            let reduceDim = params.reduceDim;
            let dimLength = params.dimLength;
                            
            let outX = global_id.y;
            let outY = global_id.x;
            
            if (outX >= xSize || outY >= ySize) {
                return;
            }

            var xSum: f32 = 0.0;
            var xxSum: f32 = 0.0;
            var ySum: f32 = 0.0;
            var yySum: f32 = 0.0;
            var xySum: f32 = 0.0;
            // Iterate along the dimension we're averaging
            if (reduceDim == 0u) { // Average along Z
                let cCoord = outX * xStride + outY * yStride;
                for (var z: u32 = 0u; z < dimLength; z++) {
                    let inputIndex = cCoord + (z * zStride);
                    let xI = f32(firstData[inputIndex]);
                    let yI = f32(secondData[inputIndex]);
                    if (xI != xI || yI != yI){ //This only evaluates if a value is NaN
                        continue;
                    }
                    xSum += xI;
                    xxSum += xI * xI;
                    ySum += yI;
                    yySum += yI * yI;
                    xySum += xI * yI;
                }
            } else if (reduceDim == 1u) { // Average along Y
                let cCoord = outX * xStride + outY * zStride;
                for (var y: u32 = 0u; y < dimLength; y++) {
                    let inputIndex = cCoord + (y * yStride);
                    let xI = f32(firstData[inputIndex]);
                    let yI = f32(secondData[inputIndex]);
                    if (xI != xI || yI != yI){ //This only evaluates if a value is NaN
                        continue;
                    }
                    xSum += xI;
                    xxSum += xI * xI;
                    ySum += yI;
                    yySum += yI * yI;
                    xySum += xI * yI;
                }
            } else { // Average along X
                let cCoord = outX * yStride + outY * zStride;
                for (var x: u32 = 0u; x < dimLength; x++) {
                    let inputIndex = cCoord + (x * xStride);
                    let xI = f32(firstData[inputIndex]);
                    let yI = f32(secondData[inputIndex]);
                    if (xI != xI || yI != yI){ //This only evaluates if a value is NaN
                        continue;
                    }
                    xSum += xI;
                    xxSum += xI * xI;
                    ySum += yI;
                    yySum += yI * yI;
                    xySum += xI * yI;
                }
            }

            let N: f32 = f32(dimLength);
            let meanX = xSum / N;
            let meanY = ySum / N;
            let varX = (xxSum / N) - (meanX * meanX);
            let varY = (yySum / N) - (meanY * meanY);
            let covXY = (xySum / N) - (meanX * meanY);
            let sigmaX = sqrt(max(0.0, varX));
            let sigmaY = sqrt(max(0.0, varY));
            let epsilon = 1e-6;
            let denominator = sigmaX * sigmaY + epsilon;
            let correlation = covXY / denominator;

            let outputIndex = outY * xSize + outX;
            outputData[outputIndex] = ${e}(correlation);
        }
    `,MeanConvolution:`
            ${i}    
            var sum: f32 = 0.0;
            var count: u32 = 0u;
            for (var kx: i32 = xy_start; kx < xy_end; kx++) {
                for (var ky: i32 = xy_start; ky < xy_end; ky++) {
                    for (var kz: i32 = z_start; kz < z_end; kz++){
                        let in_coord = vec3<i32>(global_id) + vec3<i32>(kx, ky, kz);
                        if (in_coord.x >= 0 && in_coord.x < i32(xSize) &&
                            in_coord.y >= 0 && in_coord.y < i32(ySize) &&
                            in_coord.z >= 0 && in_coord.z < i32(zSize)) { //Ensure the sampled point is within 3D dataspace
                            let xOffset = kx * i32(xStride);
                            let yOffset = ky * i32(yStride);
                            let zOffset = kz * i32(zStride);
                            let newIdx = i32(globalIdx) + xOffset + yOffset + zOffset;

                            sum += f32(inputData[u32(newIdx)]);
                            count ++;
                        }
                    }
                }
            }
            outputData[globalIdx] = ${e}(sum / f32(count));
        }
    `,MinConvolution:`
        ${i}  
            var minVal: f32 = 1e12;
            var count: u32 = 0u;
            for (var kx: i32 = xy_start; kx < xy_end; kx++) {
                for (var ky: i32 = xy_start; ky < xy_end; ky++) {
                    for (var kz: i32 = z_start; kz < z_end; kz++){
                        let in_coord = vec3<i32>(global_id) + vec3<i32>(kx, ky, kz);

                        if (in_coord.x >= 0 && in_coord.x < i32(xSize) &&
                            in_coord.y >= 0 && in_coord.y < i32(ySize) &&
                            in_coord.z >= 0 && in_coord.z < i32(zSize)) { //Ensure the sampled point is within 3D dataspace
                            let xOffset = kx * i32(xStride);
                            let yOffset = ky * i32(yStride);
                            let zOffset = kz * i32(zStride);
                            let newIdx = i32(globalIdx) + xOffset + yOffset + zOffset;
                            let sampledVal = f32(inputData[u32(newIdx)]);
                            if (sampledVal < minVal){
                                minVal = sampledVal;
                            }
                        }
                    }
                }
            }
            
            outputData[globalIdx] = ${e}(minVal);
        }
    `,MaxConvolution:`
        ${i}  

            var maxVal: f32 = -1e12;
            var count: u32 = 0u;
            for (var kx: i32 = xy_start; kx < xy_end; kx++) {
                for (var ky: i32 = xy_start; ky < xy_end; ky++) {
                    for (var kz: i32 = z_start; kz < z_end; kz++){
                        let in_coord = vec3<i32>(global_id) + vec3<i32>(kx, ky, kz);

                        if (in_coord.x >= 0 && in_coord.x < i32(xSize) &&
                            in_coord.y >= 0 && in_coord.y < i32(ySize) &&
                            in_coord.z >= 0 && in_coord.z < i32(zSize)) { //Ensure the sampled point is within 3D dataspace
                            let xOffset = kx * i32(xStride);
                            let yOffset = ky * i32(yStride);
                            let zOffset = kz * i32(zStride);
                            let newIdx = i32(globalIdx) + xOffset + yOffset + zOffset;
                            let sampledVal = f32(inputData[u32(newIdx)]);
                            if (sampledVal > maxVal){
                                maxVal = sampledVal;
                            }
                        }
                    }
                }
            }
            outputData[globalIdx] = ${e}(maxVal);
        }
    `,StDevConvolution:`
        ${i}  
            var sum: f32 = 0.0;
            var count: u32 = 0u;
            for (var kx: i32 = xy_start; kx < xy_end; kx++) {
                for (var ky: i32 = xy_start; ky < xy_end; ky++) {
                    for (var kz: i32 = z_start; kz < z_end; kz++){
                        let in_coord = vec3<i32>(global_id) + vec3<i32>(kx, ky, kz);

                        if (in_coord.x >= 0 && in_coord.x < i32(xSize) &&
                            in_coord.y >= 0 && in_coord.y < i32(ySize) &&
                            in_coord.z >= 0 && in_coord.z < i32(zSize)) { //Ensure the sampled point is within 3D dataspace
                            let xOffset = kx * i32(xStride);
                            let yOffset = ky * i32(yStride);
                            let zOffset = kz * i32(zStride);
                            let newIdx = i32(globalIdx) + xOffset + yOffset + zOffset;
                            let newVal = f32(inputData[u32(newIdx)]);
                            if (newVal != newVal){ //This only evaluates if newVal is NaN
                                continue;
                            }
                            sum += newVal;
                            count ++;
                        }
                    }
                }
            }
            
            let mean: f32 = sum / f32(count);

            var squaredDiffSum: f32 = 0.0;

            for (var kx: i32 = xy_start; kx < xy_end; kx++) {
                for (var ky: i32 = xy_start; ky < xy_end; ky++) {
                    for (var kz: i32 = z_start; kz < z_end; kz++){
                        let in_coord = vec3<i32>(global_id) + vec3<i32>(kx, ky, kz);

                        if (in_coord.x >= 0 && in_coord.x < i32(xSize) &&
                            in_coord.y >= 0 && in_coord.y < i32(ySize) &&
                            in_coord.z >= 0 && in_coord.z < i32(zSize)) { //Ensure the sampled point is within 3D dataspace
                            let xOffset = kx * i32(xStride);
                            let yOffset = ky * i32(yStride);
                            let zOffset = kz * i32(zStride);
                            let newIdx = i32(globalIdx) + xOffset + yOffset + zOffset;
                            let newVal = f32(inputData[u32(newIdx)]);
                            if (newVal != newVal){ //This only evaluates if newVal is NaN
                                continue;
                            }
                            let diff: f32 = mean - newVal;
                            squaredDiffSum += diff*diff;
                        }
                    }
                }
            }

            let stDev: f32 = sqrt(squaredDiffSum / f32(count));

            outputData[globalIdx] = ${e}(stDev);
        }
    `,CorrelationConvolution:`
        ${t}
        struct Params {
            xStride: u32,
            yStride: u32,
            zStride: u32,
            xSize: u32,
            ySize: u32,
            zSize: u32,
            workGroups: vec3<u32>,
            kernelSize: u32,
            kernelDepth: u32
        };
        @group(0) @binding(0) var<storage, read> firstData: array<${e}>;
        @group(0) @binding(1) var<storage, read> secondData: array<${e}>;
        @group(0) @binding(2) var<storage, read_write> outputData: array<${e}>;
        @group(0) @binding(3) var<uniform> params: Params;

        @compute @workgroup_size(4, 4, 4)
        fn main(@builtin(global_invocation_id) global_id: vec3<u32>) {
            let zStride = params.zStride;
            let yStride = params.yStride;
            let xStride = params.xStride; 
            let xSize = params.xSize;
            let ySize = params.ySize;
            let zSize = params.zSize; 
            let workGroups = params.workGroups;
            let kernelSize = params.kernelSize;
            let kernelDepth = params.kernelDepth;

            let outX = global_id.x; 
            let outY = global_id.y;
            let outZ = global_id.z; 

            if (outX >= xSize || outY >= ySize || outZ >= zSize) {
                return;
            }

            let total_threads_per_slice = workGroups.x * workGroups.y * 16;
            let globalIdx = global_id.z * total_threads_per_slice + 
                            global_id.y * (workGroups.x * 4) + 
                            global_id.x;

            let xy_radius: i32 = i32(kernelSize/2u);
            let z_radius: i32 = i32(kernelDepth/2u);

            var xyOffset: i32 = 0; //These offsets are for kernelsizes of 1. I didn't wanna rewrite everything else for that case
            var zOffset: i32 = 0;
            if (xy_radius == 0){
                xyOffset = -1;
            }
            if (z_radius == 0){
                zOffset = -1;
            }

            var xSum: f32 = 0.0;
            var xxSum: f32 = 0.0;
            var ySum: f32 = 0.0;
            var yySum: f32 = 0.0;
            var xySum: f32 = 0.0;

            var count: u32 = 0u;
            for (var kx: i32 = -xy_radius + xyOffset; kx < xy_radius; kx++) {
                for (var ky: i32 = -xy_radius + xyOffset; ky < xy_radius; ky++) {
                    for (var kz: i32 = -z_radius + zOffset; kz < z_radius; kz++){
                        let in_coord = vec3<i32>(global_id) + vec3<i32>(kx, ky, kz);
                        if (in_coord.x >= 0 && in_coord.x < i32(xSize) &&
                            in_coord.y >= 0 && in_coord.y < i32(ySize) &&
                            in_coord.z >= 0 && in_coord.z < i32(zSize)) { //Ensure the sampled point is within 3D dataspace
                            let xOffset = kx * i32(xStride);
                            let yOffset = ky * i32(yStride);
                            let zOffset = kz * i32(zStride);
                            let newIdx = i32(globalIdx) + xOffset + yOffset + zOffset;

                            let xI = f32(firstData[newIdx]);
                            let yI = f32(secondData[newIdx]);
                            if (xI != xI || yI != yI){ //This only evaluates if a value is NaN
                                continue;
                            }
                            xSum += xI;
                            xxSum += xI * xI;
                            ySum += yI;
                            yySum += yI * yI;
                            xySum += xI * yI;
                            count ++;
                        }
                    }
                }
            }

            let N: f32 = f32(count);
            let meanX = xSum / N;
            let meanY = ySum / N;
            let varX = (xxSum / N) - (meanX * meanX);
            let varY = (yySum / N) - (meanY * meanY);
            let covXY = (xySum / N) - (meanX * meanY);
            let sigmaX = sqrt(max(0.0, varX));
            let sigmaY = sqrt(max(0.0, varY));
            let epsilon = 1e-6;
            let denominator = sigmaX * sigmaY + epsilon;
            let correlation = covXY / denominator;

            outputData[globalIdx] = ${e}(correlation);
        }
    `,CovarianceConvolution:`
        ${t}
        struct Params {
            xStride: u32,
            yStride: u32,
            zStride: u32,
            xSize: u32,
            ySize: u32,
            zSize: u32,
            workGroups: vec3<u32>,
            kernelSize: u32,
            kernelDepth: u32
        };
        @group(0) @binding(0) var<storage, read> firstData: array<${e}>;
        @group(0) @binding(1) var<storage, read> secondData: array<${e}>;
        @group(0) @binding(2) var<storage, read_write> outputData: array<${e}>;
        @group(0) @binding(3) var<uniform> params: Params;

        @compute @workgroup_size(4, 4, 4)
        fn main(@builtin(global_invocation_id) global_id: vec3<u32>) {
            let zStride = params.zStride;
            let yStride = params.yStride;
            let xStride = params.xStride; 
            let xSize = params.xSize;
            let ySize = params.ySize;
            let zSize = params.zSize; 
            let workGroups = params.workGroups;
            let kernelSize = params.kernelSize;
            let kernelDepth = params.kernelDepth;

            let outX = global_id.x; 
            let outY = global_id.y;
            let outZ = global_id.z; 

            if (outX >= xSize || outY >= ySize || outZ >= zSize) {
                return;
            }

            let total_threads_per_slice = workGroups.x * workGroups.y * 16;
            let globalIdx = global_id.z * total_threads_per_slice + 
                            global_id.y * (workGroups.x * 4) + 
                            global_id.x;

            let xy_radius: i32 = i32(kernelSize/2u);
            let z_radius: i32 = i32(kernelDepth/2u);

            var xyOffset: i32 = 0; //These offsets are for kernelsizes of 1. I didn't wanna rewrite everything else for that case
            var zOffset: i32 = 0;
            if (xy_radius == 0){
                xyOffset = -1;
            }
            if (z_radius == 0){
                zOffset = -1;
            }

            var xSum: f32 = 0.0;
            var ySum: f32 = 0.0;
            var numSum: f32 = 0.0;

            var count: u32 = 0u;
            for (var kx: i32 = -xy_radius + xyOffset; kx < xy_radius; kx++) {
                for (var ky: i32 = -xy_radius + xyOffset; ky < xy_radius; ky++) {
                    for (var kz: i32 = -z_radius + zOffset; kz < z_radius; kz++){
                        let in_coord = vec3<i32>(global_id) + vec3<i32>(kx, ky, kz);
                        if (in_coord.x >= 0 && in_coord.x < i32(xSize) &&
                            in_coord.y >= 0 && in_coord.y < i32(ySize) &&
                            in_coord.z >= 0 && in_coord.z < i32(zSize)) { 
                            let xOffset = kx * i32(xStride);
                            let yOffset = ky * i32(yStride);
                            let zOffset = kz * i32(zStride);
                            let newIdx = i32(globalIdx) + xOffset + yOffset + zOffset;
                            let xI = f32(firstData[newIdx]);
                            let yI = f32(secondData[newIdx]);
                            if (xI != xI || yI != yI){ //This only evaluates if a value is NaN
                                continue;
                            }
                            xSum += xI;    
                            ySum += yI;
                            count ++;
                        }
                    }
                }
            }

            let N: f32 = f32(count);
            let meanX = xSum / N;
            let meanY = ySum / N;
            
            for (var kx: i32 = -xy_radius + xyOffset; kx < xy_radius; kx++) {
                for (var ky: i32 = -xy_radius + xyOffset; ky < xy_radius; ky++) {
                    for (var kz: i32 = -z_radius + zOffset; kz < z_radius; kz++){
                        let in_coord = vec3<i32>(global_id) + vec3<i32>(kx, ky, kz);
                        if (in_coord.x >= 0 && in_coord.x < i32(xSize) &&
                            in_coord.y >= 0 && in_coord.y < i32(ySize) &&
                            in_coord.z >= 0 && in_coord.z < i32(zSize)) { 
                            let xOffset = kx * i32(xStride);
                            let yOffset = ky * i32(yStride);
                            let zOffset = kz * i32(zStride);
                            let newIdx = i32(globalIdx) + xOffset + yOffset + zOffset;
                            let xI = f32(firstData[newIdx]);
                            let yI = f32(secondData[newIdx]);
                            if (xI != xI || yI != yI){ //This only evaluates if a value is NaN
                                continue;
                            }
                            numSum += (xI - meanX) * (yI - meanY);
                            count ++;
                        }
                    }
                }
            }
            outputData[globalIdx] = ${e}(numSum/(N-1));
        }
    `,TwoVarLinearSlopeConvolution:`
        ${t}
        struct Params {
            xStride: u32,
            yStride: u32,
            zStride: u32,
            xSize: u32,
            ySize: u32,
            zSize: u32,
            workGroups: vec3<u32>,
            kernelSize: u32,
            kernelDepth: u32
        };
        @group(0) @binding(0) var<storage, read> firstData: array<${e}>;
        @group(0) @binding(1) var<storage, read> secondData: array<${e}>;
        @group(0) @binding(2) var<storage, read_write> outputData: array<${e}>;
        @group(0) @binding(3) var<uniform> params: Params;

        @compute @workgroup_size(4, 4, 4)
        fn main(@builtin(global_invocation_id) global_id: vec3<u32>) {
            let zStride = params.zStride;
            let yStride = params.yStride;
            let xStride = params.xStride; 
            let xSize = params.xSize;
            let ySize = params.ySize;
            let zSize = params.zSize; 
            let workGroups = params.workGroups;
            let kernelSize = params.kernelSize;
            let kernelDepth = params.kernelDepth;

            let outX = global_id.x; 
            let outY = global_id.y;
            let outZ = global_id.z; 

            if (outX >= xSize || outY >= ySize || outZ >= zSize) {
                return;
            }

            let total_threads_per_slice = workGroups.x * workGroups.y * 16;
            let globalIdx = global_id.z * total_threads_per_slice + 
                            global_id.y * (workGroups.x * 4) + 
                            global_id.x;

            let xy_radius: i32 = i32(kernelSize/2u);
            let z_radius: i32 = i32(kernelDepth/2u);

            var xyOffset: i32 = 0; //These offsets are for kernelsizes of 1. I didn't wanna rewrite everything else for that case
            var zOffset: i32 = 0;
            if (xy_radius == 0){
                xyOffset = -1;
            }
            if (z_radius == 0){
                zOffset = -1;
            }

            var xSum: f32 = 0.0;
            var ySum: f32 = 0.0;

            var count: u32 = 0u;
            for (var kx: i32 = -xy_radius + xyOffset; kx < xy_radius; kx++) {
                for (var ky: i32 = -xy_radius + xyOffset; ky < xy_radius; ky++) {
                    for (var kz: i32 = -z_radius + zOffset; kz < z_radius; kz++){
                        let in_coord = vec3<i32>(global_id) + vec3<i32>(kx, ky, kz);
                        if (in_coord.x >= 0 && in_coord.x < i32(xSize) &&
                            in_coord.y >= 0 && in_coord.y < i32(ySize) &&
                            in_coord.z >= 0 && in_coord.z < i32(zSize)) { 
                            let xOffset = kx * i32(xStride);
                            let yOffset = ky * i32(yStride);
                            let zOffset = kz * i32(zStride);
                            let newIdx = i32(globalIdx) + xOffset + yOffset + zOffset;
                            let xI = f32(firstData[newIdx]);
                            let yI = f32(secondData[newIdx]);
                            if (xI != xI || yI != yI){ //This only evaluates if a value is NaN
                                continue;
                            }
                            xSum += xI;    
                            ySum += yI;
                            count ++;
                        }
                    }
                }
            }


            let N: f32 = f32(count);
            let meanX = xSum / N;
            let meanY = ySum / N;
            var numSum: f32 = 0;
            var denomSum: f32 = 0;
            
            for (var kx: i32 = -xy_radius + xyOffset; kx < xy_radius; kx++) {
                for (var ky: i32 = -xy_radius + xyOffset; ky < xy_radius; ky++) {
                    for (var kz: i32 = -z_radius + zOffset; kz < z_radius; kz++){
                        let in_coord = vec3<i32>(global_id) + vec3<i32>(kx, ky, kz);
                        if (in_coord.x >= 0 && in_coord.x < i32(xSize) &&
                            in_coord.y >= 0 && in_coord.y < i32(ySize) &&
                            in_coord.z >= 0 && in_coord.z < i32(zSize)) { 
                            let xOffset = kx * i32(xStride);
                            let yOffset = ky * i32(yStride);
                            let zOffset = kz * i32(zStride);
                            let newIdx = i32(globalIdx) + xOffset + yOffset + zOffset;
                            let xI = f32(firstData[newIdx]);
                            let yI = f32(secondData[newIdx]);
                            if (xI != xI || yI != yI){ //This only evaluates if a value is NaN
                                continue;
                            }
                            numSum += (xI - meanX)*(f32(yI) - meanY);
                            denomSum += (f32(yI) - meanY)*(f32(yI) - meanY);
                        }
                    }
                }
            }
            outputData[globalIdx] = ${e}(numSum/denomSum);
        }
    `,MeanConvolution2D:`
            ${n}    
            var sum: f32 = 0;
            var count: u32 = 0u;
            for (var kx: i32 = -xy_radius; kx <= xy_radius; kx++) {
                for (var ky: i32 = -xy_radius; ky <= xy_radius; ky++) {
                    let in_coord = vec2<i32>(i32(global_id.x), i32(global_id.y)) + vec2<i32>(kx, ky);
                    if (in_coord.x >= 0 && in_coord.x < i32(xSize) &&
                        in_coord.y >= 0 && in_coord.y < i32(ySize)) { //Ensure the sampled point is within 3D dataspace
                        let xOffset = kx * i32(xStride);
                        let yOffset = ky * i32(yStride);
                        let newIdx = i32(globalIdx) + xOffset + yOffset;
                        let newVal = f32(inputData[u32(newIdx)]);
                        if (newVal != newVal){ //This only evaluates if newVal is NaN
                            continue;
                        }
                        sum += newVal;
                        count ++;
                    }
                }
            }
            outputData[globalIdx] = ${e}(sum / f32(count));
        }
    `,MinConvolution2D:`
        ${n}   
            var minVal: f32 = 1e12;
            for (var kx: i32 = -xy_radius; kx <= xy_radius; kx++) {
                for (var ky: i32 = -xy_radius; ky <= xy_radius; ky++) {
                    let in_coord = vec2<i32>(i32(global_id.x), i32(global_id.y)) + vec2<i32>(kx, ky);
                    if (in_coord.x >= 0 && in_coord.x < i32(xSize) &&
                        in_coord.y >= 0 && in_coord.y < i32(ySize)) { //Ensure the sampled point is within 3D dataspace
                        let xOffset = kx * i32(xStride);
                        let yOffset = ky * i32(yStride);
                        let newIdx = i32(globalIdx) + xOffset + yOffset;
                        let newVal = f32(inputData[u32(newIdx)]);
                        if (newVal != newVal){ //This only evaluates if newVal is NaN
                            continue;
                        }
                        if (newVal < minVal){
                            minVal = newVal;
                        }
                    }
                }
            }
            outputData[globalIdx] = ${e}(minVal);
        }
    `,MaxConvolution2D:`
        ${n}  
            var maxVal: f32 = -1e12;
            for (var kx: i32 = -xy_radius; kx <= xy_radius; kx++) {
                for (var ky: i32 = -xy_radius; ky <= xy_radius; ky++) {
                    let in_coord = vec2<i32>(i32(global_id.x), i32(global_id.y)) + vec2<i32>(kx, ky);
                    if (in_coord.x >= 0 && in_coord.x < i32(xSize) &&
                        in_coord.y >= 0 && in_coord.y < i32(ySize)) { //Ensure the sampled point is within 3D dataspace
                        let xOffset = kx * i32(xStride);
                        let yOffset = ky * i32(yStride);
                        let newIdx = i32(globalIdx) + xOffset + yOffset;
                        let newVal = f32(inputData[u32(newIdx)]);
                        if (newVal != newVal){ //This only evaluates if newVal is NaN
                            continue;
                        }
                        if (newVal > maxVal){
                            maxVal = newVal;
                        }
                    }
                }
            }
            outputData[globalIdx] = ${e}(maxVal);
        }
    `,StDevConvolution2D:`
        ${n}  
            var sum: f32 = 0.;
            var count: u32 = 0u;
            for (var kx: i32 = -xy_radius; kx <= xy_radius; kx++) {
                for (var ky: i32 = -xy_radius; ky <= xy_radius; ky++) {
                    let in_coord = vec2<i32>(i32(global_id.x), i32(global_id.y)) + vec2<i32>(kx, ky);
                    if (in_coord.x >= 0 && in_coord.x < i32(xSize) &&
                        in_coord.y >= 0 && in_coord.y < i32(ySize)) { //Ensure the sampled point is within 3D dataspace
                        let xOffset = kx * i32(xStride);
                        let yOffset = ky * i32(yStride);
                        let newIdx = i32(globalIdx) + xOffset + yOffset;
                        let newVal = f32(inputData[u32(newIdx)]);
                        if (newVal != newVal){ //This only evaluates if newVal is NaN
                            continue;
                        }
                        sum += newVal;
                        count ++;
                    }
                }
            }
            
            let mean: f32 = sum / f32(count);

            var squaredDiffSum: f32 = 0.0;

            for (var kx: i32 = -xy_radius; kx <= xy_radius; kx++) {
                for (var ky: i32 = -xy_radius; ky <= xy_radius; ky++) {
                    let in_coord = vec2<i32>(i32(global_id.x), i32(global_id.y)) + vec2<i32>(kx, ky);
                    if (in_coord.x >= 0 && in_coord.x < i32(xSize) &&
                        in_coord.y >= 0 && in_coord.y < i32(ySize)) { //Ensure the sampled point is within 3D dataspace
                        let xOffset = kx * i32(xStride);
                        let yOffset = ky * i32(yStride);
                        let newIdx = i32(globalIdx) + xOffset + yOffset;
                        let newVal = f32(inputData[u32(newIdx)]);
                        if (newVal != newVal){ //This only evaluates if newVal is NaN
                            continue;
                        }
                        let diff: f32 = mean - newVal;
                        squaredDiffSum += diff*diff;
                    }
                }
            }
            let stDev: f32 = sqrt(squaredDiffSum / f32(count));

            outputData[globalIdx] = ${e}(stDev);
        }
    `,CUMSUM3D:`
        ${t}
        struct Params {
            xStride: u32,
            yStride: u32,
            zStride: u32,
            xSize: u32,
            ySize: u32,
            zSize: u32,
            reduceDim: u32,
            reverse: u32,
            workGroups: vec3<u32>,
        };
        @group(0) @binding(0) var<storage, read> inputData: array<${e}>;
        @group(0) @binding(1) var<storage, read_write> outputData: array<f32>;
        @group(0) @binding(2) var<uniform> params: Params;

        @compute @workgroup_size(4, 4, 4)
        fn main(@builtin(global_invocation_id) global_id: vec3<u32>) {
            let zStride = params.zStride;
            let yStride = params.yStride;
            let xStride = params.xStride; 
            let xSize = params.xSize;
            let ySize = params.ySize;
            let zSize = params.zSize; 
            let reverse = params.reverse;
            let workGroups = params.workGroups;
            let reduceDim = params.reduceDim;

            let outX = global_id.x; 
            let outY = global_id.y;
            let outZ = global_id.z; 

            if (outX >= xSize || outY >= ySize || outZ >= zSize) {
                return;
            }
            let totalSize: u32 = xSize * ySize * zSize;
            var baseIdx = outZ * zStride + outY * yStride + outX * xStride;
            var accum: f32 = 0;

            // Iterate along the dimension we're averaging
            if (reduceDim == 0u) { // CUMSUM along Z
                if (reverse == u32(1)){
                    baseIdx = (zSize - outZ - 1) * zStride + outY * yStride + outX * xStride;
                }
                for (var z: u32 = 0u; z < outZ; z++) {
                    var newZ: u32 = z;
                    if (reverse == u32(1)){
                        newZ = zSize - z - 1;
                    }
                    let idx = newZ * zStride + outY * yStride + outX * xStride;
                    accum += f32(inputData[idx]);
                }

            } else if (reduceDim == 1u) { // CUMSUM along Y
                if (reverse == u32(1)){
                    baseIdx = outZ * zStride + (ySize - outY - 1)* yStride + outX * xStride;
                }
                for (var y: u32 = 0u; y < outY; y++) {
                    var newY: u32 = y;
                    if (reverse == u32(1)){
                        newY = ySize - y - 1;
                    }
                    let idx = outZ * zStride + newY * yStride + outX * xStride;
                    accum += f32(inputData[idx]);
                }
            } else { // CUMSUM along X
                if (reverse == u32(1)){
                    baseIdx = outZ * zStride + outY* yStride + (xSize - outX - 1) * xStride;
                }
                for (var x: u32 = 0u; x < outX; x++) {
                    var newX: u32 = x;
                    if (reverse == u32(1)){
                        newX = xSize - x - 1;
                    }
                    let idx = outZ * zStride + outY * yStride + newX * xStride;
                    accum += f32(inputData[idx]);
                }
            }
                outputData[baseIdx] = accum;
        }
    `}},iv={Mean:"MeanReduction",Min:"MinReduction",Max:"MaxReduction",StDev:"StDevReduction",LinearSlope:"LinearSlopeReduction",Mean3D:"MeanConvolution",Min3D:"MinConvolution",Max3D:"MaxConvolution",StDev3D:"StDevConvolution",Mean2D:"MeanConvolution2D",Min2D:"MinConvolution2D",Max2D:"MaxConvolution2D",StDev2D:"StDevConvolution2D",Correlation2D:"CorrelationReduction",Correlation3D:"CorrelationConvolution",TwoVarLinearSlope2D:"TwoVarLinearSlopeReduction",TwoVarLinearSlope3D:"TwoVarLinearSlopeConvolution",Covariance2D:"CovarianceReduction",Covariance3D:"CovarianceConvolution",CUMSUM3D:"CUMSUM3D"},ib=async()=>{let e=await navigator.gpu?.requestAdapter(),t=e?.limits.maxBufferSize,r=e?.limits.maxStorageBufferBindingSize,i=!!e&&e.features.has("shader-f16"),n=i?await e?.requestDevice({requiredFeatures:["shader-f16"],requiredLimits:{maxBufferSize:t,maxStorageBufferBindingSize:r}}):await e?.requestDevice({requiredLimits:{maxBufferSize:t,maxStorageBufferBindingSize:r}});return n||Error("need a browser that supports WebGPU"),{device:n,hasF16:i}};async function iw(e,t,r,i){let{device:n,hasF16:s}=await ib();if(!n)return void Error("need a browser that supports WebGPU");let{strides:a,shape:o}=t,[l,u,c]=a,h=o.filter((e,t)=>t!=r),d=o[r],p=h[0]*h[1],f=h.map(e=>Math.ceil(e/16)),m=ix(s?"f16":"f32")[iv[i]],g=n.createShaderModule({label:"reduction compute module",code:m}),y=n.createComputePipeline({label:"reduction compute pipeline",layout:"auto",compute:{module:g}}),x=tb(im(m).uniforms.params);x.set({zStride:l,yStride:u,xStride:c,xSize:h[1],ySize:h[0],reduceDim:r,dimLength:d});let v=n.createBuffer({label:"Input Buffer",size:e.byteLength*(s?1:2),usage:GPUBufferUsage.STORAGE|GPUBufferUsage.COPY_DST}),b=n.createBuffer({label:"Output Buffer",size:p*(s?2:4),usage:GPUBufferUsage.STORAGE|GPUBufferUsage.COPY_SRC}),w=n.createBuffer({size:x.arrayBuffer.byteLength,usage:GPUBufferUsage.UNIFORM|GPUBufferUsage.COPY_DST}),_=n.createBuffer({label:"Output Buffer",size:p*(s?2:4),usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ});n.queue.writeBuffer(v,0,s?e:new Float32Array(e)),n.queue.writeBuffer(w,0,x.arrayBuffer);let S=n.createBindGroup({layout:y.getBindGroupLayout(0),entries:[{binding:0,resource:{buffer:v}},{binding:1,resource:{buffer:b}},{binding:2,resource:{buffer:w}}]}),k=n.createCommandEncoder({label:"reduction encoder"}),M=k.beginComputePass({label:"reduction compute pass"});M.setPipeline(y),M.setBindGroup(0,S),M.dispatchWorkgroups(f[0],f[1]),M.end(),k.copyBufferToBuffer(b,0,_,0,p*(s?2:4)),n.queue.submit([k.finish()]),await _.mapAsync(GPUMapMode.READ);let C=_.getMappedRange(),A=new Float16Array(s?C.slice():new Float32Array(C.slice()));return _.unmap(),A}async function i_(e,t,r,i){let{device:n,hasF16:s}=await ib();if(!n)return void Error("need a browser that supports WebGPU");let{kernelDepth:a,kernelSize:o}=i,{strides:l,shape:u}=t,c=u[0]*u[1]*u[2],[h,d,p]=l,f=u.map(e=>Math.ceil(e/4)),m=ix(s?"f16":"f32")[iv[r]],g=n.createShaderModule({label:"convolution compute module",code:m}),y=n.createComputePipeline({label:"convolution compute pipeline",layout:"auto",compute:{module:g}}),x=tb(im(m).uniforms.params);x.set({xStride:p,yStride:d,zStride:h,xSize:u[2],ySize:u[1],zSize:u[0],workGroups:[f[2],f[1],f[0]],kernelDepth:a,kernelSize:o});let v=n.createBuffer({label:"Input Buffer",size:e.byteLength*(s?1:2),usage:GPUBufferUsage.STORAGE|GPUBufferUsage.COPY_DST}),b=n.createBuffer({label:"Output Buffer",size:c*(s?2:4),usage:GPUBufferUsage.STORAGE|GPUBufferUsage.COPY_SRC}),w=n.createBuffer({label:"Uniform Buffer",size:x.arrayBuffer.byteLength,usage:GPUBufferUsage.UNIFORM|GPUBufferUsage.COPY_DST}),_=n.createBuffer({label:"Read Buffer",size:c*(s?2:4),usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ});n.queue.writeBuffer(v,0,s?e:new Float32Array(e)),n.queue.writeBuffer(w,0,x.arrayBuffer);let S=n.createBindGroup({layout:y.getBindGroupLayout(0),entries:[{binding:0,resource:{buffer:v}},{binding:1,resource:{buffer:b}},{binding:2,resource:{buffer:w}}]}),k=n.createCommandEncoder({label:"convolution encoder"}),M=k.beginComputePass({label:"convolution compute pass"});M.setPipeline(y),M.setBindGroup(0,S),M.dispatchWorkgroups(f[2],f[1],f[0]),M.end(),k.copyBufferToBuffer(b,0,_,0,c*(s?2:4)),n.queue.submit([k.finish()]),await _.mapAsync(GPUMapMode.READ);let C=_.getMappedRange(),A=new Float16Array(s?C.slice():new Float32Array(C.slice()));return _.unmap(),A}async function iS(e,t,r,i,n){let{device:s,hasF16:a}=await ib();if(!s)return void Error("need a browser that supports WebGPU");let{strides:o,shape:l}=r,[u,c,h]=o,d=l.filter((e,t)=>t!=i),p=l[i],f=d[0]*d[1],m=d.map(e=>Math.ceil(e/16)),g=ix(a?"f16":"f32")[iv[n]],y=s.createShaderModule({label:"Multivariate2D compute module",code:g}),x=s.createComputePipeline({label:"Multivariate2D compute pipeline",layout:"auto",compute:{module:y}}),v=tb(im(g).uniforms.params);v.set({zStride:u,yStride:c,xStride:h,xSize:d[1],ySize:d[0],reduceDim:i,dimLength:p});let b=s.createBuffer({label:"First Input Buffer",size:e.byteLength*(a?1:2),usage:GPUBufferUsage.STORAGE|GPUBufferUsage.COPY_DST}),w=s.createBuffer({label:"Second Input Buffer",size:t.byteLength*(a?1:2),usage:GPUBufferUsage.STORAGE|GPUBufferUsage.COPY_DST}),_=s.createBuffer({label:"Output Buffer",size:f*(a?2:4),usage:GPUBufferUsage.STORAGE|GPUBufferUsage.COPY_SRC}),S=s.createBuffer({size:v.arrayBuffer.byteLength,usage:GPUBufferUsage.UNIFORM|GPUBufferUsage.COPY_DST}),k=s.createBuffer({label:"Output Buffer",size:f*(a?2:4),usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ});s.queue.writeBuffer(b,0,a?e:new Float32Array(e)),s.queue.writeBuffer(w,0,a?t:new Float32Array(t)),s.queue.writeBuffer(S,0,v.arrayBuffer);let M=s.createBindGroup({layout:x.getBindGroupLayout(0),entries:[{binding:0,resource:{buffer:b}},{binding:1,resource:{buffer:w}},{binding:2,resource:{buffer:_}},{binding:3,resource:{buffer:S}}]}),C=s.createCommandEncoder({label:"Multivariate2D encoder"}),A=C.beginComputePass({label:"Multivariate2D compute pass"});A.setPipeline(x),A.setBindGroup(0,M),A.dispatchWorkgroups(m[0],m[1]),A.end(),C.copyBufferToBuffer(_,0,k,0,f*(a?2:4)),s.queue.submit([C.finish()]),await k.mapAsync(GPUMapMode.READ);let I=k.getMappedRange(),T=new Float16Array(a?I.slice():new Float32Array(I.slice()));return k.unmap(),T}async function ik(e,t,r,i,n){let{device:s,hasF16:a}=await ib();if(!s)return void Error("need a browser that supports WebGPU");let{kernelDepth:o,kernelSize:l}=i,{strides:u,shape:c}=r,[h,d,p]=u,f=c[0]*c[1]*c[2],m=c.map(e=>Math.ceil(e/4)),g=ix(a?"f16":"f32")[iv[n]],y=s.createShaderModule({label:"Multivariate3D compute module",code:g}),x=s.createComputePipeline({label:"Multivariate3D compute pipeline",layout:"auto",compute:{module:y}}),v=tb(im(g).uniforms.params);v.set({xStride:p,yStride:d,zStride:h,xSize:c[2],ySize:c[1],zSize:c[0],workGroups:[m[2],m[1],m[0]],kernelDepth:o,kernelSize:l});let b=s.createBuffer({label:"First Input Buffer",size:e.byteLength*(a?1:2),usage:GPUBufferUsage.STORAGE|GPUBufferUsage.COPY_DST}),w=s.createBuffer({label:"Second Input Buffer",size:t.byteLength*(a?1:2),usage:GPUBufferUsage.STORAGE|GPUBufferUsage.COPY_DST}),_=s.createBuffer({label:"Output Buffer",size:f*(a?2:4),usage:GPUBufferUsage.STORAGE|GPUBufferUsage.COPY_SRC}),S=s.createBuffer({size:v.arrayBuffer.byteLength,usage:GPUBufferUsage.UNIFORM|GPUBufferUsage.COPY_DST}),k=s.createBuffer({label:"Read Buffer",size:f*(a?2:4),usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ});s.queue.writeBuffer(b,0,a?e:new Float32Array(e)),s.queue.writeBuffer(w,0,a?t:new Float32Array(t)),s.queue.writeBuffer(S,0,v.arrayBuffer);let M=s.createBindGroup({layout:x.getBindGroupLayout(0),entries:[{binding:0,resource:{buffer:b}},{binding:1,resource:{buffer:w}},{binding:2,resource:{buffer:_}},{binding:3,resource:{buffer:S}}]}),C=s.createCommandEncoder({label:"Multivariate3D encoder"}),A=C.beginComputePass({label:"Multivariate3D compute pass"});A.setPipeline(x),A.setBindGroup(0,M),A.dispatchWorkgroups(m[2],m[1],m[0]),A.end(),C.copyBufferToBuffer(_,0,k,0,f*(a?2:4)),s.queue.submit([C.finish()]),await k.mapAsync(GPUMapMode.READ);let I=k.getMappedRange(),T=new Float16Array(a?I.slice():new Float32Array(I.slice()));return k.unmap(),T}async function iM(e,t,r,i){let{device:n,hasF16:s}=await ib();if(!n)return void Error("need a browser that supports WebGPU");let{strides:a,shape:o}=t,l=o[0]*o[1]*o[2],[u,c,h]=a,d=o.map(e=>Math.ceil(e/4)),p=ix(s?"f16":"f32").CUMSUM3D,f=n.createShaderModule({label:"cumsum3d compute module",code:p}),m=n.createComputePipeline({label:"cumsum3d compute pipeline",layout:"auto",compute:{module:f}}),g=tb(im(p).uniforms.params);g.set({xStride:h,yStride:c,zStride:u,xSize:o[2],ySize:o[1],zSize:o[0],reduceDim:r,reverse:i,workGroups:[d[2],d[1],d[0]]});let y=n.createBuffer({label:"Input Buffer",size:e.byteLength*(s?1:2),usage:GPUBufferUsage.STORAGE|GPUBufferUsage.COPY_DST}),x=n.createBuffer({label:"Output Buffer",size:4*l,usage:GPUBufferUsage.STORAGE|GPUBufferUsage.COPY_SRC}),v=n.createBuffer({label:"Uniform Buffer",size:g.arrayBuffer.byteLength,usage:GPUBufferUsage.UNIFORM|GPUBufferUsage.COPY_DST}),b=n.createBuffer({label:"Read Buffer",size:4*l,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ});n.queue.writeBuffer(y,0,s?e:new Float32Array(e)),n.queue.writeBuffer(v,0,g.arrayBuffer);let w=n.createBindGroup({layout:m.getBindGroupLayout(0),entries:[{binding:0,resource:{buffer:y}},{binding:1,resource:{buffer:x}},{binding:2,resource:{buffer:v}}]}),_=n.createCommandEncoder({label:"cumsum3d encoder"}),S=_.beginComputePass({label:"cumsum3d compute pass"});S.setPipeline(m),S.setBindGroup(0,w),S.dispatchWorkgroups(d[2],d[1],d[0]),S.end(),_.copyBufferToBuffer(x,0,b,0,4*l),n.queue.submit([_.finish()]),await b.mapAsync(GPUMapMode.READ);let k=new Float32Array(b.getMappedRange().slice());return b.unmap(),k}async function iC(e,t,r,i){let{device:n,hasF16:s}=await ib();if(!n)return void Error("need a browser that supports WebGPU");let{strides:a,shape:o}=t,l=o[0]*o[1],[u,c]=[a[0],a[1]],h=[Math.ceil(o[1]/16),Math.ceil(o[0]/16)],d=ix(s?"f16":"f32")[iv[r]],p=n.createShaderModule({label:"convolution2d compute module",code:d}),f=n.createComputePipeline({label:"convolution2d compute pipeline",layout:"auto",compute:{module:p}}),m=tb(im(d).uniforms.params);m.set({xStride:c,yStride:u,xSize:o[1],ySize:o[0],kernelSize:i});let g=n.createBuffer({label:"Input Buffer",size:e.byteLength*(s?1:2),usage:GPUBufferUsage.STORAGE|GPUBufferUsage.COPY_DST}),y=n.createBuffer({label:"Output Buffer",size:l*(s?2:4),usage:GPUBufferUsage.STORAGE|GPUBufferUsage.COPY_SRC}),x=n.createBuffer({label:"Uniform Buffer",size:m.arrayBuffer.byteLength,usage:GPUBufferUsage.UNIFORM|GPUBufferUsage.COPY_DST}),v=n.createBuffer({label:"Read Buffer",size:l*(s?2:4),usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ});n.queue.writeBuffer(g,0,s?e:new Float32Array(e)),n.queue.writeBuffer(x,0,m.arrayBuffer);let b=n.createBindGroup({layout:f.getBindGroupLayout(0),entries:[{binding:0,resource:{buffer:g}},{binding:1,resource:{buffer:y}},{binding:2,resource:{buffer:x}}]}),w=n.createCommandEncoder({label:"convolution2d encoder"}),_=w.beginComputePass({label:"convolution2d compute pass"});_.setPipeline(f),_.setBindGroup(0,b),_.dispatchWorkgroups(h[0],h[1],1),_.end(),w.copyBufferToBuffer(y,0,v,0,l*(s?2:4)),n.queue.submit([w.finish()]),await v.mapAsync(GPUMapMode.READ);let S=v.getMappedRange(),k=new Float16Array(s?S.slice():new Float32Array(S.slice()));return v.unmap(),k}async function iA(e){let{ncModule:t}=th.useZarrStore.getState(),{cache:r}=k.getState(),{initStore:i}=v.getState(),n=`${i}_${e}_meta`,s=[],a=[],o=[];if(r.has(n)){let e=r.get(n);for(let t of e.dims){s.push(t.name);let e=r.get(`${i}_${t.name}`);a.push(e??[0]),o.push(t?.units??null)}return{dimNames:s??Array(e.shape.length).fill("Default"),dimArrays:a,dimUnits:o}}let{dims:l}=await t.getVariableInfo(e);for(let e of l){s.push(e.name),o.push(e.units);let n=await t.getVariableArray(e.id);a.push(n),r.set(`${i}_${e.name}`,n)}return{dimNames:s,dimArrays:a,dimUnits:o}}async function iI(e){let{ncModule:t}=th.useZarrStore.getState(),{cache:r}=k.getState(),{initStore:i,variable:n}=v.getState(),s=`${i}_${e??n}_meta`,a=await t.getVariableInfo(e??n);return r.set(s,a),a}async function iT(){let{is4D:e,idx4D:t,initStore:r,variable:i,setProgress:n,setStrides:s,setStatus:a}=v.getState(),{compress:o,xSlice:l,ySlice:u,zSlice:c,ncModule:h,coarsen:d,kernelDepth:p,kernelSize:f,setCurrentChunks:m,setArraySize:y}=th.useZarrStore.getState(),{cache:x}=k.getState(),b=await h.getVariableInfo(i),{shape:w}=b,_=e?[b.chunks[1],b.chunks[2],b.chunks[3]]:b.chunks,S=2===w.length,M=+!!e,C=b.attributes,A=NaN;"missing_value"in C&&(A=Number.isNaN(C.missing_value[0])?A:C.missing_value[0]),"_FillValue"in C&&(A=Number.isNaN(C._FillValue[0])?A:C._FillValue[0]);let I=(e,t,r)=>{let i=Math.ceil(w[t+M]/r),n=Math.floor(e[0]/r);return{start:n,end:e[1]?Math.ceil(e[1]/r):i,size:(e[1]?e[1]:w[t+M])-e[0]}},T=I(l,2,_[2]),z=I(u,1,_[1]),E=S?{start:0,end:1,size:0}:I(c,0,_[0]),N=S?[z.size,T.size]:[E.size,z.size,T.size];d&&(N=N.map((e,t)=>Math.floor(e/(0===t?p:f))));let j=N.reduce((e,t)=>e*t,1),O=(0,g.calculateStrides)(N);if(s(O),S||(y(j),m({x:[T.start,T.end],y:[z.start,z.end],z:[E.start,E.end]})),j>1e9)throw td.getState().setError("largeArray"),Error("Cannot allocate unbroken memory segment for array.");let D=new Float16Array(j),P=null,R=(E.end-E.start)*(z.end-z.start)*(T.end-T.start),B=1,L=[];a("Downloading..."),n(0);for(let s=E.start;s<E.end;s++)for(let a=z.start;a<z.end;a++)for(let l=T.start;l<T.end;l++){let u=`z${s}_y${a}_x${l}`,c=e?`${r}_${i}_${t}`:`${r}_${i}`,m=`${c}_chunk_${u}`,y=x.get(m);if(y&&y.kernel.kernelSize===(d?f:void 0)&&y.kernel.kernelDepth===(d?f:void 0)){let e=y.compressed?(0,tp.DecompressArray)(y.data):y.data.slice();(0,tp.copyChunkToArray)(e,y.shape,y.stride,D,N,O,[s,a,l],[E.start,z.start,T.start]),n(Math.round(B/R*100)),B++}else{let[r,y]=(()=>{if(e){let e=[t,s*_[0],a*_[1],l*_[2]],r=[1,..._].map((t,r)=>Math.min(t,w[r]-e[r]));return[e,r]}{let e=[s*_[0],a*_[1],l*_[2]],t=_.map((t,r)=>Math.min(t,w[r]-e[r]));return[e,t]}})(),v=await h.getSlicedVariableArray(i,r,y),b=e?[y[3]*y[2],y[3],1]:[y[2]*y[1],y[2],1],S=_,[k,M]=(0,tp.ToFloat16)(v.map(e=>e===A?NaN:e),P);if(d){k=await i_(k,{shape:_,strides:b},"Mean3D",{kernelSize:f,kernelDepth:p});let e=(S=_.map((e,t)=>Math.floor(e/(0===t?p:f)))).reduce((e,t)=>e*t,1);k=(0,g.coarsen3DArray)(k,_,b,f,p,e),b=(0,g.calculateStrides)(S)}if(null!=M&&M!=P&&(null==P||M>P)){let e=P?M-P:M;for(let t of((0,tp.RescaleArray)(D,e),P=M,L)){let r=`${c}_chunk_${t}`,i=x.get(r);i.scaling=P,(0,tp.RescaleArray)(i.data,e),x.set(r,i)}}(0,tp.copyChunkToArray)(k,S,b,D,N,O,[s,a,l],[E.start,z.start,T.start]);let C={data:o?(0,tp.CompressArray)(k,7):k,shape:_,stride:b,scaling:P,compressed:o,coarsened:d,kernel:{kernelDepth:d?p:void 0,kernelSize:d?f:void 0}};x.set(m,C),n(Math.round(B/R*100)),B++,L.push(u)}}return{data:D,shape:N,dtype:b.dtype,scalingFactor:P}}e.s(["CUMSUM3D",()=>iM,"Convolve",()=>i_,"Convolve2D",()=>iC,"DataReduction",()=>iw,"Multivariate2D",()=>iS,"Multivariate3D",()=>ik],70736);var iz=e.i(71345);function*iE(e,t,r=1){void 0===t&&(t=e,e=0);for(let i=e;i<t;i+=r)yield i}function*iN(...e){if(0===e.length)return;let t=e.map(e=>e[Symbol.iterator]()),r=t.map(e=>e.next());if(r.some(e=>e.done))throw Error("Input contains an empty iterator.");for(let i=0;;){if(r[i].done){if(t[i]=e[i][Symbol.iterator](),r[i]=t[i].next(),++i>=t.length)return}else yield r.map(({value:e})=>e),i=0;r[i]=t[i].next()}}function ij({start:e,stop:t,step:r},i){if(0===r)throw Error("slice step cannot be zero");let n=(r=r??1)<0,[s,a]=n?[-1,i-1]:[0,i];return null===e?e=n?a:s:e<0?(e+=i)<s&&(e=s):e>a&&(e=a),null===t?t=n?s:a:t<0?(t+=i)<s&&(t=s):t>a&&(t=a),[e,t,r]}function iO(e,t,r=null){return void 0===t&&(t=e,e=null),{start:e,stop:t,step:r}}function iD(){let e=[];return{add:t=>e.push(t()),onIdle:()=>Promise.all(e)}}e.s(["create_queue",()=>iD,"product",()=>iN,"range",()=>iE,"slice",()=>iO,"slice_indices",()=>ij],98988);class iP extends Error{constructor(e){super(e),this.name="IndexError"}}class iR{dim_sel;dim_len;dim_chunk_len;nitems;constructor({dim_sel:e,dim_len:t,dim_chunk_len:r}){e=function(e,t){return(e=Math.trunc(e))<0&&(e=t+e),(e>=t||e<0)&&function(e){throw new iP(`index out of bounds for dimension with length ${e}`)}(t),e}(e,t),this.dim_sel=e,this.dim_len=t,this.dim_chunk_len=r,this.nitems=1}*[Symbol.iterator](){let e=Math.floor(this.dim_sel/this.dim_chunk_len),t=e*this.dim_chunk_len,r=this.dim_sel-t;yield{dim_chunk_ix:e,dim_chunk_sel:r}}}class iB{start;stop;step;dim_len;dim_chunk_len;nitems;nchunks;constructor({dim_sel:e,dim_len:t,dim_chunk_len:r}){const[i,n,s]=ij(e,t);this.start=i,this.stop=n,this.step=s,this.step<1&&function(){throw new iP("only slices with step >= 1 are supported")}(),this.dim_len=t,this.dim_chunk_len=r,this.nitems=Math.max(0,Math.ceil((this.stop-this.start)/this.step)),this.nchunks=Math.ceil(this.dim_len/this.dim_chunk_len)}*[Symbol.iterator](){for(let e of iE(Math.floor(this.start/this.dim_chunk_len),Math.ceil(this.stop/this.dim_chunk_len))){let t=e*this.dim_chunk_len,r=Math.min(this.dim_len,(e+1)*this.dim_chunk_len),i=r-t,n=0,s=0;if(this.start<t){let e=(t-this.start)%this.step;e&&(s+=this.step-e),n=Math.ceil((t-this.start)/this.step)}else s=this.start-t;let a=this.stop>r?i:this.stop-t,o=[s,a,this.step],l=[n,n+Math.ceil((a-s)/this.step),1];yield{dim_chunk_ix:e,dim_chunk_sel:o,dim_out_sel:l}}}}class iL{dim_indexers;shape;constructor({selection:e,shape:t,chunk_shape:r}){this.dim_indexers=(function(e,t){var r;let i=[];return null===e?i=t.map(e=>iO(null)):Array.isArray(e)&&(i=e.map(e=>e??iO(null))),(r=i).length>t.length&&function(e,t){throw new iP(`too many indicies for array; expected ${t.length}, got ${e.length}`)}(r,t),i})(e,t).map((e,i)=>new("number"==typeof e?iR:iB)({dim_sel:e,dim_len:t[i],dim_chunk_len:r[i]})),this.shape=this.dim_indexers.filter(e=>e instanceof iB).map(e=>e.nitems)}*[Symbol.iterator](){for(let e of iN(...this.dim_indexers)){let t=e.map(e=>e.dim_chunk_ix),r=e.map(e=>"dim_out_sel"in e?{from:e.dim_chunk_sel,to:e.dim_out_sel}:{from:e.dim_chunk_sel,to:null});yield{chunk_coords:t,mapping:r}}}}async function iF(e,t,r,i){var n;let s=(0,iz.get_context)(e),a=new iL({selection:t,shape:e.shape,chunk_shape:e.chunks}),o=i.prepare(new s.TypedArray(a.shape.reduce((e,t)=>e*t,1)),a.shape,s.get_strides(a.shape)),l=r.create_queue?.()??iD();for(let{chunk_coords:t,mapping:n}of a)l.add(async()=>{let{data:s,shape:a,stride:l}=await e.getChunk(t,r.opts),u=i.prepare(s,a,l);i.set_from_chunk(o,u,n)});return await l.onIdle(),0===a.shape.length?(n=o.data,"get"in n?n.get(0):n[0]):o}function iV(e,t=0,r){let i=r??e.length-t;return{length:i,subarray:(r,n=i)=>iV(e,t+r,n-r),set(r,i=0){for(let n=0;n<r.length;n++)e[t+i+n]=r.get(n)},get:r=>e[t+r]}}function iU(e){return globalThis.Array.isArray(e.data)?{data:iV(e.data),stride:e.stride,bytes_per_element:1}:{data:new Uint8Array(e.data.buffer,e.data.byteOffset,e.data.byteLength),stride:e.stride,bytes_per_element:e.data.BYTES_PER_ELEMENT}}let i$={prepare:(e,t,r)=>({data:e,shape:t,stride:r}),set_scalar(e,t,r){let i=iU(e);!function e(t,r,i,n){if(0===r.length)return void t.data.set(i,0);let[s,...a]=r,[o,...l]=t.stride;if("number"==typeof s)return void e({data:t.data.subarray(o*s*n),stride:l},a,i,n);let[u,c,h]=s,d=iG(u,c,h);if(0===a.length){for(let e=0;e<d;e++)t.data.set(i,o*(u+h*e)*n);return}for(let r=0;r<d;r++)e({data:t.data.subarray(o*(u+h*r)*n),stride:l},a,i,n)}(i,t,function(e,t){var r;if(globalThis.Array.isArray(e.data))return iV([t]);let i=new("chars"in(r=e.data)?r.constructor.bind(null,r.chars):(0,r.constructor))([t]);return new Uint8Array(i.buffer,i.byteOffset,i.byteLength)}(e,r),i.bytes_per_element)},set_from_chunk(e,t,r){let i=iU(e);!function e(t,r,i,n){let[s,...a]=n,[o,...l]=t.stride,[u,...c]=r.stride;if(null===s.from)return 0===a.length?void t.data.set(r.data.subarray(0,i),s.to*i):void e({data:t.data.subarray(o*s.to*i),stride:l},r,i,a);if(null===s.to){if(0===a.length){let e=s.from*i;t.data.set(r.data.subarray(e,e+i),0);return}e(t,{data:r.data.subarray(u*s.from*i),stride:c},i,a);return}let[h,d,p]=s.to,[f,m,g]=s.from,y=iG(h,d,p);if(0===a.length){if(1===p&&1===g&&1===o&&1===u){let e=f*i,n=y*i;t.data.set(r.data.subarray(e,e+n),h*i);return}for(let e=0;e<y;e++){let n=u*(f+g*e)*i;t.data.set(r.data.subarray(n,n+i),o*(h+p*e)*i)}return}for(let n=0;n<y;n++)e({data:t.data.subarray(o*(h+n*p)*i),stride:l},{data:r.data.subarray(u*(f+n*g)*i),stride:c},i,a)}(i,iU(t),i.bytes_per_element,r)}};async function iW(e,t=null,r={}){return iF(e,t,r,i$)}function iG(e,t,r){return r<0&&t<e?Math.floor(-((e-t-1)/r))+1:e<t?Math.floor((t-e-1)/r)+1:0}e.s(["get",()=>iW],81872)},27168,e=>{"use strict";e.s(["GetSize",()=>o,"GetTitleDescription",()=>c,"GetVariableNames",()=>u,"GetZarrMetadata",()=>a]);var t=e.i(59386);e.i(35690);var r=e.i(87904);function i(e){let t=["bytes","KB","MB","GB","TB","PB"],r=e,i=0;for(;r>=1024&&i<t.length-1;)r/=1024,i++;return`${r.toFixed(2)} ${t[i]}`}function n(e){return({int8:1,uint8:1,int16:2,uint16:2,int32:4,uint32:4,int64:8,uint64:8,float32:4,float64:8,bool:1})[e]||4}function s(e){return e.reduce((e,t)=>e*t,1)}async function a(e){let r=await e,a="contents"in r.store?r.store.contents():[],o=[];for(let e of a)if(e.path&&e.path.length>1&&"array"===e.kind){let a=await t.open(r.resolve(e.path.substring(1)),{kind:"array"}),l=n(a.dtype),u=s(a.shape),c=function(e,t){return e.reduce((e,r,i)=>e*Math.ceil(r/t[i]),1)}(a.shape,a.chunks),h=s(a.chunks),d=u*l,p=h*l,f=e.path.substring(1).split("/"),m=f.length>1?f.slice(0,-1).join("/"):void 0;o.push({name:e.path.substring(1),long_name:a.attrs.long_name,shape:a.shape,chunks:a.chunks,dtype:a.dtype,totalSize:d,totalSizeFormatted:i(d),chunkCount:c,chunkSize:p,chunkSizeFormatted:i(p),groupPath:m})}return o}function o(e){let t=n(e.dtype);return[s(e.shape)*t,s(e.chunks)*t,e.chunks]}let l=["longitude","latitude","lat","lon","time","depth","height","altitude","x","y","z","t","level"];async function u(e){return(await e).filter(e=>{let t;return t=e.name.toLowerCase(),!l.some(e=>t===e)}).filter(e=>1!=e.shape.length).map(e=>e.name).sort((e,t)=>e.localeCompare(t))}async function c(e){let t=await e,i="attrs"in t&&"description"in t.attrs?String(t.attrs.description):r.useGlobalStore.getState().initStore;return{title:"attrs"in t?"title"in t.attrs?String(t.attrs.title):"":null,description:i}}},35690,9914,42001,3321,48452,71948,e=>{"use strict";e.s([],35690),e.s(["useZarrStore",()=>Y],3321);var t=e.i(87628);e.s(["CompressArray",()=>W,"DecompressArray",()=>G,"GetArray",()=>H,"GetAttributes",()=>q,"GetStore",()=>$,"RescaleArray",()=>F,"ToFloat16",()=>L,"ZarrError",()=>V,"copyChunkToArray",()=>U],42001);var r=e.i(35844),i=e.i(4989),n=e.i(59386);e.s(["ArrayMinMax",()=>M,"GetCurrentArray",()=>z,"GetDimInfo",()=>E,"GetTimeSeries",()=>I,"HandleKernelNums",()=>N,"ParseExtent",()=>A,"calculateStrides",()=>B,"coarsen3DArray",()=>P,"coarsenFlatArray",()=>R,"deg2rad",()=>j,"denormalize",()=>D,"getUnitAxis",()=>k,"linspace",()=>C,"normalize",()=>O,"parseLoc",()=>_,"parseTimeUnit",()=>b,"parseUVCoords",()=>S],9914);var s=e.i(9858),a=e.i(87904),o=e.i(85503),l=e.i(82296),u=e.i(50814),c=e.i(34801),h=e.i(25613),d=e.i(81872),p=e.i(98988),f=e.i(27168),m=e.i(70736);async function g(e){let{cache:t}=l.useCacheStore.getState(),{initStore:r}=a.useGlobalStore.getState(),i=`${r}_${e}_meta`,s=[],o=[];if(t.has(i)){let e=t.get(i),n=e._ARRAY_DIMENSIONS;if(n)for(let e of n){let i=t.get(`${r}_${e}`),n=t.get(`${r}_${e}_meta`);s.push(i??[0]),o.push(n?.units??null)}else for(let t of e.shape)s.push(Array(t).fill(0)),o.push("Default");return{dimNames:n??Array(e.shape.length).fill("Default"),dimArrays:s,dimUnits:o}}let u=await Y.getState().currentStore;if(!u)throw Error(`Failed to open Zarr store: ${r}`);let c=await n.open(u.resolve(e),{kind:"array"}),h=c.attrs;h.shape=c.shape,t.set(i,h);let p=h._ARRAY_DIMENSIONS;if(p)for(let e of p){let i=await n.open(u.resolve(e),{kind:"array"}).then(e=>d.get(e)),a=await n.open(u.resolve(e),{kind:"array"}).then(e=>e.attrs);t.set(`${r}_${e}`,i.data),t.set(`${r}_${e}_meta`,a),s.push(i.data),o.push(a.units)}else for(let e of c.shape)s.push(Array(e).fill(0)),o.push("Default");return{dimNames:p??Array(c.shape.length).fill("Default"),dimArrays:s,dimUnits:o}}async function y(e){let{initStore:t,variable:r}=a.useGlobalStore.getState(),{cache:i}=l.useCacheStore.getState(),{currentStore:s}=Y.getState(),o=`${t}_${e??r}_meta`,u=await s,c=(await n.open(u.resolve(e??r),{kind:"array"})).attrs;return i.set(o,c),c}async function x(e,t,r,i=3,n=1e3){for(let s=0;s<=i;s++)try{return await e()}catch(e){if(s===i)throw h.useErrorStore.getState().setError("zarrFetch"),r(null),new V(`Failed to fetch ${t}`,e);await new Promise(e=>setTimeout(e,n))}throw Error("Unreachable")}async function v(){let{is4D:e,idx4D:t,initStore:r,variable:i,setProgress:s,setStrides:o,setStatus:u}=a.useGlobalStore.getState(),{compress:c,xSlice:g,ySlice:y,zSlice:v,currentStore:b,coarsen:w,kernelSize:_,kernelDepth:S,setCurrentChunks:k,setArraySize:M}=Y.getState(),{cache:C}=l.useCacheStore.getState(),A=await b,I=await n.open(A.resolve(i),{kind:"array"}),T=Object.getOwnPropertySymbols(I).find(e=>e.toString().includes("zarrita.context")),z=NaN;if(T&&(z=Number.isNaN(I[T]?.fill_value)?z:I[T]?.fill_value),!I.is("number")&&!I.is("bigint"))throw Error(`Unsupported data type: Only numeric arrays are supported. Got: ${I.dtype}`);let E=I.shape,[N,j,O]=(0,f.GetSize)(I);e&&(O=O.slice(1)),E.every((e,t)=>e>O[t]);let D=2===I.shape.length,R=+!!e,V=(e,t,r)=>{let i=Math.ceil(E[t+R]/r),n=Math.floor(e[0]/r);return{start:n,end:e[1]?Math.ceil(e[1]/r):i,size:(e[1]?e[1]:E[t+R])-e[0]}},$=V(g,2,O[2]),H=V(y,1,O[1]),q=D?{start:0,end:1,size:0}:V(v,0,O[0]),X=D?[H.size,$.size]:[q.size,H.size,$.size];w&&(X=X.map((e,t)=>Math.floor(e/(0===t?S:_))));let Z=X.reduce((e,t)=>e*t,1),J=B(X);if(o(J),D||(M(Z),k({x:[$.start,$.end],y:[H.start,H.end],z:[q.start,q.end]})),Z>1e9)throw h.useErrorStore.getState().setError("largeArray"),Error("Cannot allocate unbroken memory segment for array.");let K=new Float16Array(Z),Q=null,ee=(q.end-q.start)*(H.end-H.start)*($.end-$.start),et=1,er=[];u("Downloading..."),s(0);for(let n=q.start;n<q.end;n++)for(let a=H.start;a<H.end;a++)for(let o=$.start;o<$.end;o++){let l=`z${n}_y${a}_x${o}`,h=e?`${r}_${i}_${t}`:`${r}_${i}`,f=`${h}_chunk_${l}`,g=C.get(f);if(g&&g.kernel.kernelSize===(w?_:void 0)&&g.kernel.kernelDepth===(w?_:void 0))U(g.compressed?G(g.data):g.data.slice(),g.shape,g.stride,K,X,J,[n,a,o],[q.start,H.start,$.start]),s(Math.round(et/ee*100)),et++;else{let r=e?[t,p.slice(n*O[0],(n+1)*O[0]),p.slice(a*O[1],(a+1)*O[1]),p.slice(o*O[2],(o+1)*O[2])]:[p.slice(n*O[0],(n+1)*O[0]),p.slice(a*O[1],(a+1)*O[1]),p.slice(o*O[2],(o+1)*O[2])],g=await x(()=>d.get(I,r),`variable ${i}`,u);if(!g||g.data instanceof BigInt64Array||g.data instanceof BigUint64Array)throw Error("BigInt arrays are not supported for conversion to Float32Array.");let y=g.data,v=g.stride,b=O,[k,M]=L(y.map(e=>e===z?NaN:e),Q);if(w){k=await (0,m.Convolve)(k,{shape:O,strides:v},"Mean3D",{kernelSize:_,kernelDepth:S});let e=(b=O.map((e,t)=>Math.floor(e/(0===t?S:_)))).reduce((e,t)=>e*t,1);k=P(k,O,v,_,S,e),v=B(b)}if(null!=M&&M!=Q&&(null==Q||M>Q)){let e=Q?M-Q:M;for(let t of(F(K,e),Q=M,er)){let r=`${h}_chunk_${t}`,i=C.get(r);i.scaling=Q,F(i.data,e),C.set(r,i)}}U(k,b,v,K,X,J,[n,a,o],[q.start,H.start,$.start]);let A={data:c?W(k,7):k,shape:O,stride:v,scaling:Q,compressed:c,coarsened:w,kernel:{kernelDepth:w?S:void 0,kernelSize:w?_:void 0}};C.set(f,A),s(Math.round(et/ee*100)),et++,er.push(l)}}return s(0),{data:K,shape:X,dtype:I.dtype,scalingFactor:Q}}function b(e){let t;if("Default"===e||!e||"string"!=typeof e||""===e.trim())return[1,0];let r=e.match(/^(\w+)\s+since\s+(.+)$/i);if(!r)throw Error(`Invalid time unit format: expected "<unit> since <date>", got "${e}"`);let[i,n,s]=r,a=n.toLowerCase(),o={millisecond:1,milliseconds:1,second:1e3,seconds:1e3,minute:6e4,minutes:6e4,hour:36e5,hours:36e5,day:864e5,days:864e5},l=a.endsWith("s")?a.slice(0,-1):a,u=void 0!==o[a]?a:l;if(s.length<=10){let[e,r,i]=s.split("-");t=new Date(Date.UTC(parseInt(e),parseInt(r),parseInt(i)))}else t=s?new Date(s):new Date;if(!(u in o))throw Error(`Unsupported time unit: "${n}". Supported units: ${Object.keys(o).join(", ")}`);return[o[u],t.getTime()]}let w=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function _(e,t,r=!1){if(!t)if("bigint"==typeof e)return e;else if("number"==typeof e)return e?.toFixed(2);else return e;if("bigint"==typeof e||t.match(/^(\w+)\s+since\s+(.+)$/i)){if(!t)return Number(e);try{let[i,n]=b(t),s=Number(e)*i,a=new Date(s+n);if(r)return`${a.getDate()} ${w[a.getMonth()]} ${a.getFullYear()}`;{let e=a.getDate(),t=a.getMonth()+1,r=a.getFullYear();return`${String(e).padStart(2,"0")}-${String(t).padStart(2,"0")}-${r}`}}catch{return e}}return t.match(/(degree|degrees|deg|)/i)?e?`${e.toFixed(2)}\xb0`:e:e?e.toFixed(2):e}function S({normal:e,uv:t}){let r=a.useGlobalStore.getState().flipY;switch(!0){case 1===e.z:return[null,r?1-t.y:t.y,t.x];case -1===e.z:return[null,r?1-t.y:t.y,1-t.x];case 1===e.x:return[1-t.x,r?1-t.y:t.y,null];case -1===e.x:return[t.x,r?1-t.y:t.y,null];case 1===e.y:return[1-t.y,null,t.x];default:return[0,0,0]}}function k(e){return 1===Math.abs(e.x)?2:1===Math.abs(e.y)?1:1===Math.abs(e.z)?0:null}function M(e){let t=1/0,r=-1/0;for(let i=0;i<e.length;i++)t=e[i]<t?e[i]:t,r=e[i]>r?e[i]:r;return[t,r]}function C(e,t,r){let i=(t-e)/(r-1);return Array.from({length:r},(t,r)=>e+i*r)}function A(e,t){let{setLonExtent:r,setLatExtent:i,setLonResolution:n,setLatResolution:a,setOriginalExtent:l}=o.usePlotStore.getState(),{xSlice:u,ySlice:c}=o.usePlotStore.getState(),h=e.length>2?e.slice(1):e,d=!1;for(let e of h)if(e&&e.match(/(degree|degrees|deg|)/i)){d=!0;break}if(d){let e=t.length>2?t.slice(1):t,o=e[0][c[0]],h=e[0][c[1]??e[0].length-1],d=e[1][u[0]],p=e[1][u[1]??e[1].length-1];r([d=d>180?d-360:d,p=p>180?p-360:p]),i([o,h]);let f=Math.abs(e[0][1]-e[0][0]);n(Math.abs(e[1][1]-e[1][0])),a(f),l(new s.Vector4(d,p,o,h))}else r([-180,180]),i([-90,90])}function I(e,t){let{uv:r,normal:i}=t,{data:n,shape:s,stride:a}=e,o=S({normal:i,uv:r}).map((e,t)=>null===e||null===s[t]?null:Math.round(e*s[t]-.5)),l=o.indexOf(null),u=a[l],c=null==o[0]?0:a[0]*o[0],h=null==o[1]?0:a[1]*o[1],d=null==o[2]?0:a[2]*o[2],p=[];for(let e=0;e<s[l];e++){let t=e*u+c+h+d;p.push(n[t])}return p}function T(e){return new Float16Array((0,u.decompressSync)(e).buffer)}function z(e){let{variable:t,is4D:r,idx4D:i,initStore:n,strides:s,dataShape:o,setStatus:u}=a.useGlobalStore.getState(),{arraySize:c,currentChunks:h}=Y.getState(),{cache:d}=l.useCacheStore.getState(),p=e||n;if(d.has(r?`${p}_${i}_${t}`:`${p}_${t}`)){let e=d.get(r?`${p}_${i}_${t}`:`${p}_${t}`),n=e.compressed;u(n?"Decompressing data...":null);let s=n?T(e.data):e.data;return u(null),s}{let e,n,a=new Float16Array(c),[l,f]=h.x,[m,g]=h.y,[y,x]=h.z;for(let u=y;u<x;u++)for(let c=m;c<g;c++)for(let h=l;h<f;h++){let f=`z${u}_y${c}_x${h}`,g=r?`${p}_${t}_${i}_chunk_${f}`:`${p}_${t}_chunk_${f}`,x=d.get(g),v=x.compressed?T(x.data):x.data;e||(e=x.shape,n=x.stride),U(v,e,n,a,o,s,[u,c,h],[y,m,l])}return u(null),a}}async function E(e){let{useNC:t}=Y.getState();return t?(0,c.GetNCDims)(e):g(e)}function N(e){let t=parseInt(e);return t%2==0?Math.max(1,t-1):t}function j(e){return e*Math.PI/180}function O(e,t,r){if(e||0==e)return(e-t)/(r-t)}function D(e,t,r){if(e||0===e)return e*(r-t)+t}function P(e,t,r,i,n,s){let[a,o,l]=t,[u,c,h]=r,d=Math.floor(i/2),p=Math.floor(n/2),f=new Float16Array(s),m=0;for(let t=p;t<a;t+=n)for(let r=d;r<o;r+=i)for(let n=d;n<l;n+=i){let i=t*u+r*c+n*h;f[m]=e[i],m++}return f}function R(e,t){let r=Math.floor(t/2),i=[];for(let n=r;n<e.length-r;n+=t)i.push(e[n]);return i}function B(e){return e.map((t,r)=>e.reduce((e,t,i)=>e*(i>r?t:1),1))}function L(e,t){let r,i=null;if(t)for(let r=0;r<e.length;r++)e[r]/=Math.pow(10,t);let[n,s]=M(e);if(s<=65504&&n>=-65504&&Math.abs(s)>.001)r=new Float16Array(e);else{i=Math.ceil(Math.log10(s/65504));for(let t=0;t<e.length;t++)e[t]/=Math.pow(10,i);r=new Float16Array(e)}return[r,i]}function F(e,t){for(let r=0;r<e.length;r++)e[r]/=Math.pow(10,t)}class V extends Error{cause;constructor(e,t){super(e),this.cause=t,this.name="ZarrError"}}function U(e,t,r,i,n,s,a,o){let[l,u,c]=a,[h,d,p]=o,[f,m,g]=t,[y,x,v]=n,b=(l-h)*f,w=(u-d)*m,_=(c-p)*g,S=Math.min(f,y-b),k=Math.min(m,x-w),M=Math.min(g,v-_);for(let t=0;t<S;t++)for(let n=0;n<k;n++){let a=t*r[0]+n*r[1],o=(b+t)*s[0]+(w+n)*s[1]+_,l=e.subarray(a,a+M);i.set(l,o)}}async function $(e){let{setStatus:t}=a.useGlobalStore.getState();for(let s=0;s<=10;s++)try{let s=r.tryWithConsolidated(new i.FetchStore(e)),a=await s.then(e=>n.open(e,{kind:"group"}));return t(null),a}catch(r){if(10===s)throw"local"!=e.slice(0,5)&&(h.useErrorStore.getState().setError("zarrFetch"),t(null)),new V(`Failed to initialize store at ${e}`,r);await new Promise(e=>setTimeout(e,500))}}function W(e,t){let r=new Uint8Array(e.buffer);return(0,u.gzipSync)(r,{level:t})}function G(e){return new Float16Array((0,u.decompressSync)(e).buffer)}async function H(){let{is4D:e,idx4D:t,initStore:r,variable:i,setStrides:n}=a.useGlobalStore.getState(),{useNC:s}=Y.getState(),{cache:o}=l.useCacheStore.getState();if(o.has(e?`${r}_${t}_${i}`:`${r}_${i}`)){let s=o.get(e?`${r}_${t}_${i}`:`${r}_${i}`);return s.compressed&&(s.data=G(s.data)),n(s.stride),s}return s?(0,c.GetNCArray)():await v()}async function q(e){let{initStore:t,variable:r}=a.useGlobalStore.getState(),{cache:i}=l.useCacheStore.getState(),{useNC:n}=Y.getState(),s=`${t}_${e??r}_meta`;if(i.has(s)){let e=i.get(s);return n?e.attributes:e}return n?(await (0,c.GetNCMetadata)(e)).attributes:await y(e)}let Y=(0,t.create)((e,t)=>({zSlice:[0,null],ySlice:[0,null],xSlice:[0,null],compress:!1,currentStore:$("https://s3.bgc-jena.mpg.de:9000/esdl-esdc-v3.0.2/esdc-16d-2.5deg-46x72x1440-3.0.2.zarr"),reFetch:!1,currentChunks:{x:[],y:[],z:[]},arraySize:0,useNC:!1,fetchNC:!1,ncModule:null,coarsen:!1,kernelSize:2,kernelDepth:2,setZSlice:t=>e({zSlice:t}),setYSlice:t=>e({ySlice:t}),setXSlice:t=>e({xSlice:t}),setCompress:t=>e({compress:t}),setCurrentStore:t=>e({currentStore:t}),setReFetch:t=>e({reFetch:t}),ReFetch:()=>e({reFetch:!t().reFetch}),setCurrentChunks:t=>e({currentChunks:t}),setArraySize:t=>e({arraySize:t}),setUseNC:t=>e({useNC:t}),setFetchNC:t=>e({fetchNC:t}),setCoarsen:t=>e({coarsen:t}),setKernelSize:t=>e({kernelSize:t}),setKernelDepth:t=>e({kernelDepth:t})})),X=(0,t.create)(e=>({analysisMode:!1,axis:0,operation:"Default",execute:!1,useTwo:!1,variable2:"Default",valueScalesOrig:null,kernelSize:3,kernelDepth:3,kernelOperation:"Default",analysisArray:new Uint8Array(1),reverseDirection:0,analysisStore:"https://s3.bgc-jena.mpg.de:9000/esdl-esdc-v3.0.2/esdc-16d-2.5deg-46x72x1440-3.0.2.zarr",analysisDim:null,setAnalysisMode:t=>e({analysisMode:t}),setAxis:t=>e({axis:t}),setOperation:t=>e({operation:t}),setExecute:t=>e({execute:t}),setUseTwo:t=>e({useTwo:t}),setVariable2:t=>e({variable2:t}),setValueScalesOrig:t=>e({valueScalesOrig:t}),setKernelSize:t=>e({kernelSize:t}),setKernelDepth:t=>e({kernelDepth:t}),setKernelOperation:t=>e({kernelOperation:t}),setAnalysisArray:t=>e({analysisArray:t}),setReverseDirection:t=>e({reverseDirection:t}),setAnalysisStore:t=>e({analysisStore:t}),setAnalysisDim:t=>e({analysisDim:t})}));e.s(["useAnalysisStore",0,X],48452);let Z=(0,t.create)((e,t)=>({exportImg:!1,enableExport:!1,includeBackground:!1,includeColorbar:!0,doubleSize:!1,cbarLoc:"bottom",cbarNum:5,useCustomRes:!1,customRes:[1920,1080],includeAxis:!0,hideAxisControls:!1,hideAxis:!1,mainTitle:void 0,cbarLabel:void 0,cbarUnits:void 0,animate:!1,frames:60,frameRate:12,orbit:!1,orbitDeg:360,orbitDir:!1,pingpong:!1,useTime:!1,timeRate:12,loopTime:!1,keyFrameEditor:!1,keyFrames:void 0,previewKeyFrames:!1,preview:!0,currentFrame:1,cameraRef:null,previewExtent:!1,setCameraRef:t=>e({cameraRef:t}),ExportImg:()=>e({exportImg:!t().exportImg}),EnableExport:()=>e({enableExport:!0}),setIncludeBackground:t=>e({includeBackground:t}),setIncludeColorbar:t=>e({includeColorbar:t}),setDoubleSize:t=>e({doubleSize:t}),setCbarLoc:t=>e({cbarLoc:t}),getCbarLoc:()=>t().cbarLoc,setCbarNum:t=>e({cbarNum:t}),getCbarNum:()=>t().cbarNum,setUseCustomRes:t=>e({useCustomRes:t}),setCustomRes:t=>e({customRes:t}),getCustomRes:()=>t().customRes,setIncludeAxis:t=>e({includeAxis:t}),getIncludeAxis:()=>t().includeAxis,setHideAxisControls:t=>e({hideAxisControls:t}),getHideAxisControls:()=>t().hideAxisControls,setHideAxis:t=>e({hideAxis:t}),setMainTitle:t=>e({mainTitle:t}),setCbarLabel:t=>e({cbarLabel:t}),setCbarUnits:t=>e({cbarUnits:t}),setAnimate:t=>e({animate:t}),setFrames:t=>e({frames:t}),setFrameRate:t=>e({frameRate:t}),setOrbit:t=>e({orbit:t}),setOrbitDeg:t=>e({orbitDeg:t}),flipOrbitDir:()=>e({orbitDir:!t().orbitDir}),setPingpong:t=>e({pingpong:t}),setUseTime:t=>e({useTime:t}),setTimeRate:t=>e({timeRate:t}),setLoopTime:t=>e({loopTime:t}),setKeyFrameEditor:t=>e({keyFrameEditor:t}),addKeyFrame:(r,i)=>{let n=new Map(t().keyFrames||new Map);n.set(r,i),e({keyFrames:n})},removeKeyFrame:r=>{let i=new Map(t().keyFrames||new Map);i.delete(r),e({keyFrames:i})},setPreview:t=>e({preview:t}),PreviewKeyFrames:()=>e({previewKeyFrames:!t().previewKeyFrames}),setCurrentFrame:t=>e({currentFrame:t}),setPreviewExtent:t=>e({previewExtent:t})}));e.s(["useImageExportStore",0,Z],71948)},18726,e=>{"use strict";var t=e.i(81059);let r=(e,t)=>{let r=e instanceof Map?e:new Map(e.entries()),i=t instanceof Map?t:new Map(t.entries());if(r.size!==i.size)return!1;for(let[e,t]of r)if(!i.has(e)||!Object.is(t,i.get(e)))return!1;return!0};function i(e){let i=t.default.useRef(void 0);return t=>{let n=e(t);return!function(e,t){if(Object.is(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t||Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;if(Symbol.iterator in e&&Symbol.iterator in t){if("entries"in e&&"entries"in t)return r(e,t);let i=e[Symbol.iterator](),n=t[Symbol.iterator](),s=i.next(),a=n.next();for(;!s.done&&!a.done;){if(!Object.is(s.value,a.value))return!1;s=i.next(),a=n.next()}return!!s.done&&!!a.done}return r({entries:()=>Object.entries(e)},{entries:()=>Object.entries(t)})}(i.current,n)?i.current=n:i.current}}e.s(["useShallow",()=>i],18726)},15365,(e,t,r)=>{"use strict";function i({widthInt:e,heightInt:t,blurWidth:r,blurHeight:i,blurDataURL:n,objectFit:s}){let a=r?40*r:e,o=i?40*i:t,l=a&&o?`viewBox='0 0 ${a} ${o}'`:"";return`%3Csvg xmlns='http://www.w3.org/2000/svg' ${l}%3E%3Cfilter id='b' color-interpolation-filters='sRGB'%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3CfeColorMatrix values='1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 100 -1' result='s'/%3E%3CfeFlood x='0' y='0' width='100%25' height='100%25'/%3E%3CfeComposite operator='out' in='s'/%3E%3CfeComposite in2='SourceGraphic'/%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3C/filter%3E%3Cimage width='100%25' height='100%25' x='0' y='0' preserveAspectRatio='${l?"none":"contain"===s?"xMidYMid":"cover"===s?"xMidYMid slice":"none"}' style='filter: url(%23b);' href='${n}'/%3E%3C/svg%3E`}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"getImageBlurSvg",{enumerable:!0,get:function(){return i}})},88787,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i={VALID_LOADERS:function(){return s},imageConfigDefault:function(){return a}};for(var n in i)Object.defineProperty(r,n,{enumerable:!0,get:i[n]});let s=["default","imgix","cloudinary","akamai","custom"],a={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[32,48,64,96,128,256,384],path:"/_next/image",loader:"default",loaderFile:"",domains:[],disableStaticImages:!1,minimumCacheTTL:14400,formats:["image/webp"],maximumRedirects:3,dangerouslyAllowLocalIP:!1,dangerouslyAllowSVG:!1,contentSecurityPolicy:"script-src 'none'; frame-src 'none'; sandbox;",contentDispositionType:"attachment",localPatterns:void 0,remotePatterns:[],qualities:[75],unoptimized:!1}},33970,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"getImgProps",{enumerable:!0,get:function(){return u}}),e.r(44663);let i=e.r(80996),n=e.r(15365),s=e.r(88787),a=["-moz-initial","fill","none","scale-down",void 0];function o(e){return void 0!==e.default}function l(e){return void 0===e?e:"number"==typeof e?Number.isFinite(e)?e:NaN:"string"==typeof e&&/^[0-9]+$/.test(e)?parseInt(e,10):NaN}function u({src:e,sizes:t,unoptimized:r=!1,priority:u=!1,preload:c=!1,loading:h,className:d,quality:p,width:f,height:m,fill:g=!1,style:y,overrideSrc:x,onLoad:v,onLoadingComplete:b,placeholder:w="empty",blurDataURL:_,fetchPriority:S,decoding:k="async",layout:M,objectFit:C,objectPosition:A,lazyBoundary:I,lazyRoot:T,...z},E){var N;let j,O,D,{imgConf:P,showAltText:R,blurComplete:B,defaultLoader:L}=E,F=P||s.imageConfigDefault;if("allSizes"in F)j=F;else{let e=[...F.deviceSizes,...F.imageSizes].sort((e,t)=>e-t),t=F.deviceSizes.sort((e,t)=>e-t),r=F.qualities?.sort((e,t)=>e-t);j={...F,allSizes:e,deviceSizes:t,qualities:r}}if(void 0===L)throw Object.defineProperty(Error("images.loaderFile detected but the file is missing default export.\nRead more: https://nextjs.org/docs/messages/invalid-images-config"),"__NEXT_ERROR_CODE",{value:"E163",enumerable:!1,configurable:!0});let V=z.loader||L;delete z.loader,delete z.srcSet;let U="__next_img_default"in V;if(U){if("custom"===j.loader)throw Object.defineProperty(Error(`Image with src "${e}" is missing "loader" prop.
Read more: https://nextjs.org/docs/messages/next-image-missing-loader`),"__NEXT_ERROR_CODE",{value:"E252",enumerable:!1,configurable:!0})}else{let e=V;V=t=>{let{config:r,...i}=t;return e(i)}}if(M){"fill"===M&&(g=!0);let e={intrinsic:{maxWidth:"100%",height:"auto"},responsive:{width:"100%",height:"auto"}}[M];e&&(y={...y,...e});let r={responsive:"100vw",fill:"100vw"}[M];r&&!t&&(t=r)}let $="",W=l(f),G=l(m);if((N=e)&&"object"==typeof N&&(o(N)||void 0!==N.src)){let t=o(e)?e.default:e;if(!t.src)throw Object.defineProperty(Error(`An object should only be passed to the image component src parameter if it comes from a static image import. It must include src. Received ${JSON.stringify(t)}`),"__NEXT_ERROR_CODE",{value:"E460",enumerable:!1,configurable:!0});if(!t.height||!t.width)throw Object.defineProperty(Error(`An object should only be passed to the image component src parameter if it comes from a static image import. It must include height and width. Received ${JSON.stringify(t)}`),"__NEXT_ERROR_CODE",{value:"E48",enumerable:!1,configurable:!0});if(O=t.blurWidth,D=t.blurHeight,_=_||t.blurDataURL,$=t.src,!g)if(W||G){if(W&&!G){let e=W/t.width;G=Math.round(t.height*e)}else if(!W&&G){let e=G/t.height;W=Math.round(t.width*e)}}else W=t.width,G=t.height}let H=!u&&!c&&("lazy"===h||void 0===h);(!(e="string"==typeof e?e:$)||e.startsWith("data:")||e.startsWith("blob:"))&&(r=!0,H=!1),j.unoptimized&&(r=!0),U&&!j.dangerouslyAllowSVG&&e.split("?",1)[0].endsWith(".svg")&&(r=!0);let q=l(p),Y=Object.assign(g?{position:"absolute",height:"100%",width:"100%",left:0,top:0,right:0,bottom:0,objectFit:C,objectPosition:A}:{},R?{}:{color:"transparent"},y),X=B||"empty"===w?null:"blur"===w?`url("data:image/svg+xml;charset=utf-8,${(0,n.getImageBlurSvg)({widthInt:W,heightInt:G,blurWidth:O,blurHeight:D,blurDataURL:_||"",objectFit:Y.objectFit})}")`:`url("${w}")`,Z=a.includes(Y.objectFit)?"fill"===Y.objectFit?"100% 100%":"cover":Y.objectFit,J=X?{backgroundSize:Z,backgroundPosition:Y.objectPosition||"50% 50%",backgroundRepeat:"no-repeat",backgroundImage:X}:{},K=function({config:e,src:t,unoptimized:r,width:n,quality:s,sizes:a,loader:o}){if(r){let e=(0,i.getDeploymentId)();if(t.startsWith("/")&&!t.startsWith("//")&&e){let r=t.includes("?")?"&":"?";t=`${t}${r}dpl=${e}`}return{src:t,srcSet:void 0,sizes:void 0}}let{widths:l,kind:u}=function({deviceSizes:e,allSizes:t},r,i){if(i){let r=/(^|\s)(1?\d?\d)vw/g,n=[];for(let e;e=r.exec(i);)n.push(parseInt(e[2]));if(n.length){let r=.01*Math.min(...n);return{widths:t.filter(t=>t>=e[0]*r),kind:"w"}}return{widths:t,kind:"w"}}return"number"!=typeof r?{widths:e,kind:"w"}:{widths:[...new Set([r,2*r].map(e=>t.find(t=>t>=e)||t[t.length-1]))],kind:"x"}}(e,n,a),c=l.length-1;return{sizes:a||"w"!==u?a:"100vw",srcSet:l.map((r,i)=>`${o({config:e,src:t,quality:s,width:r})} ${"w"===u?r:i+1}${u}`).join(", "),src:o({config:e,src:t,quality:s,width:l[c]})}}({config:j,src:e,unoptimized:r,width:W,quality:q,sizes:t,loader:V}),Q=H?"lazy":h;return{props:{...z,loading:Q,fetchPriority:S,width:W,height:G,decoding:k,className:d,style:{...Y,...J},sizes:K.sizes,srcSet:K.srcSet,src:x||K.src},meta:{unoptimized:r,preload:c||u,placeholder:w,fill:g}}}},76543,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"default",{enumerable:!0,get:function(){return o}});let i=e.r(81059),n="undefined"==typeof window,s=n?()=>{}:i.useLayoutEffect,a=n?()=>{}:i.useEffect;function o(e){let{headManager:t,reduceComponentsToState:r}=e;function o(){if(t&&t.mountedInstances){let e=i.Children.toArray(Array.from(t.mountedInstances).filter(Boolean));t.updateHead(r(e))}}return n&&(t?.mountedInstances?.add(e.children),o()),s(()=>(t?.mountedInstances?.add(e.children),()=>{t?.mountedInstances?.delete(e.children)})),s(()=>(t&&(t._pendingUpdate=o),()=>{t&&(t._pendingUpdate=o)})),a(()=>(t&&t._pendingUpdate&&(t._pendingUpdate(),t._pendingUpdate=null),()=>{t&&t._pendingUpdate&&(t._pendingUpdate(),t._pendingUpdate=null)})),null}},11331,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i={default:function(){return m},defaultHead:function(){return h}};for(var n in i)Object.defineProperty(r,n,{enumerable:!0,get:i[n]});let s=e.r(81258),a=e.r(44066),o=e.r(91664),l=a._(e.r(81059)),u=s._(e.r(76543)),c=e.r(7737);function h(){return[(0,o.jsx)("meta",{charSet:"utf-8"},"charset"),(0,o.jsx)("meta",{name:"viewport",content:"width=device-width"},"viewport")]}function d(e,t){return"string"==typeof t||"number"==typeof t?e:t.type===l.default.Fragment?e.concat(l.default.Children.toArray(t.props.children).reduce((e,t)=>"string"==typeof t||"number"==typeof t?e:e.concat(t),[])):e.concat(t)}e.r(44663);let p=["name","httpEquiv","charSet","itemProp"];function f(e){let t,r,i,n;return e.reduce(d,[]).reverse().concat(h().reverse()).filter((t=new Set,r=new Set,i=new Set,n={},e=>{let s=!0,a=!1;if(e.key&&"number"!=typeof e.key&&e.key.indexOf("$")>0){a=!0;let r=e.key.slice(e.key.indexOf("$")+1);t.has(r)?s=!1:t.add(r)}switch(e.type){case"title":case"base":r.has(e.type)?s=!1:r.add(e.type);break;case"meta":for(let t=0,r=p.length;t<r;t++){let r=p[t];if(e.props.hasOwnProperty(r))if("charSet"===r)i.has(r)?s=!1:i.add(r);else{let t=e.props[r],i=n[r]||new Set;("name"!==r||!a)&&i.has(t)?s=!1:(i.add(t),n[r]=i)}}}return s})).reverse().map((e,t)=>{let r=e.key||t;return l.default.cloneElement(e,{key:r})})}let m=function({children:e}){let t=(0,l.useContext)(c.HeadManagerContext);return(0,o.jsx)(u.default,{reduceComponentsToState:f,headManager:t,children:e})};("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},8602,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"ImageConfigContext",{enumerable:!0,get:function(){return s}});let i=e.r(81258)._(e.r(81059)),n=e.r(88787),s=i.default.createContext(n.imageConfigDefault)},95178,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"RouterContext",{enumerable:!0,get:function(){return i}});let i=e.r(81258)._(e.r(81059)).default.createContext(null)},72600,(e,t,r)=>{"use strict";function i(e,t){let r=e||75;return t?.qualities?.length?t.qualities.reduce((e,t)=>Math.abs(t-r)<Math.abs(e-r)?t:e,0):r}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"findClosestQuality",{enumerable:!0,get:function(){return i}})},62662,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"default",{enumerable:!0,get:function(){return a}});let i=e.r(72600),n=e.r(80996);function s({config:e,src:t,width:r,quality:s}){if(t.startsWith("/")&&t.includes("?")&&e.localPatterns?.length===1&&"**"===e.localPatterns[0].pathname&&""===e.localPatterns[0].search)throw Object.defineProperty(Error(`Image with src "${t}" is using a query string which is not configured in images.localPatterns.
Read more: https://nextjs.org/docs/messages/next-image-unconfigured-localpatterns`),"__NEXT_ERROR_CODE",{value:"E871",enumerable:!1,configurable:!0});let a=(0,i.findClosestQuality)(s,e),o=(0,n.getDeploymentId)();return`${e.path}?url=${encodeURIComponent(t)}&w=${r}&q=${a}${t.startsWith("/")&&o?`&dpl=${o}`:""}`}s.__next_img_default=!0;let a=s},86382,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"Image",{enumerable:!0,get:function(){return b}});let i=e.r(81258),n=e.r(44066),s=e.r(91664),a=n._(e.r(81059)),o=i._(e.r(91795)),l=i._(e.r(11331)),u=e.r(33970),c=e.r(88787),h=e.r(8602);e.r(44663);let d=e.r(95178),p=i._(e.r(62662)),f=e.r(43879),m={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[32,48,64,96,128,256,384],qualities:[75],path:"/latest/_next/image/",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!0};function g(e,t,r,i,n,s,a){let o=e?.src;e&&e["data-loaded-src"]!==o&&(e["data-loaded-src"]=o,("decode"in e?e.decode():Promise.resolve()).catch(()=>{}).then(()=>{if(e.parentElement&&e.isConnected){if("empty"!==t&&n(!0),r?.current){let t=new Event("load");Object.defineProperty(t,"target",{writable:!1,value:e});let i=!1,n=!1;r.current({...t,nativeEvent:t,currentTarget:e,target:e,isDefaultPrevented:()=>i,isPropagationStopped:()=>n,persist:()=>{},preventDefault:()=>{i=!0,t.preventDefault()},stopPropagation:()=>{n=!0,t.stopPropagation()}})}i?.current&&i.current(e)}}))}function y(e){return a.use?{fetchPriority:e}:{fetchpriority:e}}"undefined"==typeof window&&(globalThis.__NEXT_IMAGE_IMPORTED=!0);let x=(0,a.forwardRef)(({src:e,srcSet:t,sizes:r,height:i,width:n,decoding:o,className:l,style:u,fetchPriority:c,placeholder:h,loading:d,unoptimized:p,fill:m,onLoadRef:x,onLoadingCompleteRef:v,setBlurComplete:b,setShowAltText:w,sizesInput:_,onLoad:S,onError:k,...M},C)=>{let A=(0,a.useCallback)(e=>{e&&(k&&(e.src=e.src),e.complete&&g(e,h,x,v,b,p,_))},[e,h,x,v,b,k,p,_]),I=(0,f.useMergedRef)(C,A);return(0,s.jsx)("img",{...M,...y(c),loading:d,width:n,height:i,decoding:o,"data-nimg":m?"fill":"1",className:l,style:u,sizes:r,srcSet:t,src:e,ref:I,onLoad:e=>{g(e.currentTarget,h,x,v,b,p,_)},onError:e=>{w(!0),"empty"!==h&&b(!0),k&&k(e)}})});function v({isAppRouter:e,imgAttributes:t}){let r={as:"image",imageSrcSet:t.srcSet,imageSizes:t.sizes,crossOrigin:t.crossOrigin,referrerPolicy:t.referrerPolicy,...y(t.fetchPriority)};return e&&o.default.preload?(o.default.preload(t.src,r),null):(0,s.jsx)(l.default,{children:(0,s.jsx)("link",{rel:"preload",href:t.srcSet?void 0:t.src,...r},"__nimg-"+t.src+t.srcSet+t.sizes)})}let b=(0,a.forwardRef)((e,t)=>{let r=(0,a.useContext)(d.RouterContext),i=(0,a.useContext)(h.ImageConfigContext),n=(0,a.useMemo)(()=>{let e=m||i||c.imageConfigDefault,t=[...e.deviceSizes,...e.imageSizes].sort((e,t)=>e-t),r=e.deviceSizes.sort((e,t)=>e-t),n=e.qualities?.sort((e,t)=>e-t);return{...e,allSizes:t,deviceSizes:r,qualities:n,localPatterns:"undefined"==typeof window?i?.localPatterns:e.localPatterns}},[i]),{onLoad:o,onLoadingComplete:l}=e,f=(0,a.useRef)(o);(0,a.useEffect)(()=>{f.current=o},[o]);let g=(0,a.useRef)(l);(0,a.useEffect)(()=>{g.current=l},[l]);let[y,b]=(0,a.useState)(!1),[w,_]=(0,a.useState)(!1),{props:S,meta:k}=(0,u.getImgProps)(e,{defaultLoader:p.default,imgConf:n,blurComplete:y,showAltText:w});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(x,{...S,unoptimized:k.unoptimized,placeholder:k.placeholder,fill:k.fill,onLoadRef:f,onLoadingCompleteRef:g,setBlurComplete:b,setShowAltText:_,sizesInput:e.sizes,ref:t}),k.preload?(0,s.jsx)(v,{isAppRouter:!r,imgAttributes:S}):null]})});("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},4949,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i={default:function(){return c},getImageProps:function(){return u}};for(var n in i)Object.defineProperty(r,n,{enumerable:!0,get:i[n]});let s=e.r(81258),a=e.r(33970),o=e.r(86382),l=s._(e.r(62662));function u(e){let{props:t}=(0,a.getImgProps)(e,{defaultLoader:l.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[32,48,64,96,128,256,384],qualities:[75],path:"/latest/_next/image/",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!0}});for(let[e,r]of Object.entries(t))void 0===r&&delete t[e];return{props:t}}let c=o.Image},86465,(e,t,r)=>{t.exports=e.r(4949)},14621,e=>{e.v(e.b(["static/chunks/b67485821842585c.js","static/chunks/turbopack-d8291225fc349904.js"]))},21957,60112,e=>{"use strict";var t=e.i(81059),r=(e,t,r,i,n,s,a,o)=>{let l=document.documentElement,u=["light","dark"];function c(t){var r;(Array.isArray(e)?e:[e]).forEach(e=>{let r="class"===e,i=r&&s?n.map(e=>s[e]||e):n;r?(l.classList.remove(...i),l.classList.add(s&&s[t]?s[t]:t)):l.setAttribute(e,t)}),r=t,o&&u.includes(r)&&(l.style.colorScheme=r)}if(i)c(i);else try{let e=localStorage.getItem(t)||r,i=a&&"system"===e?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":e;c(i)}catch(e){}},i=["light","dark"],n="(prefers-color-scheme: dark)",s="undefined"==typeof window,a=t.createContext(void 0),o={setTheme:e=>{},themes:[]},l=()=>{var e;return null!=(e=t.useContext(a))?e:o},u=e=>t.useContext(a)?t.createElement(t.Fragment,null,e.children):t.createElement(h,{...e}),c=["light","dark"],h=({forcedTheme:e,disableTransitionOnChange:r=!1,enableSystem:s=!0,enableColorScheme:o=!0,storageKey:l="theme",themes:u=c,defaultTheme:h=s?"system":"light",attribute:g="data-theme",value:y,children:x,nonce:v,scriptProps:b})=>{let[w,_]=t.useState(()=>p(l,h)),[S,k]=t.useState(()=>"system"===w?m():w),M=y?Object.values(y):u,C=t.useCallback(e=>{let t=e;if(!t)return;"system"===e&&s&&(t=m());let n=y?y[t]:t,a=r?f(v):null,l=document.documentElement,u=e=>{"class"===e?(l.classList.remove(...M),n&&l.classList.add(n)):e.startsWith("data-")&&(n?l.setAttribute(e,n):l.removeAttribute(e))};if(Array.isArray(g)?g.forEach(u):u(g),o){let e=i.includes(h)?h:null,r=i.includes(t)?t:e;l.style.colorScheme=r}null==a||a()},[v]),A=t.useCallback(e=>{let t="function"==typeof e?e(w):e;_(t);try{localStorage.setItem(l,t)}catch(e){}},[w]),I=t.useCallback(t=>{k(m(t)),"system"===w&&s&&!e&&C("system")},[w,e]);t.useEffect(()=>{let e=window.matchMedia(n);return e.addListener(I),I(e),()=>e.removeListener(I)},[I]),t.useEffect(()=>{let e=e=>{e.key===l&&(e.newValue?_(e.newValue):A(h))};return window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)},[A]),t.useEffect(()=>{C(null!=e?e:w)},[e,w]);let T=t.useMemo(()=>({theme:w,setTheme:A,forcedTheme:e,resolvedTheme:"system"===w?S:w,themes:s?[...u,"system"]:u,systemTheme:s?S:void 0}),[w,A,e,S,s,u]);return t.createElement(a.Provider,{value:T},t.createElement(d,{forcedTheme:e,storageKey:l,attribute:g,enableSystem:s,enableColorScheme:o,defaultTheme:h,value:y,themes:u,nonce:v,scriptProps:b}),x)},d=t.memo(({forcedTheme:e,storageKey:i,attribute:n,enableSystem:s,enableColorScheme:a,defaultTheme:o,value:l,themes:u,nonce:c,scriptProps:h})=>{let d=JSON.stringify([n,i,o,e,u,l,s,a]).slice(1,-1);return t.createElement("script",{...h,suppressHydrationWarning:!0,nonce:"undefined"==typeof window?c:"",dangerouslySetInnerHTML:{__html:`(${r.toString()})(${d})`}})}),p=(e,t)=>{let r;if(!s){try{r=localStorage.getItem(e)||void 0}catch(e){}return r||t}},f=e=>{let t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},m=e=>(e||(e=window.matchMedia(n)),e.matches?"dark":"light");e.s(["ThemeProvider",()=>u,"useTheme",()=>l],21957);var g=e.i(91795);let y=Array(12).fill(0),x=({visible:e,className:r})=>t.default.createElement("div",{className:["sonner-loading-wrapper",r].filter(Boolean).join(" "),"data-visible":e},t.default.createElement("div",{className:"sonner-spinner"},y.map((e,r)=>t.default.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),v=t.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},t.default.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),b=t.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},t.default.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),w=t.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},t.default.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),_=t.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},t.default.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),S=t.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},t.default.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.default.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),k=1,M=new class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...i}=e,n="number"==typeof(null==e?void 0:e.id)||(null==(t=e.id)?void 0:t.length)>0?e.id:k++,s=this.toasts.find(e=>e.id===n),a=void 0===e.dismissible||e.dismissible;return this.dismissedToasts.has(n)&&this.dismissedToasts.delete(n),s?this.toasts=this.toasts.map(t=>t.id===n?(this.publish({...t,...e,id:n,title:r}),{...t,...e,id:n,dismissible:a,title:r}):t):this.addToast({title:r,...i,dismissible:a,id:n}),n},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(t=>t({id:e,dismiss:!0})))):this.toasts.forEach(e=>{this.subscribers.forEach(t=>t({id:e.id,dismiss:!0}))}),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,r)=>{let i,n;if(!r)return;void 0!==r.loading&&(n=this.create({...r,promise:e,type:"loading",message:r.loading,description:"function"!=typeof r.description?r.description:void 0}));let s=Promise.resolve(e instanceof Function?e():e),a=void 0!==n,o=s.then(async e=>{if(i=["resolve",e],t.default.isValidElement(e))a=!1,this.create({id:n,type:"default",message:e});else if(C(e)&&!e.ok){a=!1;let i="function"==typeof r.error?await r.error(`HTTP error! status: ${e.status}`):r.error,s="function"==typeof r.description?await r.description(`HTTP error! status: ${e.status}`):r.description,o="object"!=typeof i||t.default.isValidElement(i)?{message:i}:i;this.create({id:n,type:"error",description:s,...o})}else if(e instanceof Error){a=!1;let i="function"==typeof r.error?await r.error(e):r.error,s="function"==typeof r.description?await r.description(e):r.description,o="object"!=typeof i||t.default.isValidElement(i)?{message:i}:i;this.create({id:n,type:"error",description:s,...o})}else if(void 0!==r.success){a=!1;let i="function"==typeof r.success?await r.success(e):r.success,s="function"==typeof r.description?await r.description(e):r.description,o="object"!=typeof i||t.default.isValidElement(i)?{message:i}:i;this.create({id:n,type:"success",description:s,...o})}}).catch(async e=>{if(i=["reject",e],void 0!==r.error){a=!1;let i="function"==typeof r.error?await r.error(e):r.error,s="function"==typeof r.description?await r.description(e):r.description,o="object"!=typeof i||t.default.isValidElement(i)?{message:i}:i;this.create({id:n,type:"error",description:s,...o})}}).finally(()=>{a&&(this.dismiss(n),n=void 0),null==r.finally||r.finally.call(r)}),l=()=>new Promise((e,t)=>o.then(()=>"reject"===i[0]?t(i[1]):e(i[1])).catch(t));return"string"!=typeof n&&"number"!=typeof n?{unwrap:l}:Object.assign(n,{unwrap:l})},this.custom=(e,t)=>{let r=(null==t?void 0:t.id)||k++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},C=e=>e&&"object"==typeof e&&"ok"in e&&"boolean"==typeof e.ok&&"status"in e&&"number"==typeof e.status,A=Object.assign((e,t)=>{let r=(null==t?void 0:t.id)||k++;return M.addToast({title:e,...t,id:r}),r},{success:M.success,info:M.info,warning:M.warning,error:M.error,custom:M.custom,message:M.message,promise:M.promise,dismiss:M.dismiss,loading:M.loading},{getHistory:()=>M.toasts,getToasts:()=>M.getActiveToasts()});function I(e){return void 0!==e.label}function T(...e){return e.filter(Boolean).join(" ")}!function(e){if(!e||"undefined"==typeof document)return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");let z=e=>{var r,i,n,s,a,o,l,u,c,h,d,p,f;let{invert:m,toast:g,unstyled:y,interacting:k,setHeights:M,visibleToasts:C,heights:A,index:z,toasts:E,expanded:N,removeToast:j,defaultRichColors:O,closeButton:D,style:P,cancelButtonStyle:R,actionButtonStyle:B,className:L="",descriptionClassName:F="",duration:V,position:U,gap:$,expandByDefault:W,classNames:G,icons:H,closeButtonAriaLabel:q="Close toast"}=e,[Y,X]=t.default.useState(null),[Z,J]=t.default.useState(null),[K,Q]=t.default.useState(!1),[ee,et]=t.default.useState(!1),[er,ei]=t.default.useState(!1),[en,es]=t.default.useState(!1),[ea,eo]=t.default.useState(!1),[el,eu]=t.default.useState(0),[ec,eh]=t.default.useState(0),ed=t.default.useRef(g.duration||V||4e3),ep=t.default.useRef(null),ef=t.default.useRef(null),em=0===z,eg=z+1<=C,ey=g.type,ex=!1!==g.dismissible,ev=g.className||"",eb=g.descriptionClassName||"",ew=t.default.useMemo(()=>A.findIndex(e=>e.toastId===g.id)||0,[A,g.id]),e_=t.default.useMemo(()=>{var e;return null!=(e=g.closeButton)?e:D},[g.closeButton,D]),eS=t.default.useMemo(()=>g.duration||V||4e3,[g.duration,V]),ek=t.default.useRef(0),eM=t.default.useRef(0),eC=t.default.useRef(0),eA=t.default.useRef(null),[eI,eT]=U.split("-"),ez=t.default.useMemo(()=>A.reduce((e,t,r)=>r>=ew?e:e+t.height,0),[A,ew]),eE=(()=>{let[e,r]=t.default.useState(document.hidden);return t.default.useEffect(()=>{let e=()=>{r(document.hidden)};return document.addEventListener("visibilitychange",e),()=>window.removeEventListener("visibilitychange",e)},[]),e})(),eN=g.invert||m,ej="loading"===ey;eM.current=t.default.useMemo(()=>ew*$+ez,[ew,ez]),t.default.useEffect(()=>{ed.current=eS},[eS]),t.default.useEffect(()=>{Q(!0)},[]),t.default.useEffect(()=>{let e=ef.current;if(e){let t=e.getBoundingClientRect().height;return eh(t),M(e=>[{toastId:g.id,height:t,position:g.position},...e]),()=>M(e=>e.filter(e=>e.toastId!==g.id))}},[M,g.id]),t.default.useLayoutEffect(()=>{if(!K)return;let e=ef.current,t=e.style.height;e.style.height="auto";let r=e.getBoundingClientRect().height;e.style.height=t,eh(r),M(e=>e.find(e=>e.toastId===g.id)?e.map(e=>e.toastId===g.id?{...e,height:r}:e):[{toastId:g.id,height:r,position:g.position},...e])},[K,g.title,g.description,M,g.id,g.jsx,g.action,g.cancel]);let eO=t.default.useCallback(()=>{et(!0),eu(eM.current),M(e=>e.filter(e=>e.toastId!==g.id)),setTimeout(()=>{j(g)},200)},[g,j,M,eM]);t.default.useEffect(()=>{let e;if((!g.promise||"loading"!==ey)&&g.duration!==1/0&&"loading"!==g.type){if(N||k||eE){if(eC.current<ek.current){let e=new Date().getTime()-ek.current;ed.current=ed.current-e}eC.current=new Date().getTime()}else ed.current!==1/0&&(ek.current=new Date().getTime(),e=setTimeout(()=>{null==g.onAutoClose||g.onAutoClose.call(g,g),eO()},ed.current));return()=>clearTimeout(e)}},[N,k,g,ey,eE,eO]),t.default.useEffect(()=>{g.delete&&(eO(),null==g.onDismiss||g.onDismiss.call(g,g))},[eO,g.delete]);let eD=g.icon||(null==H?void 0:H[ey])||(e=>{switch(e){case"success":return v;case"info":return w;case"warning":return b;case"error":return _;default:return null}})(ey);return t.default.createElement("li",{tabIndex:0,ref:ef,className:T(L,ev,null==G?void 0:G.toast,null==g||null==(r=g.classNames)?void 0:r.toast,null==G?void 0:G.default,null==G?void 0:G[ey],null==g||null==(i=g.classNames)?void 0:i[ey]),"data-sonner-toast":"","data-rich-colors":null!=(h=g.richColors)?h:O,"data-styled":!(g.jsx||g.unstyled||y),"data-mounted":K,"data-promise":!!g.promise,"data-swiped":ea,"data-removed":ee,"data-visible":eg,"data-y-position":eI,"data-x-position":eT,"data-index":z,"data-front":em,"data-swiping":er,"data-dismissible":ex,"data-type":ey,"data-invert":eN,"data-swipe-out":en,"data-swipe-direction":Z,"data-expanded":!!(N||W&&K),"data-testid":g.testId,style:{"--index":z,"--toasts-before":z,"--z-index":E.length-z,"--offset":`${ee?el:eM.current}px`,"--initial-height":W?"auto":`${ec}px`,...P,...g.style},onDragEnd:()=>{ei(!1),X(null),eA.current=null},onPointerDown:e=>{2===e.button||ej||!ex||(ep.current=new Date,eu(eM.current),e.target.setPointerCapture(e.pointerId),"BUTTON"!==e.target.tagName&&(ei(!0),eA.current={x:e.clientX,y:e.clientY}))},onPointerUp:()=>{var e,t,r,i,n;if(en||!ex)return;eA.current=null;let s=Number((null==(e=ef.current)?void 0:e.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),a=Number((null==(t=ef.current)?void 0:t.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),o=new Date().getTime()-(null==(r=ep.current)?void 0:r.getTime()),l="x"===Y?s:a,u=Math.abs(l)/o;if(Math.abs(l)>=45||u>.11){eu(eM.current),null==g.onDismiss||g.onDismiss.call(g,g),"x"===Y?J(s>0?"right":"left"):J(a>0?"down":"up"),eO(),es(!0);return}null==(i=ef.current)||i.style.setProperty("--swipe-amount-x","0px"),null==(n=ef.current)||n.style.setProperty("--swipe-amount-y","0px"),eo(!1),ei(!1),X(null)},onPointerMove:t=>{var r,i,n,s;if(!eA.current||!ex||(null==(r=window.getSelection())?void 0:r.toString().length)>0)return;let a=t.clientY-eA.current.y,o=t.clientX-eA.current.x,l=null!=(s=e.swipeDirections)?s:function(e){let[t,r]=e.split("-"),i=[];return t&&i.push(t),r&&i.push(r),i}(U);!Y&&(Math.abs(o)>1||Math.abs(a)>1)&&X(Math.abs(o)>Math.abs(a)?"x":"y");let u={x:0,y:0},c=e=>1/(1.5+Math.abs(e)/20);if("y"===Y){if(l.includes("top")||l.includes("bottom"))if(l.includes("top")&&a<0||l.includes("bottom")&&a>0)u.y=a;else{let e=a*c(a);u.y=Math.abs(e)<Math.abs(a)?e:a}}else if("x"===Y&&(l.includes("left")||l.includes("right")))if(l.includes("left")&&o<0||l.includes("right")&&o>0)u.x=o;else{let e=o*c(o);u.x=Math.abs(e)<Math.abs(o)?e:o}(Math.abs(u.x)>0||Math.abs(u.y)>0)&&eo(!0),null==(i=ef.current)||i.style.setProperty("--swipe-amount-x",`${u.x}px`),null==(n=ef.current)||n.style.setProperty("--swipe-amount-y",`${u.y}px`)}},e_&&!g.jsx&&"loading"!==ey?t.default.createElement("button",{"aria-label":q,"data-disabled":ej,"data-close-button":!0,onClick:ej||!ex?()=>{}:()=>{eO(),null==g.onDismiss||g.onDismiss.call(g,g)},className:T(null==G?void 0:G.closeButton,null==g||null==(n=g.classNames)?void 0:n.closeButton)},null!=(d=null==H?void 0:H.close)?d:S):null,(ey||g.icon||g.promise)&&null!==g.icon&&((null==H?void 0:H[ey])!==null||g.icon)?t.default.createElement("div",{"data-icon":"",className:T(null==G?void 0:G.icon,null==g||null==(s=g.classNames)?void 0:s.icon)},g.promise||"loading"===g.type&&!g.icon?g.icon||((null==H?void 0:H.loading)?t.default.createElement("div",{className:T(null==G?void 0:G.loader,null==g||null==(f=g.classNames)?void 0:f.loader,"sonner-loader"),"data-visible":"loading"===ey},H.loading):t.default.createElement(x,{className:T(null==G?void 0:G.loader,null==g||null==(p=g.classNames)?void 0:p.loader),visible:"loading"===ey})):null,"loading"!==g.type?eD:null):null,t.default.createElement("div",{"data-content":"",className:T(null==G?void 0:G.content,null==g||null==(a=g.classNames)?void 0:a.content)},t.default.createElement("div",{"data-title":"",className:T(null==G?void 0:G.title,null==g||null==(o=g.classNames)?void 0:o.title)},g.jsx?g.jsx:"function"==typeof g.title?g.title():g.title),g.description?t.default.createElement("div",{"data-description":"",className:T(F,eb,null==G?void 0:G.description,null==g||null==(l=g.classNames)?void 0:l.description)},"function"==typeof g.description?g.description():g.description):null),t.default.isValidElement(g.cancel)?g.cancel:g.cancel&&I(g.cancel)?t.default.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||R,onClick:e=>{!I(g.cancel)||ex&&(null==g.cancel.onClick||g.cancel.onClick.call(g.cancel,e),eO())},className:T(null==G?void 0:G.cancelButton,null==g||null==(u=g.classNames)?void 0:u.cancelButton)},g.cancel.label):null,t.default.isValidElement(g.action)?g.action:g.action&&I(g.action)?t.default.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||B,onClick:e=>{!I(g.action)||(null==g.action.onClick||g.action.onClick.call(g.action,e),e.defaultPrevented||eO())},className:T(null==G?void 0:G.actionButton,null==g||null==(c=g.classNames)?void 0:c.actionButton)},g.action.label):null)};function E(){if("undefined"==typeof window||"undefined"==typeof document)return"ltr";let e=document.documentElement.getAttribute("dir");return"auto"!==e&&e?e:window.getComputedStyle(document.documentElement).direction}let N=t.default.forwardRef(function(e,r){let{id:i,invert:n,position:s="bottom-right",hotkey:a=["altKey","KeyT"],expand:o,closeButton:l,className:u,offset:c,mobileOffset:h,theme:d="light",richColors:p,duration:f,style:m,visibleToasts:y=3,toastOptions:x,dir:v=E(),gap:b=14,icons:w,containerAriaLabel:_="Notifications"}=e,[S,k]=t.default.useState([]),C=t.default.useMemo(()=>i?S.filter(e=>e.toasterId===i):S.filter(e=>!e.toasterId),[S,i]),A=t.default.useMemo(()=>Array.from(new Set([s].concat(C.filter(e=>e.position).map(e=>e.position)))),[C,s]),[I,T]=t.default.useState([]),[N,j]=t.default.useState(!1),[O,D]=t.default.useState(!1),[P,R]=t.default.useState("system"!==d?d:"undefined"!=typeof window&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),B=t.default.useRef(null),L=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),F=t.default.useRef(null),V=t.default.useRef(!1),U=t.default.useCallback(e=>{k(t=>{var r;return(null==(r=t.find(t=>t.id===e.id))?void 0:r.delete)||M.dismiss(e.id),t.filter(({id:t})=>t!==e.id)})},[]);return t.default.useEffect(()=>M.subscribe(e=>{e.dismiss?requestAnimationFrame(()=>{k(t=>t.map(t=>t.id===e.id?{...t,delete:!0}:t))}):setTimeout(()=>{g.default.flushSync(()=>{k(t=>{let r=t.findIndex(t=>t.id===e.id);return -1!==r?[...t.slice(0,r),{...t[r],...e},...t.slice(r+1)]:[e,...t]})})})}),[S]),t.default.useEffect(()=>{if("system"!==d)return void R(d);if("system"===d&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?R("dark"):R("light")),"undefined"==typeof window)return;let e=window.matchMedia("(prefers-color-scheme: dark)");try{e.addEventListener("change",({matches:e})=>{e?R("dark"):R("light")})}catch(t){e.addListener(({matches:e})=>{try{e?R("dark"):R("light")}catch(e){console.error(e)}})}},[d]),t.default.useEffect(()=>{S.length<=1&&j(!1)},[S]),t.default.useEffect(()=>{let e=e=>{var t,r;a.every(t=>e[t]||e.code===t)&&(j(!0),null==(r=B.current)||r.focus()),"Escape"===e.code&&(document.activeElement===B.current||(null==(t=B.current)?void 0:t.contains(document.activeElement)))&&j(!1)};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[a]),t.default.useEffect(()=>{if(B.current)return()=>{F.current&&(F.current.focus({preventScroll:!0}),F.current=null,V.current=!1)}},[B.current]),t.default.createElement("section",{ref:r,"aria-label":`${_} ${L}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},A.map((r,i)=>{var s;let a,[d,g]=r.split("-");return C.length?t.default.createElement("ol",{key:r,dir:"auto"===v?E():v,tabIndex:-1,ref:B,className:u,"data-sonner-toaster":!0,"data-sonner-theme":P,"data-y-position":d,"data-x-position":g,style:{"--front-toast-height":`${(null==(s=I[0])?void 0:s.height)||0}px`,"--width":"356px","--gap":`${b}px`,...m,...(a={},[c,h].forEach((e,t)=>{let r=1===t,i=r?"--mobile-offset":"--offset",n=r?"16px":"24px";function s(e){["top","right","bottom","left"].forEach(t=>{a[`${i}-${t}`]="number"==typeof e?`${e}px`:e})}"number"==typeof e||"string"==typeof e?s(e):"object"==typeof e?["top","right","bottom","left"].forEach(t=>{void 0===e[t]?a[`${i}-${t}`]=n:a[`${i}-${t}`]="number"==typeof e[t]?`${e[t]}px`:e[t]}):s(n)}),a)},onBlur:e=>{V.current&&!e.currentTarget.contains(e.relatedTarget)&&(V.current=!1,F.current&&(F.current.focus({preventScroll:!0}),F.current=null))},onFocus:e=>{!(e.target instanceof HTMLElement&&"false"===e.target.dataset.dismissible)&&(V.current||(V.current=!0,F.current=e.relatedTarget))},onMouseEnter:()=>j(!0),onMouseMove:()=>j(!0),onMouseLeave:()=>{O||j(!1)},onDragEnd:()=>j(!1),onPointerDown:e=>{e.target instanceof HTMLElement&&"false"===e.target.dataset.dismissible||D(!0)},onPointerUp:()=>D(!1)},C.filter(e=>!e.position&&0===i||e.position===r).map((i,s)=>{var a,u;return t.default.createElement(z,{key:i.id,icons:w,index:s,toast:i,defaultRichColors:p,duration:null!=(a=null==x?void 0:x.duration)?a:f,className:null==x?void 0:x.className,descriptionClassName:null==x?void 0:x.descriptionClassName,invert:n,visibleToasts:y,closeButton:null!=(u=null==x?void 0:x.closeButton)?u:l,interacting:O,position:r,style:null==x?void 0:x.style,unstyled:null==x?void 0:x.unstyled,classNames:null==x?void 0:x.classNames,cancelButtonStyle:null==x?void 0:x.cancelButtonStyle,actionButtonStyle:null==x?void 0:x.actionButtonStyle,closeButtonAriaLabel:null==x?void 0:x.closeButtonAriaLabel,removeToast:U,toasts:C.filter(e=>e.position==i.position),heights:I.filter(e=>e.position==i.position),setHeights:T,expandByDefault:o,gap:b,expanded:N,swipeDirections:e.swipeDirections})})):null}))});e.s(["Toaster",()=>N,"toast",()=>A],60112)},16787,34465,87342,66033,81392,94237,19455,12754,36510,23470,39896,53360,80096,26223,9284,72917,26303,77505,35152,57616,86351,78678,87637,72436,67692,95681,15288,5193,7593,4721,19321,e=>{"use strict";e.s([],16787),e.s(["default",()=>tK],39896);var t=e.i(91664),r=e.i(81059),i=e.i(52011),n=e.i(37822),s=e.i(93479),a=e.i(46798);e.i(35690);var o=e.i(87904),l=e.i(71948),u=e.i(85503),c=e.i(18726);let h=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},d=(...e)=>e.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim();var p={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let f=(0,r.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:n,className:s="",children:a,iconNode:o,...l},u)=>(0,r.createElement)("svg",{ref:u,...p,width:t,height:t,stroke:e,strokeWidth:n?24*Number(i)/Number(t):i,className:d("lucide",s),...!a&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(l)&&{"aria-hidden":"true"},...l},[...o.map(([e,t])=>(0,r.createElement)(e,t)),...Array.isArray(a)?a:[a]])),m=(e,t)=>{let i=(0,r.forwardRef)(({className:i,...n},s)=>(0,r.createElement)(f,{ref:s,iconNode:t,className:d(`lucide-${h(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,i),...n}));return i.displayName=h(e),i};e.s(["default",()=>m],34465);let g=m("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);var y=e.i(91795);function x(e,[t,r]){return Math.min(r,Math.max(t,e))}var v=e.i(91967),b=e.i(22528),w=e.i(5978),_=e.i(86874);function S(e){let i=e+"CollectionProvider",[n,s]=(0,b.createContextScope)(i),[a,o]=n(i,{collectionRef:{current:null},itemMap:new Map}),l=e=>{let{scope:i,children:n}=e,s=r.default.useRef(null),o=r.default.useRef(new Map).current;return(0,t.jsx)(a,{scope:i,itemMap:o,collectionRef:s,children:n})};l.displayName=i;let u=e+"CollectionSlot",c=(0,_.createSlot)(u),h=r.default.forwardRef((e,r)=>{let{scope:i,children:n}=e,s=o(u,i),a=(0,w.useComposedRefs)(r,s.collectionRef);return(0,t.jsx)(c,{ref:a,children:n})});h.displayName=u;let d=e+"CollectionItemSlot",p="data-radix-collection-item",f=(0,_.createSlot)(d),m=r.default.forwardRef((e,i)=>{let{scope:n,children:s,...a}=e,l=r.default.useRef(null),u=(0,w.useComposedRefs)(i,l),c=o(d,n);return r.default.useEffect(()=>(c.itemMap.set(l,{ref:l,...a}),()=>void c.itemMap.delete(l))),(0,t.jsx)(f,{...{[p]:""},ref:u,children:s})});return m.displayName=d,[{Provider:l,Slot:h,ItemSlot:m},function(t){let i=o(e+"CollectionConsumer",t);return r.default.useCallback(()=>{let e=i.collectionRef.current;if(!e)return[];let t=Array.from(e.querySelectorAll(`[${p}]`));return Array.from(i.itemMap.values()).sort((e,r)=>t.indexOf(e.ref.current)-t.indexOf(r.ref.current))},[i.collectionRef,i.itemMap])},s]}var k=new WeakMap;function M(e,t){var r,i;let n,s,a;if("at"in Array.prototype)return Array.prototype.at.call(e,t);let o=(r=e,i=t,n=r.length,(a=(s=C(i))>=0?s:n+s)<0||a>=n?-1:a);return -1===o?void 0:e[o]}function C(e){return e!=e||0===e?0:Math.trunc(e)}(class e extends Map{#y;constructor(e){super(e),this.#y=[...super.keys()],k.set(this,!0)}set(e,t){return k.get(this)&&(this.has(e)?this.#y[this.#y.indexOf(e)]=e:this.#y.push(e)),super.set(e,t),this}insert(e,t,r){let i,n=this.has(t),s=this.#y.length,a=C(e),o=a>=0?a:s+a,l=o<0||o>=s?-1:o;if(l===this.size||n&&l===this.size-1||-1===l)return this.set(t,r),this;let u=this.size+ +!n;a<0&&o++;let c=[...this.#y],h=!1;for(let e=o;e<u;e++)if(o===e){let s=c[e];c[e]===t&&(s=c[e+1]),n&&this.delete(t),i=this.get(s),this.set(t,r)}else{h||c[e-1]!==t||(h=!0);let r=c[h?e:e-1],n=i;i=this.get(r),this.delete(r),this.set(r,n)}return this}with(t,r,i){let n=new e(this);return n.insert(t,r,i),n}before(e){let t=this.#y.indexOf(e)-1;if(!(t<0))return this.entryAt(t)}setBefore(e,t,r){let i=this.#y.indexOf(e);return -1===i?this:this.insert(i,t,r)}after(e){let t=this.#y.indexOf(e);if(-1!==(t=-1===t||t===this.size-1?-1:t+1))return this.entryAt(t)}setAfter(e,t,r){let i=this.#y.indexOf(e);return -1===i?this:this.insert(i+1,t,r)}first(){return this.entryAt(0)}last(){return this.entryAt(-1)}clear(){return this.#y=[],super.clear()}delete(e){let t=super.delete(e);return t&&this.#y.splice(this.#y.indexOf(e),1),t}deleteAt(e){let t=this.keyAt(e);return void 0!==t&&this.delete(t)}at(e){let t=M(this.#y,e);if(void 0!==t)return this.get(t)}entryAt(e){let t=M(this.#y,e);if(void 0!==t)return[t,this.get(t)]}indexOf(e){return this.#y.indexOf(e)}keyAt(e){return M(this.#y,e)}from(e,t){let r=this.indexOf(e);if(-1===r)return;let i=r+t;return i<0&&(i=0),i>=this.size&&(i=this.size-1),this.at(i)}keyFrom(e,t){let r=this.indexOf(e);if(-1===r)return;let i=r+t;return i<0&&(i=0),i>=this.size&&(i=this.size-1),this.keyAt(i)}find(e,t){let r=0;for(let i of this){if(Reflect.apply(e,t,[i,r,this]))return i;r++}}findIndex(e,t){let r=0;for(let i of this){if(Reflect.apply(e,t,[i,r,this]))return r;r++}return -1}filter(t,r){let i=[],n=0;for(let e of this)Reflect.apply(t,r,[e,n,this])&&i.push(e),n++;return new e(i)}map(t,r){let i=[],n=0;for(let e of this)i.push([e[0],Reflect.apply(t,r,[e,n,this])]),n++;return new e(i)}reduce(...e){let[t,r]=e,i=0,n=r??this.at(0);for(let r of this)n=0===i&&1===e.length?r:Reflect.apply(t,this,[n,r,i,this]),i++;return n}reduceRight(...e){let[t,r]=e,i=r??this.at(-1);for(let r=this.size-1;r>=0;r--){let n=this.at(r);i=r===this.size-1&&1===e.length?n:Reflect.apply(t,this,[i,n,r,this])}return i}toSorted(t){return new e([...this.entries()].sort(t))}toReversed(){let t=new e;for(let e=this.size-1;e>=0;e--){let r=this.keyAt(e),i=this.get(r);t.set(r,i)}return t}toSpliced(...t){let r=[...this.entries()];return r.splice(...t),new e(r)}slice(t,r){let i=new e,n=this.size-1;if(void 0===t)return i;t<0&&(t+=this.size),void 0!==r&&r>0&&(n=r-1);for(let e=t;e<=n;e++){let t=this.keyAt(e),r=this.get(t);i.set(t,r)}return i}every(e,t){let r=0;for(let i of this){if(!Reflect.apply(e,t,[i,r,this]))return!1;r++}return!0}some(e,t){let r=0;for(let i of this){if(Reflect.apply(e,t,[i,r,this]))return!0;r++}return!1}}),e.s(["createCollection",()=>S],87342);var A=r.createContext(void 0);function I(e){let t=r.useContext(A);return e||t||"ltr"}e.s(["useDirection",()=>I],66033);var T=e.i(53532),z=e.i(41687),E=e.i(56720),N=e.i(13123),j=e.i(52740),O=e.i(39979),D=e.i(87620),P=e.i(29297),R=e.i(36589),B=e.i(5192);function L(e){let t=r.useRef({value:e,previous:e});return r.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var F=e.i(1693),V=e.i(73772),U=e.i(13044),$=[" ","Enter","ArrowUp","ArrowDown"],W=[" ","Enter"],G="Select",[H,q,Y]=S(G),[X,Z]=(0,b.createContextScope)(G,[Y,j.createPopperScope]),J=(0,j.createPopperScope)(),[K,Q]=X(G),[ee,et]=X(G),er=e=>{let{__scopeSelect:i,children:n,open:s,defaultOpen:a,onOpenChange:o,value:l,defaultValue:u,onValueChange:c,dir:h,name:d,autoComplete:p,disabled:f,required:m,form:g}=e,y=J(i),[x,v]=r.useState(null),[b,w]=r.useState(null),[_,S]=r.useState(!1),k=I(h),[M,C]=(0,R.useControllableState)({prop:s,defaultProp:a??!1,onChange:o,caller:G}),[A,T]=(0,R.useControllableState)({prop:l,defaultProp:u,onChange:c,caller:G}),z=r.useRef(null),E=!x||g||!!x.closest("form"),[O,D]=r.useState(new Set),P=Array.from(O).map(e=>e.props.value).join(";");return(0,t.jsx)(j.Root,{...y,children:(0,t.jsxs)(K,{required:m,scope:i,trigger:x,onTriggerChange:v,valueNode:b,onValueNodeChange:w,valueNodeHasChildren:_,onValueNodeHasChildrenChange:S,contentId:(0,N.useId)(),value:A,onValueChange:T,open:M,onOpenChange:C,dir:k,triggerPointerDownPosRef:z,disabled:f,children:[(0,t.jsx)(H.Provider,{scope:i,children:(0,t.jsx)(ee,{scope:e.__scopeSelect,onNativeOptionAdd:r.useCallback(e=>{D(t=>new Set(t).add(e))},[]),onNativeOptionRemove:r.useCallback(e=>{D(t=>{let r=new Set(t);return r.delete(e),r})},[]),children:n})}),E?(0,t.jsxs)(e$,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:p,value:A,onChange:e=>T(e.target.value),disabled:f,form:g,children:[void 0===A?(0,t.jsx)("option",{value:""}):null,Array.from(O)]},P):null]})})};er.displayName=G;var ei="SelectTrigger",en=r.forwardRef((e,i)=>{let{__scopeSelect:n,disabled:s=!1,...a}=e,o=J(n),l=Q(ei,n),u=l.disabled||s,c=(0,w.useComposedRefs)(i,l.onTriggerChange),h=q(n),d=r.useRef("touch"),[p,f,m]=eG(e=>{let t=h().filter(e=>!e.disabled),r=t.find(e=>e.value===l.value),i=eH(t,e,r);void 0!==i&&l.onValueChange(i.value)}),g=e=>{u||(l.onOpenChange(!0),m()),e&&(l.triggerPointerDownPosRef.current={x:Math.round(e.pageX),y:Math.round(e.pageY)})};return(0,t.jsx)(j.Anchor,{asChild:!0,...o,children:(0,t.jsx)(D.Primitive.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":eW(l.value)?"":void 0,...a,ref:c,onClick:(0,v.composeEventHandlers)(a.onClick,e=>{e.currentTarget.focus(),"mouse"!==d.current&&g(e)}),onPointerDown:(0,v.composeEventHandlers)(a.onPointerDown,e=>{d.current=e.pointerType;let t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),0===e.button&&!1===e.ctrlKey&&"mouse"===e.pointerType&&(g(e),e.preventDefault())}),onKeyDown:(0,v.composeEventHandlers)(a.onKeyDown,e=>{let t=""!==p.current;e.ctrlKey||e.altKey||e.metaKey||1!==e.key.length||f(e.key),(!t||" "!==e.key)&&$.includes(e.key)&&(g(),e.preventDefault())})})})});en.displayName=ei;var es="SelectValue",ea=r.forwardRef((e,r)=>{let{__scopeSelect:i,className:n,style:s,children:a,placeholder:o="",...l}=e,u=Q(es,i),{onValueNodeHasChildrenChange:c}=u,h=void 0!==a,d=(0,w.useComposedRefs)(r,u.onValueNodeChange);return(0,B.useLayoutEffect)(()=>{c(h)},[c,h]),(0,t.jsx)(D.Primitive.span,{...l,ref:d,style:{pointerEvents:"none"},children:eW(u.value)?(0,t.jsx)(t.Fragment,{children:o}):a})});ea.displayName=es;var eo=r.forwardRef((e,r)=>{let{__scopeSelect:i,children:n,...s}=e;return(0,t.jsx)(D.Primitive.span,{"aria-hidden":!0,...s,ref:r,children:n||""})});eo.displayName="SelectIcon";var el=e=>(0,t.jsx)(O.Portal,{asChild:!0,...e});el.displayName="SelectPortal";var eu="SelectContent",ec=r.forwardRef((e,i)=>{let n=Q(eu,e.__scopeSelect),[s,a]=r.useState();return((0,B.useLayoutEffect)(()=>{a(new DocumentFragment)},[]),n.open)?(0,t.jsx)(ef,{...e,ref:i}):s?y.createPortal((0,t.jsx)(eh,{scope:e.__scopeSelect,children:(0,t.jsx)(H.Slot,{scope:e.__scopeSelect,children:(0,t.jsx)("div",{children:e.children})})}),s):null});ec.displayName=eu;var[eh,ed]=X(eu),ep=(0,_.createSlot)("SelectContent.RemoveScroll"),ef=r.forwardRef((e,i)=>{let{__scopeSelect:n,position:s="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:o,onPointerDownOutside:l,side:u,sideOffset:c,align:h,alignOffset:d,arrowPadding:p,collisionBoundary:f,collisionPadding:m,sticky:g,hideWhenDetached:y,avoidCollisions:x,...b}=e,_=Q(eu,n),[S,k]=r.useState(null),[M,C]=r.useState(null),A=(0,w.useComposedRefs)(i,e=>k(e)),[I,N]=r.useState(null),[j,O]=r.useState(null),D=q(n),[P,R]=r.useState(!1),B=r.useRef(!1);r.useEffect(()=>{if(S)return(0,V.hideOthers)(S)},[S]),(0,z.useFocusGuards)();let L=r.useCallback(e=>{let[t,...r]=D().map(e=>e.ref.current),[i]=r.slice(-1),n=document.activeElement;for(let r of e)if(r===n||(r?.scrollIntoView({block:"nearest"}),r===t&&M&&(M.scrollTop=0),r===i&&M&&(M.scrollTop=M.scrollHeight),r?.focus(),document.activeElement!==n))return},[D,M]),F=r.useCallback(()=>L([I,S]),[L,I,S]);r.useEffect(()=>{P&&F()},[P,F]);let{onOpenChange:$,triggerPointerDownPosRef:W}=_;r.useEffect(()=>{if(S){let e={x:0,y:0},t=t=>{e={x:Math.abs(Math.round(t.pageX)-(W.current?.x??0)),y:Math.abs(Math.round(t.pageY)-(W.current?.y??0))}},r=r=>{e.x<=10&&e.y<=10?r.preventDefault():S.contains(r.target)||$(!1),document.removeEventListener("pointermove",t),W.current=null};return null!==W.current&&(document.addEventListener("pointermove",t),document.addEventListener("pointerup",r,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",t),document.removeEventListener("pointerup",r,{capture:!0})}}},[S,$,W]),r.useEffect(()=>{let e=()=>$(!1);return window.addEventListener("blur",e),window.addEventListener("resize",e),()=>{window.removeEventListener("blur",e),window.removeEventListener("resize",e)}},[$]);let[G,H]=eG(e=>{let t=D().filter(e=>!e.disabled),r=t.find(e=>e.ref.current===document.activeElement),i=eH(t,e,r);i&&setTimeout(()=>i.ref.current.focus())}),Y=r.useCallback((e,t,r)=>{let i=!B.current&&!r;(void 0!==_.value&&_.value===t||i)&&(N(e),i&&(B.current=!0))},[_.value]),X=r.useCallback(()=>S?.focus(),[S]),Z=r.useCallback((e,t,r)=>{let i=!B.current&&!r;(void 0!==_.value&&_.value===t||i)&&O(e)},[_.value]),J="popper"===s?eg:em,K=J===eg?{side:u,sideOffset:c,align:h,alignOffset:d,arrowPadding:p,collisionBoundary:f,collisionPadding:m,sticky:g,hideWhenDetached:y,avoidCollisions:x}:{};return(0,t.jsx)(eh,{scope:n,content:S,viewport:M,onViewportChange:C,itemRefCallback:Y,selectedItem:I,onItemLeave:X,itemTextRefCallback:Z,focusSelectedItem:F,selectedItemText:j,position:s,isPositioned:P,searchRef:G,children:(0,t.jsx)(U.RemoveScroll,{as:ep,allowPinchZoom:!0,children:(0,t.jsx)(E.FocusScope,{asChild:!0,trapped:_.open,onMountAutoFocus:e=>{e.preventDefault()},onUnmountAutoFocus:(0,v.composeEventHandlers)(a,e=>{_.trigger?.focus({preventScroll:!0}),e.preventDefault()}),children:(0,t.jsx)(T.DismissableLayer,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:e=>e.preventDefault(),onDismiss:()=>_.onOpenChange(!1),children:(0,t.jsx)(J,{role:"listbox",id:_.contentId,"data-state":_.open?"open":"closed",dir:_.dir,onContextMenu:e=>e.preventDefault(),...b,...K,onPlaced:()=>R(!0),ref:A,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:(0,v.composeEventHandlers)(b.onKeyDown,e=>{let t=e.ctrlKey||e.altKey||e.metaKey;if("Tab"===e.key&&e.preventDefault(),t||1!==e.key.length||H(e.key),["ArrowUp","ArrowDown","Home","End"].includes(e.key)){let t=D().filter(e=>!e.disabled).map(e=>e.ref.current);if(["ArrowUp","End"].includes(e.key)&&(t=t.slice().reverse()),["ArrowUp","ArrowDown"].includes(e.key)){let r=e.target,i=t.indexOf(r);t=t.slice(i+1)}setTimeout(()=>L(t)),e.preventDefault()}})})})})})})});ef.displayName="SelectContentImpl";var em=r.forwardRef((e,i)=>{let{__scopeSelect:n,onPlaced:s,...a}=e,o=Q(eu,n),l=ed(eu,n),[u,c]=r.useState(null),[h,d]=r.useState(null),p=(0,w.useComposedRefs)(i,e=>d(e)),f=q(n),m=r.useRef(!1),g=r.useRef(!0),{viewport:y,selectedItem:v,selectedItemText:b,focusSelectedItem:_}=l,S=r.useCallback(()=>{if(o.trigger&&o.valueNode&&u&&h&&y&&v&&b){let e=o.trigger.getBoundingClientRect(),t=h.getBoundingClientRect(),r=o.valueNode.getBoundingClientRect(),i=b.getBoundingClientRect();if("rtl"!==o.dir){let n=i.left-t.left,s=r.left-n,a=e.left-s,o=e.width+a,l=Math.max(o,t.width),c=x(s,[10,Math.max(10,window.innerWidth-10-l)]);u.style.minWidth=o+"px",u.style.left=c+"px"}else{let n=t.right-i.right,s=window.innerWidth-r.right-n,a=window.innerWidth-e.right-s,o=e.width+a,l=Math.max(o,t.width),c=x(s,[10,Math.max(10,window.innerWidth-10-l)]);u.style.minWidth=o+"px",u.style.right=c+"px"}let n=f(),a=window.innerHeight-20,l=y.scrollHeight,c=window.getComputedStyle(h),d=parseInt(c.borderTopWidth,10),p=parseInt(c.paddingTop,10),g=parseInt(c.borderBottomWidth,10),w=d+p+l+parseInt(c.paddingBottom,10)+g,_=Math.min(5*v.offsetHeight,w),S=window.getComputedStyle(y),k=parseInt(S.paddingTop,10),M=parseInt(S.paddingBottom,10),C=e.top+e.height/2-10,A=v.offsetHeight/2,I=d+p+(v.offsetTop+A);if(I<=C){let e=n.length>0&&v===n[n.length-1].ref.current;u.style.bottom="0px";let t=Math.max(a-C,A+(e?M:0)+(h.clientHeight-y.offsetTop-y.offsetHeight)+g);u.style.height=I+t+"px"}else{let e=n.length>0&&v===n[0].ref.current;u.style.top="0px";let t=Math.max(C,d+y.offsetTop+(e?k:0)+A);u.style.height=t+(w-I)+"px",y.scrollTop=I-C+y.offsetTop}u.style.margin="10px 0",u.style.minHeight=_+"px",u.style.maxHeight=a+"px",s?.(),requestAnimationFrame(()=>m.current=!0)}},[f,o.trigger,o.valueNode,u,h,y,v,b,o.dir,s]);(0,B.useLayoutEffect)(()=>S(),[S]);let[k,M]=r.useState();(0,B.useLayoutEffect)(()=>{h&&M(window.getComputedStyle(h).zIndex)},[h]);let C=r.useCallback(e=>{e&&!0===g.current&&(S(),_?.(),g.current=!1)},[S,_]);return(0,t.jsx)(ey,{scope:n,contentWrapper:u,shouldExpandOnScrollRef:m,onScrollButtonChange:C,children:(0,t.jsx)("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:k},children:(0,t.jsx)(D.Primitive.div,{...a,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});em.displayName="SelectItemAlignedPosition";var eg=r.forwardRef((e,r)=>{let{__scopeSelect:i,align:n="start",collisionPadding:s=10,...a}=e,o=J(i);return(0,t.jsx)(j.Content,{...o,...a,ref:r,align:n,collisionPadding:s,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});eg.displayName="SelectPopperPosition";var[ey,ex]=X(eu,{}),ev="SelectViewport",eb=r.forwardRef((e,i)=>{let{__scopeSelect:n,nonce:s,...a}=e,o=ed(ev,n),l=ex(ev,n),u=(0,w.useComposedRefs)(i,o.onViewportChange),c=r.useRef(0);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),(0,t.jsx)(H.Slot,{scope:n,children:(0,t.jsx)(D.Primitive.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:u,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:(0,v.composeEventHandlers)(a.onScroll,e=>{let t=e.currentTarget,{contentWrapper:r,shouldExpandOnScrollRef:i}=l;if(i?.current&&r){let e=Math.abs(c.current-t.scrollTop);if(e>0){let i=window.innerHeight-20,n=Math.max(parseFloat(r.style.minHeight),parseFloat(r.style.height));if(n<i){let s=n+e,a=Math.min(i,s),o=s-a;r.style.height=a+"px","0px"===r.style.bottom&&(t.scrollTop=o>0?o:0,r.style.justifyContent="flex-end")}}}c.current=t.scrollTop})})})]})});eb.displayName=ev;var ew="SelectGroup",[e_,eS]=X(ew),ek=r.forwardRef((e,r)=>{let{__scopeSelect:i,...n}=e,s=(0,N.useId)();return(0,t.jsx)(e_,{scope:i,id:s,children:(0,t.jsx)(D.Primitive.div,{role:"group","aria-labelledby":s,...n,ref:r})})});ek.displayName=ew;var eM="SelectLabel",eC=r.forwardRef((e,r)=>{let{__scopeSelect:i,...n}=e,s=eS(eM,i);return(0,t.jsx)(D.Primitive.div,{id:s.id,...n,ref:r})});eC.displayName=eM;var eA="SelectItem",[eI,eT]=X(eA),ez=r.forwardRef((e,i)=>{let{__scopeSelect:n,value:s,disabled:a=!1,textValue:o,...l}=e,u=Q(eA,n),c=ed(eA,n),h=u.value===s,[d,p]=r.useState(o??""),[f,m]=r.useState(!1),g=(0,w.useComposedRefs)(i,e=>c.itemRefCallback?.(e,s,a)),y=(0,N.useId)(),x=r.useRef("touch"),b=()=>{a||(u.onValueChange(s),u.onOpenChange(!1))};if(""===s)throw Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return(0,t.jsx)(eI,{scope:n,value:s,disabled:a,textId:y,isSelected:h,onItemTextChange:r.useCallback(e=>{p(t=>t||(e?.textContent??"").trim())},[]),children:(0,t.jsx)(H.ItemSlot,{scope:n,value:s,disabled:a,textValue:d,children:(0,t.jsx)(D.Primitive.div,{role:"option","aria-labelledby":y,"data-highlighted":f?"":void 0,"aria-selected":h&&f,"data-state":h?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...l,ref:g,onFocus:(0,v.composeEventHandlers)(l.onFocus,()=>m(!0)),onBlur:(0,v.composeEventHandlers)(l.onBlur,()=>m(!1)),onClick:(0,v.composeEventHandlers)(l.onClick,()=>{"mouse"!==x.current&&b()}),onPointerUp:(0,v.composeEventHandlers)(l.onPointerUp,()=>{"mouse"===x.current&&b()}),onPointerDown:(0,v.composeEventHandlers)(l.onPointerDown,e=>{x.current=e.pointerType}),onPointerMove:(0,v.composeEventHandlers)(l.onPointerMove,e=>{x.current=e.pointerType,a?c.onItemLeave?.():"mouse"===x.current&&e.currentTarget.focus({preventScroll:!0})}),onPointerLeave:(0,v.composeEventHandlers)(l.onPointerLeave,e=>{e.currentTarget===document.activeElement&&c.onItemLeave?.()}),onKeyDown:(0,v.composeEventHandlers)(l.onKeyDown,e=>{(c.searchRef?.current===""||" "!==e.key)&&(W.includes(e.key)&&b()," "===e.key&&e.preventDefault())})})})})});ez.displayName=eA;var eE="SelectItemText",eN=r.forwardRef((e,i)=>{let{__scopeSelect:n,className:s,style:a,...o}=e,l=Q(eE,n),u=ed(eE,n),c=eT(eE,n),h=et(eE,n),[d,p]=r.useState(null),f=(0,w.useComposedRefs)(i,e=>p(e),c.onItemTextChange,e=>u.itemTextRefCallback?.(e,c.value,c.disabled)),m=d?.textContent,g=r.useMemo(()=>(0,t.jsx)("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:x,onNativeOptionRemove:v}=h;return(0,B.useLayoutEffect)(()=>(x(g),()=>v(g)),[x,v,g]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(D.Primitive.span,{id:c.textId,...o,ref:f}),c.isSelected&&l.valueNode&&!l.valueNodeHasChildren?y.createPortal(o.children,l.valueNode):null]})});eN.displayName=eE;var ej="SelectItemIndicator",eO=r.forwardRef((e,r)=>{let{__scopeSelect:i,...n}=e;return eT(ej,i).isSelected?(0,t.jsx)(D.Primitive.span,{"aria-hidden":!0,...n,ref:r}):null});eO.displayName=ej;var eD="SelectScrollUpButton",eP=r.forwardRef((e,i)=>{let n=ed(eD,e.__scopeSelect),s=ex(eD,e.__scopeSelect),[a,o]=r.useState(!1),l=(0,w.useComposedRefs)(i,s.onScrollButtonChange);return(0,B.useLayoutEffect)(()=>{if(n.viewport&&n.isPositioned){let e=function(){o(t.scrollTop>0)},t=n.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[n.viewport,n.isPositioned]),a?(0,t.jsx)(eL,{...e,ref:l,onAutoScroll:()=>{let{viewport:e,selectedItem:t}=n;e&&t&&(e.scrollTop=e.scrollTop-t.offsetHeight)}}):null});eP.displayName=eD;var eR="SelectScrollDownButton",eB=r.forwardRef((e,i)=>{let n=ed(eR,e.__scopeSelect),s=ex(eR,e.__scopeSelect),[a,o]=r.useState(!1),l=(0,w.useComposedRefs)(i,s.onScrollButtonChange);return(0,B.useLayoutEffect)(()=>{if(n.viewport&&n.isPositioned){let e=function(){let e=t.scrollHeight-t.clientHeight;o(Math.ceil(t.scrollTop)<e)},t=n.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[n.viewport,n.isPositioned]),a?(0,t.jsx)(eL,{...e,ref:l,onAutoScroll:()=>{let{viewport:e,selectedItem:t}=n;e&&t&&(e.scrollTop=e.scrollTop+t.offsetHeight)}}):null});eB.displayName=eR;var eL=r.forwardRef((e,i)=>{let{__scopeSelect:n,onAutoScroll:s,...a}=e,o=ed("SelectScrollButton",n),l=r.useRef(null),u=q(n),c=r.useCallback(()=>{null!==l.current&&(window.clearInterval(l.current),l.current=null)},[]);return r.useEffect(()=>()=>c(),[c]),(0,B.useLayoutEffect)(()=>{let e=u().find(e=>e.ref.current===document.activeElement);e?.ref.current?.scrollIntoView({block:"nearest"})},[u]),(0,t.jsx)(D.Primitive.div,{"aria-hidden":!0,...a,ref:i,style:{flexShrink:0,...a.style},onPointerDown:(0,v.composeEventHandlers)(a.onPointerDown,()=>{null===l.current&&(l.current=window.setInterval(s,50))}),onPointerMove:(0,v.composeEventHandlers)(a.onPointerMove,()=>{o.onItemLeave?.(),null===l.current&&(l.current=window.setInterval(s,50))}),onPointerLeave:(0,v.composeEventHandlers)(a.onPointerLeave,()=>{c()})})}),eF=r.forwardRef((e,r)=>{let{__scopeSelect:i,...n}=e;return(0,t.jsx)(D.Primitive.div,{"aria-hidden":!0,...n,ref:r})});eF.displayName="SelectSeparator";var eV="SelectArrow",eU=r.forwardRef((e,r)=>{let{__scopeSelect:i,...n}=e,s=J(i),a=Q(eV,i),o=ed(eV,i);return a.open&&"popper"===o.position?(0,t.jsx)(j.Arrow,{...s,...n,ref:r}):null});eU.displayName=eV;var e$=r.forwardRef(({__scopeSelect:e,value:i,...n},s)=>{let a=r.useRef(null),o=(0,w.useComposedRefs)(s,a),l=L(i);return r.useEffect(()=>{let e=a.current;if(!e)return;let t=Object.getOwnPropertyDescriptor(window.HTMLSelectElement.prototype,"value").set;if(l!==i&&t){let r=new Event("change",{bubbles:!0});t.call(e,i),e.dispatchEvent(r)}},[l,i]),(0,t.jsx)(D.Primitive.select,{...n,style:{...F.VISUALLY_HIDDEN_STYLES,...n.style},ref:o,defaultValue:i})});function eW(e){return""===e||void 0===e}function eG(e){let t=(0,P.useCallbackRef)(e),i=r.useRef(""),n=r.useRef(0),s=r.useCallback(e=>{let r=i.current+e;t(r),function e(t){i.current=t,window.clearTimeout(n.current),""!==t&&(n.current=window.setTimeout(()=>e(""),1e3))}(r)},[t]),a=r.useCallback(()=>{i.current="",window.clearTimeout(n.current)},[]);return r.useEffect(()=>()=>window.clearTimeout(n.current),[]),[i,s,a]}function eH(e,t,r){var i,n;let s=t.length>1&&Array.from(t).every(e=>e===t[0])?t[0]:t,a=r?e.indexOf(r):-1,o=(i=e,n=Math.max(a,0),i.map((e,t)=>i[(n+t)%i.length]));1===s.length&&(o=o.filter(e=>e!==r));let l=o.find(e=>e.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==r?l:void 0}e$.displayName="SelectBubbleInput",e.s(["Arrow",()=>eU,"Content",()=>ec,"Group",()=>ek,"Icon",()=>eo,"Item",()=>ez,"ItemIndicator",()=>eO,"ItemText",()=>eN,"Label",()=>eC,"Portal",()=>el,"Root",()=>er,"ScrollDownButton",()=>eB,"ScrollUpButton",()=>eP,"Select",()=>er,"SelectArrow",()=>eU,"SelectContent",()=>ec,"SelectGroup",()=>ek,"SelectIcon",()=>eo,"SelectItem",()=>ez,"SelectItemIndicator",()=>eO,"SelectItemText",()=>eN,"SelectLabel",()=>eC,"SelectPortal",()=>el,"SelectScrollDownButton",()=>eB,"SelectScrollUpButton",()=>eP,"SelectSeparator",()=>eF,"SelectTrigger",()=>en,"SelectValue",()=>ea,"SelectViewport",()=>eb,"Separator",()=>eF,"Trigger",()=>en,"Value",()=>ea,"Viewport",()=>eb,"createSelectScope",()=>Z],83830);var eq=e.i(83830),eq=eq;let eY=m("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);e.s(["CheckIcon",()=>eY],81392);let eX=m("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);var eZ=e.i(75157);function eJ({...e}){return(0,t.jsx)(eq.Root,{"data-slot":"select",...e})}function eK({...e}){return(0,t.jsx)(eq.Group,{"data-slot":"select-group",...e})}function eQ({...e}){return(0,t.jsx)(eq.Value,{"data-slot":"select-value",...e})}function e1({className:e,size:r="default",children:i,...n}){return(0,t.jsxs)(eq.Trigger,{"data-slot":"select-trigger","data-size":r,className:(0,eZ.cn)("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...n,children:[i,(0,t.jsx)(eq.Icon,{asChild:!0,children:(0,t.jsx)(g,{className:"size-4 opacity-50"})})]})}function e0({className:e,children:r,position:i="popper",...n}){return(0,t.jsx)(eq.Portal,{children:(0,t.jsxs)(eq.Content,{"data-slot":"select-content",className:(0,eZ.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===i&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:i,...n,children:[(0,t.jsx)(e3,{}),(0,t.jsx)(eq.Viewport,{className:(0,eZ.cn)("p-1","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:r}),(0,t.jsx)(e4,{})]})})}function e2({className:e,...r}){return(0,t.jsx)(eq.Label,{"data-slot":"select-label",className:(0,eZ.cn)("text-muted-foreground px-2 py-1.5 text-xs",e),...r})}function e9({className:e,children:r,...i}){return(0,t.jsxs)(eq.Item,{"data-slot":"select-item",className:(0,eZ.cn)("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...i,children:[(0,t.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,t.jsx)(eq.ItemIndicator,{children:(0,t.jsx)(eY,{className:"size-4"})})}),(0,t.jsx)(eq.ItemText,{children:r})]})}function e3({className:e,...r}){return(0,t.jsx)(eq.ScrollUpButton,{"data-slot":"select-scroll-up-button",className:(0,eZ.cn)("flex cursor-default items-center justify-center py-1",e),...r,children:(0,t.jsx)(eX,{className:"size-4"})})}function e4({className:e,...r}){return(0,t.jsx)(eq.ScrollDownButton,{"data-slot":"select-scroll-down-button",className:(0,eZ.cn)("flex cursor-default items-center justify-center py-1",e),...r,children:(0,t.jsx)(g,{className:"size-4"})})}var e8=e.i(77624),e6="Switch",[e5,e7]=(0,b.createContextScope)(e6),[te,tt]=e5(e6),tr=r.forwardRef((e,i)=>{let{__scopeSwitch:n,name:s,checked:a,defaultChecked:o,required:l,disabled:u,value:c="on",onCheckedChange:h,form:d,...p}=e,[f,m]=r.useState(null),g=(0,w.useComposedRefs)(i,e=>m(e)),y=r.useRef(!1),x=!f||d||!!f.closest("form"),[b,_]=(0,R.useControllableState)({prop:a,defaultProp:o??!1,onChange:h,caller:e6});return(0,t.jsxs)(te,{scope:n,checked:b,disabled:u,children:[(0,t.jsx)(D.Primitive.button,{type:"button",role:"switch","aria-checked":b,"aria-required":l,"data-state":ta(b),"data-disabled":u?"":void 0,disabled:u,value:c,...p,ref:g,onClick:(0,v.composeEventHandlers)(e.onClick,e=>{_(e=>!e),x&&(y.current=e.isPropagationStopped(),y.current||e.stopPropagation())})}),x&&(0,t.jsx)(ts,{control:f,bubbles:!y.current,name:s,value:c,checked:b,required:l,disabled:u,form:d,style:{transform:"translateX(-100%)"}})]})});tr.displayName=e6;var ti="SwitchThumb",tn=r.forwardRef((e,r)=>{let{__scopeSwitch:i,...n}=e,s=tt(ti,i);return(0,t.jsx)(D.Primitive.span,{"data-state":ta(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:r})});tn.displayName=ti;var ts=r.forwardRef(({__scopeSwitch:e,control:i,checked:n,bubbles:s=!0,...a},o)=>{let l=r.useRef(null),u=(0,w.useComposedRefs)(l,o),c=L(n),h=(0,e8.useSize)(i);return r.useEffect(()=>{let e=l.current;if(!e)return;let t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(c!==n&&t){let r=new Event("click",{bubbles:s});t.call(e,n),e.dispatchEvent(r)}},[c,n,s]),(0,t.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...a,tabIndex:-1,ref:u,style:{...a.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function ta(e){return e?"checked":"unchecked"}function to({className:e,...r}){return(0,t.jsx)(tr,{"data-slot":"switch",className:(0,eZ.cn)("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...r,children:(0,t.jsx)(tn,{"data-slot":"switch-thumb",className:(0,eZ.cn)("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}ts.displayName="SwitchBubbleInput";let tl=({children:e,className:r,show:i})=>(0,t.jsx)("div",{className:`${r} grid transition-all duration-300 ease-in-out`,style:{gridTemplateRows:i?"1fr":"0fr"},children:(0,t.jsx)("div",{className:"overflow-hidden",children:e})});var tu=e.i(7284);let tc=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,th=tu.clsx,td=(e,t)=>r=>{var i;if((null==t?void 0:t.variants)==null)return th(e,null==r?void 0:r.class,null==r?void 0:r.className);let{variants:n,defaultVariants:s}=t,a=Object.keys(n).map(e=>{let t=null==r?void 0:r[e],i=null==s?void 0:s[e];if(null===t)return null;let a=tc(t)||tc(i);return n[e][a]}),o=r&&Object.entries(r).reduce((e,t)=>{let[r,i]=t;return void 0===i||(e[r]=i),e},{});return th(e,a,null==t||null==(i=t.compoundVariants)?void 0:i.reduce((e,t)=>{let{class:r,className:i,...n}=t;return Object.entries(n).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...s,...o}[t]):({...s,...o})[t]===r})?[...e,r,i]:e},[]),null==r?void 0:r.class,null==r?void 0:r.className)};e.s(["cva",0,td],94237);let tp=td("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive relative overflow-hidden",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline",pink:"bg-linear-to-tr from-pink-500 to-yellow-500 text-white shadow-lg cursor-pointer"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function tf({className:e,variant:i,size:n,asChild:s=!1,disabled:a,onPointerDown:o,children:l,disableRipple:u,...c}){let h=s?_.Slot:"button",[d,p]=r.useState([]),f=e=>{p(t=>t.filter(t=>t.key!==e))};return(0,t.jsxs)(h,{"data-slot":"button",className:(0,eZ.cn)(tp({variant:i,size:n,className:e})),onPointerDown:e=>{if(o?.(e),u||a||2===e.button)return;let t=e.currentTarget.getBoundingClientRect(),r=2*Math.max(t.width,t.height),i=e.clientX-t.left-r/2,n=e.clientY-t.top-r/2,s=Date.now()+Math.random();p(e=>[...e,{key:s,x:i,y:n,size:r}])},disabled:a,...c,children:[!u&&(0,t.jsx)("span",{"aria-hidden":!0,className:"pointer-events-none absolute inset-0 z-0",children:d.map(e=>(0,t.jsx)(tm,{info:e,onDone:f},e.key))}),(0,t.jsx)("span",{className:"relative z-10 inline-flex items-center gap-2",children:l})]})}function tm({info:e,onDone:i}){let{x:n,y:s,size:a,key:o}=e,[l,u]=r.useState(!1);return r.useEffect(()=>{let e=requestAnimationFrame(()=>u(!0));return()=>cancelAnimationFrame(e)},[]),(0,t.jsx)("span",{className:"absolute rounded-full",style:{left:n,top:s,width:a,height:a,backgroundColor:"currentColor",opacity:.25*!l,transform:l?"scale(2)":"scale(0)",transition:"transform 450ms ease-out, opacity 600ms ease-out"},onTransitionEnd:()=>i(o)})}e.s(["Button",()=>tf],19455);var tg=e.i(76761);function ty(e){return(0,tg.GenIcon)({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0M5.496 6.033h.825c.138 0 .248-.113.266-.25.09-.656.54-1.134 1.342-1.134.686 0 1.314.343 1.314 1.168 0 .635-.374.927-.965 1.371-.673.489-1.206 1.06-1.168 1.987l.003.217a.25.25 0 0 0 .25.246h.811a.25.25 0 0 0 .25-.25v-.105c0-.718.273-.927 1.01-1.486.609-.463 1.244-.977 1.244-2.056 0-1.511-1.276-2.241-2.673-2.241-1.267 0-2.655.59-2.75 2.286a.237.237 0 0 0 .241.247m2.325 6.443c.61 0 1.029-.394 1.029-.927 0-.552-.42-.94-1.029-.94-.584 0-1.009.388-1.009.94 0 .533.425.927 1.01.927z"},child:[]}]})(e)}function tx(e){return(0,tg.GenIcon)({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M10 12.5a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v2a.5.5 0 0 0 1 0v-2A1.5 1.5 0 0 0 9.5 2h-8A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-2a.5.5 0 0 0-1 0z"},child:[]},{tag:"path",attr:{fillRule:"evenodd",d:"M15.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 0 0-.708.708L14.293 7.5H5.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708z"},child:[]}]})(e)}function tv(e){return(0,tg.GenIcon)({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M6 .278a.77.77 0 0 1 .08.858 7.2 7.2 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277q.792-.001 1.533-.16a.79.79 0 0 1 .81.316.73.73 0 0 1-.031.893A8.35 8.35 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.75.75 0 0 1 6 .278"},child:[]},{tag:"path",attr:{d:"M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.73 1.73 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.73 1.73 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.73 1.73 0 0 0 1.097-1.097zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.16 1.16 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.16 1.16 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732z"},child:[]}]})(e)}function tb(e){return(0,tg.GenIcon)({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8M8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0m0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13m8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5M3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8m10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0m-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0m9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707M4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708"},child:[]}]})(e)}function tw(e){return(0,tg.GenIcon)({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M3 2v4.586l7 7L14.586 9l-7-7zM2 2a1 1 0 0 1 1-1h4.586a1 1 0 0 1 .707.293l7 7a1 1 0 0 1 0 1.414l-4.586 4.586a1 1 0 0 1-1.414 0l-7-7A1 1 0 0 1 2 6.586z"},child:[]},{tag:"path",attr:{d:"M5.5 5a.5.5 0 1 1 0-1 .5.5 0 0 1 0 1m0 1a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3M1 7.086a1 1 0 0 0 .293.707L8.75 15.25l-.043.043a1 1 0 0 1-1.414 0l-7-7A1 1 0 0 1 0 7.586V3a1 1 0 0 1 1-1z"},child:[]}]})(e)}let t_=({leftText:e,rightText:r,state:i,onClick:n})=>(0,t.jsxs)("div",{className:"relative w-full text-center h-10 bg-primary rounded-full cursor-pointer mb-2 flex items-center justify-between px-4",onClick:n,children:[(0,t.jsx)("span",{className:`z-10 font-semibold transition-colors ${i?"text-primary":"text-secondary"}`,children:e}),(0,t.jsx)("span",{className:`z-10 font-semibold transition-colors ${!i?"text-primary":"text-secondary"}`,children:r}),(0,t.jsx)("div",{className:`absolute top-1 h-8 w-[calc(50%-8px)] bg-secondary shadow-xs hover:bg-secondary/80 rounded-full transition-all duration-300 ${i?"left-1":"left-[calc(50%+4px)]"}`})]});function tS(e){return(0,tg.GenIcon)({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(e)}function tk(e){return(0,tg.GenIcon)({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M313.941 216H12c-6.627 0-12 5.373-12 12v56c0 6.627 5.373 12 12 12h301.941v46.059c0 21.382 25.851 32.09 40.971 16.971l86.059-86.059c9.373-9.373 9.373-24.569 0-33.941l-86.059-86.059c-15.119-15.119-40.971-4.411-40.971 16.971V216z"},child:[]}]})(e)}function tM(e){return(0,tg.GenIcon)({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function tC(e){return(0,tg.GenIcon)({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm144 276c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92h-92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z"},child:[]}]})(e)}function tA(e){return(0,tg.GenIcon)({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function tI(e){return(0,tg.GenIcon)({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(e)}function tT(e){return(0,tg.GenIcon)({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M298.028 214.267L285.793 96H328c13.255 0 24-10.745 24-24V24c0-13.255-10.745-24-24-24H56C42.745 0 32 10.745 32 24v48c0 13.255 10.745 24 24 24h42.207L85.972 214.267C37.465 236.82 0 277.261 0 328c0 13.255 10.745 24 24 24h136v104.007c0 1.242.289 2.467.845 3.578l24 48c2.941 5.882 11.364 5.893 14.311 0l24-48a8.008 8.008 0 0 0 .845-3.578V352h136c13.255 0 24-10.745 24-24-.001-51.183-37.983-91.42-85.973-113.733z"},child:[]}]})(e)}e.s(["FaGithub",()=>tS,"FaLongArrowAltRight",()=>tk,"FaMinus",()=>tM,"FaPlus",()=>tA,"FaPlusCircle",()=>tC,"FaStar",()=>tI,"FaThumbtack",()=>tT],12754);let tz=()=>{let{includeBackground:e,includeColorbar:h,doubleSize:d,cbarLoc:p,cbarNum:f,useCustomRes:m,customRes:y,includeAxis:x,mainTitle:v,cbarLabel:b,cbarUnits:w,animate:_,timeRate:S,frames:k,frameRate:M,orbit:C,useTime:A,loopTime:I,orbitDeg:T,orbitDir:z,preview:E,pingpong:N}=(0,l.useImageExportStore)((0,c.useShallow)(e=>({includeBackground:e.includeBackground,includeColorbar:e.includeColorbar,doubleSize:e.doubleSize,cbarLoc:e.cbarLoc,cbarNum:e.cbarNum,useCustomRes:e.useCustomRes,customRes:e.customRes,includeAxis:e.includeAxis,mainTitle:e.mainTitle,cbarLabel:e.cbarLabel,cbarUnits:e.cbarUnits,animate:e.animate,timeRate:e.timeRate,frames:e.frames,frameRate:e.frameRate,orbit:e.orbit,useTime:e.useTime,loopTime:e.loopTime,orbitDeg:e.orbitDeg,orbitDir:e.orbitDir,preview:e.preview,pingpong:e.pingpong}))),{ExportImg:j,EnableExport:O,setIncludeBackground:D,setIncludeColorbar:P,setDoubleSize:R,setCbarLoc:B,setCbarNum:L,setUseCustomRes:F,setCustomRes:V,setIncludeAxis:U,setHideAxis:$,setHideAxisControls:W,setMainTitle:G,setCbarLabel:H,setAnimate:q,setFrames:Y,setFrameRate:X,setTimeRate:Z,setOrbit:J,setUseTime:K,setLoopTime:Q,setKeyFrameEditor:ee,setCbarUnits:et,setPingpong:er,setPreview:ei,setPreviewExtent:en,setOrbitDeg:es}=l.useImageExportStore.getState(),{plotType:ea,zSlice:eo}=(0,u.usePlotStore)((0,c.useShallow)(e=>({plotType:e.plotType,zSlice:e.zSlice}))),{variable:el,metadata:eu,dimArrays:ec}=(0,o.useGlobalStore)((0,c.useShallow)(e=>({variable:e.variable,metadata:e.metadata,dimArrays:e.dimArrays,dimUnits:e.dimUnits}))),[eh,ed]=(0,r.useState)(!1),[ep,ef]=(0,r.useState)(!1),[em,eg]=(0,r.useState)(!0),[ey,ex]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{let e=ec[ec.length-3],t=e?.length||1;Y(eo[1]?eo[1]-eo[0]:t-eo[0])},[eo]),(0,t.jsxs)(n.Popover,{children:[(0,t.jsx)(n.PopoverTrigger,{asChild:!0,children:(0,t.jsx)("div",{children:(0,t.jsxs)(a.Tooltip,{delayDuration:500,children:[(0,t.jsx)(a.TooltipTrigger,{asChild:!0,children:(0,t.jsx)(tf,{variant:"ghost",size:"icon",className:"cursor-pointer",onClick:e=>O(),children:(0,t.jsx)(i.IoImage,{className:"size-8"})})}),(0,t.jsx)(a.TooltipContent,{side:"right",align:"start",children:"Export view as Image"})]})})}),(0,t.jsx)(n.PopoverContent,{side:"right",className:"w-[200px] max-h-[90vh] overflow-y-auto [&::-webkit-scrollbar]:hidden select-none",children:(0,t.jsxs)("div",{className:"grid items-center gap-2",children:[(0,t.jsxs)("button",{onClick:()=>ed(e=>!e),className:"flex items-center gap-2 w-full ",children:[(0,t.jsx)("b",{children:"Titles"}),(0,t.jsx)(g,{className:`h-4 w-4 transition-transform duration-200 ${!eh?"rotate-180":""}`})]}),(0,t.jsx)(tl,{show:eh,className:"col-span-2",children:(0,t.jsxs)("div",{className:"grid",children:[(0,t.jsx)("label",{htmlFor:"main-title",children:"Main Title"}),(0,t.jsx)(s.Input,{id:"main-title",type:"string",value:v,onChange:e=>G(e.target.value)}),(0,t.jsx)("label",{htmlFor:"cbar-title",children:"Colorbar Label"}),(0,t.jsx)(s.Input,{id:"cbar-title",type:"string",placeholder:el,value:b,onChange:e=>H(e.target.value)}),(0,t.jsx)("label",{htmlFor:"cbar-title",children:"Colorbar Units"}),(0,t.jsx)(s.Input,{id:"cbar-title",type:"string",placeholder:eu?.units??"undefined",value:w,onChange:e=>et(e.target.value)})]})}),(0,t.jsxs)("button",{onClick:()=>eg(e=>!e),className:"flex items-center gap-2 w-full ",children:[(0,t.jsx)("b",{children:"Settings"}),(0,t.jsx)(g,{className:`h-4 w-4 transition-transform duration-200 ${!em?"rotate-180":""}`})]}),(0,t.jsx)(tl,{show:em,className:"col-span-2",children:(0,t.jsxs)("div",{className:"grid grid-cols-[auto_60px] items-center gap-1",children:[(0,t.jsx)("label",{htmlFor:"includeBG",children:"Include Background"}),(0,t.jsx)(to,{id:"includeBG",checked:e,onCheckedChange:e=>D(e)}),"sphere"!=ea&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("label",{htmlFor:"includeBG",children:"Include Axis"}),(0,t.jsx)(to,{id:"includeBG",checked:x,onCheckedChange:e=>U(e)})]}),(0,t.jsx)("label",{htmlFor:"includeCbar",children:"Include Colorbar"}),(0,t.jsx)(to,{id:"includeCbar",checked:h,onCheckedChange:e=>P(e)}),(0,t.jsxs)(tl,{show:h,className:"col-span-2",children:[(0,t.jsxs)("div",{className:"col-span-2 flex justify-between",children:[(0,t.jsxs)("label",{htmlFor:"colorbar-loc ",children:["Colorbar ",(0,t.jsx)("br",{})," Location"]}),(0,t.jsx)("div",{id:"colorbar-loc",children:(0,t.jsxs)(eJ,{value:p,onValueChange:e=>B(e),children:[(0,t.jsx)(e1,{children:(0,t.jsx)(eQ,{placeholder:p})}),(0,t.jsx)(e0,{children:["left","right","top","bottom"].map(e=>(0,t.jsx)(e9,{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e))})]})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-[auto_60px] items-center gap-2",children:[(0,t.jsx)("label",{htmlFor:"cbarNum",children:"Number of Ticks"}),(0,t.jsx)(s.Input,{className:"h-[26px]",id:"cbarNum",type:"number",min:0,max:20,step:1,value:f,onChange:e=>L(parseInt(e.target.value))})]}),(0,t.jsx)("div",{className:"border-b my-2"})]}),(0,t.jsx)("label",{htmlFor:"useCustomRes",children:"Set Resolution"}),(0,t.jsx)(to,{id:"useCustomRes",checked:m,onCheckedChange:e=>F(e)}),(0,t.jsx)(tl,{show:m,className:"col-span-2",children:(0,t.jsxs)("div",{className:"grid grid-cols-[50%_50%] col-span-2 ",children:[(0,t.jsxs)("div",{className:"flex flex-col items-center",children:[(0,t.jsx)("h1",{children:"Width"}),(0,t.jsx)(s.Input,{className:"h-[26px]",id:"cbarNum",type:"number",value:y[0],onChange:e=>V([parseInt(e.target.value),y[1]])})]}),(0,t.jsxs)("div",{className:"flex flex-col items-center",children:[(0,t.jsx)("h1",{children:"Height"}),(0,t.jsx)(s.Input,{className:"h-[26px]",id:"cbarNum",type:"number",value:y[1],onChange:e=>V([y[0],parseInt(e.target.value)])})]}),(0,t.jsx)(tf,{className:`col-span-2 ${ey?"bg-red-600":""}`,variant:"outline",disableRipple:!0,onPointerEnter:()=>en(!0),onPointerLeave:()=>en(!1),children:"Preview Extent"})]})}),(0,t.jsx)(tl,{show:!m,className:"col-span-2",children:(0,t.jsxs)("div",{className:"grid grid-cols-[auto_60px] items-center gap-2",children:[(0,t.jsx)("label",{htmlFor:"includeCbar",children:"Double Resolution"}),(0,t.jsx)(to,{id:"includeCbar",checked:d,onCheckedChange:e=>R(e)})]})})]})}),(0,t.jsxs)("button",{onClick:()=>ef(e=>!e),className:"flex items-center gap-2 w-full ",children:[(0,t.jsx)("b",{children:"Animations"}),(0,t.jsx)(g,{className:`h-4 w-4 transition-transform duration-200 ${!ep?"rotate-180":""}`})]}),(0,t.jsx)(tl,{show:ep,className:"grid col-span-2 gap-2",children:(0,t.jsxs)("div",{className:"grid grid-cols-[auto_60px] items-center gap-2",children:[(0,t.jsx)("label",{htmlFor:"useAnimate",children:"Export Animation"}),(0,t.jsx)(to,{id:"useAnimate",checked:_,onCheckedChange:e=>q(e)}),(0,t.jsxs)(tl,{show:_,className:"col-span-2 ",children:[(0,t.jsxs)("div",{className:"grid grid-cols-[auto_80px] items-center gap-1 mb-2",children:[(0,t.jsx)("label",{htmlFor:"frames",children:"Frames"}),(0,t.jsx)(s.Input,{className:"h-[26px]",id:"frames",type:"number",step:1,value:k,onChange:e=>Y(parseInt(e.target.value))}),(0,t.jsx)("label",{htmlFor:"fps",children:"FPS"}),(0,t.jsx)(s.Input,{className:"h-[26px]",id:"fps",type:"number",step:1,value:M,onChange:e=>X(parseInt(e.target.value))})]}),(0,t.jsxs)("div",{className:"grid grid-cols-[auto_60px] items-center gap-2",children:[(0,t.jsx)("label",{htmlFor:"useOrbit",children:"Orbit"}),(0,t.jsx)(to,{id:"useOrbit",checked:C,onCheckedChange:e=>J(e)}),(0,t.jsxs)(tl,{show:C,className:"col-span-2",children:[(0,t.jsxs)("div",{className:"grid grid-cols-[auto_80px] items-center gap-2 mb-2",children:[(0,t.jsx)("label",{htmlFor:"orbitDeg",children:"Orbit Degrees"}),(0,t.jsx)(s.Input,{id:"orbitDeg",type:"number",step:1,value:T,onChange:e=>es(parseInt(e.target.value))})]}),(0,t.jsxs)("div",{className:"grid grid-cols-[auto_60px] items-center gap-2 mb-2",children:[(0,t.jsx)("label",{htmlFor:"orbitDir",children:"Direction"}),(0,t.jsx)(tk,{id:"orbitDir",onClick:()=>l.useImageExportStore.getState().flipOrbitDir(),style:{transform:`${z?"rotate(180deg)":""}`,transition:".25s",cursor:"pointer"},size:26}),(0,t.jsx)("label",{htmlFor:"useOrbit",children:"Ping-Pong"}),(0,t.jsx)(to,{id:"useOrbit",checked:N,onCheckedChange:e=>er(e)})]}),(0,t.jsx)("div",{className:"border-b my-2"})]}),(0,t.jsx)("label",{htmlFor:"useTime",children:"Animate Time"}),(0,t.jsx)(to,{id:"useTime",checked:A,onCheckedChange:e=>K(e)}),(0,t.jsxs)(tl,{show:A,className:"col-span-2",children:[(0,t.jsxs)("div",{className:"grid grid-cols-[auto_80px] items-center gap-2 mb-2",children:[(0,t.jsx)("label",{htmlFor:"timeRate",children:"Time FPS"}),(0,t.jsx)(s.Input,{id:"timeRate",type:"number",step:1,value:S,onChange:e=>Z(parseInt(e.target.value))})]}),(0,t.jsxs)("div",{className:"grid grid-cols-[auto_60px] items-center gap-2",children:[(0,t.jsx)("label",{htmlFor:"loopTime",children:"Loop Time"}),(0,t.jsx)(to,{id:"loopTime",checked:I,onCheckedChange:e=>Q(e)})]}),(0,t.jsx)("div",{className:"border-b my-2"})]}),(0,t.jsxs)(tf,{className:"col-span-2 cursor-pointer",onClick:()=>ee(!0),children:["Keyframe Editor ",(0,t.jsx)(tx,{})]})]}),(0,t.jsx)("div",{className:"my-2"}),(0,t.jsx)(t_,{leftText:"Preview",rightText:"Final",state:E,onClick:()=>ei(!E)})]})]})}),(0,t.jsx)(tf,{className:"col-span-2",variant:"pink",onClick:e=>{j(),W(!0),$(!x)},children:"Export"})]})})]})};function tE(e){return(0,tg.GenIcon)({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{d:"M15 13V14H1.5L1 13.5V0H2V13H15Z"},child:[]},{tag:"path",attr:{d:"M13 3.20714L7.85353 8.35359H7.14642L5.49998 6.70714L1.85353 10.3536L1.14642 9.64648L5.14642 5.64648H5.85353L7.49998 7.29293L12.6464 2.14648H13.3535L15.3535 4.14648L14.6464 4.85359L13 3.20714Z"},child:[]}]})(e)}var tN=e.i(25613);let tj=()=>{let{selectTS:e,resetAnim:r,animate:i,plotType:n,displaceSurface:s,setSelectTS:o,setResetAnim:l}=(0,u.usePlotStore)((0,c.useShallow)(e=>({selectTS:e.selectTS,resetAnim:e.resetAnim,animate:e.animate,plotType:e.plotType,displaceSurface:e.displaceSurface,setSelectTS:e.setSelectTS,setResetAnim:e.setResetAnim}))),h="sphere"===n&&!s,{setError:d}=tN.useErrorStore.getState();return(0,t.jsx)("div",{className:"selectTS",style:{display:i?"none":""},onClick:()=>d(h?"tsException":null),children:(0,t.jsxs)(a.Tooltip,{delayDuration:500,children:[(0,t.jsx)(a.TooltipTrigger,{asChild:!0,children:(0,t.jsx)(tf,{variant:"ghost",size:"icon",className:"size-10 cursor-pointer",disabled:h,onClick:()=>{l(!r),o(!e)},children:(0,t.jsx)(tE,{className:"size-6",style:{color:e?"gold":"var(--text-plot)",filter:e?"drop-shadow(0px 0px 10px gold)":""}})})}),(0,t.jsx)(a.TooltipContent,{side:"right",align:"start",children:(0,t.jsx)("p",{style:{maxWidth:220},children:"While active, click the volume to view 1D transects through the given dimension."})})]})})},tO=(e,t="")=>{let[i,n]=(0,r.useState)(t);return(0,r.useEffect)(()=>{let r=()=>getComputedStyle(document.documentElement).getPropertyValue(e).trim(),s=()=>{let e=r();(e||!i)&&n(e||t)};s(),r()||setTimeout(s,100);let a=new MutationObserver(e=>{for(let t of e)"data-theme"===t.attributeName&&s()});return a.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>a.disconnect()},[e,t]),i};function tD(e){return(0,tg.GenIcon)({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12 1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"},child:[]}]})(e)}function tP(e){return(0,tg.GenIcon)({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V5a2 2 0 0 0-2-2zm0 16H5V7h14v12zm-5.5-6c0 .83-.67 1.5-1.5 1.5s-1.5-.67-1.5-1.5.67-1.5 1.5-1.5 1.5.67 1.5 1.5zM12 9c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4zm0 6.5a2.5 2.5 0 0 1 0-5 2.5 2.5 0 0 1 0 5z"},child:[]}]})(e)}function tR(e){return(0,tg.GenIcon)({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 5h-3.17L15 3H9L7.17 5H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm-8 13c-2.76 0-5-2.24-5-5H5l2.5-2.5L10 13H8c0 2.21 1.79 4 4 4 .58 0 1.13-.13 1.62-.35l.74.74c-.71.37-1.5.61-2.36.61zm4.5-2.5L14 13h2c0-2.21-1.79-4-4-4-.58 0-1.13.13-1.62.35l-.74-.73C10.35 8.24 11.14 8 12 8c2.76 0 5 2.24 5 5h2l-2.5 2.5z"},child:[]}]})(e)}function tB(e){return(0,tg.GenIcon)({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6 15c-.83 0-1.58.34-2.12.88C2.7 17.06 2 22 2 22s4.94-.7 6.12-1.88A2.996 2.996 0 0 0 6 15zm.71 3.71c-.28.28-2.17.76-2.17.76s.47-1.88.76-2.17c.17-.19.42-.3.7-.3a1.003 1.003 0 0 1 .71 1.71zm10.71-5.06c6.36-6.36 4.24-11.31 4.24-11.31S16.71.22 10.35 6.58l-2.49-.5a2.03 2.03 0 0 0-1.81.55L2 10.69l5 2.14L11.17 17l2.14 5 4.05-4.05c.47-.47.68-1.15.55-1.81l-.49-2.49zM7.41 10.83l-1.91-.82 1.97-1.97 1.44.29c-.57.83-1.08 1.7-1.5 2.5zm6.58 7.67-.82-1.91c.8-.42 1.67-.93 2.49-1.5l.29 1.44-1.96 1.97zM16 12.24c-1.32 1.32-3.38 2.4-4.04 2.73l-2.93-2.93c.32-.65 1.4-2.71 2.73-4.04 4.68-4.68 8.23-3.99 8.23-3.99s.69 3.55-3.99 8.23zM15 11c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2z"},child:[]}]})(e)}function tL(e){return(0,tg.GenIcon)({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M16 17.01V10h-2v7.01h-3L15 21l4-3.99h-3zM9 3 5 6.99h3V14h2V6.99h3L9 3zm7 14.01V10h-2v7.01h-3L15 21l4-3.99h-3zM9 3 5 6.99h3V14h2V6.99h3L9 3z"},child:[]}]})(e)}function tF(e){return(0,tg.GenIcon)({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M3 3v18h18V3H3zm16 16H5V5h14v14z"},child:[]}]})(e)}function tV(e){return(0,tg.GenIcon)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M10.5859 12L2.79297 4.20706L4.20718 2.79285L12.0001 10.5857L19.793 2.79285L21.2072 4.20706L13.4143 12L21.2072 19.7928L19.793 21.2071L12.0001 13.4142L4.20718 21.2071L2.79297 19.7928L10.5859 12Z"},child:[]}]})(e)}function tU(e){return(0,tg.GenIcon)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3 4H21V6H3V4ZM3 11H15V13H3V11ZM3 18H21V20H3V18Z"},child:[]}]})(e)}e.s(["useCSSVariable",0,tO],36510),e.s(["MdDeleteForever",()=>tD,"MdFlipCameraIos",()=>tR,"MdOutlineRocketLaunch",()=>tB,"MdOutlineSquare",()=>tF,"MdOutlineSwapVert",()=>tL,"MdPreview",()=>tP],23470);let t$=({color:e="currentColor",size:r=24,...i})=>(0,t.jsxs)("svg",{width:r,height:r,viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",...i,children:[(0,t.jsx)("rect",{width:48,height:48,fill:"none",fillOpacity:.01}),(0,t.jsx)("path",{d:"M44 28V36L31 38.6M44 28L4 32M44 28V20M4 32V44L17 41.4M4 32V16M44 20V12L31 9.4M44 20L4 16M4 16V4L17 6.6M31 9.4V38.6M31 9.4L17 6.6M31 38.6L17 41.4M17 6.6V41.4",stroke:e,strokeWidth:4,strokeLinecap:"round",strokeLinejoin:"round"})]}),tW=({color:e="currentColor",size:r=24,...i})=>(0,t.jsx)("svg",{fill:e,height:r,width:r,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",...i,children:(0,t.jsx)("g",{id:"grid",children:(0,t.jsx)("g",{children:(0,t.jsx)("path",{d:"M23,24H0V1h23V24z M16,22h5v-5h-5V22z M9,22h5v-5H9V22z M2,22h5v-5H2V22z M16,15h5v-5h-5V15z M9,15h5v-5H9V15z M2,15h5v-5 H2V15z M16,8h5V3h-5V8z M9,8h5V3H9V8z M2,8h5V3H2V8z"})})})});function tG(e){return(0,tg.GenIcon)({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M267.5 440.6c9.5 7.9 22.8 9.7 34.1 4.4s18.4-16.6 18.4-29l0-320c0-12.4-7.2-23.7-18.4-29s-24.5-3.6-34.1 4.4l-192 160L64 241 64 96c0-17.7-14.3-32-32-32S0 78.3 0 96L0 416c0 17.7 14.3 32 32 32s32-14.3 32-32l0-145 11.5 9.6 192 160z"},child:[]}]})(e)}function tH(e){return(0,tg.GenIcon)({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"},child:[]}]})(e)}function tq(e){return(0,tg.GenIcon)({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M52.5 440.6c-9.5 7.9-22.8 9.7-34.1 4.4S0 428.4 0 416L0 96C0 83.6 7.2 72.3 18.4 67s24.5-3.6 34.1 4.4l192 160L256 241l0-145c0-17.7 14.3-32 32-32s32 14.3 32 32l0 320c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-145-11.5 9.6-192 160z"},child:[]}]})(e)}function tY(e){return(0,tg.GenIcon)({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M48 64C21.5 64 0 85.5 0 112L0 400c0 26.5 21.5 48 48 48l32 0c26.5 0 48-21.5 48-48l0-288c0-26.5-21.5-48-48-48L48 64zm192 0c-26.5 0-48 21.5-48 48l0 288c0 26.5 21.5 48 48 48l32 0c26.5 0 48-21.5 48-48l0-288c0-26.5-21.5-48-48-48l-32 0z"},child:[]}]})(e)}function tX(e){return(0,tg.GenIcon)({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80L0 432c0 17.4 9.4 33.4 24.5 41.9s33.7 8.1 48.5-.9L361 297c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41L73 39z"},child:[]}]})(e)}let tZ={fast:(0,t.jsx)(tB,{className:"size-8"}),slow:(0,t.jsx)(function(e){return(0,tg.GenIcon)({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M171.3 96L224 96l0 96-112.7 0 30.4-75.9C146.5 104 158.2 96 171.3 96zM272 192l0-96 81.2 0c9.7 0 18.9 4.4 25 12l67.2 84L272 192zm256.2 1L428.2 68c-18.2-22.8-45.8-36-75-36L171.3 32c-39.3 0-74.6 23.9-89.1 60.3L40.6 196.4C16.8 205.8 0 228.9 0 256L0 368c0 17.7 14.3 32 32 32l33.3 0c7.6 45.4 47.1 80 94.7 80s87.1-34.6 94.7-80l130.7 0c7.6 45.4 47.1 80 94.7 80s87.1-34.6 94.7-80l33.3 0c17.7 0 32-14.3 32-32l0-48c0-65.2-48.8-119-111.8-127zM434.7 368a48 48 0 1 1 90.5 32 48 48 0 1 1 -90.5-32zM160 336a48 48 0 1 1 0 96 48 48 0 1 1 0-96z"},child:[]}]})(e)},{className:"size-8"}),potato:(0,t.jsx)(({color:e="currentColor",size:r=24,...i})=>(0,t.jsxs)("svg",{fill:e,viewBox:"0 -2.22 104 104",xmlns:"http://www.w3.org/2000/svg",...i,children:[(0,t.jsx)("g",{id:"SVGRepo_bgCarrier",strokeWidth:0}),(0,t.jsx)("g",{id:"SVGRepo_tracerCarrier",strokeLinecap:"round",strokeLinejoin:"round"}),(0,t.jsx)("g",{id:"SVGRepo_iconCarrier",children:(0,t.jsx)("path",{id:"_0505-potato","data-name":"0505-potato",d:"M1009.923,990.113c-.468-.477-1.552-.336-2.058-.772-.818-.041-1.133-.584-2.058-.515-.967-.832-2.6-1-3.344-2.057a20.14,20.14,0,0,1-5.146,2.057c-3.339.346-5.763,1.609-9.773,1.287a14.079,14.079,0,0,1-4.888-1.544,25.134,25.134,0,0,1-10.033-2.058,24.474,24.474,0,0,1-5.916-3.087c-.707-.51-1.31-1.175-2.058-1.8a18.78,18.78,0,0,1-2.056-1.8c-.4-.443-.631-1.066-1.031-1.543-.374-.45-.927-.827-1.286-1.286-.2-.257-.315-.507-.514-.772-.13-.175-.421-.369-.514-.514-.06-.094.082-.448,0-.515a11.316,11.316,0,0,1-1.8-3.087,32.067,32.067,0,0,1-1.029-28.039,41.333,41.333,0,0,1,6.687-11.832c.229-.113.46-.226.516-.515a17.222,17.222,0,0,1,3.086-2.315c.388-.47,1.109-.6,1.543-1.029a1.814,1.814,0,0,1,1.544-1.029c.848-4.64,2.856-8.12,4.63-11.832.6-.845.994-1.693,1.544-2.573a11.571,11.571,0,0,0,1.543-2.572c1.224-1.433,2.464-2.852,3.6-4.373a43.582,43.582,0,0,0,3.6-3.087,88.834,88.834,0,0,1,23.923-10.547c1.928-.3,4.071-.387,6.174-.514.415.073.442-.243.77-.256h5.659c.783.5,2.025.548,2.83,1.029.9.3,1.39,1.011,2.573,1.029a5.394,5.394,0,0,0,2.316,1.544,4.236,4.236,0,0,0,2.058,1.543c2.671,2.816,5.3,5.674,7.717,8.747,1.54,1.2,2.3,3.184,3.6,4.63.176,1.2,1,1.742,1.286,2.83.71.663.659,2.086,1.286,2.83a78.378,78.378,0,0,1,.516,8.231c-.073,2.414-.673,4.3-.516,6.945a3.758,3.758,0,0,0-.515,2.316,3.5,3.5,0,0,0-.514,2.058c-.455,1.345-.932,2.669-1.285,4.116a15.3,15.3,0,0,0,3.085,1.285,14.454,14.454,0,0,0,2.831,1.544c1.278,1.293,3.13,2.014,4.115,3.6,1.475,1.1,2.226,2.92,3.344,4.373a30.112,30.112,0,0,1,1.8,8.232c.1,4.469-.806,7.941-1.544,11.575-.737,1.407-1.153,3.135-1.8,4.63-.435.68-.595,1.634-1.03,2.316-.355.673-1.172.885-1.287,1.8-1.05.234-1.358,1.212-2.571,1.286a11.923,11.923,0,0,1-2.315,1.285c-1.948,1.653-4.152,3.052-6.173,4.63-4.9,1.962-9.321,4.4-15.435,5.145q-.326,0-.647,0C1019.607,991.146,1015.065,990.331,1009.923,990.113Zm7.717-5.4a3.221,3.221,0,0,0,1.945.259,8.79,8.79,0,0,1,1.142,0c.688-1.542.543-3.915,2.572-4.116,1.608.32,1.733,2.155,1.286,3.857,3.659-.112,5.751-1.794,8.746-2.57a19.929,19.929,0,0,1,3.6-2.058,19.707,19.707,0,0,1,3.6-2.059c1.711-2.062,3.857-3.688,5.4-5.916a38.922,38.922,0,0,0,2.057-3.6c.551-1.421,1.47-2.475,2.057-3.858a30.762,30.762,0,0,0,1.544-9.775,16.025,16.025,0,0,0-2.573-5.146,26.527,26.527,0,0,0-16.206-6.945,20.117,20.117,0,0,0-3.649.117,21.379,21.379,0,0,1-3.295.141c-6.569,1.49-12.253,3.868-16.721,7.459a43.1,43.1,0,0,0-6.172,5.917,19.155,19.155,0,0,0-2.316,3.6c-.6.429-.661,1.4-1.03,2.058-.167.534-.96,1.76-.257,2.315a12.322,12.322,0,0,1,3.344-3.858c1.207-1.28,2.454-2.519,4.888-2.571.079.606.894.478.771,1.286-.112,1.943-1.872,2.243-2.572,3.6-.884,1.174-1.782,2.333-2.573,3.6a20.175,20.175,0,0,0-2.314,3.859c-.023,1.823-2.129,2.779-1.287,4.63,1.714.256,1.461-1.454,2.316-2.057.321-1.138,1.192-1.725,1.544-2.831,1.46-1.455,2.053-3.777,5.145-3.6.4.37.894.648,1.028,1.286.078,2.821-1.843,3.644-2.572,5.659a23.657,23.657,0,0,0-2.829,5.4c.791.75,1.152,1.934,2.573,2.057a16.087,16.087,0,0,1,1.8-5.144c.863-1.149,1.89-3.37,3.6-2.83,1.713,1.3-.438,3.091-.513,4.887a5.682,5.682,0,0,0-.772,2.571,8.784,8.784,0,0,0-.772,2.831c1.343.371,2.347,1.083,4.117,1.029.148-1.4.921-2.166,1.029-3.6.814-.73.895-2.191,2.058-2.573C1019.822,979.168,1017.907,982.554,1017.64,984.71Zm-22.894-1.543c1.186-.614,3.19-.411,3.858-1.544a28.449,28.449,0,0,1-4.629-11.318v-5.659a28.788,28.788,0,0,1,9.774-16.721,35.439,35.439,0,0,1,17.749-8.746c5.4.174,9.793-.668,14.919-.771.618-.925.624-2.463.771-3.858.635-.824.65-2.267,1.031-3.344.4-1.144.724-2.361,1.028-3.6.2-2.91.589-6.5-.257-9-.774-.856-1.124-2.136-2.057-2.831a16.866,16.866,0,0,0-1.544-3.344c-.224-1.4-1.628-1.63-1.8-3.087-.728-.987-1.343-2.087-2.059-3.087a33.424,33.424,0,0,0-10.031-9.775,2.1,2.1,0,0,1-1.544-.514,30.359,30.359,0,0,0-4.5.11,34.581,34.581,0,0,1-3.734.147c-7.433,4.057-16.656,6.324-23.409,11.062-1.778,1.518-3.814,2.805-5.144,4.372-.508.6-.829,1.417-1.286,2.058-.219.306-.537.423-.771.772-.184.272-.331.733-.516,1.029-1.324,2.127-2.453,4.242-3.6,6.43a30.176,30.176,0,0,1-1.285,3.087c.033,1.156-1.054,2.538-.257,3.6.267-1.706,1.153-2.791,1.543-4.373.941-1.032.712-3.234,2.573-3.344,1.854.061,1.341,2.992.772,4.115-.319,1.741-.967,3.151-1.287,4.888-.361.668-.356,1.7-.772,2.315a10.729,10.729,0,0,1-.77,2.316c-.311,1.747-.574,3.542-2.574,3.6-1.325-.217-2.057-1.028-1.8-2.829-.992.344-1.185-.31-1.543-.516-.293-.168-.546-.059-.772-.257-.172-.151.032-.734-.513-.514-1.22,1.009-2.381,2.077-3.6,3.087-1.518,3.54-3.956,6.161-4.887,10.289.221.486.4.238.627-.008.172-.185.377-.368.658-.25.923-.15,1.246.3,1.8.516.755,2.092-.46,4.072-1.029,5.658-.481,2.008-1.356,3.618-1.8,5.659.3,1.076.139,2.606,1.03,3.087,1.313-2.117,1.455-5.4,4.63-5.659.942.088,1.178.881,1.544,1.544-.967,3.834-2.742,6.861-3.344,11.06a2.555,2.555,0,0,0,.771,1.543c.146.627.22,1.324,1.029,1.287.244-1.9,1.138-3.151,1.544-4.888,1.094-1.134,1.566-2.892,3.6-3.086.908.688.766,1.534.257,2.572-.8.569-.528,2.215-1.029,3.087a69.929,69.929,0,0,0-1.286,6.945c.9.819,1.6,1.83,3.086,2.057.921-2.939.594-7.123,3.86-7.717a2.316,2.316,0,0,1,1.543,1.543c-.667,2.764-1.719,5.142-1.8,8.49,1.8.257,2.959,1.156,4.886,1.287.691-1.883.329-4.818,2.831-4.889,2.415.473.349,4.115,1.03,5.66,2.02.527,4.83-.056,6.686-.516C993.8,982.4,993.823,983.232,994.746,983.167Zm44.244-12.089c-.6-.085-.249-1.123-.77-1.287a18.041,18.041,0,0,1,0-3.087,1.3,1.3,0,0,0,.77-.771h1.543c.008.25.316.2.516.257,1.613,1.438,1.852,5.676-1.029,5.917C1039.937,971.5,1038.8,971.954,1038.99,971.078Zm-11.318-3.6c-.9-.9-1.151-2.451-1.03-4.373a2.644,2.644,0,0,1,2.83-1.029c1.592,1.4,3.757,5.679,1.544,7.718q-.231.02-.442.019A2.783,2.783,0,0,1,1027.672,967.476Zm-44.244-2.058c-.42-.319-.756-.056-1.178.207a1.716,1.716,0,0,1-1.4.309c-.391-.724-1.218-1.011-1.029-2.315.4-2.246,3.48-3.114,5.658-2.059a8.414,8.414,0,0,1,2.573,6.174c-.588.612-.937,1.464-2.057,1.543C984.065,969.067,983.93,967.059,983.428,965.417ZM1037.7,959.5c-1.094-.706-.922-2.678-1.286-4.116-.206-.177-.3-.617-.515-.772-.5-.356-1.444-.041-2.057-.514-.239-.185-.14-.722-.514-.772-.183-1.811.995-2.262,2.315-2.571,1.08-.137,1.438.448,2.315.514,1.721,1.43,3.562,4.978,2.059,7.975a5.406,5.406,0,0,1-1.752.281C1038.089,959.526,1037.9,959.518,1037.7,959.5Zm-20.836,0c-1.327-1.047-2.888-5.073-.77-6.431,2.28.635,2.864,2.966,3.343,5.4a4.477,4.477,0,0,0-.772,1.029Zm-32.412-11.832c-1.529-.357-2.9-.877-2.829-2.831.031-1.426,1.235-1.68,2.315-2.058,2.871.3,4.713,1.633,5.145,4.373a3.021,3.021,0,0,1-1.286,2.058q-.177.014-.339.014C985.94,949.226,985.322,948.324,984.456,947.669Zm-7.2-4.889c-1.657-1.6-.049-4.469.257-6.43.566-2.179,1.418-4.07,2.057-6.174.9-.923,2.393-2.275,3.6-.772-.416,2.844-1.5,5.012-2.057,7.718-.966,2.016-.256,5.7-3.235,5.7A4.408,4.408,0,0,1,977.254,942.781Zm23.923-4.115v-2.058c.3-.041.216-.469.258-.771a23.376,23.376,0,0,0,1.8-2.058c.369-.151.668-.072,1.03-.256.13-.068.411-.479.513-.516a1.3,1.3,0,0,1,.463.018c.238.032.485.065.567-.018.014-.013-.012-.256,0-.256a3.007,3.007,0,0,1,2.831,1.542c-.391,2.1-3.355,1.621-3.86,3.6-.208,1.752,1.442,1.646,1.287,3.344a2.42,2.42,0,0,1-1.689.746C1002.808,941.984,1001.389,940.261,1001.177,938.666Zm24.694-7.974a1.937,1.937,0,0,1-1.543-1.544c-1.29-.34-2.338-.922-2.572-2.316a3.5,3.5,0,0,1,4.63-1.029c.551.32.743,1.046,1.028,1.544a3.947,3.947,0,0,1,.773,1.8c-.429.343-.4,1.144-.773,1.544a7.79,7.79,0,0,0-.981.133A1.74,1.74,0,0,1,1025.871,930.692Zm-16.721-12.605h-2.571c-.754-.035-1.012.3-1.8.516a2.763,2.763,0,0,1-2.571-.772,5.64,5.64,0,0,1,0-2.058c.891-1.253,2.914-1.373,4.373-2.057h4.115c1.211.675,2.508,1.264,2.574,3.087-.1,1.187-.986,1.586-1.8,2.057q-.093.008-.178.008C1010.316,918.867,1010.09,918.122,1009.15,918.086Zm-21.349-4.63c-.09-2.687,5.834-3.321,6.43-.772.222,1.844-1.693,2.854-3.491,2.854C989.284,915.539,987.906,914.876,987.8,913.457Zm29.066-9a6.3,6.3,0,0,1-1.287-1.287c-.161-3.534,2.662-4.5,6.432-4.373.357.757,1.256.974,1.286,2.058-.122,1.591-1.142,2.29-2.572,2.571-1.141.344-1.919,1.051-3.4,1.052C1017.178,904.475,1017.027,904.469,1016.868,904.454Z",transform:"translate(-953.776 -891.592)"})})]}),{className:"size-8"})},tJ=()=>{let{setDPR:e}=o.useGlobalStore.getState(),[i,s]=(0,r.useState)("fast"),a=(0,r.useRef)(1);return(0,r.useEffect)(()=>{a.current=window.devicePixelRatio||1},[]),(0,t.jsxs)(n.Popover,{children:[(0,t.jsx)(n.PopoverTrigger,{asChild:!0,children:(0,t.jsx)(tf,{variant:"ghost",size:"icon",className:"size-10 cursor-pointer",children:tZ[i]})}),(0,t.jsx)(n.PopoverContent,{side:"right",className:"flex items-center p-2 w-auto",children:Object.keys(tZ).map((r,i)=>(0,t.jsx)(tf,{variant:"ghost",size:"icon",className:"size-10 cursor-pointer",onClick:()=>{s(r),e(a.current/2**i)},children:tZ[r]},`performance_${i}`))})]})},tK=r.default.memo(function(){let{isFlat:e,plotOn:i}=(0,o.useGlobalStore)((0,c.useShallow)(e=>({isFlat:e.isFlat,plotOn:e.plotOn}))),{resetCamera:n,useOrtho:s,setResetCamera:l,setUseOrtho:h}=(0,u.usePlotStore)((0,c.useShallow)(e=>({resetCamera:e.resetCamera,useOrtho:e.useOrtho,setResetCamera:e.setResetCamera,setUseOrtho:e.setUseOrtho}))),[d,p]=(0,r.useState)(!0),f=(0,r.useRef)(null),m=tO("--text-plot");return(0,t.jsxs)("nav",{className:"navbar",ref:f,children:[(0,t.jsxs)(a.Tooltip,{delayDuration:500,children:[(0,t.jsx)(a.TooltipTrigger,{asChild:!0,children:i&&(0,t.jsx)(tf,{variant:"ghost",size:"icon",className:"navbar-trigger size-10","aria-expanded":d,onClick:()=>p(e=>!e),children:d?(0,t.jsx)(tV,{className:"size-4"}):(0,t.jsx)(tU,{className:"size-6"})})}),(0,t.jsx)(a.TooltipContent,{side:"right",align:"start",children:d?"Close navigation":"Open navigation"})]}),(0,t.jsx)("div",{className:(0,eZ.cn)("navbar-content",d?"open":"closed"),children:(0,t.jsxs)("div",{className:"navbar-left",children:[i&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(a.Tooltip,{delayDuration:500,children:[(0,t.jsx)(a.TooltipTrigger,{asChild:!0,children:(0,t.jsx)(tf,{variant:"ghost",size:"icon",className:"size-10 cursor-pointer",tabIndex:0,onClick:()=>l(!n),children:(0,t.jsx)(tR,{className:"size-8"})})}),(0,t.jsx)(a.TooltipContent,{side:"right",align:"start",children:(0,t.jsx)("span",{children:"Reset camera view"})})]}),(0,t.jsx)(tf,{variant:"ghost",size:"icon",className:"cursor-pointer",onClick:()=>h(!s),children:s?(0,t.jsx)(tW,{color:m,className:"size-8"}):(0,t.jsx)(t$,{color:m,className:"size-8"})})]}),i&&!e&&(0,t.jsx)(tj,{}),i&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(tz,{}),(0,t.jsx)(tJ,{})]})]})})]})});var tQ=e.i(86465);e.i(77020).default,e.i(88354).default,e.i(52706).default;let t1={src:e.i(71218).default,width:1901,height:335,blurWidth:8,blurHeight:1,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAABCAYAAADjAO9DAAAAHUlEQVR42mOQAgI5IFAEAiUgMAKCLCAwBgIrIAAAUokGEYCO/RYAAAAASUVORK5CYII="},t0={src:e.i(69250).default,width:324,height:324,blurWidth:8,blurHeight:8,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAh0lEQVR42l3OvaoBABQA4HNv3eVOygNIiUlZDChlM3gNq8lLmFmZLPIMRilvQFY8hPx8Rybfcv46pxO/tJgyYcyQKj9EmzlN/shmgR4lYkmf+PJPl9jSIU8WyStlagyIC1fOrBhxIOsdsebBk4w3Mr8zIxrsycbzI/MNFSK/rrPgxJHcfA95ATH2da3xMe8bAAAAAElFTkSuQmCC"},t2={src:e.i(48248).default,width:335,height:335,blurWidth:8,blurHeight:8,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAg0lEQVR42jXPy8qBURQG4P1fxF9EEmVGKVOFieRUkhxSJg65/wvwvF88o11rrf2uVf6oM2X9NeGf1EqKC47sebGhTZrKjAMDRrw5UaNHSXe+7ZPpOzuatChbbjzJ9JIGiagaEvHgzIouyc5uVUQeiblyYUjnq1oyp2ShnDlnTJb9nfkBUDI4aXoly80AAAAASUVORK5CYII="};e.s([],53360),e.s(["logoBGC_MPI",0,t1],80096),e.s(["default",0,()=>(0,t.jsxs)("div",{className:"footer",children:[(0,t.jsx)("div",{className:"large-screen-logo",children:(0,t.jsx)("a",{href:"https://www.bgc-jena.mpg.de/en/bgi/mdi",target:"_blank",rel:"noreferrer",children:(0,t.jsx)(tQ.default,{src:t1,alt:"logoMPI",height:32})})}),(0,t.jsx)("div",{className:"small-screen-logo",children:(0,t.jsx)("a",{href:"https://www.bgc-jena.mpg.de/en/bgi/mdi",target:"_blank",rel:"noreferrer",children:(0,t.jsx)(tQ.default,{src:t0,alt:"logoBGC",height:32})})}),(0,t.jsx)("div",{className:"expandable-text",children:(0,t.jsxs)("span",{children:[" ",(0,t.jsx)("a",{href:"https://www.bgc-jena.mpg.de/person/jpoehls/2206",target:"_blank",rel:"noreferrer",children:"Jeran Poehls"}),"&",(0,t.jsx)("a",{href:"https://lazarusa.github.io/",target:"_blank",rel:"noreferrer",children:"Lazaro Alonso"})]})}),(0,t.jsx)("div",{className:"small-screen-logo",children:(0,t.jsx)("a",{href:"https://www.bgc-jena.mpg.de/en/bgi/home",target:"_blank",rel:"noreferrer",children:(0,t.jsx)(tQ.default,{src:t2,alt:"logoMPI",className:"small-screen-logo",height:32})})})]})],26223);var t9=e.i(85995),t3="Dialog",[t4,t8]=(0,b.createContextScope)(t3),[t6,t5]=t4(t3),t7=e=>{let{__scopeDialog:i,children:n,open:s,defaultOpen:a,onOpenChange:o,modal:l=!0}=e,u=r.useRef(null),c=r.useRef(null),[h,d]=(0,R.useControllableState)({prop:s,defaultProp:a??!1,onChange:o,caller:t3});return(0,t.jsx)(t6,{scope:i,triggerRef:u,contentRef:c,contentId:(0,N.useId)(),titleId:(0,N.useId)(),descriptionId:(0,N.useId)(),open:h,onOpenChange:d,onOpenToggle:r.useCallback(()=>d(e=>!e),[d]),modal:l,children:n})};t7.displayName=t3;var re="DialogTrigger",rt=r.forwardRef((e,r)=>{let{__scopeDialog:i,...n}=e,s=t5(re,i),a=(0,w.useComposedRefs)(r,s.triggerRef);return(0,t.jsx)(D.Primitive.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":rw(s.open),...n,ref:a,onClick:(0,v.composeEventHandlers)(e.onClick,s.onOpenToggle)})});rt.displayName=re;var rr="DialogPortal",[ri,rn]=t4(rr,{forceMount:void 0}),rs=e=>{let{__scopeDialog:i,forceMount:n,children:s,container:a}=e,o=t5(rr,i);return(0,t.jsx)(ri,{scope:i,forceMount:n,children:r.Children.map(s,e=>(0,t.jsx)(t9.Presence,{present:n||o.open,children:(0,t.jsx)(O.Portal,{asChild:!0,container:a,children:e})}))})};rs.displayName=rr;var ra="DialogOverlay",ro=r.forwardRef((e,r)=>{let i=rn(ra,e.__scopeDialog),{forceMount:n=i.forceMount,...s}=e,a=t5(ra,e.__scopeDialog);return a.modal?(0,t.jsx)(t9.Presence,{present:n||a.open,children:(0,t.jsx)(ru,{...s,ref:r})}):null});ro.displayName=ra;var rl=(0,_.createSlot)("DialogOverlay.RemoveScroll"),ru=r.forwardRef((e,r)=>{let{__scopeDialog:i,...n}=e,s=t5(ra,i);return(0,t.jsx)(U.RemoveScroll,{as:rl,allowPinchZoom:!0,shards:[s.contentRef],children:(0,t.jsx)(D.Primitive.div,{"data-state":rw(s.open),...n,ref:r,style:{pointerEvents:"auto",...n.style}})})}),rc="DialogContent",rh=r.forwardRef((e,r)=>{let i=rn(rc,e.__scopeDialog),{forceMount:n=i.forceMount,...s}=e,a=t5(rc,e.__scopeDialog);return(0,t.jsx)(t9.Presence,{present:n||a.open,children:a.modal?(0,t.jsx)(rd,{...s,ref:r}):(0,t.jsx)(rp,{...s,ref:r})})});rh.displayName=rc;var rd=r.forwardRef((e,i)=>{let n=t5(rc,e.__scopeDialog),s=r.useRef(null),a=(0,w.useComposedRefs)(i,n.contentRef,s);return r.useEffect(()=>{let e=s.current;if(e)return(0,V.hideOthers)(e)},[]),(0,t.jsx)(rf,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,v.composeEventHandlers)(e.onCloseAutoFocus,e=>{e.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:(0,v.composeEventHandlers)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey;(2===t.button||r)&&e.preventDefault()}),onFocusOutside:(0,v.composeEventHandlers)(e.onFocusOutside,e=>e.preventDefault())})}),rp=r.forwardRef((e,i)=>{let n=t5(rc,e.__scopeDialog),s=r.useRef(!1),a=r.useRef(!1);return(0,t.jsx)(rf,{...e,ref:i,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(s.current||n.triggerRef.current?.focus(),t.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(s.current=!0,"pointerdown"===t.detail.originalEvent.type&&(a.current=!0));let r=t.target;n.triggerRef.current?.contains(r)&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&a.current&&t.preventDefault()}})}),rf=r.forwardRef((e,i)=>{let{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:o,...l}=e,u=t5(rc,n),c=r.useRef(null),h=(0,w.useComposedRefs)(i,c);return(0,z.useFocusGuards)(),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(E.FocusScope,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:o,children:(0,t.jsx)(T.DismissableLayer,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":rw(u.open),...l,ref:h,onDismiss:()=>u.onOpenChange(!1)})}),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(rM,{titleId:u.titleId}),(0,t.jsx)(rC,{contentRef:c,descriptionId:u.descriptionId})]})]})}),rm="DialogTitle",rg=r.forwardRef((e,r)=>{let{__scopeDialog:i,...n}=e,s=t5(rm,i);return(0,t.jsx)(D.Primitive.h2,{id:s.titleId,...n,ref:r})});rg.displayName=rm;var ry="DialogDescription",rx=r.forwardRef((e,r)=>{let{__scopeDialog:i,...n}=e,s=t5(ry,i);return(0,t.jsx)(D.Primitive.p,{id:s.descriptionId,...n,ref:r})});rx.displayName=ry;var rv="DialogClose",rb=r.forwardRef((e,r)=>{let{__scopeDialog:i,...n}=e,s=t5(rv,i);return(0,t.jsx)(D.Primitive.button,{type:"button",...n,ref:r,onClick:(0,v.composeEventHandlers)(e.onClick,()=>s.onOpenChange(!1))})});function rw(e){return e?"open":"closed"}rb.displayName=rv;var r_="DialogTitleWarning",[rS,rk]=(0,b.createContext)(r_,{contentName:rc,titleName:rm,docsSlug:"dialog"}),rM=({titleId:e})=>{let t=rk(r_),i=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return r.useEffect(()=>{e&&(document.getElementById(e)||console.error(i))},[i,e]),null},rC=({contentRef:e,descriptionId:t})=>{let i=rk("DialogDescriptionWarning"),n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${i.contentName}}.`;return r.useEffect(()=>{let r=e.current?.getAttribute("aria-describedby");t&&r&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null};e.s(["Close",()=>rb,"Content",()=>rh,"Description",()=>rx,"Dialog",()=>t7,"DialogClose",()=>rb,"DialogContent",()=>rh,"DialogDescription",()=>rx,"DialogOverlay",()=>ro,"DialogPortal",()=>rs,"DialogTitle",()=>rg,"DialogTrigger",()=>rt,"Overlay",()=>ro,"Portal",()=>rs,"Root",()=>t7,"Title",()=>rg,"Trigger",()=>rt,"WarningProvider",()=>rS,"createDialogScope",()=>t8],567);var rA=e.i(567),rA=rA;let rI=m("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function rT({...e}){return(0,t.jsx)(rA.Root,{"data-slot":"dialog",...e})}function rz({...e}){return(0,t.jsx)(rA.Trigger,{"data-slot":"dialog-trigger",...e})}function rE({...e}){return(0,t.jsx)(rA.Portal,{"data-slot":"dialog-portal",...e})}function rN({className:e,...r}){return(0,t.jsx)(rA.Overlay,{"data-slot":"dialog-overlay",className:(0,eZ.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...r})}function rj({className:e,children:r,showCloseButton:i=!0,...n}){return(0,t.jsxs)(rE,{"data-slot":"dialog-portal",children:[(0,t.jsx)(rN,{}),(0,t.jsxs)(rA.Content,{"data-slot":"dialog-content",className:(0,eZ.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...n,children:[r,i&&(0,t.jsxs)(rA.Close,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent cursor-pointer data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,t.jsx)(rI,{}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function rO({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"dialog-header",className:(0,eZ.cn)("flex flex-col gap-2 text-center sm:text-left",e),...r})}function rD({className:e,...r}){return(0,t.jsx)(rA.Title,{"data-slot":"dialog-title",className:(0,eZ.cn)("text-lg leading-none font-semibold",e),...r})}let rP=["long_name","description","units","_ARRAY_DIMENSIONS"];function rR(e={},i=[]){return 0===Object.keys(e).length?[]:[...i.filter(t=>t in e),...Object.keys(e).filter(e=>!i.includes(e))].map(n=>{let s=e[n],a=i.includes(n);return(0,t.jsxs)(r.default.Fragment,{children:[(0,t.jsxs)("div",{className:`font-mono ${a?"font-semibold":"text-[var(--muted-foreground)]"}`,children:[n,":"]}),(0,t.jsx)("div",{className:"font-mono whitespace-pre-wrap break-words md:col-start-2 md:row-start-auto pl-4 md:pl-2",style:{overflowWrap:"anywhere"},children:"object"==typeof s?JSON.stringify(s,(e,t)=>"bigint"==typeof t?parseInt(t.toString()):t):String(s)})]},n)})}let rB=({data:e,variable:r})=>(0,t.jsxs)(rT,{children:[(0,t.jsxs)(a.Tooltip,{delayDuration:500,children:[(0,t.jsx)(a.TooltipTrigger,{asChild:!0,children:(0,t.jsx)(rz,{asChild:!0,children:(0,t.jsx)(tf,{variant:"Attributes"==r?"default":"ghost",size:"icon",className:"size-6 w-auto cursor-pointer px-2",tabIndex:0,children:r})})}),(0,t.jsx)(a.TooltipContent,{side:"bottom",align:"start",children:(0,t.jsx)("span",{children:"Show Variable Attributes"})})]}),(0,t.jsxs)(rj,{"aria-describedby":"Metadata Information for variable",className:"metadata-dialog",children:[(0,t.jsx)(rO,{children:(0,t.jsx)(rD,{children:"Attributes"})}),(0,t.jsx)("div",{className:"max-h-[60vh] text-[12px] overflow-y-auto break-words p-0",children:(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-[max-content_1fr] gap-x-1 gap-y-[6px]",children:rR(e,rP)})})]})]});e.s(["default",0,({height:e,setHeight:i})=>{let[n,s]=(0,r.useState)(!1),[a,o]=(0,r.useState)(window.innerHeight-50);(0,r.useEffect)(()=>{let e=()=>{o(window.innerHeight-100)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let l=(0,r.useCallback)(e=>{requestAnimationFrame(()=>{i(e)})},[i,a]),u=(0,r.useCallback)(t=>{switch(t.key){case"ArrowUp":t.preventDefault(),l(e-10);break;case"ArrowDown":t.preventDefault(),l(e+10);break;case"Home":t.preventDefault(),l(50);break;case"End":t.preventDefault(),l(a)}},[e,a,l]),c=e=>{e.preventDefault(),s(!0)},h=(0,r.useCallback)(e=>{n&&(e.preventDefault(),l("touches"in e?e.touches[0].clientY:e.clientY))},[n,l]),d=(0,r.useCallback)(()=>{s(!1)},[]),p=(0,r.useCallback)(()=>{n&&s(!1)},[n]);return(0,r.useEffect)(()=>(n&&(document.addEventListener("mousemove",h),document.addEventListener("mouseup",d),document.addEventListener("touchmove",h,{passive:!1}),document.addEventListener("touchend",d),document.addEventListener("touchcancel",d),window.addEventListener("resize",p)),()=>{document.removeEventListener("mousemove",h),document.removeEventListener("mouseup",d),document.removeEventListener("touchmove",h),document.removeEventListener("touchend",d),document.removeEventListener("touchcancel",d),window.removeEventListener("resize",p)}),[n,h,d,p]),(0,t.jsx)("div",{className:"resize-bar",onMouseDown:c,onTouchStart:c,onKeyDown:u,style:{top:`${e}px`},role:"slider","aria-label":"Resize plot height","aria-valuemin":50,"aria-valuemax":a,"aria-valuenow":e,tabIndex:0})}],9284),e.s(["default",0,({scale:e,setScale:i})=>{let[n,s]=(0,r.useState)(!1),a=(0,r.useRef)(null),o=t=>{n&&(t.preventDefault(),i(Math.min(Math.max(e+(a.current?(a.current-t.clientY)/100:0),.1),10)))},l=()=>{s(!1)};return(0,r.useEffect)(()=>(n&&(document.addEventListener("mousemove",o),document.addEventListener("mouseup",l)),()=>{document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",l)}),[n]),(0,t.jsx)("div",{className:"yScaler",onMouseDown:e=>{e.preventDefault(),s(!0),a.current=e.clientY},onMouseUp:l})}],72917),e.s(["default",0,({scale:e,setScale:i})=>{let[n,s]=(0,r.useState)(!1),a=(0,r.useRef)(null),o=t=>{n&&(t.preventDefault(),i(Math.min(Math.max(e+(a.current?(a.current-t.clientX)/1e3:0),.1),2)))},l=()=>{s(!1)};return(0,r.useEffect)(()=>(n&&(document.addEventListener("mousemove",o),document.addEventListener("mouseup",l)),()=>{document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",l)}),[n]),(0,t.jsx)("div",{className:"xScaler",onMouseDown:e=>{e.preventDefault(),s(!0),a.current=e.clientX},onMouseUp:l})}],26303);var rL=e.i(21957);function rF(){let{progress:e,status:r}=(0,o.useGlobalStore)((0,c.useShallow)(e=>({progress:e.progress,status:e.status})));return r&&(0,t.jsxs)("div",{className:"loading-container",children:[(0,t.jsx)("div",{className:"loading",children:r}),(0,t.jsx)("div",{className:"progress-bar",style:{width:`${e}%`}})]})}function rV(e){return(0,tg.GenIcon)({tag:"svg",attr:{viewBox:"0 0 15 15",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M4.85355 2.14645C5.04882 2.34171 5.04882 2.65829 4.85355 2.85355L3.70711 4H9C11.4853 4 13.5 6.01472 13.5 8.5C13.5 10.9853 11.4853 13 9 13H5C4.72386 13 4.5 12.7761 4.5 12.5C4.5 12.2239 4.72386 12 5 12H9C10.933 12 12.5 10.433 12.5 8.5C12.5 6.567 10.933 5 9 5H3.70711L4.85355 6.14645C5.04882 6.34171 5.04882 6.65829 4.85355 6.85355C4.65829 7.04882 4.34171 7.04882 4.14645 6.85355L2.14645 4.85355C1.95118 4.65829 1.95118 4.34171 2.14645 4.14645L4.14645 2.14645C4.34171 1.95118 4.65829 1.95118 4.85355 2.14645Z",fill:"currentColor"},child:[]}]})(e)}e.s(["default",0,()=>{let[e,i]=(0,r.useState)(!1),{resolvedTheme:n,setTheme:s}=(0,rL.useTheme)();return((0,r.useEffect)(()=>{setTimeout(()=>{i(!0)},0)},[]),e)?(0,t.jsxs)(a.Tooltip,{delayDuration:500,children:[(0,t.jsx)(a.TooltipTrigger,{asChild:!0,children:(0,t.jsx)(tf,{variant:"ghost",size:"icon",className:"cursor-pointer",onClick:()=>s("light"===n?"dark":"light"),children:"light"===n?(0,t.jsx)(tv,{className:"size-6"}):(0,t.jsx)(tb,{className:"size-6"})})}),(0,t.jsx)(a.TooltipContent,{side:"bottom",align:"start",children:"dark"===n?(0,t.jsx)("span",{children:"Switch to Light Mode"}):(0,t.jsx)("span",{children:"Switch to Dark Mode"})})]}):null}],77505),e.s(["Loading",()=>rF],35152),e.s(["default",0,({onClick:e})=>(0,t.jsxs)("div",{className:"lineplot-tab",onClick:e,children:[(0,t.jsx)("div",{className:"plottab-line"}),(0,t.jsx)("div",{className:"plottab-line"}),(0,t.jsx)("div",{className:"plottab-line"})]})],57616);var rU=e.i(48452),r$=e.i(9914);let rW={Mean:"Mean",Min:"Min",Max:"Max",StDev:"StDev",LinearSlope:"Slope",Mean3D:"Local Mean",Min3D:"Local Min",Max3D:"Local Max",StDev3D:"Local StDev",Mean2D:"Local Mean",Min2D:"Local Min",Max2D:"Local Max",StDev2D:"Local StDev",Correlation2D:"R",Correlation3D:"Local R",TwoVarLinearSlope2D:"Slope",TwoVarLinearSlope3D:"Local Slope",Covariance2D:"Covariance",Covariance3D:"Covariance",CUMSUM3D:"Cumulative Sum"};function rG(e){return Math.abs(e)>.001&&1e6>Math.abs(e)||0===e?parseFloat(e.toFixed(2)).toString():e.toExponential(2)}e.s(["default",0,({units:e,metadata:i,valueScales:n})=>{let{colormap:s,variable:a,scalingFactor:l}=(0,o.useGlobalStore)((0,c.useShallow)(e=>({colormap:e.colormap,variable:e.variable,scalingFactor:e.scalingFactor}))),{cScale:h,cOffset:d,setCScale:p,setCOffset:f}=(0,u.usePlotStore)((0,c.useShallow)(e=>({cScale:e.cScale,cOffset:e.cOffset,setCScale:e.setCScale,setCOffset:e.setCOffset}))),{variable2:m,analysisMode:g,operation:y,kernelOperation:x,execute:v}=(0,rU.useAnalysisStore)((0,c.useShallow)(e=>({variable2:e.variable2,analysisMode:e.analysisMode,operation:e.operation,kernelOperation:e.kernelOperation,execute:e.execute}))),b=(0,r.useRef)(null),w=(0,r.useRef)(!1),_=(0,r.useRef)({x:null,y:null}),{origMin:S,origMax:k}=(0,r.useMemo)(()=>({origMin:n.minVal,origMax:n.maxVal}),[n]),M=k-S,C=(0-S)/M,[A,I]=(0,r.useState)(5),[T,z]=(0,r.useState)(S),[E,N]=(0,r.useState)(k),[j,O]=(0,r.useState)(rG(S)),[D,P]=(0,r.useState)(rG(k)),R=(0,r.useRef)({min:null,max:null}),B=(0,r.useMemo)(()=>{let e=s.source.data;if(!e||!e.data)return[];let t=[],r=e.data;for(let e=0;e<r.length/4;e++){let i=4*e,n=`rgba(${r[i]}, ${r[i+1]}, ${r[i+2]}, ${r[i+3]} )`;t.push(n)}return t},[s]),[L,F]=(0,r.useMemo)(()=>[(0,r$.linspace)(0,100,A),(0,r$.linspace)(T,E,A)],[A,T,E]),V=e=>{if(!w.current)return;(null===_.current.x||null===_.current.y)&&(_.current.x=e.clientX,_.current.y=e.clientY),(null===R.current.min||null===R.current.max)&&(R.current.min=T,R.current.max=E);let t=(_.current.x-e.clientX)/100,r=R.current.min,i=R.current.max;z(r+M*t),N(i+M*t),P(rG((i+M*t)*Math.pow(10,l??0))),O(rG((r+M*t)*Math.pow(10,l??0)))},U=()=>{w.current=!1,_.current={x:null,y:null},R.current={min:null,max:null},document.removeEventListener("pointermove",V),document.removeEventListener("pointerup",U)};(0,r.useEffect)(()=>()=>{document.removeEventListener("pointermove",V),document.removeEventListener("pointerup",U)},[]),(0,r.useEffect)(()=>{let e=E-T,t=-(T-S)/(E-T);f(t+=(0-T)/e-C),p(M/e)},[T,E]),(0,r.useEffect)(()=>{z(S),N(k)},[k,S]),(0,r.useEffect)(()=>{if(b.current){let e=b.current.getContext("2d");e&&B.forEach((t,r)=>{e.fillStyle=t,e.fillRect(2*r,0,2,24)})}},[B]);let $=(0,r.useMemo)(()=>{if(!g)return`[${e}]`;{let t=rW["Convolution"===y?x:y];return"Default"!=m?`+ ${m} (${t})`:`[${e}] (${t})`}},[g,v]);return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("div",{className:"colorbar",children:[(0,t.jsx)("input",{type:"number",className:"text-[16px] font-semibold",style:{left:"0%",top:"100%",position:"absolute",width:`${9*j.length+1}px`,transform:"translateX(-50%)",textAlign:"right",minWidth:"30px"},value:j,onChange:e=>{O(e.target.value),z(parseFloat(e.target.value)/Math.pow(10,l??0))},onBlur:e=>O(rG(T*Math.pow(10,l??0)))}),Array.from({length:A}).map((e,r)=>0==r||r==A-1?null:(0,t.jsx)("p",{style:{left:`${L[r]}%`,top:"100%",position:"absolute",transform:"translateX(-50%)"},children:rG(F[r]*Math.pow(10,l??0))},r)),(0,t.jsx)("input",{type:"number",className:"text-[16px] font-semibold",style:{left:"100%",top:"100%",position:"absolute",width:`${9*D.length+1}px`,transform:"translateX(-50%)",textAlign:"right",minWidth:"30px"},value:D,onChange:e=>{P(e.target.value),N(parseFloat(e.target.value)/Math.pow(10,l??0))},onBlur:e=>P(rG(E*Math.pow(10,l??0)))}),(0,t.jsx)("canvas",{id:"colorbar-canvas",ref:b,width:512,height:24,onPointerDown:()=>{w.current=!0,document.addEventListener("pointermove",V),document.addEventListener("pointerup",U)}}),(0,t.jsxs)("p",{className:"colorbar-title",style:{position:"absolute",top:"-24px",left:"50%",transform:"translateX(-50%)"},children:[(0,t.jsx)(rB,{data:i,variable:a}),`${$}`]}),(1!=h||0!=d)&&(0,t.jsx)(rV,{size:25,style:{position:"absolute",top:"-25px",cursor:"pointer"},onClick:()=>{z(S),N(k),P(rG(k*Math.pow(10,l??0))),O(rG(S*Math.pow(10,l??0)))}}),(0,t.jsxs)("div",{style:{position:"absolute",right:"0%",bottom:"100%",display:"flex",width:"10%",justifyContent:"space-around"},children:[(0,t.jsx)(tM,{className:"cursor-pointer",onClick:()=>I(Math.max(A-1,2))}),(0,t.jsx)(tA,{className:"cursor-pointer",onClick:()=>I(Math.min(A+1,10))})]})]})})}],86351);var rH=e.i(35844),rq=e.i(59386),rY=e.i(3321),rX=e.i(76417);async function rZ(e,t){let r=e.length,i=[],n={};for(let t=0;t<r;t++){let r=e[t];if(".zarray"===r.name||".zattrs"===r.name||"zarr.json"===r.name){let e=r.webkitRelativePath,t=e.split("/");t.shift(),e=t.join("/"),i.push("/"+e)}}for(let e of i){let r=await t.get(e);n[e.slice(1)]=(0,rX.json_decode_object)(r)}let s={};for(let[e,t]of Object.entries({metadata:n,zarr_consolidated_format:1}.metadata))s[`/${e}`]=t;return{async get(e,r){if(s[e])return(0,rX.json_encode_object)(s[e]);let i=await t.get(e,r);if((e.endsWith(".zarray")||e.endsWith(".zgroup")||e.endsWith(".zattrs")||e.endsWith("zarr.json"))&&i){let t=(0,rX.json_decode_object)(i);s[e]=t}return i},getRange:t.getRange?.bind(t),contents(){let e=[];for(let[t,r]of Object.entries(s)){let i=t.split("/"),n=i.pop(),s=i.join("/")||"/";".zarray"===n&&e.push({path:s,kind:"array"}),".zgroup"===n&&e.push({path:s,kind:"group"}),"zarr_format"in r&&3===r.zarr_format&&e.push({path:s,kind:r.node_type})}return e}}}let rJ=({setShowLocal:e,setOpenVariables:r,setInitStore:i})=>{let n=(0,rY.useZarrStore)(e=>e.setCurrentStore),{setStatus:a}=o.useGlobalStore.getState(),l=async t=>{let s=t.target.files;if(!s||0===s.length)return void a(null);let o=new Map,l=s[0].webkitRelativePath.split("/")[0];for(let e=0;e<s.length;e++){let t=s[e],r=t.webkitRelativePath.substring(l.length+1);r&&o.set("/"+r,t)}let u={async get(e){let t=o.get(e),r=await t?.arrayBuffer();return r?new Uint8Array(r):void 0}};try{let t=await rH.tryWithConsolidated(u);"contents"in t||(t=await rZ(s,u));let o=await rq.open(t,{kind:"group"});n(o),e(!1),r(!0),i(`local_${l}`),a(null),rY.useZarrStore.setState({useNC:!1})}catch(e){a(null),e instanceof Error?console.log(`Error opening Zarr store: ${e.message}`):console.log("An unknown error occurred when opening the Zarr store.")}};return(0,t.jsx)("div",{children:(0,t.jsx)(s.Input,{type:"file",id:"filepicker",className:"hover:drop-shadow-md hover:scale-[110%]",style:{width:"200px",cursor:"pointer"},directory:"",webkitdirectory:"true",onChange:l})})};function rK(e){return(0,tg.GenIcon)({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M116,72a12,12,0,0,1-12,12H40a12,12,0,0,1,0-24h64A12,12,0,0,1,116,72ZM104,172H84V152a12,12,0,0,0-24,0v20H40a12,12,0,0,0,0,24H60v20a12,12,0,0,0,24,0V196h20a12,12,0,0,0,0-24Zm48,4h64a12,12,0,0,0,0-24H152a12,12,0,0,0,0,24Zm64,16H152a12,12,0,0,0,0,24h64a12,12,0,0,0,0-24Zm-64.49-87.51a12,12,0,0,0,17,0L184,89l15.51,15.52a12,12,0,0,0,17-17L201,72l15.52-15.51a12,12,0,0,0-17-17L184,55,168.49,39.51a12,12,0,0,0-17,17L167,72,151.51,87.51A12,12,0,0,0,151.51,104.49Z"},child:[]}]})(e)}function rQ(e){return(0,tg.GenIcon)({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M184,64V192a8,8,0,0,1-16,0V64a8,8,0,0,1,16,0Zm40-8a8,8,0,0,0-8,8V192a8,8,0,0,0,16,0V64A8,8,0,0,0,224,56Zm-87.33,58.66L48.48,58.51A15.91,15.91,0,0,0,24,71.85v112.3A15.83,15.83,0,0,0,32.23,198a15.95,15.95,0,0,0,16.25-.53l88.19-56.15a15.8,15.8,0,0,0,0-26.68Z"},child:[]}]})(e)}e.s(["default",()=>sh],5193);let r1=["volume","point-cloud","sphere","flat"],r0={volume:(0,t.jsx)(function(e){return(0,tg.GenIcon)({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M222.72,67.9l-88-48.17a13.9,13.9,0,0,0-13.44,0l-88,48.18A14,14,0,0,0,26,80.18v95.64a14,14,0,0,0,7.28,12.27l88,48.18a13.92,13.92,0,0,0,13.44,0l88-48.18A14,14,0,0,0,230,175.82V80.18A14,14,0,0,0,222.72,67.9ZM127,30.25a2,2,0,0,1,1.92,0L212.51,76,128,122.24,43.49,76ZM39,177.57a2,2,0,0,1-1-1.75V86.66l84,46V223Zm177.92,0L134,223V132.64l84-46v89.16A2,2,0,0,1,217,177.57Z"},child:[]}]})(e)},{className:"size-8"}),"point-cloud":(0,t.jsx)(function(e){return(0,tg.GenIcon)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{d:"M8 6C8 7.10457 7.10457 8 6 8C4.89543 8 4 7.10457 4 6C4 4.89543 4.89543 4 6 4C7.10457 4 8 4.89543 8 6Z",fill:"currentColor"},child:[]},{tag:"path",attr:{d:"M8 12C8 13.1046 7.10457 14 6 14C4.89543 14 4 13.1046 4 12C4 10.8954 4.89543 10 6 10C7.10457 10 8 10.8954 8 12Z",fill:"currentColor"},child:[]},{tag:"path",attr:{d:"M6 20C7.10457 20 8 19.1046 8 18C8 16.8954 7.10457 16 6 16C4.89543 16 4 16.8954 4 18C4 19.1046 4.89543 20 6 20Z",fill:"currentColor"},child:[]},{tag:"path",attr:{d:"M14 6C14 7.10457 13.1046 8 12 8C10.8954 8 10 7.10457 10 6C10 4.89543 10.8954 4 12 4C13.1046 4 14 4.89543 14 6Z",fill:"currentColor"},child:[]},{tag:"path",attr:{d:"M12 14C13.1046 14 14 13.1046 14 12C14 10.8954 13.1046 10 12 10C10.8954 10 10 10.8954 10 12C10 13.1046 10.8954 14 12 14Z",fill:"currentColor"},child:[]},{tag:"path",attr:{d:"M14 18C14 19.1046 13.1046 20 12 20C10.8954 20 10 19.1046 10 18C10 16.8954 10.8954 16 12 16C13.1046 16 14 16.8954 14 18Z",fill:"currentColor"},child:[]},{tag:"path",attr:{d:"M18 8C19.1046 8 20 7.10457 20 6C20 4.89543 19.1046 4 18 4C16.8954 4 16 4.89543 16 6C16 7.10457 16.8954 8 18 8Z",fill:"currentColor"},child:[]},{tag:"path",attr:{d:"M20 12C20 13.1046 19.1046 14 18 14C16.8954 14 16 13.1046 16 12C16 10.8954 16.8954 10 18 10C19.1046 10 20 10.8954 20 12Z",fill:"currentColor"},child:[]},{tag:"path",attr:{d:"M18 20C19.1046 20 20 19.1046 20 18C20 16.8954 19.1046 16 18 16C16.8954 16 16 16.8954 16 18C16 19.1046 16.8954 20 18 20Z",fill:"currentColor"},child:[]}]})(e)},{className:"size-8"}),sphere:(0,t.jsx)(function(e){return(0,tg.GenIcon)({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M128,28A100,100,0,1,0,228,128,100.11,100.11,0,0,0,128,28Zm92,100c0,10.16-22.26,21.21-57.11,25.8C163.61,145.62,164,137,164,128c0-41.16-8.07-75-20.28-90.65A92.14,92.14,0,0,1,220,128ZM128,36c13.24,0,28,37.78,28,92,0,9.45-.46,18.39-1.27,26.73-8.34.81-17.28,1.27-26.73,1.27-54.22,0-92-14.76-92-28A92.1,92.1,0,0,1,128,36ZM37.35,143.72C53,155.93,86.84,164,128,164c9,0,17.62-.39,25.8-1.11C149.21,197.74,138.16,220,128,220A92.14,92.14,0,0,1,37.35,143.72Zm106.37,74.93c8.63-11.06,15.19-31.22,18.3-56.63,25.41-3.11,45.57-9.67,56.63-18.3A92.23,92.23,0,0,1,143.72,218.65Z"},child:[]}]})(e)},{className:"size-8"}),flat:(0,t.jsx)(tF,{className:"size-8"})},r2=()=>{let{plotType:e,setPlotType:i,setUseOrtho:s}=(0,u.usePlotStore)((0,c.useShallow)(e=>({plotType:e.plotType,setPlotType:e.setPlotType,setUseOrtho:e.setUseOrtho}))),{isFlat:l,variable:h}=(0,o.useGlobalStore)((0,c.useShallow)(e=>({isFlat:e.isFlat,variable:e.variable}))),[d,p]=(0,r.useState)("left"),{dataShape:f,is4D:m}=(0,o.useGlobalStore)((0,c.useShallow)(e=>({dataShape:e.dataShape,is4D:e.is4D}))),g=(0,r.useMemo)(()=>m?f.reduce((e,t)=>e*t,1)/f[0]:f.reduce((e,t)=>e*t,1),[f,m]);return(0,r.useEffect)(()=>{let e=()=>{p(window.innerWidth<768?"top":"left")};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,t.jsxs)(n.Popover,{children:[(0,t.jsx)(n.PopoverTrigger,{asChild:!0,children:(0,t.jsx)("div",{style:"Default"===h?{pointerEvents:"none"}:{},children:(0,t.jsxs)(a.Tooltip,{delayDuration:500,children:[(0,t.jsx)(a.TooltipTrigger,{asChild:!0,children:(0,t.jsx)("div",{children:(0,t.jsx)(tf,{variant:"ghost",size:"icon",className:"cursor-pointer hover:scale-90 transition-transform duration-100 ease-out",tabIndex:0,"aria-label":"Select plot type",style:{color:"Default"==h?"var(--text-disabled)":""},children:r0[e]})})}),(0,t.jsx)(a.TooltipContent,{side:"left"===d?"left":"top",align:"left"===d?"start":"center",children:(0,t.jsx)("span",{children:"Change plot type"})})]})})}),(0,t.jsx)(n.PopoverContent,{side:d,className:"flex flex-col items-center min-w-[48px] max-w-[72px] w-[56px] p-2 mb-1",children:r1.map((r,n)=>{if(n<2&&l)return null;{let n="point-cloud"==r&&g>3e7,o=(0,t.jsx)(tf,{variant:e===r?"default":"ghost",className:`mb-2 w-12 h-12 flex items-center ${n?"bg-amber-400 hover:bg-amber-200":null} cursor-pointer justify-center transform transition-transform duration-100 ease-out hover:scale-90`,onClick:()=>{i(r),"flat"==r&&s(!0)},"aria-label":`Select ${r}`,children:r0[r]},r);return n?(0,t.jsxs)(a.Tooltip,{open:!0,children:[(0,t.jsx)(a.TooltipTrigger,{asChild:!0,children:(0,t.jsx)("div",{children:o},"pc-warning")}),(0,t.jsx)(a.TooltipContent,{side:"left",children:"Expect poor performance"})]},"pc-warning-tooltip"):o}})})]})};function r9(e){return(0,tg.GenIcon)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M12 4a2.599 2.599 0 0 0 -2 .957l-4.355 5.24a2.847 2.847 0 0 0 -.007 3.598l4.368 5.256c.499 .6 1.225 .949 1.994 .949a2.599 2.599 0 0 0 2 -.957l4.355 -5.24a2.847 2.847 0 0 0 .007 -3.598l-4.368 -5.256a2.593 2.593 0 0 0 -1.994 -.949z"},child:[]}]})(e)}function r3(e){return(0,tg.GenIcon)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M8 4a2.599 2.599 0 0 0 -2 .957l-4.355 5.24a2.847 2.847 0 0 0 -.007 3.598l4.368 5.256c.499 .6 1.224 .949 1.994 .949a2.599 2.599 0 0 0 2 -.957l4.355 -5.24a2.847 2.847 0 0 0 .007 -3.598l-4.368 -5.256a2.593 2.593 0 0 0 -1.994 -.949z"},child:[]},{tag:"path",attr:{d:"M16.382 4.214a1 1 0 0 1 1.32 .074l.084 .094l4.576 5.823c.808 .993 .848 2.396 .13 3.419l-.12 .158l-4.586 5.836a1 1 0 0 1 -1.644 -1.132l.072 -.104l4.596 -5.85a.845 .845 0 0 0 .06 -.978l-.07 -.1l-4.586 -5.836a1 1 0 0 1 .168 -1.404z"},child:[]},{tag:"path",attr:{d:"M12.382 4.214a1 1 0 0 1 1.32 .074l.084 .094l4.576 5.823c.808 .993 .848 2.396 .13 3.419l-.12 .158l-4.586 5.836a1 1 0 0 1 -1.644 -1.132l.072 -.104l4.596 -5.85a.845 .845 0 0 0 .06 -.978l-.07 -.1l-4.586 -5.836a1 1 0 0 1 .168 -1.404z"},child:[]}]})(e)}function r4(e){return(0,tg.GenIcon)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 6c0 1.657 3.582 3 8 3s8 -1.343 8 -3s-3.582 -3 -8 -3s-8 1.343 -8 3"},child:[]},{tag:"path",attr:{d:"M4 6v6c0 1.657 3.582 3 8 3c1.075 0 2.1 -.08 3.037 -.224"},child:[]},{tag:"path",attr:{d:"M20 12v-6"},child:[]},{tag:"path",attr:{d:"M4 12v6c0 1.657 3.582 3 8 3c.166 0 .331 -.002 .495 -.006"},child:[]},{tag:"path",attr:{d:"M16 19h6"},child:[]},{tag:"path",attr:{d:"M19 16v6"},child:[]}]})(e)}function r8(e){return(0,tg.GenIcon)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 4c-2.5 5 -2.5 10 0 16m14 -16c2.5 5 2.5 10 0 16m-10 -11h1c1 0 1 1 2.016 3.527c.984 2.473 .984 3.473 1.984 3.473h1"},child:[]},{tag:"path",attr:{d:"M8 16c1.5 0 3 -2 4 -3.5s2.5 -3.5 4 -3.5"},child:[]}]})(e)}e.s(["TbDatabasePlus",()=>r4,"TbKeyframeFilled",()=>r9,"TbKeyframesFilled",()=>r3,"TbVariable",()=>r8],78678);var r6=Symbol.for("react.lazy"),r5=r[" use ".trim().toString()];function r7(e){var t;return null!=e&&"object"==typeof e&&"$$typeof"in e&&e.$$typeof===r6&&"_payload"in e&&"object"==typeof(t=e._payload)&&null!==t&&"then"in t}function ie(e){var i;let n,s=(i=e,(n=r.forwardRef((e,t)=>{let{children:i,...n}=e;if(r7(i)&&"function"==typeof r5&&(i=r5(i._payload)),r.isValidElement(i)){var s;let e,a,o=(s=i,(a=(e=Object.getOwnPropertyDescriptor(s.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?s.ref:(a=(e=Object.getOwnPropertyDescriptor(s,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?s.props.ref:s.props.ref||s.ref),l=function(e,t){let r={...t};for(let i in t){let n=e[i],s=t[i];/^on[A-Z]/.test(i)?n&&s?r[i]=(...e)=>{let t=s(...e);return n(...e),t}:n&&(r[i]=n):"style"===i?r[i]={...n,...s}:"className"===i&&(r[i]=[n,s].filter(Boolean).join(" "))}return{...e,...r}}(n,i.props);return i.type!==r.Fragment&&(l.ref=t?(0,w.composeRefs)(t,o):o),r.cloneElement(i,l)}return r.Children.count(i)>1?r.Children.only(null):null})).displayName=`${i}.SlotClone`,n),a=r.forwardRef((e,i)=>{let{children:n,...a}=e;r7(n)&&"function"==typeof r5&&(n=r5(n._payload));let o=r.Children.toArray(n),l=o.find(ii);if(l){let e=l.props.children,n=o.map(t=>t!==l?t:r.Children.count(e)>1?r.Children.only(null):r.isValidElement(e)?e.props.children:null);return(0,t.jsx)(s,{...a,ref:i,children:r.isValidElement(e)?r.cloneElement(e,void 0,n):null})}return(0,t.jsx)(s,{...a,ref:i,children:n})});return a.displayName=`${e}.Slot`,a}var it=ie("Slot"),ir=Symbol("radix.slottable");function ii(e){return r.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===ir}e.s(["Slot",()=>it,"createSlot",()=>ie],87637);var is=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,i)=>{let n=ie(`Primitive.${i}`),s=r.forwardRef((e,r)=>{let{asChild:s,...a}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,t.jsx)(s?n:i,{...a,ref:r})});return s.displayName=`Primitive.${i}`,{...e,[i]:s}},{}),ia="horizontal",io=["horizontal","vertical"],il=r.forwardRef((e,r)=>{var i;let{decorative:n,orientation:s=ia,...a}=e,o=(i=s,io.includes(i))?s:ia;return(0,t.jsx)(is.div,{"data-orientation":o,...n?{role:"none"}:{"aria-orientation":"vertical"===o?o:void 0,role:"separator"},...a,ref:r})});function iu({className:e,orientation:r="horizontal",decorative:i=!0,...n}){return(0,t.jsx)(il,{"data-slot":"separator",decorative:i,orientation:r,className:(0,eZ.cn)("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...n})}il.displayName="Separator",e.s(["Separator",()=>iu],72436);var ic=e.i(82296),ih=["PageUp","PageDown"],id=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],ip={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},im="Slider",[ig,iy,ix]=S(im),[iv,ib]=(0,b.createContextScope)(im,[ix]),[iw,i_]=iv(im),iS=r.forwardRef((e,i)=>{let{name:n,min:s=0,max:a=100,step:o=1,orientation:l="horizontal",disabled:u=!1,minStepsBetweenThumbs:c=0,defaultValue:h=[s],value:d,onValueChange:p=()=>{},onValueCommit:f=()=>{},inverted:m=!1,form:g,...y}=e,b=r.useRef(new Set),w=r.useRef(0),_="horizontal"===l,[S=[],k]=(0,R.useControllableState)({prop:d,defaultProp:h,onChange:e=>{let t=[...b.current];t[w.current]?.focus(),p(e)}}),M=r.useRef(S);function C(e,t,{commit:r}={commit:!1}){let i,n=(String(o).split(".")[1]||"").length,l=x(Math.round((Math.round((e-s)/o)*o+s)*(i=Math.pow(10,n)))/i,[s,a]);k((e=[])=>{let i=function(e=[],t,r){let i=[...e];return i[r]=t,i.sort((e,t)=>e-t)}(e,l,t);if(!function(e,t){if(t>0)return Math.min(...e.slice(0,-1).map((t,r)=>e[r+1]-t))>=t;return!0}(i,c*o))return e;{w.current=i.indexOf(l);let t=String(i)!==String(e);return t&&r&&f(i),t?i:e}})}return(0,t.jsx)(iw,{scope:e.__scopeSlider,name:n,disabled:u,min:s,max:a,valueIndexToChangeRef:w,thumbs:b.current,values:S,orientation:l,form:g,children:(0,t.jsx)(ig.Provider,{scope:e.__scopeSlider,children:(0,t.jsx)(ig.Slot,{scope:e.__scopeSlider,children:(0,t.jsx)(_?iC:iA,{"aria-disabled":u,"data-disabled":u?"":void 0,...y,ref:i,onPointerDown:(0,v.composeEventHandlers)(y.onPointerDown,()=>{u||(M.current=S)}),min:s,max:a,inverted:m,onSlideStart:u?void 0:function(e){let t=function(e,t){if(1===e.length)return 0;let r=e.map(e=>Math.abs(e-t)),i=Math.min(...r);return r.indexOf(i)}(S,e);C(e,t)},onSlideMove:u?void 0:function(e){C(e,w.current)},onSlideEnd:u?void 0:function(){let e=M.current[w.current];S[w.current]!==e&&f(S)},onHomeKeyDown:()=>!u&&C(s,0,{commit:!0}),onEndKeyDown:()=>!u&&C(a,S.length-1,{commit:!0}),onStepKeyDown:({event:e,direction:t})=>{if(!u){let r=ih.includes(e.key)||e.shiftKey&&id.includes(e.key),i=w.current;C(S[i]+o*(r?10:1)*t,i,{commit:!0})}}})})})})});iS.displayName=im;var[ik,iM]=iv(im,{startEdge:"left",endEdge:"right",size:"width",direction:1}),iC=r.forwardRef((e,i)=>{let{min:n,max:s,dir:a,inverted:o,onSlideStart:l,onSlideMove:u,onSlideEnd:c,onStepKeyDown:h,...d}=e,[p,f]=r.useState(null),m=(0,w.useComposedRefs)(i,e=>f(e)),g=r.useRef(void 0),y=I(a),x="ltr"===y,v=x&&!o||!x&&o;function b(e){let t=g.current||p.getBoundingClientRect(),r=iB([0,t.width],v?[n,s]:[s,n]);return g.current=t,r(e-t.left)}return(0,t.jsx)(ik,{scope:e.__scopeSlider,startEdge:v?"left":"right",endEdge:v?"right":"left",direction:v?1:-1,size:"width",children:(0,t.jsx)(iI,{dir:y,"data-orientation":"horizontal",...d,ref:m,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:e=>{let t=b(e.clientX);l?.(t)},onSlideMove:e=>{let t=b(e.clientX);u?.(t)},onSlideEnd:()=>{g.current=void 0,c?.()},onStepKeyDown:e=>{let t=ip[v?"from-left":"from-right"].includes(e.key);h?.({event:e,direction:t?-1:1})}})})}),iA=r.forwardRef((e,i)=>{let{min:n,max:s,inverted:a,onSlideStart:o,onSlideMove:l,onSlideEnd:u,onStepKeyDown:c,...h}=e,d=r.useRef(null),p=(0,w.useComposedRefs)(i,d),f=r.useRef(void 0),m=!a;function g(e){let t=f.current||d.current.getBoundingClientRect(),r=iB([0,t.height],m?[s,n]:[n,s]);return f.current=t,r(e-t.top)}return(0,t.jsx)(ik,{scope:e.__scopeSlider,startEdge:m?"bottom":"top",endEdge:m?"top":"bottom",size:"height",direction:m?1:-1,children:(0,t.jsx)(iI,{"data-orientation":"vertical",...h,ref:p,style:{...h.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:e=>{let t=g(e.clientY);o?.(t)},onSlideMove:e=>{let t=g(e.clientY);l?.(t)},onSlideEnd:()=>{f.current=void 0,u?.()},onStepKeyDown:e=>{let t=ip[m?"from-bottom":"from-top"].includes(e.key);c?.({event:e,direction:t?-1:1})}})})}),iI=r.forwardRef((e,r)=>{let{__scopeSlider:i,onSlideStart:n,onSlideMove:s,onSlideEnd:a,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:u,...c}=e,h=i_(im,i);return(0,t.jsx)(D.Primitive.span,{...c,ref:r,onKeyDown:(0,v.composeEventHandlers)(e.onKeyDown,e=>{"Home"===e.key?(o(e),e.preventDefault()):"End"===e.key?(l(e),e.preventDefault()):ih.concat(id).includes(e.key)&&(u(e),e.preventDefault())}),onPointerDown:(0,v.composeEventHandlers)(e.onPointerDown,e=>{let t=e.target;t.setPointerCapture(e.pointerId),e.preventDefault(),h.thumbs.has(t)?t.focus():n(e)}),onPointerMove:(0,v.composeEventHandlers)(e.onPointerMove,e=>{e.target.hasPointerCapture(e.pointerId)&&s(e)}),onPointerUp:(0,v.composeEventHandlers)(e.onPointerUp,e=>{let t=e.target;t.hasPointerCapture(e.pointerId)&&(t.releasePointerCapture(e.pointerId),a(e))})})}),iT="SliderTrack",iz=r.forwardRef((e,r)=>{let{__scopeSlider:i,...n}=e,s=i_(iT,i);return(0,t.jsx)(D.Primitive.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...n,ref:r})});iz.displayName=iT;var iE="SliderRange",iN=r.forwardRef((e,i)=>{let{__scopeSlider:n,...s}=e,a=i_(iE,n),o=iM(iE,n),l=r.useRef(null),u=(0,w.useComposedRefs)(i,l),c=a.values.length,h=a.values.map(e=>iR(e,a.min,a.max)),d=c>1?Math.min(...h):0,p=100-Math.max(...h);return(0,t.jsx)(D.Primitive.span,{"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,...s,ref:u,style:{...e.style,[o.startEdge]:d+"%",[o.endEdge]:p+"%"}})});iN.displayName=iE;var ij="SliderThumb",iO=r.forwardRef((e,i)=>{let n=iy(e.__scopeSlider),[s,a]=r.useState(null),o=(0,w.useComposedRefs)(i,e=>a(e)),l=r.useMemo(()=>s?n().findIndex(e=>e.ref.current===s):-1,[n,s]);return(0,t.jsx)(iD,{...e,ref:o,index:l})}),iD=r.forwardRef((e,i)=>{var n,s,a,o,l;let u,c,{__scopeSlider:h,index:d,name:p,...f}=e,m=i_(ij,h),g=iM(ij,h),[y,x]=r.useState(null),b=(0,w.useComposedRefs)(i,e=>x(e)),_=!y||m.form||!!y.closest("form"),S=(0,e8.useSize)(y),k=m.values[d],M=void 0===k?0:iR(k,m.min,m.max),C=(n=d,(s=m.values.length)>2?`Value ${n+1} of ${s}`:2===s?["Minimum","Maximum"][n]:void 0),A=S?.[g.size],I=A?(a=A,o=M,l=g.direction,c=iB([0,50],[0,u=a/2]),(u-c(o)*l)*l):0;return r.useEffect(()=>{if(y)return m.thumbs.add(y),()=>{m.thumbs.delete(y)}},[y,m.thumbs]),(0,t.jsxs)("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[g.startEdge]:`calc(${M}% + ${I}px)`},children:[(0,t.jsx)(ig.ItemSlot,{scope:e.__scopeSlider,children:(0,t.jsx)(D.Primitive.span,{role:"slider","aria-label":e["aria-label"]||C,"aria-valuemin":m.min,"aria-valuenow":k,"aria-valuemax":m.max,"aria-orientation":m.orientation,"data-orientation":m.orientation,"data-disabled":m.disabled?"":void 0,tabIndex:m.disabled?void 0:0,...f,ref:b,style:void 0===k?{display:"none"}:e.style,onFocus:(0,v.composeEventHandlers)(e.onFocus,()=>{m.valueIndexToChangeRef.current=d})})}),_&&(0,t.jsx)(iP,{name:p??(m.name?m.name+(m.values.length>1?"[]":""):void 0),form:m.form,value:k},d)]})});iO.displayName=ij;var iP=r.forwardRef(({__scopeSlider:e,value:i,...n},s)=>{let a=r.useRef(null),o=(0,w.useComposedRefs)(a,s),l=L(i);return r.useEffect(()=>{let e=a.current;if(!e)return;let t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value").set;if(l!==i&&t){let r=new Event("input",{bubbles:!0});t.call(e,i),e.dispatchEvent(r)}},[l,i]),(0,t.jsx)(D.Primitive.input,{style:{display:"none"},...n,ref:o,defaultValue:i})});function iR(e,t,r){return x(100/(r-t)*(e-t),[0,100])}function iB(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];let i=(t[1]-t[0])/(e[1]-e[0]);return t[0]+i*(r-e[0])}}iP.displayName="RadioBubbleInput";let iL=r.forwardRef(({className:e,defaultValue:i,value:n,min:s=0,max:a=100,step:o=1,minStepsBetweenThumbs:l=1,...u},c)=>{let h=r.useMemo(()=>Array.isArray(n)?n:Array.isArray(i)?i:[s,a],[n,i,s,a]);return(0,t.jsxs)(iS,{ref:c,value:n,defaultValue:i,min:s,max:a,step:o,minStepsBetweenThumbs:l,className:(0,eZ.cn)("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",e),...u,children:[(0,t.jsx)(iz,{"data-slot":"slider-track",className:"bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-1.5 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5",children:(0,t.jsx)(iN,{"data-slot":"slider-range",className:"bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full"})}),h.map((e,r)=>(0,t.jsx)(iO,{"data-slot":"slider-thumb",className:"border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},r))]})});iL.displayName="SliderThumbs";let iF=td("inline-flex items-center justify-center rounded-full border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function iV({className:e,variant:r,asChild:i=!1,...n}){return(0,t.jsx)(i?it:"span",{"data-slot":"badge",className:(0,eZ.cn)(iF({variant:r}),e),...n})}let iU=e=>"string"==typeof e?e:Array.isArray(e)?e.join(", "):String(e),i$=e=>{if(0===e)return"0 Bytes";let t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB","TB"][t]};function iW(e,t){return Math.floor(parseInt(e)/t)*t}let iG=({meta:e,metadata:i,setShowMeta:l,setOpenVariables:h,popoverSide:d})=>{let{is4D:p,idx4D:f,variable:m,initStore:g,setIs4D:y,setIdx4D:x,setVariable:v,setTextureArrayDepths:b}=(0,o.useGlobalStore)((0,c.useShallow)(e=>({is4D:e.is4D,idx4D:e.idx4D,variable:e.variable,initStore:e.initStore,setIs4D:e.setIs4D,setIdx4D:e.setIdx4D,setVariable:e.setVariable,setTextureArrayDepths:e.setTextureArrayDepths}))),{maxSize:w,cache:_,setMaxSize:S}=(0,ic.useCacheStore)((0,c.useShallow)(e=>({maxSize:e.maxSize,cache:e.cache,setMaxSize:e.setMaxSize}))),[k,M]=(0,r.useState)(w),{zSlice:C,ySlice:A,xSlice:I,compress:T,coarsen:z,kernelSize:E,kernelDepth:N,setZSlice:j,setYSlice:O,setXSlice:D,ReFetch:P,setCompress:R,setCoarsen:B,setKernelSize:L,setKernelDepth:F}=(0,rY.useZarrStore)((0,c.useShallow)(e=>({zSlice:e.zSlice,ySlice:e.ySlice,xSlice:e.xSlice,compress:e.compress,coarsen:e.coarsen,kernelSize:e.kernelSize,kernelDepth:e.kernelDepth,setZSlice:e.setZSlice,setYSlice:e.setYSlice,setXSlice:e.setXSlice,ReFetch:e.ReFetch,setCompress:e.setCompress,setCoarsen:e.setCoarsen,setKernelSize:e.setKernelSize,setKernelDepth:e.setKernelDepth}))),{maxTextureSize:V,max3DTextureSize:U}=(0,u.usePlotStore)((0,c.useShallow)(e=>({maxTextureSize:e.maxTextureSize,max3DTextureSize:e.max3DTextureSize}))),[$,W]=(0,r.useState)(!1),[G,H]=(0,r.useState)(!1),[q,Y]=(0,r.useState)(null),[X,Z]=(0,r.useState)(0),[J,K]=(0,r.useState)(String(E)),[Q,ee]=(0,r.useState)(String(N)),{dimArrays:et,dimNames:er,dimUnits:ei}=e.dimInfo,en=e.totalSize?e.totalSize:0,es=e.shape.length,ea=e.chunks&&(0,r.useMemo)(()=>(function(e,t,r,i){let{xSlice:n,ySlice:s,zSlice:a}=e,o=Math.floor(a[0]/t[0]),l=a[1]?Math.ceil(a[1]/t[0]):i?Math.ceil(r[1]/t[0]):Math.ceil(r[0]/t[0]),u=Math.floor(s[0]/t[1]),c=s[1]?Math.ceil(s[1]/t[1]):i?Math.ceil(r[2]/t[1]):Math.ceil(r[1]/t[1]),h=Math.floor(n[0]/t[2]),d=n[1]?Math.ceil(n[1]/t[2]):i?Math.ceil(r[3]/t[2]):Math.ceil(r[2]/t[2]),p=[];for(let e=o;e<l;e++)for(let t=u;t<c;t++)for(let r=h;r<d;r++){let i=`z${e}_y${t}_x${r}`;p.push(i)}return p})({xSlice:I,ySlice:A,zSlice:C},e.chunks,e.shape,4==e.shape.length),[C,I,A,e]),eo=(0,r.useMemo)(()=>e.shape?e.shape[es-3]:0,[e]),el=(0,r.useMemo)(()=>e.shape?e.shape[es-2]:0,[e]),eu=(0,r.useMemo)(()=>e.shape?e.shape[es-1]:0,[e]),ec=z?e.shape.map((e,t)=>Math.floor(0===t?e/N:e/E)):e.shape,eh=z?e.chunks.map((e,t)=>Math.floor(0===t?e/N:e/E)):e.chunks,ed=(0,r.useMemo)(()=>!!e.shape&&3==e.shape.length,[e]),ep=2==e.shape.length,ef=es>2&&e.shape[es-3]/e.chunks[es-3]>1,em=e.shape[es-2]/e.chunks[es-2]>1,eg=e.shape[es-1]/e.chunks[es-1]>1,ey=(0,r.useMemo)(()=>{let t=(e,t,r=0)=>{let i=e[0]??r,n=e[1]??t;return{first:i,last:n,steps:n-i}},r=ep?{first:0,last:1,steps:1}:t(C,eo),i=t(I,e.shape[p?3:ed?2:1]),n=t(A,e.shape[p?2:+!!ed]),s=ep?V:U,a=[r.steps/s,n.steps/s,i.steps/s];b(a.some(e=>e>1)?a.map(e=>Math.ceil(e)):[1,1,1]);let o=a.reduce((e,t)=>e*Math.ceil(t),1);if(Z(o),o>14?W(e=>!0):W(e=>!1),ep)return en*(i.steps*n.steps/(e.shape[0]*e.shape[1]));{let t=p?[3,2,1]:[2,1,0];return Math.ceil(i.steps/e.chunks[t[0]])*Math.ceil(n.steps/e.chunks[t[1]])*Math.ceil(r.steps/e.chunks[t[2]])*e.chunkSize/(z?N*Math.pow(E,2):1)}},[e,C,I,A,eo,ed,p,z,E,N]),ex=(0,r.useMemo)(()=>{let t=e.dtype;return t.includes("32")||t.includes("f4")?ey/2:t.includes("64")||t.includes("f8")?ey/4:t.includes("8")||t.includes("i1")?2*ey:ey},[ey,e]),ev=ex>k;return(0,r.useEffect)(()=>{y(4==e.shape.length)},[e]),(0,r.useEffect)(()=>{if(R(!1),x(null),Y(null),_.has(`${g}_${e.name}`))return void H(!0);if(ea){let t=0;for(let r of ea)_.has(`${g}_${e.name}_chunk_${r}`)&&t++;if(t>0){Y(`${t}/${ea.length}`),H(!0);return}H(!1)}else H(!1)},[e,ea]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("b",{children:`${e.long_name} `}),"left"==d?(0,t.jsxs)(n.Popover,{children:[(0,t.jsx)(n.PopoverTrigger,{className:"cursor-pointer",asChild:!0,children:(0,t.jsx)(iV,{variant:"default",className:"block",children:"Attributes"})}),(0,t.jsx)(n.PopoverContent,{"data-meta-popover":!0,className:"max-h-[50vh] overflow-y-auto max-w-200",align:"center",children:rR(i,rP)})]}):(0,t.jsxs)("div",{children:[" ",(0,t.jsx)(rB,{data:i,variable:"Attributes"})," "]}),(0,t.jsx)("br",{}),(0,t.jsx)("br",{}),(0,t.jsxs)("div",{className:"grid grid-cols-[40%_40%_20%]",children:[(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("b",{children:"Data Shape"}),`[${iU(ec)}]`]}),(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("b",{children:"Chunk Shape"}),`[${iU(eh)}]`]}),(0,t.jsxs)("div",{className:"flex flex-col items-center",children:[(0,t.jsx)("label",{htmlFor:"coarsen",children:(0,t.jsx)("b",{children:"Coarsen"})}),(0,t.jsx)(to,{id:"coarsen",checked:z,onCheckedChange:e=>B(e)})]})]}),(0,t.jsx)(tl,{show:z,className:"mt-2",children:(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-x-1",children:[(0,t.jsxs)("div",{className:"grid grid-cols-[auto_50px]",children:[(0,t.jsx)("b",{children:"Temporal Coarsening"}),(0,t.jsx)(s.Input,{type:"number",min:"0",step:1,value:Q,onChange:e=>{let t=parseInt(e.target.value);ee(e.target.value),F(Math.pow(2,t))}})]}),(0,t.jsxs)("div",{className:"grid grid-cols-[auto_50px]",children:[(0,t.jsx)("b",{children:"Spatial Coarsening"}),(0,t.jsx)(s.Input,{type:"number",min:"0",step:1,value:J,onChange:e=>{let t=parseInt(e.target.value);K(e.target.value),L(Math.pow(2,t))}})]}),(0,t.jsx)("div",{className:"col-span-2 font-small mt-2 flex justify-center items-center",children:(0,t.jsxs)("i",{children:["Values represent 2",(0,t.jsx)("sup",{children:"n"})]})})]})}),(0,t.jsx)("br",{}),(0,t.jsxs)(t.Fragment,{children:[p&&(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{children:["This is Four-Dimensional Dataset. You must select an index along the first dimension. ",(0,t.jsx)("br",{}),"Please select an index from ",(0,t.jsx)("b",{children:"0"})," to ",(0,t.jsx)("b",{children:e.shape[0]-1})]}),(0,t.jsx)(s.Input,{type:"number",min:0,max:e.shape[0]-1,value:String(f),onChange:e=>x(parseInt(e.target.value))})]})}),(ed||ep||null!=f)&&!(G&&!q)&&(0,t.jsxs)(t.Fragment,{children:[(ef||eg||em)&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"block text-center text-xl font-bold",children:"Trim Data"}),(0,t.jsxs)("div",{className:"grid gap-4 ",children:[ef&&(0,t.jsxs)("div",{className:"grid gap-1",children:[(0,t.jsx)("div",{className:"flex justify-center",children:(0,t.jsx)("b",{children:"Default"==er[0]?"Axis 0":er[+!!p]})}),(0,t.jsx)(iL,{min:0,max:eo,value:[C[0]?C[0]:0,C[1]?C[1]:eo],step:eh[0],onValueChange:e=>j([e[0],e[1]])}),(0,t.jsxs)("div",{className:"grid grid-cols-2",children:[(0,t.jsxs)("span",{children:["Min: ",(0,t.jsx)("b",{children:(0,r$.parseLoc)(et[+!!p]?.[C[0]]??null,ei[+!!p]??null)}),"  ",(0,t.jsx)("br",{})," Index:",(0,t.jsx)("input",{className:"w-[50px]",type:"number",value:C[0],onChange:e=>j([parseInt(e.target.value),C[1]]),onBlur:e=>j([iW(e.target.value,eh[0]),C[1]])})]}),(0,t.jsxs)("span",{children:["Max: ",(0,t.jsx)("b",{children:(0,r$.parseLoc)(et[+!!p]?.[C[1]?C[1]-1:eo-1]??null,ei[+!!p]??null)}),(0,t.jsx)("br",{})," Index:",(0,t.jsx)("input",{className:"w-[50px]",type:"number",value:C[1]?C[1]:eo,onChange:e=>j([C[0],parseInt(e.target.value)]),onBlur:e=>j([C[0],iW(e.target.value,eh[0])])})]})]})]}),em&&(0,t.jsxs)("div",{className:"grid gap-1",children:[(0,t.jsx)("div",{className:"flex justify-center",children:(0,t.jsx)("b",{children:"Default"==er[1]?"Axis 1":er[ep?0:es-2]})}),(0,t.jsx)(iL,{min:0,max:el,value:[A[0]?A[0]:0,A[1]?A[1]:el],step:ep?eh[0]:eh[1],onValueChange:e=>O([e[0],e[1]])}),(0,t.jsxs)("div",{className:"grid grid-cols-2",children:[(0,t.jsxs)("span",{children:["Min: ",(0,t.jsx)("b",{children:(0,r$.parseLoc)(et[ep?0:es-2]?.[A[0]]??null,ei[ep?0:es-2]??null)}),"  ",(0,t.jsx)("br",{})," Index:",(0,t.jsx)("input",{className:"w-[50px]",type:"number",value:A[0],onChange:e=>O([parseInt(e.target.value),A[1]]),onBlur:e=>O([iW(e.target.value,eh[1]),A[1]])})]}),(0,t.jsxs)("span",{children:["Max: ",(0,t.jsx)("b",{children:(0,r$.parseLoc)(et[ep?0:es-2]?.[A[1]?A[1]-1:el-1]??null,ei[ep?0:es-2]??null)}),(0,t.jsx)("br",{})," Index:",(0,t.jsx)("input",{className:"w-[50px]",type:"number",value:A[1]?A[1]:el,onChange:e=>O([A[0],parseInt(e.target.value)]),onBlur:e=>O([A[0],iW(e.target.value,eh[1])])})]})]})]}),eg&&(0,t.jsxs)("div",{className:"grid gap-1",children:[(0,t.jsx)("div",{className:"flex justify-center",children:(0,t.jsx)("b",{children:"Default"==er[2]?"Axis 2":er[ep?1:es-1]})}),(0,t.jsx)(iL,{min:0,max:eu,value:[I[0]?I[0]:0,I[1]?I[1]:eu],step:ep?eh[1]:eh[2],onValueChange:e=>D([e[0],e[1]])}),(0,t.jsxs)("div",{className:"grid grid-cols-2",children:[(0,t.jsxs)("span",{children:["Min: ",(0,t.jsx)("b",{children:(0,r$.parseLoc)(et[ep?1:es-1]?.[I[0]]??null,ei[ep?1:es-1]??null)}),"  ",(0,t.jsx)("br",{})," Index:",(0,t.jsx)("input",{className:"w-[50px]",type:"number",value:I[0],onChange:e=>D([parseInt(e.target.value),I[1]]),onBlur:e=>D([iW(e.target.value,eh[2]),I[1]])})]}),(0,t.jsxs)("span",{children:["Max: ",(0,t.jsx)("b",{children:(0,r$.parseLoc)(et[ep?1:es-1]?.[I[1]?I[1]-1:eu-1]??null,ei[ep?1:es-1]??null)}),(0,t.jsx)("br",{})," Index:",(0,t.jsx)("input",{className:"w-[50px]",type:"number",value:I[1]?I[1]:eu,onChange:e=>D([I[0],parseInt(e.target.value)]),onBlur:e=>D([I[0],iW(e.target.value,eh[2])])})]})]})]})]})]}),(0,t.jsx)("br",{}),(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("b",{children:"Raw Size: "}),i$(ey)]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("b",{children:["Stored size: ",T?"<":null," "]}),i$(ex)]})]}),ey>w&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:`flex items-center gap-2 p-2 ${ev?"bg-red-50 dark:bg-red-950/30 border-red-200 dark:border-red-800":"bg-emerald-50 dark:bg-emerald-950/30 border-emerald-200 dark:border-emerald-800"} rounded-md border`,children:[(0,t.jsx)("div",{className:`w-2 h-2 ${ev?"bg-red-500":"bg-emerald-500"} rounded-full`}),(0,t.jsx)("span",{className:`text-xs font-medium ${ev?"text-red-800 dark:text-red-200":"text-emerald-800 dark:text-emerald-200"}`,children:ev?"Selection won't fit in Cache":"Data Will Fit"})]}),(0,t.jsxs)("div",{className:"",children:["Decrease selection or Increase cache size ",(0,t.jsx)("br",{}),(0,t.jsxs)("div",{className:"flex justify-center items-center",children:["Expand Cache:",(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(s.Input,{className:"w-[65px] h-[20px] no-spinner",type:"number",min:200,step:20,value:k/1048576,onChange:e=>M(1048576*parseInt(e.target.value))}),(0,t.jsx)("span",{className:"text-sm font-semibold",children:"MB"})]}),(0,t.jsxs)(a.Tooltip,{children:[(0,t.jsx)(a.TooltipTrigger,{asChild:!0,children:(0,t.jsx)(ty,{})}),(0,t.jsx)(a.TooltipContent,{children:"Increasing this too far can cause crashes. Mobile users beware"})]})]}),(0,t.jsx)(iL,{id:"newCache-size",min:0,max:1e3,value:[k/1048576],step:10,onValueChange:e=>M(w+1048576*e[0])})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-[auto_50%] gap-2 mt-2",children:[(0,t.jsx)("div",{children:(0,t.jsxs)("label",{htmlFor:"compress-data",className:"inline-flex",children:["Compress Data",(0,t.jsxs)(a.Tooltip,{children:[(0,t.jsx)(a.TooltipTrigger,{asChild:!0,children:(0,t.jsx)(ty,{})}),(0,t.jsx)(a.TooltipContent,{className:"max-w-[min(100%,16rem)] break-words whitespace-normal",children:"Compress data to preserve memory at the expense of slightly longer load times"})]})]})}),(0,t.jsx)(to,{id:"compress-data",checked:T,onCheckedChange:e=>R(e)})]})]})]}),(0,t.jsxs)("div",{className:"grid gap-2 mt-2",children:[G&&(0,t.jsx)("div",{children:q?(0,t.jsxs)("b",{children:[q," chunks already cached. "]}):(0,t.jsx)("b",{children:"This data is already cached. "})}),$&&(0,t.jsx)("div",{className:"bg-[#FFBEB388] rounded-md p-1",children:(0,t.jsxs)("span",{className:"text-xs font-medium text-red-800 dark:text-red-200",children:["Not only will this certainly not fit in memory, but it also won't fit in a single shader call. You are wild for this one. Textures:  ",(0,t.jsxs)("b",{children:[X,"/14"]})]})}),!$&&(0,t.jsx)(tf,{variant:"pink",className:"cursor-pointer hover:scale-[1.05]",disabled:p&&null==f||ev,onClick:()=>{m==e.name||(S(k),v(e.name)),P(),l(!1),h(!1),u.usePlotStore.setState({coarsen:z,kernel:{kernelDepth:N,kernelSize:E}})},children:"Plot"})]})]})};var iH=e.i(42001),iq="Collapsible",[iY,iX]=(0,b.createContextScope)(iq),[iZ,iJ]=iY(iq),iK=r.forwardRef((e,i)=>{let{__scopeCollapsible:n,open:s,defaultOpen:a,disabled:o,onOpenChange:l,...u}=e,[c,h]=(0,R.useControllableState)({prop:s,defaultProp:a??!1,onChange:l,caller:iq});return(0,t.jsx)(iZ,{scope:n,disabled:o,contentId:(0,N.useId)(),open:c,onOpenToggle:r.useCallback(()=>h(e=>!e),[h]),children:(0,t.jsx)(D.Primitive.div,{"data-state":i3(c),"data-disabled":o?"":void 0,...u,ref:i})})});iK.displayName=iq;var iQ="CollapsibleTrigger",i1=r.forwardRef((e,r)=>{let{__scopeCollapsible:i,...n}=e,s=iJ(iQ,i);return(0,t.jsx)(D.Primitive.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":i3(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...n,ref:r,onClick:(0,v.composeEventHandlers)(e.onClick,s.onOpenToggle)})});i1.displayName=iQ;var i0="CollapsibleContent",i2=r.forwardRef((e,r)=>{let{forceMount:i,...n}=e,s=iJ(i0,e.__scopeCollapsible);return(0,t.jsx)(t9.Presence,{present:i||s.open,children:({present:e})=>(0,t.jsx)(i9,{...n,ref:r,present:e})})});i2.displayName=i0;var i9=r.forwardRef((e,i)=>{let{__scopeCollapsible:n,present:s,children:a,...o}=e,l=iJ(i0,n),[u,c]=r.useState(s),h=r.useRef(null),d=(0,w.useComposedRefs)(i,h),p=r.useRef(0),f=p.current,m=r.useRef(0),g=m.current,y=l.open||u,x=r.useRef(y),v=r.useRef(void 0);return r.useEffect(()=>{let e=requestAnimationFrame(()=>x.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,B.useLayoutEffect)(()=>{let e=h.current;if(e){v.current=v.current||{transitionDuration:e.style.transitionDuration,animationName:e.style.animationName},e.style.transitionDuration="0s",e.style.animationName="none";let t=e.getBoundingClientRect();p.current=t.height,m.current=t.width,x.current||(e.style.transitionDuration=v.current.transitionDuration,e.style.animationName=v.current.animationName),c(s)}},[l.open,s]),(0,t.jsx)(D.Primitive.div,{"data-state":i3(l.open),"data-disabled":l.disabled?"":void 0,id:l.contentId,hidden:!y,...o,ref:d,style:{"--radix-collapsible-content-height":f?`${f}px`:void 0,"--radix-collapsible-content-width":g?`${g}px`:void 0,...e.style},children:y&&a})});function i3(e){return e?"open":"closed"}var i4="Accordion",i8=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[i6,i5,i7]=S(i4),[ne,nt]=(0,b.createContextScope)(i4,[i7,iX]),nr=iX(),ni=r.default.forwardRef((e,r)=>{let{type:i,...n}=e;return(0,t.jsx)(i6.Provider,{scope:e.__scopeAccordion,children:"multiple"===i?(0,t.jsx)(nu,{...n,ref:r}):(0,t.jsx)(nl,{...n,ref:r})})});ni.displayName=i4;var[nn,ns]=ne(i4),[na,no]=ne(i4,{collapsible:!1}),nl=r.default.forwardRef((e,i)=>{let{value:n,defaultValue:s,onValueChange:a=()=>{},collapsible:o=!1,...l}=e,[u,c]=(0,R.useControllableState)({prop:n,defaultProp:s??"",onChange:a,caller:i4});return(0,t.jsx)(nn,{scope:e.__scopeAccordion,value:r.default.useMemo(()=>u?[u]:[],[u]),onItemOpen:c,onItemClose:r.default.useCallback(()=>o&&c(""),[o,c]),children:(0,t.jsx)(na,{scope:e.__scopeAccordion,collapsible:o,children:(0,t.jsx)(nd,{...l,ref:i})})})}),nu=r.default.forwardRef((e,i)=>{let{value:n,defaultValue:s,onValueChange:a=()=>{},...o}=e,[l,u]=(0,R.useControllableState)({prop:n,defaultProp:s??[],onChange:a,caller:i4}),c=r.default.useCallback(e=>u((t=[])=>[...t,e]),[u]),h=r.default.useCallback(e=>u((t=[])=>t.filter(t=>t!==e)),[u]);return(0,t.jsx)(nn,{scope:e.__scopeAccordion,value:l,onItemOpen:c,onItemClose:h,children:(0,t.jsx)(na,{scope:e.__scopeAccordion,collapsible:!0,children:(0,t.jsx)(nd,{...o,ref:i})})})}),[nc,nh]=ne(i4),nd=r.default.forwardRef((e,i)=>{let{__scopeAccordion:n,disabled:s,dir:a,orientation:o="vertical",...l}=e,u=r.default.useRef(null),c=(0,w.useComposedRefs)(u,i),h=i5(n),d="ltr"===I(a),p=(0,v.composeEventHandlers)(e.onKeyDown,e=>{if(!i8.includes(e.key))return;let t=e.target,r=h().filter(e=>!e.ref.current?.disabled),i=r.findIndex(e=>e.ref.current===t),n=r.length;if(-1===i)return;e.preventDefault();let s=i,a=n-1,l=()=>{(s=i+1)>a&&(s=0)},u=()=>{(s=i-1)<0&&(s=a)};switch(e.key){case"Home":s=0;break;case"End":s=a;break;case"ArrowRight":"horizontal"===o&&(d?l():u());break;case"ArrowDown":"vertical"===o&&l();break;case"ArrowLeft":"horizontal"===o&&(d?u():l());break;case"ArrowUp":"vertical"===o&&u()}let c=s%n;r[c].ref.current?.focus()});return(0,t.jsx)(nc,{scope:n,disabled:s,direction:a,orientation:o,children:(0,t.jsx)(i6.Slot,{scope:n,children:(0,t.jsx)(D.Primitive.div,{...l,"data-orientation":o,ref:c,onKeyDown:s?void 0:p})})})}),np="AccordionItem",[nf,nm]=ne(np),ng=r.default.forwardRef((e,r)=>{let{__scopeAccordion:i,value:n,...s}=e,a=nh(np,i),o=ns(np,i),l=nr(i),u=(0,N.useId)(),c=n&&o.value.includes(n)||!1,h=a.disabled||e.disabled;return(0,t.jsx)(nf,{scope:i,open:c,disabled:h,triggerId:u,children:(0,t.jsx)(iK,{"data-orientation":a.orientation,"data-state":nS(c),...l,...s,ref:r,disabled:h,open:c,onOpenChange:e=>{e?o.onItemOpen(n):o.onItemClose(n)}})})});ng.displayName=np;var ny="AccordionHeader",nx=r.default.forwardRef((e,r)=>{let{__scopeAccordion:i,...n}=e,s=nh(i4,i),a=nm(ny,i);return(0,t.jsx)(D.Primitive.h3,{"data-orientation":s.orientation,"data-state":nS(a.open),"data-disabled":a.disabled?"":void 0,...n,ref:r})});nx.displayName=ny;var nv="AccordionTrigger",nb=r.default.forwardRef((e,r)=>{let{__scopeAccordion:i,...n}=e,s=nh(i4,i),a=nm(nv,i),o=no(nv,i),l=nr(i);return(0,t.jsx)(i6.ItemSlot,{scope:i,children:(0,t.jsx)(i1,{"aria-disabled":a.open&&!o.collapsible||void 0,"data-orientation":s.orientation,id:a.triggerId,...l,...n,ref:r})})});nb.displayName=nv;var nw="AccordionContent",n_=r.default.forwardRef((e,r)=>{let{__scopeAccordion:i,...n}=e,s=nh(i4,i),a=nm(nw,i),o=nr(i);return(0,t.jsx)(i2,{role:"region","aria-labelledby":a.triggerId,"data-orientation":s.orientation,...o,...n,ref:r,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});function nS(e){return e?"open":"closed"}function nk({...e}){return(0,t.jsx)(ni,{"data-slot":"accordion",...e})}function nM({className:e,...r}){return(0,t.jsx)(ng,{"data-slot":"accordion-item",className:(0,eZ.cn)("border-b last:border-b-0 mb-1",e),...r})}function nC({className:e,children:r,...i}){return(0,t.jsx)(nx,{className:"flex",children:(0,t.jsxs)(nb,{"data-slot":"accordion-trigger",className:(0,eZ.cn)("focus-visible:border-ring focus-visible:ring-ring/50 flex flex-1 items-start justify-between gap-4 rounded-md py-2 text-left text-sm font-medium transition-all outline-none hover:underline focus-visible:ring-[3px] disabled:pointer-events-none disabled:opacity-50 [&[data-state=open]>svg]:rotate-180",e),...i,children:[r,(0,t.jsx)(g,{className:"text-muted-foreground pointer-events-none size-4 shrink-0 translate-y-0.5 transition-transform duration-200"})]})})}function nA({className:e,children:r,...i}){return(0,t.jsx)(n_,{"data-slot":"accordion-content",className:"data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down overflow-hidden text-sm",...i,children:(0,t.jsx)("div",{className:(0,eZ.cn)("pt-0 pb-2",e),children:r})})}n_.displayName=nw;let nI=({openVariables:e,setOpenVariables:i})=>{let[l,u]=(0,r.useState)("left"),[h,d]=(0,r.useState)(!1),[p,f]=(0,r.useState)(!1),{variables:m,zMeta:g,metadata:y,setMetadata:x,initStore:v}=(0,o.useGlobalStore)((0,c.useShallow)(e=>({variables:e.variables,zMeta:e.zMeta,metadata:e.metadata,dimNames:e.dimNames,setMetadata:e.setMetadata,setDimNames:e.setDimNames,initStore:e.initStore}))),[b,w]=(0,r.useState)([[0],[0],[0]]),[_,S]=(0,r.useState)([null,null,null]),[k,M]=(0,r.useState)(["Default"]),[C,A]=(0,r.useState)(null),[I,T]=(0,r.useState)(null),[z,E]=(0,r.useState)(""),[N,j]=(0,r.useState)(["root"]),O=(0,r.useMemo)(()=>{let e,t=z.toLowerCase().trim(),r=m??[];return t&&(r=r.filter(e=>e.toLowerCase().includes(t))),e={},r.forEach(t=>{let r=t.split("/"),i=e;r.forEach((e,t)=>{i[e]||(i[e]=t===r.length-1?null:{}),i=i[e]})}),e},[z,m]),D=(e,t="")=>{let r=[];return Object.entries(e).forEach(([e,i])=>{let n=t?`${t}/${e}`:e;i&&"object"==typeof i&&(r.push(n),r=r.concat(D(i,n)))}),r};(0,r.useEffect)(()=>{z.trim()?j(["root",...D(O)]):j(["root"])},[z,O]),(0,r.useEffect)(()=>{if(m&&g&&C){let e=g.find(e=>e.name===C);e&&(T({...e,dimInfo:{dimArrays:b,dimNames:k,dimUnits:_}}),(0,iH.GetAttributes)(C).then(e=>x(e)))}},[C,m,g,b,k,_]),(0,r.useEffect)(()=>{A(null),T(null),x(null)},[v,x]),(0,r.useEffect)(()=>{let e=()=>{u(window.innerWidth<768?"top":"left")};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let P=({val:e,idx:i,arrayLength:n})=>{let s=e.split("/").pop()||e;return(0,t.jsxs)(r.default.Fragment,{children:[(0,t.jsx)("div",{className:"cursor-pointer pl-2 py-1 text-sm hover:bg-muted rounded",style:{background:C===e?"var(--muted-foreground)":""},onClick:()=>{A(e),(0,r$.GetDimInfo)(e).then(e=>{M(e.dimNames),w(e.dimArrays),S(e.dimUnits)}),"left"===l?d(!0):f(!0)},children:s}),i!==n-1&&(0,t.jsx)(iu,{className:"my-1"})]},e)},R=(e,r="")=>{let i=Object.entries(e),n=i.filter(([e,t])=>null===t),s=i.filter(([e,t])=>t&&"object"==typeof t);return(0,t.jsxs)(nk,{type:"multiple",value:N,onValueChange:j,className:"w-full",children:[n.length>0&&(0,t.jsx)("div",{className:"px-1",children:n.map(([e],i)=>{let s=r?`${r}/${e}`:e;return(0,t.jsx)(P,{val:s,idx:i,arrayLength:n.length},s)})}),s.map(([e,i])=>{let n=r?`${r}/${e}`:e;return(0,t.jsxs)(nM,{value:n,children:[(0,t.jsx)(nC,{className:"cursor-pointer pl-2",children:e}),(0,t.jsx)(nA,{className:"flex flex-col pl-2",children:R(i,n)})]},n)})]},r||"__root_inner__")},B=(0,t.jsx)("div",{className:"overflow-y-auto flex-1 [&::-webkit-scrollbar]:hidden",children:Object.keys(O).length>0?(0,t.jsx)(nk,{type:"multiple",className:"w-full",value:N,onValueChange:j,children:(0,t.jsxs)(nM,{value:"root",children:[(0,t.jsx)(nC,{className:"cursor-pointer",children:"/"}),(0,t.jsx)(nA,{className:"flex flex-col",children:R(O,"")})]},"root")}):(0,t.jsx)("div",{className:"text-center text-muted-foreground py-2",children:z?"No variables found matching your search.":"No variables available."})});return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.Popover,{open:e,onOpenChange:i,children:[(0,t.jsx)(n.PopoverTrigger,{asChild:!0,children:(0,t.jsx)("div",{children:(0,t.jsxs)(a.Tooltip,{delayDuration:500,children:[(0,t.jsx)(a.TooltipTrigger,{asChild:!0,children:(0,t.jsx)("div",{children:(0,t.jsx)(tf,{variant:"ghost",size:"icon",className:"cursor-pointer hover:scale-90 transition-transform duration-100 ease-out",tabIndex:0,"aria-label":"Select variable",children:(0,t.jsx)(r8,{className:"size-8"})})})}),(0,t.jsx)(a.TooltipContent,{side:"left"===l?"left":"top",align:"left"===l?"start":"center",children:(0,t.jsx)("span",{children:"Select Variable"})})]})})}),(0,t.jsxs)(n.PopoverContent,{side:l,className:"max-h-[50vh] overflow-hidden flex flex-col",onInteractOutside:e=>{e.target.closest("[data-meta-popover]")&&e.preventDefault()},children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-4 justify-center max-w-[240px] md:max-w-sm mx-auto flex-shrink-0",children:[(0,t.jsx)(s.Input,{placeholder:"Search variable...",value:z,onChange:e=>E(e.target.value),className:"flex-1"}),(0,t.jsx)(tf,{variant:"secondary",onClick:()=>E(""),children:"Clear"})]}),B]})]}),"left"===l&&(0,t.jsxs)(n.Popover,{open:h,onOpenChange:d,children:[(0,t.jsx)(n.PopoverTrigger,{asChild:!0,children:(0,t.jsx)("div",{className:"absolute -top-8",style:{left:"-280px"}})}),(0,t.jsx)(n.PopoverContent,{"data-meta-popover":!0,side:"left",align:"start",className:"max-h-[80vh] overflow-y-auto w-[300px]",children:I&&(0,t.jsx)(iG,{meta:I,metadata:y??{},setShowMeta:d,setOpenVariables:i,popoverSide:"left"})})]}),"top"===l&&(0,t.jsx)(rT,{open:p,onOpenChange:f,children:(0,t.jsxs)(rj,{className:"max-w-[85%] md:max-w-2xl max-h-[80vh] overflow-y-auto",children:[(0,t.jsx)(rD,{}),(0,t.jsx)("div",{className:"-mt-4",children:I&&(0,t.jsx)(iG,{meta:I,metadata:y??{},setShowMeta:f,setOpenVariables:i,popoverSide:"top"})})]})})]})};e.i(13105);var nT=e.i(72508);let nz=()=>{let[e,i]=(0,r.useState)("Spectral"),[s,l]=(0,r.useState)(!1),[u,h]=(0,r.useState)(null),{colormap:d,setColormap:p}=(0,o.useGlobalStore)((0,c.useShallow)(e=>({setColormap:e.setColormap,colormap:e.colormap}))),[f,m]=(0,r.useState)("left");return(0,r.useEffect)(()=>{p((0,nT.GetColorMapTexture)(d,"Default"===(u||e)?"Spectral":u||e,1,"#000000",0,s))},[e,s,u]),(0,r.useEffect)(()=>{let e=()=>{m(window.innerWidth<768?"top":"left")};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,t.jsx)("div",{className:"relative",children:(0,t.jsxs)(n.Popover,{children:[(0,t.jsx)(n.PopoverTrigger,{asChild:!0,children:(0,t.jsx)("div",{children:(0,t.jsxs)(a.Tooltip,{delayDuration:500,children:[(0,t.jsx)(a.TooltipTrigger,{asChild:!0,children:(0,t.jsx)("div",{children:(0,t.jsx)(tf,{size:"icon",className:"cursor-pointer hover:scale-90 transition-transform duration-100 ease-out rounded-full",style:{backgroundImage:`url(./colormap_icons/${e}.webp)`,backgroundSize:"100%",transform:s?"scaleX(-1)":"",width:"32px",height:"32px"}})})}),"left"===f?(0,t.jsx)(a.TooltipContent,{side:"left",align:"start",children:(0,t.jsx)("span",{children:"Change Colormap"})}):(0,t.jsx)(a.TooltipContent,{side:"top",align:"center",children:(0,t.jsx)("span",{children:"Change Colormap"})})]})})}),(0,t.jsxs)(n.PopoverContent,{side:f,className:"colormaps",children:[nT.colormaps.map(e=>(0,t.jsx)(tQ.default,{className:`cmap ${s?"flipped":""}`,src:`./colormap_icons/${e}.webp`,alt:e,height:100,width:256,onMouseEnter:()=>h(e),onMouseLeave:()=>h(null),onClick:()=>{i(e),h(null)}},e)),(0,t.jsx)(tL,{className:"flipper",style:{position:"absolute",top:"-2rem",right:"80%",bottom:"90%",height:"50px",width:"50px",cursor:"pointer",transform:`${s?"rotate(270deg)":"rotate(90deg)"}`,transition:".25s"},onClick:()=>l(e=>!e)})]})]})})};function nE({className:e,defaultValue:i,value:n,min:s=0,max:a=100,...o}){let l=r.useMemo(()=>Array.isArray(n)?n:Array.isArray(i)?i:[s,a],[n,i,s,a]);return(0,t.jsxs)(iS,{"data-slot":"slider",defaultValue:i,value:n,min:s,max:a,className:(0,eZ.cn)("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",e),...o,children:[(0,t.jsx)(iz,{"data-slot":"slider-track",className:(0,eZ.cn)("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-1.5 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:(0,t.jsx)(iN,{"data-slot":"slider-range",className:(0,eZ.cn)("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:l.length},(e,r)=>(0,t.jsx)(iO,{"data-slot":"slider-thumb",className:"border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},r))]})}function nN(e){return(0,tg.GenIcon)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"m6 9 6 6 6-6"},child:[]}]})(e)}function nj(e){return(0,tg.GenIcon)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(e)}e.s(["Slider",()=>nE],67692);let nO=r.default.memo(function({range:e,setRange:r,valueScales:i,min:n=-1,array:s,units:a}){var o,l;let{minVal:u,maxVal:c}=i;u=Number(u),c=Number(c);let[h,d]=[n,1];if(s){let t=s.length,r=Math.round((e[0]-n)/(1-n)*t),i=Math.round((e[1]-n)/(1-n)*t);h=s[r],d=s[i-1]}else h=Math.round(100*(e[0]*(c-(o=u))+o))/100,d=Math.round(100*(e[1]*(c-(l=u))+l))/100;return(0,t.jsxs)("div",{className:"w-full flex justify-between flex-col",children:[(0,t.jsx)(iL,{min:n,max:1,value:e,step:.01,onValueChange:e=>r(e)}),(0,t.jsxs)("div",{className:"flex justify-between text-xs mt-2 mb-2",children:[(0,t.jsxs)("span",{children:["Min: ",(0,r$.parseLoc)(h,a)]}),(0,t.jsxs)("span",{children:["Max: ",(0,r$.parseLoc)(d,a)]})]})]})}),nD=()=>{let{valueRange:e,xRange:i,yRange:n,zRange:s,setValueRange:a,setXRange:l,setYRange:h,setZRange:d}=(0,u.usePlotStore)((0,c.useShallow)(e=>({valueRange:e.valueRange,xRange:e.xRange,yRange:e.yRange,zRange:e.zRange,setValueRange:e.setValueRange,setXRange:e.setXRange,setYRange:e.setYRange,setZRange:e.setZRange}))),p={minVal:0,maxVal:0},{valueScales:f,dimArrays:m,dimNames:y,dimUnits:x,is4D:v}=(0,o.useGlobalStore)((0,c.useShallow)(e=>({valueScales:e.valueScales,dimArrays:e.dimArrays,dimNames:e.dimNames,dimUnits:e.dimUnits,is4D:e.is4D}))),b=v?y.slice(1):y,w=v?x.slice(1):x,_=v?m.slice(1):m,[S,k]=(0,r.useState)(!1);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,t.jsxs)("div",{className:"flex flex-col items-center w-[200px] gap-4",children:[(0,t.jsx)("b",{children:"Value Cropping"}),(0,t.jsx)(nO,{range:e,setRange:a,valueScales:f,min:0})]}),(0,t.jsxs)("div",{className:"flex flex-col w-[200px] -mt-4",children:[(0,t.jsxs)("button",{onClick:()=>k(!S),className:"flex items-center gap-2 w-full mb-2",children:[(0,t.jsx)("b",{children:"Spatial Cropping"}),(0,t.jsx)(g,{className:`h-4 w-4 transition-transform duration-200 ${S?"rotate-180":""}`})]}),(0,t.jsx)("div",{className:"grid transition-all duration-300 ease-in-out",style:{gridTemplateRows:S?"1fr":"0fr"},children:(0,t.jsx)("div",{className:"overflow-hidden",children:(0,t.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,t.jsxs)("div",{className:"grid w-[100%] place-items-center",children:[(0,t.jsx)("h2",{children:b[2]}),(0,t.jsx)(nO,{range:i,setRange:l,valueScales:p,array:_[2],units:w[2]})]}),(0,t.jsxs)("div",{className:"grid w-[100%] place-items-center",children:[(0,t.jsx)("h2",{children:b[1]}),(0,t.jsx)(nO,{range:n,setRange:h,valueScales:p,array:_[1],units:w[1]})]}),(0,t.jsxs)("div",{className:"grid w-[100%] place-items-center",children:[(0,t.jsx)("h2",{children:b[0]}),(0,t.jsx)(nO,{range:s,setRange:d,valueScales:p,array:_[0],units:w[0]})]})]})})})]})]}),(0,t.jsx)("div",{className:"border-t border-gray-300 w-full my-4"})]})},nP=()=>{let{useFragOpt:e,quality:r,transparency:i,vTransferRange:n,vTransferScale:o,setQuality:l,setUseFragOpt:h,setTransparency:d,setVTransferRange:p,setVTransferScale:f}=(0,u.usePlotStore)((0,c.useShallow)(e=>({useFragOpt:e.useFragOpt,quality:e.quality,transparency:e.transparency,nanTransparency:e.nanTransparency,nanColor:e.nanColor,vTransferRange:e.vTransferRange,vTransferScale:e.vTransferScale,setQuality:e.setQuality,setUseFragOpt:e.setUseFragOpt,setTransparency:e.setTransparency,setNanTransparency:e.setNanTransparency,setNanColor:e.setNanColor,setVTransferRange:e.setVTransferRange,setVTransferScale:e.setVTransferScale})));return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"grid gap-y-[5px] items-center w-50 text-center",children:[(0,t.jsx)("b",{children:"Quality"}),(0,t.jsxs)("div",{className:"w-full flex justify-between text-xs items-center gap-2",children:["Worse",(0,t.jsx)(nE,{min:50,max:1e3,step:50,value:[r],className:"flex-1 mb-2",onValueChange:e=>l(e[0])}),"Better"]}),(0,t.jsxs)(a.Tooltip,{delayDuration:500,children:[(0,t.jsx)(a.TooltipTrigger,{asChild:!0,children:(0,t.jsx)(tf,{variant:"pink",size:"sm",className:"w-[100%] cursor-[pointer] mb-2 mt-2",onClick:()=>h(!e),children:e?"Revert to Normal":"Use Optimized Shader"})}),(0,t.jsx)(a.TooltipContent,{side:"left",children:"Enable this for better performance while navigating. Switch back for exports or still images."})]}),(0,t.jsx)("b",{children:"Transparency"}),(0,t.jsx)(nE,{min:0,max:10,step:.2,value:[i],className:"w-full mb-2",onValueChange:e=>d(e[0])}),(0,t.jsxs)("div",{className:"grid grid-cols-[auto_60px] items-center text-left",children:[(0,t.jsxs)("h1",{children:[(0,t.jsx)("span",{children:"Transparency Scale "}),(0,t.jsxs)(a.Tooltip,{children:[(0,t.jsx)(a.TooltipTrigger,{children:(0,t.jsx)(ty,{})}),(0,t.jsx)(a.TooltipContent,{className:"max-w-60 break-words whitespace-normal",children:'This is the raised power for transparency. Higher values "Squash" lower values while lower values help bring them out. 1 is linear.'})]})]}),(0,t.jsx)(s.Input,{type:"number",value:o,step:.1,min:0,onChange:e=>f(parseFloat(e.target.value))})]}),(0,t.jsxs)("div",{className:"grid grid-cols-[auto_20%] items-center gap-2 mt-2 text-left",children:[(0,t.jsx)("label",{htmlFor:"compress-data",children:(0,t.jsxs)("h1",{children:[" ",(0,t.jsx)("span",{children:"Scale by clip "}),(0,t.jsxs)(a.Tooltip,{children:[(0,t.jsx)(a.TooltipTrigger,{children:(0,t.jsx)(ty,{})}),(0,t.jsx)(a.TooltipContent,{className:"max-w-60 break-words whitespace-normal",children:"Transparency is scaled from dataset minimum to maximum. Lower values are more transparent. When enabled - transparency scales based on the cropped values below."})]})]})}),(0,t.jsx)(to,{className:"h-5",id:"compress-data",checked:n,onCheckedChange:e=>p(e)})]})]}),(0,t.jsx)("div",{className:"border-t border-gray-300 w-full my-4"})]})},nR=()=>{let{setPointSize:e,setScaleIntensity:r,setScalePoints:i,setTimeScale:n}=(0,u.usePlotStore)((0,c.useShallow)(e=>({setPointSize:e.setPointSize,setScaleIntensity:e.setScaleIntensity,setScalePoints:e.setScalePoints,setTimeScale:e.setTimeScale}))),{scalePoints:s,scaleIntensity:a,pointSize:o,timeScale:l}=(0,u.usePlotStore)((0,c.useShallow)(e=>({scalePoints:e.scalePoints,scaleIntensity:e.scaleIntensity,pointSize:e.pointSize,timeScale:e.timeScale})));return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex-column items-center w-50 text-center",children:[(0,t.jsx)("b",{children:"Point Size"}),(0,t.jsx)(nE,{className:"w-full mb-4 mt-2",min:1,max:50,step:1,value:[o],onValueChange:t=>e(t[0])}),(0,t.jsx)(tf,{variant:"pink",size:"sm",className:"w-[100%] cursor-[pointer] mb-2 mt-2",onClick:()=>i(!s),children:s?"Remove Scaling":"Scale By Value"}),(0,t.jsx)(tl,{show:s,children:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("b",{children:"Scale Intensity"}),(0,t.jsx)(nE,{className:"w-full mb-2 mt-2",min:1,max:100,step:1,value:[a],onValueChange:e=>r(e[0])})]})}),(0,t.jsxs)("div",{className:"relative",children:[1!=l&&(0,t.jsx)(rV,{className:"text-lg cursor-pointer absolute top-0 left-0 hover:scale-90 transition-transform duration-100 ease-out",onClick:e=>n(1)}),(0,t.jsx)("b",{children:"Resize Time Dimension"})]}),(0,t.jsx)(nE,{className:"w-full mb-2 mt-2",min:.05,max:5,step:.05,value:[l],onValueChange:e=>n(e[0])})]}),(0,t.jsx)("div",{className:"border-t border-gray-300 w-full my-4"})]})},nB=()=>{let{displacement:e,displaceSurface:r,offsetNegatives:i,rotateFlat:n,setDisplacement:s,setDisplaceSurface:a,setOffsetNegatives:o,setResetCamera:l}=(0,u.usePlotStore)((0,c.useShallow)(e=>({displacement:e.displacement,displaceSurface:e.displaceSurface,offsetNegatives:e.offsetNegatives,rotateFlat:e.rotateFlat,setDisplacement:e.setDisplacement,setDisplaceSurface:e.setDisplaceSurface,setOffsetNegatives:e.setOffsetNegatives,setResetCamera:e.setResetCamera})));return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("div",{className:"grid gap-2 mb-2",children:[(0,t.jsxs)("div",{className:"relative w-full text-center h-10 bg-primary rounded-full cursor-pointer mb-2 flex items-center justify-between px-4",onClick:()=>{r||l(!u.usePlotStore.getState().resetCamera),a(!r),u.usePlotStore.setState({rotateFlat:!1})},children:[(0,t.jsx)("span",{className:`z-10 font-semibold transition-colors ${r?"text-primary":"text-secondary"}`,children:"Flat"}),(0,t.jsx)("span",{className:`z-10 font-semibold transition-colors ${!r?"text-primary":"text-secondary"}`,children:"Displace"}),(0,t.jsx)("div",{className:`absolute top-1 h-8 w-[calc(50%-8px)] bg-secondary shadow-xs hover:bg-secondary/80 rounded-full transition-all duration-300 ${r?"left-1":"left-[calc(50%+4px)]"}`})]}),(0,t.jsx)(tl,{show:!r,children:(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)("b",{children:"Displacement"}),(0,t.jsx)(nE,{min:0,max:100,step:2,value:[e],className:"w-full mb-2",onValueChange:e=>s(e[0])}),(0,t.jsxs)("div",{className:"grid grid-cols-[auto_20%] items-center gap-2 text-left",children:[(0,t.jsx)("label",{htmlFor:"offset-switch",children:(0,t.jsx)("b",{children:"Offset Negatives"})}),(0,t.jsx)(to,{id:"offset-switch",checked:i,onCheckedChange:e=>o(e)}),(0,t.jsx)("label",{htmlFor:"rotate-switch",children:(0,t.jsx)("b",{children:"Rotate"})}),(0,t.jsx)(to,{id:"rotate-switch",checked:n,onCheckedChange:e=>u.usePlotStore.setState({rotateFlat:e})})]})]})})]})})},nL=()=>{let{sphereResolution:e,displacement:r,displaceSurface:i,offsetNegatives:n,setSphereResolution:s,setDisplacement:a,setDisplaceSurface:o,setOffsetNegatives:l}=(0,u.usePlotStore)((0,c.useShallow)(e=>({sphereResolution:e.sphereResolution,displacement:e.displacement,displaceSurface:e.displaceSurface,offsetNegatives:e.offsetNegatives,setSphereResolution:e.setSphereResolution,setDisplacement:e.setDisplacement,setDisplaceSurface:e.setDisplaceSurface,setOffsetNegatives:e.setOffsetNegatives})));return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("div",{className:"grid gap-y-[5px] items-center w-50 text-center mb-2",children:[(0,t.jsx)("b",{children:"Displacement Mode"}),(0,t.jsxs)("div",{className:"relative w-full h-10 bg-primary rounded-full cursor-pointer mb-2 flex items-center justify-between px-4",onClick:()=>{o(!i),a(r*(i?15:.06666666666666667))},children:[(0,t.jsx)("span",{className:`z-10 font-semibold transition-colors ${i?"text-primary":"text-secondary"}`,children:"Surface"}),(0,t.jsx)("span",{className:`z-10 font-semibold transition-colors ${!i?"text-primary":"text-secondary"}`,children:"Faces"}),(0,t.jsx)("div",{className:`absolute top-1 h-8 w-[calc(50%-8px)] bg-secondary shadow-xs hover:bg-secondary/80 rounded-full transition-all duration-300 ${i?"left-1":"left-[calc(50%+4px)]"}`})]}),(0,t.jsx)("b",{children:"Displacement"}),(0,t.jsx)(nE,{min:0,max:i?2:30,step:.2,value:[r],className:"w-full mb-2",onValueChange:e=>a(e[0])}),!i&&(0,t.jsxs)("div",{className:"grid grid-cols-[auto_20%] items-center gap-2 text-left",children:[(0,t.jsx)("label",{htmlFor:"offset-switch",children:"Offset Negatives"}),(0,t.jsx)(to,{id:"offset-switch",checked:n,onCheckedChange:e=>l(e)})]}),i&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("b",{children:"Displacement Resolution"}),(0,t.jsx)(nE,{min:4,max:100,step:4,value:[e],className:"w-full mb-2",onValueChange:e=>s(e[0])})]})]})})},nF=()=>{let{lonExtent:e,latExtent:r,lonResolution:i,latResolution:n,originalExtent:a,setLonExtent:o,setLatExtent:l,setLonResolution:h,setLatResolution:d}=(0,u.usePlotStore)((0,c.useShallow)(e=>({lonExtent:e.lonExtent,latExtent:e.latExtent,lonResolution:e.lonResolution,latResolution:e.latResolution,originalExtent:e.originalExtent,setLonExtent:e.setLonExtent,setLatExtent:e.setLatExtent,setLonResolution:e.setLonResolution,setLatResolution:e.setLatResolution})));return(0,t.jsxs)("div",{className:"grid gap-2 mb-4 justify-items-center ",children:[(0,t.jsx)("h1",{children:"Spatial Extent"}),(0,t.jsx)("div",{className:"border-t border-gray-300 w-full"}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsxs)("div",{className:"flex-col justify-items-center",children:[(0,t.jsx)("h2",{children:"Min Lon"}),(0,t.jsx)(s.Input,{value:e[0],onChange:t=>o([parseFloat(t.target.value),e[1]]),type:"number"})]}),(0,t.jsxs)("div",{className:"flex-col justify-items-center",children:[(0,t.jsx)("h2",{children:"Max Lon"}),(0,t.jsx)(s.Input,{value:e[1],onChange:t=>o([e[0],parseFloat(t.target.value)]),type:"number"})]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsxs)("div",{className:"flex-col justify-items-center",children:[(0,t.jsx)("h2",{children:"Min Lat"}),(0,t.jsx)(s.Input,{value:r[0],onChange:e=>l([parseFloat(e.target.value),r[1]]),type:"number"})]}),(0,t.jsxs)("div",{className:"flex-col justify-items-center",children:[(0,t.jsx)("h2",{children:"Max Lat"}),(0,t.jsx)(s.Input,{value:r[1],onChange:e=>l([r[0],parseFloat(e.target.value)]),type:"number"})]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsxs)("div",{className:"flex-col justify-items-center",children:[(0,t.jsx)("h2",{children:"Lon Resolution"}),(0,t.jsx)(s.Input,{value:i,onChange:e=>h(parseFloat(e.target.value)),type:"number"})]}),(0,t.jsxs)("div",{className:"flex-col justify-items-center",children:[(0,t.jsx)("h2",{children:"Lat Resolution"}),(0,t.jsx)(s.Input,{value:n,onChange:e=>d(parseFloat(e.target.value)),type:"number"})]})]}),(0,t.jsx)(tf,{variant:"pink",disabled:a.toArray().slice(0,2).every((t,r)=>t==e[r])&&a.toArray().slice(2).every((e,t)=>e==r[t]),onClick:e=>{o([a.x,a.y]),l([a.z,a.w])},children:" Reset Extent "})]})},nV=()=>{let{showBorders:e,borderColor:i,nanColor:a,nanTransparency:l,plotType:h,interpPixels:d,fillValue:p,setShowBorders:f,setBorderColor:m,setNanColor:g,setNanTransparency:y,setInterpPixels:x,setFillValue:v}=(0,u.usePlotStore)((0,c.useShallow)(e=>({showBorders:e.showBorders,borderColor:e.borderColor,nanColor:e.nanColor,nanTransparency:e.nanTransparency,plotType:e.plotType,interpPixels:e.interpPixels,fillValue:e.fillValue,setShowBorders:e.setShowBorders,setBorderColor:e.setBorderColor,setNanColor:e.setNanColor,setNanTransparency:e.setNanTransparency,setInterpPixels:e.setInterpPixels,setFillValue:e.setFillValue}))),{analysisMode:b,axis:w}=(0,rU.useAnalysisStore)((0,c.useShallow)(e=>({analysisMode:e.analysisMode,axis:e.axis}))),{valueScales:_}=(0,o.useGlobalStore)((0,c.useShallow)(e=>({valueScales:e.valueScales}))),[S,k]=(0,r.useState)((0,r$.denormalize)(p,_.minVal,_.maxVal));return(0,t.jsxs)("div",{className:"grid gap-y-[5px] items-center w-50 text-center",children:["point-cloud"!=h&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("b",{children:"NaN Transparency"}),(0,t.jsx)(nE,{min:0,max:1,step:.05,value:[l],className:"w-full mb-2",onValueChange:e=>y(e[0])}),(0,t.jsx)("b",{children:"NaN Color"}),(0,t.jsx)("input",{type:"color",className:"w-[100%] cursor-pointer",value:a,onChange:e=>g(e.target.value)}),(0,t.jsx)("b",{children:"Mask Value"}),(0,t.jsxs)("div",{className:"grid grid-cols-[auto_60%] items-center gap-2 mt-2 text-left",children:[(0,t.jsx)(s.Input,{type:"number",defaultValue:(0,r$.denormalize)(p,_.minVal,_.maxVal),onChange:e=>k(parseFloat(e.target.value))}),(0,t.jsx)(tf,{disabled:(0,r$.normalize)(S,_.minVal,_.maxVal)===p,className:"cursor-pointer",onClick:()=>v((0,r$.normalize)(S,_.minVal,_.maxVal)),children:"Set Value"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-[auto_20%] items-center gap-2 mt-2 text-left",children:[(0,t.jsx)("label",{children:"Interpolate Pixels"}),(0,t.jsx)(to,{className:"h-5",id:"interpoalte-pixels",checked:d,onCheckedChange:e=>x(e)})]})]}),!(b&&0!=w)&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(tf,{variant:"pink",size:"sm",className:"w-[100%] cursor-[pointer] mb-2 mt-2",onClick:()=>f(!e),children:e?"Hide Borders":"Show Borders"}),e&&(0,t.jsxs)("div",{children:[(0,t.jsx)("b",{children:"Border Color"}),(0,t.jsx)("input",{type:"color",className:"w-[100%] cursor-pointer",value:i,onChange:e=>m(e.target.value)})]})]}),(0,t.jsxs)(n.Popover,{children:[(0,t.jsx)(n.PopoverTrigger,{asChild:!0,children:(0,t.jsx)(tf,{variant:"pink",size:"sm",className:"w-[100%] cursor-pointer mb-2",children:"Adjust Extent"})}),(0,t.jsx)(n.PopoverContent,{className:"overflow-y-auto p-2 w-[280px] max-h-[70vh]",children:(0,t.jsx)(nF,{})})]})]})},nU=()=>{let[e,i]=(0,r.useState)("left"),{plotOn:s}=(0,o.useGlobalStore)((0,c.useShallow)(e=>({plotOn:e.plotOn}))),{plotType:l}=(0,u.usePlotStore)((0,c.useShallow)(e=>({plotType:e.plotType})));return(0,r.useEffect)(()=>{let e=()=>{i(window.innerWidth<768?"top":"left")};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)(n.Popover,{children:[(0,t.jsx)(n.PopoverTrigger,{asChild:!0,children:(0,t.jsx)("div",{style:s?{}:{pointerEvents:"none"},children:(0,t.jsxs)(a.Tooltip,{delayDuration:500,children:[(0,t.jsx)(a.TooltipTrigger,{asChild:!0,children:(0,t.jsx)("div",{children:(0,t.jsx)(tf,{variant:"ghost",size:"icon",className:"size-10 cursor-pointer hover:scale-90 transition-transform duration-100 ease-out",style:{color:s?"":"var(--text-disabled)"},children:(0,t.jsx)(nj,{className:"size-8"})})})}),(0,t.jsx)(a.TooltipContent,{side:"left"===e?"left":"top",align:"left"===e?"start":"center",children:(0,t.jsx)("span",{children:"Plot Settings"})})]})})}),(0,t.jsxs)(n.PopoverContent,{side:e,className:`overflow-y-auto w-[240px] mt-2 mr-1 ${"top"===e?"max-h-[80vh] mb-1":"max-h-[70vh]"}`,children:["volume"===l&&(0,t.jsx)(nP,{}),"point-cloud"===l&&(0,t.jsx)(nR,{}),"sphere"===l&&(0,t.jsx)(nL,{}),("volume"===l||"point-cloud"===l)&&(0,t.jsx)(nD,{}),"flat"===l&&(0,t.jsx)(nB,{}),(0,t.jsx)(nV,{})]})]})})};e.i(64062);class n${name;size;isUnlimited;constructor(e,t,r=!1){this.name=e,this.size=t,this.isUnlimited=r}__len__(){return this.size}toString(){let e=this.isUnlimited?"unlimited":this.size.toString();return`<netCDF4.Dimension '${this.name}': size = ${e}>`}}class nW{netcdf;name;datatype;dimensions;varid;ncid;_attributes={};constructor(e,t,r,i,n,s){this.netcdf=e,this.name=t,this.datatype=r,this.dimensions=i,this.varid=n,this.ncid=s}setAttr(e,t){this._attributes[e]=t}getAttr(e){return this._attributes[e]}attrs(){return Object.keys(this._attributes)}async getValue(){let e=this.dimensions.reduce((e,t)=>{let r=this.netcdf.dimensions[t];if(!r)return+e;let i=r.size;return r.isUnlimited&&(i=1),e*Math.max(i,1)},1);if("f8"===this.datatype||"double"===this.datatype)return await this.netcdf.getVariableDouble(this.ncid,this.varid,e);if("f4"===this.datatype||"float"===this.datatype)return new Float32Array(await this.netcdf.getVariableDouble(this.ncid,this.varid,e));throw Error(`Data type ${this.datatype} not yet supported`)}async setValue(e){if("f8"===this.datatype||"double"===this.datatype||"f4"===this.datatype||"float"===this.datatype){let t=e instanceof Float64Array?e:new Float64Array(e);return await this.netcdf.putVariableDouble(this.ncid,this.varid,t)}throw Error(`Data type ${this.datatype} not yet supported`)}async __getitem__(e){if("number"==typeof e)return(await this.getValue())[e];throw Error("Advanced indexing not yet implemented")}async __setitem__(e,t){throw Error("Item assignment not yet implemented")}get units(){return this._attributes.units}set units(e){this.setAttr("units",e)}get long_name(){return this._attributes.long_name}set long_name(e){this.setAttr("long_name",e)}get standard_name(){return this._attributes.standard_name}set standard_name(e){this.setAttr("standard_name",e)}get scale_factor(){return this._attributes.scale_factor}set scale_factor(e){this.setAttr("scale_factor",e)}get add_offset(){return this._attributes.add_offset}set add_offset(e){this.setAttr("add_offset",e)}get _FillValue(){return this._attributes._FillValue}set _FillValue(e){this.setAttr("_FillValue",e)}get calendar(){return this._attributes.calendar}set calendar(e){this.setAttr("calendar",e)}get axis(){return this._attributes.axis}set axis(e){this.setAttr("axis",e)}toString(){let e=this.dimensions.length>0?`(${this.dimensions.join(", ")})`:"()";return`<netCDF4.Variable '${this.name}': dimensions ${e}, size = [${this.dimensions.map(e=>this.netcdf.dimensions[e]?.size||"?").join(" x ")}], type = '${this.datatype}'>`}}var nG=e.i(21858);class nH{netcdf;name;groupId;dimensions={};variables={};groups={};_attributes={};constructor(e,t,r){this.netcdf=e,this.name=t,this.groupId=r}setAttr(e,t){this._attributes[e]=t}getAttr(e){return this._attributes[e]}attrs(){return Object.keys(this._attributes)}async createDimension(e,t){if(this.dimensions[e])throw Error(`Dimension '${e}' already exists`);if(null!==t&&t<0&&t!==nG.NC_CONSTANTS.NC_UNLIMITED)throw Error(`Invalid dimension size: ${t}. Size must be non-negative or null for unlimited.`);let r=null===t||t===nG.NC_CONSTANTS.NC_UNLIMITED,i=r?0:t;await this.netcdf.defineDimension(this.groupId,e,i);let n=new n$(e,r?nG.NC_CONSTANTS.NC_UNLIMITED:t,r);return this.dimensions[e]=n,n}loadMockDimensions(){}async createVariable(e,t,r=[],i={}){let n=nG.DATA_TYPE_MAP[t];if(void 0===n)throw Error(`Unsupported datatype: ${t}`);let s=r.map(e=>{if(!this.dimensions[e])throw Error(`Dimension '${e}' not found`);return Object.keys(this.dimensions).indexOf(e)}),a=await this.netcdf.defineVariable(this.groupId,e,n,s),o=new nW(this.netcdf,e,t,r,a,this.groupId);return this.variables[e]=o,o}createGroup(e){let t=new nH(this.netcdf,e,this.groupId);return this.groups[e]=t,t}children(){return this.groups}get path(){return""===this.name?"/":`/${this.name}`}toString(){return`<netCDF4.Group '${this.path}'>`}}var nq=e.i(43377),nY=e.i(24248);class nX extends nH{filename;mode;options;module=null;initialized=!1;ncid=-1;_isOpen=!1;memorySource;workerSource;worker;workerReady;constructor(e,t="r",r={}){super(null,"",-1),this.filename=e,this.mode=t,this.options=r,this.netcdf=this}async initialize(){if(!this.initialized)try{this.workerSource?(await this.setupWorker(),this.initialized=!0):(this.module=await nq.WasmModuleLoader.loadModule(this.options),this.memorySource&&await this.mountMemoryData()),this.initialized=!0,this.filename&&!this.workerSource&&await this.open()}catch(e){throw e}}static async Dataset(e,t="r",r={}){let i=new nX(e,t,r);return await i.initialize(),i}static async fromBlob(e,t="r",r={}){let i=await e.arrayBuffer();return nX.fromArrayBuffer(i,t,r)}static async fromArrayBuffer(e,t="r",r={}){let i=new Uint8Array(e);return nX.fromMemory(i,t,r)}static async fromMemory(e,t="r",r={},i){if(!e)throw Error("Data cannot be null or undefined");if(!(e instanceof ArrayBuffer)&&!(e instanceof Uint8Array))throw Error("Data must be ArrayBuffer or Uint8Array");let n=e instanceof ArrayBuffer?new Uint8Array(e):e,s=i||`/tmp/netcdf_${Date.now()}_${Math.random().toString(36).substr(2,9)}.nc`,a=new nX(s,t,r);return a.memorySource={data:n,filename:s},await a.initialize(),a}static async fromBlobLazy(e,t={}){let r=`netcdf_lazy_${Date.now()}.nc`,i=`/working/${r}`;console.log("fromBlobLazy: Creating dataset with path:",i);let n=new nX(i,"r",t);return n.workerSource={blob:e,filename:i},await n.initialize(),console.log("fromBlobLazy: Initialization complete, calling open()"),await n.open(),console.log("fromBlobLazy: Open complete, ncid:",n.ncid),n}async open(){if(!this._isOpen){if(console.log("open() called, filename:",this.filename,"worker:",!!this.worker),!this.filename||""===this.filename.trim())throw Error("No filename specified");if(!["r","w","w-","a","r+"].includes(this.mode))throw Error(`Unsupported mode: ${this.mode}`);if(this.worker){console.log("open(): Using worker path, waiting for workerReady"),await this.workerReady,console.log("open(): Worker ready, calling nc_open with path:",this.filename);let e="r"===this.mode?nG.NC_CONSTANTS.NC_NOWRITE:nG.NC_CONSTANTS.NC_WRITE;this.ncid=await this.callWorker("open",{path:this.filename,modeValue:e}),console.log("open(): Received ncid from worker:",this.ncid),this.groupId=this.ncid,this._isOpen=!0;return}if("w"===this.mode||"w-"===this.mode){let e=nG.NC_CONSTANTS.NC_CLOBBER;"NETCDF4"===this.options.format&&(e|=nG.NC_CONSTANTS.NC_NETCDF4);let t=await this.createFile(this.filename,e);this.ncid=t,this.groupId=t}else("r"===this.mode||"a"===this.mode||"r+"===this.mode)&&("r"===this.mode?nG.NC_CONSTANTS.NC_NOWRITE:nG.NC_CONSTANTS.NC_WRITE,this.ncid=await this.openFile(this.filename,this.mode),this.groupId=this.ncid);this._isOpen=!0}}get file_format(){return this.options.format||"NETCDF4"}get disk_format(){return this.file_format}get filepath(){return this.filename||""}get isopen(){return this._isOpen}isInitialized(){return this.initialized}getModule(){if(!this.module)throw Error("NetCDF4 module not initialized. Call initialize() first.");return this.module}async close(){this._isOpen&&this.ncid>=0&&(await this.closeFile(this.ncid),this._isOpen=!1,this.ncid=-1)}async sync(){this._isOpen&&console.warn("sync() not yet implemented")}async __aenter__(){return this.initialized||await this.initialize(),this}async __aexit__(){await this.close()}async openFile(e,t="r"){let r=this.getModule(),i="r"===t?nG.NC_CONSTANTS.NC_NOWRITE:nG.NC_CONSTANTS.NC_WRITE,n=r.nc_open(e,i);if(n.result!==nG.NC_CONSTANTS.NC_NOERR)throw Error(`Failed to open NetCDF file: ${e} (error: ${n.result})`);return n.ncid}async createFile(e,t=nG.NC_CONSTANTS.NC_CLOBBER){let r=this.getModule().nc_create(e,t);if(r.result!==nG.NC_CONSTANTS.NC_NOERR)throw Error(`Failed to create NetCDF file: ${e} (error: ${r.result})`);return r.ncid}async closeFile(e){if(this.worker)this.callWorker("close");else{let t=this.module;if(!t)throw Error("Failed to load module. Ensure module is initialized before calling methods");let r=t.nc_close(e);if(r!==nG.NC_CONSTANTS.NC_NOERR)throw Error(`Failed to close NetCDF file with ID: ${e} (error: ${r})`)}}requestId=0;async callWorker(e,t={}){if(!this.worker)throw Error("Worker not initialized");let r=++this.requestId;return new Promise((i,n)=>{let s=t=>{t.data.id===r&&(t.data.success?i(t.data.result):n(Error(t.data.error||`Worker error in ${e}`)),this.worker.removeEventListener("message",s))};this.worker.addEventListener("message",s),this.worker.postMessage({id:r,type:e,ncid:this.ncid,...t})})}async getGlobalAttributes(){return this.worker?this.callWorker("getGlobalAttributes"):nY.getGlobalAttributes(this.module,this.ncid)}async getFullMetadata(){return this.worker?this.callWorker("getFullMetadata"):nY.getFullMetadata(this.module,this.ncid)}async getAttributeValues(e,t){return this.worker?this.callWorker("getAttributeValues",{varid:e,attname:t}):nY.getAttributeValues(this.module,this.ncid,e,t)}async getDimCount(){return this.worker?this.callWorker("getDimCount"):nY.getDimCount(this.module,this.ncid)}async getVariables(){return this.worker?this.callWorker("getVariables"):nY.getVariables(this.module,this.ncid)}async getVarIDs(){return this.worker?this.callWorker("getVarIDs"):nY.getVarIDs(this.module,this.ncid)}async getDimIDs(){return this.worker?this.callWorker("getDimIDs"):nY.getDimIDs(this.module,this.ncid)}async getDim(e){return this.worker?this.callWorker("getDim",{dimid:e}):nY.getDim(this.module,this.ncid,e)}async getDims(){return this.worker?this.callWorker("getDims"):nY.getDims(this.module,this.ncid)}async getVarCount(){return this.worker?this.callWorker("getVarCount"):nY.getVarCount(this.module,this.ncid)}async getAttributeName(e,t){return this.worker?this.callWorker("getAttributeName",{varid:e,attId:t}):nY.getAttributeName(this.module,this.ncid,e,t)}async getVariableInfo(e){return this.worker?this.callWorker("getVariableInfo",{variable:e}):nY.getVariableInfo(this.module,this.ncid,e)}async getVariableArray(e){return this.worker?this.callWorker("getVariableArray",{variable:e}):nY.getVariableArray(this.module,this.ncid,e)}async getSlicedVariableArray(e,t,r){return this.worker?this.callWorker("getSlicedVariableArray",{variable:e,start:t,count:r}):nY.getSlicedVariableArray(this.module,this.ncid,e,t,r)}async defineDimension(e,t,r){let i=this.getModule().nc_def_dim(e,t,r);if(i.result!==nG.NC_CONSTANTS.NC_NOERR)throw Error(`Failed to define dimension: ${t} (error: ${i.result})`);return i.dimid}async defineVariable(e,t,r,i){let n=this.getModule().nc_def_var(e,t,r,i.length,i);if(n.result!==nG.NC_CONSTANTS.NC_NOERR)throw Error(`Failed to define variable: ${t} (error: ${n.result})`);return n.varid}async endDefineMode(e){let t=this.getModule().nc_enddef(e);if(t!==nG.NC_CONSTANTS.NC_NOERR)throw Error(`Failed to end define mode (error: ${t})`)}async putVariableDouble(e,t,r){let i=this.getModule().nc_put_var_double(e,t,r);if(i!==nG.NC_CONSTANTS.NC_NOERR)throw Error(`Failed to write variable data (error: ${i})`)}async getVariableDouble(e,t,r){let i=this.getModule().nc_get_var_double(e,t,r);if(i.result!==nG.NC_CONSTANTS.NC_NOERR)throw Error(`Failed to read variable data (error: ${i.result})`);if(!i.data)throw Error("nc_get_var_double returned no data");return i.data}createMockModule(){e.g.__netcdf4_mock_files||(e.g.__netcdf4_mock_files={});let t=e.g.__netcdf4_mock_files;return{nc_open:(e,r)=>!e||""===e.trim()||e.includes("unsupported")||!["r","w","a"].some(e=>this.mode.includes(e))?{result:-1,ncid:-1}:("r"!==this.mode||t[e]||(t[e]={attributes:{},dimensions:{},variables:{}}),{result:nG.NC_CONSTANTS.NC_NOERR,ncid:1}),nc_close:e=>nG.NC_CONSTANTS.NC_NOERR,nc_create:(e,r)=>e.includes("unsupported")||["x","invalid"].some(e=>this.mode.includes(e))?{result:-1,ncid:-1}:(t[e]={attributes:{},dimensions:{},variables:{}},{result:nG.NC_CONSTANTS.NC_NOERR,ncid:1}),nc_def_dim:(e,r,i)=>(this.filename&&t[this.filename]&&(t[this.filename].dimensions[r]={size:i,unlimited:i===nG.NC_CONSTANTS.NC_UNLIMITED}),{result:nG.NC_CONSTANTS.NC_NOERR,dimid:1}),nc_def_var:(e,r,i,n,s)=>{if(this.filename&&t[this.filename]){t[this.filename].variables[r]={data:new Float64Array(0),attributes:{}};let e=Object.keys(t[this.filename].variables).length;return{result:nG.NC_CONSTANTS.NC_NOERR,varid:e}}return{result:nG.NC_CONSTANTS.NC_NOERR,varid:1}},nc_put_var_double:(e,r,i)=>{if(this.filename&&t[this.filename]){let e=t[this.filename].variables,n=Object.keys(e);n.length>0&&r>=1&&r<=n.length&&(e[n[r-1]].data=new Float64Array(i))}return nG.NC_CONSTANTS.NC_NOERR},nc_get_var_double:(e,r,i)=>{if(this.filename&&t[this.filename]){let e=t[this.filename].variables,n=Object.keys(e);if(n.length>0&&r>=1&&r<=n.length){let t=e[n[r-1]].data;if(t&&t.length>0){if(i<=0)return{result:nG.NC_CONSTANTS.NC_NOERR,data:new Float64Array(0)};let e=new Float64Array(i);for(let r=0;r<i&&r<t.length;r++)e[r]=t[r];return{result:nG.NC_CONSTANTS.NC_NOERR,data:e}}}}if(i<=0)return{result:nG.NC_CONSTANTS.NC_NOERR,data:new Float64Array(0)};let n=new Float64Array(i);for(let e=0;e<i;e++)n[e]=.1*e;return{result:nG.NC_CONSTANTS.NC_NOERR,data:n}},nc_enddef:e=>nG.NC_CONSTANTS.NC_NOERR}}async setupWorker(){if(!this.workerSource)throw Error("No worker source");return this.worker||(this.worker=new Worker(e.r(14621),{type:"module",type:void 0})),this.workerReady=new Promise((e,t)=>{let r=i=>{i.data.success?(this.worker.removeEventListener("message",r),e()):(this.worker.removeEventListener("message",r),t(Error(i.data.message)))};this.worker.addEventListener("message",r),this.worker.postMessage({type:"init",blob:this.workerSource.blob,filename:this.workerSource.filename})}),this.workerReady}async mountMemoryData(){if(this.memorySource&&this.module)try{let e=this.getModule();if(!e.FS)throw Error("Emscripten FS not available");try{e.FS.mkdir("/tmp")}catch(e){}e.FS.writeFile(this.memorySource.filename,this.memorySource.data)}catch(e){throw Error(`Failed to mount memory data: ${e}`)}}async toArrayBuffer(){if(!this.module)throw Error("NetCDF4 module not initialized");try{let e=this.getModule();if(!e.FS||!this.filename)throw Error("Cannot read file data");let t=e.FS.readFile(this.filename);return t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}catch(e){throw Error(`Failed to read data as ArrayBuffer: ${e}`)}}async toBlob(e="application/x-netcdf"){return new Blob([await this.toArrayBuffer()],{type:e})}toString(){let e=this._isOpen?"open":"closed",t=this.memorySource?"(in-memory)":"";return`<netCDF4.Dataset '${this.filename}'${t}: mode = '${this.mode}', file format = '${this.file_format}', ${e}>`}}let nZ=td("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function nJ({className:e,variant:r,...i}){return(0,t.jsx)("div",{"data-slot":"alert",role:"alert",className:(0,eZ.cn)(nZ({variant:r}),e),...i})}function nK({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"alert-title",className:(0,eZ.cn)("col-start-2 line-clamp-1 min-h-4 font-medium tracking-tight",e),...r})}function nQ({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"alert-description",className:(0,eZ.cn)("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",e),...r})}let n1=()=>/Mobi|Android|iPhone|iPad|iPod/i.test(navigator.userAgent);e.s(["default",0,()=>{let e=(0,r.useRef)(!1);return(0,r.useEffect)(()=>{if(!n1())return;if("1"===sessionStorage.getItem("ui-hide-activated")){e.current=!0;return}let t=()=>{(()=>{if(e.current)return;e.current=!0,sessionStorage.setItem("ui-hide-activated","1");let t=document.documentElement;try{if(t.requestFullscreen)t.requestFullscreen({navigationUI:"hide"}).catch(()=>{});else if(t.webkitRequestFullscreen)t.webkitRequestFullscreen();else{let e=document.createElement("div");e.style.height="2px",e.style.width="1px",e.style.pointerEvents="none",document.body.appendChild(e),requestAnimationFrame(()=>window.scrollTo(0,1)),setTimeout(()=>e.remove(),500)}}catch{}})(),document.removeEventListener("pointerdown",t),document.removeEventListener("touchend",t),document.removeEventListener("keydown",t)};return document.addEventListener("pointerdown",t,{passive:!0}),document.addEventListener("touchend",t,{passive:!0}),document.addEventListener("keydown",t),()=>{document.removeEventListener("pointerdown",t),document.removeEventListener("touchend",t),document.removeEventListener("keydown",t)}},[]),null},"isMobile",0,n1],95681);let n0=/\.(nc|netcdf|nc3|nc4)$/i,n2=({setOpenVariables:e})=>{let{setStatus:i}=o.useGlobalStore.getState(),{ncModule:n}=rY.useZarrStore.getState(),[a,l]=(0,r.useState)(null),u=async t=>{l(null);let r=t.target.files;if(!r||0===r.length)return void i(null);let s=r[0];if(!n0.test(s.name))return void l("Please select a valid NetCDF (.nc, .netcdf, .nc3, .nc4) file.");n&&n.close(),i("Loading...");let a=await nX.fromBlobLazy(s),[u,c,h]=await Promise.all([a.getVariables(),a.getGlobalAttributes(),a.getFullMetadata()]);o.useGlobalStore.setState({variables:Object.keys(u),zMeta:h,initStore:`local_${s.name}`}),rY.useZarrStore.setState({useNC:!0,ncModule:a});let d={title:c.title??s.name,description:c.history??""};o.useGlobalStore.setState({titleDescription:d}),e(!0),i(null)};return(0,t.jsxs)("div",{className:"w-[100%]",children:[(0,t.jsx)(s.Input,{type:"file",id:"filepicker",className:"hover:drop-shadow-md hover:scale-[102%]",style:{width:"200px",cursor:"pointer"},accept:n1()?"":".nc,.netcdf,.nc3,.nc4",onChange:u}),a&&(0,t.jsxs)(nJ,{variant:"destructive",className:"border-0 mt-1",children:[(0,t.jsx)(nK,{children:"Hey!"}),(0,t.jsx)(nQ,{children:a})]})]})},n9=({setOpenVariables:e,onCloseDialog:r})=>{let{titleDescription:i}=(0,o.useGlobalStore)((0,c.useShallow)(e=>({titleDescription:e.titleDescription}))),{title:n,description:s}=i;return(0,t.jsxs)("div",{className:"grid gap-1",children:[(0,t.jsxs)("div",{className:"mb-2",children:[(0,t.jsx)("h1",{className:"text-lg font-bold break-all",children:n||"Store"}),(0,t.jsx)("p",{className:"whitespace-pre-wrap break-words",style:{overflowWrap:"anywhere"},children:s||"No Description"})]}),(0,t.jsx)("div",{className:"flex justify-center my-2",children:(0,t.jsxs)(tf,{variant:"default",className:"cursor-pointer mt-[-20px]",onClick:()=>{e(!0),r()},children:["Open Variables",(0,t.jsx)(r8,{className:"size-8"})]})})]})},n3=({children:e,active:r,onClick:i})=>(0,t.jsx)(tf,{variant:r?"default":"ghost",className:"cursor-pointer w-full justify-start",onClick:i,children:e}),n4=({setOpenVariables:e})=>{let[i,l]=(0,r.useState)(!1),[u,h]=(0,r.useState)(!1),[d,p]=(0,r.useState)("left"),[f,m]=(0,r.useState)("ESDC"),[g,y]=(0,r.useState)(!1),[x,v]=(0,r.useState)(!1),[b,w]=(0,r.useState)(!1),{useNC:_}=(0,rY.useZarrStore)((0,c.useShallow)(e=>({useNC:e.fetchNC}))),{initStore:S,setInitStore:k}=(0,o.useGlobalStore)((0,c.useShallow)(e=>({setInitStore:e.setInitStore,initStore:e.initStore})));return(0,r.useEffect)(()=>{let e=()=>{p(window.innerWidth<768?"top":"left")};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,r.useEffect)(()=>{if("undefined"!=typeof navigator){let e=navigator.userAgent,t=navigator.vendor||"",r=/safari/i.test(e)&&!/chrome|crios|android|fxios|edg/i.test(e)&&/apple/i.test(t);setTimeout(()=>{w(r)},0)}},[]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.Popover,{children:[(0,t.jsx)(n.PopoverTrigger,{asChild:!0,children:(0,t.jsx)("div",{children:(0,t.jsxs)(a.Tooltip,{delayDuration:500,children:[(0,t.jsx)(a.TooltipTrigger,{asChild:!0,children:(0,t.jsx)("div",{children:(0,t.jsx)(tf,{tabIndex:0,variant:"ghost",size:"icon",className:"cursor-pointer hover:scale-90 transition-transform duration-100 ease-out","aria-label":"Select dataset",children:(0,t.jsx)(r4,{className:"size-8"})})})}),(0,t.jsx)(a.TooltipContent,{side:"left"===d?"left":"top",align:"left"===d?"start":"center",children:(0,t.jsx)("span",{children:"Select dataset"})})]})})}),(0,t.jsx)(n.PopoverContent,{side:d,className:"w-auto p-0",onInteractOutside:e=>{e.target.closest("[data-meta-popover]")&&e.preventDefault()},children:(0,t.jsxs)("div",{className:"flex flex-col items-start max-w-[220px] p-3 gap-1 w-auto",children:[(0,t.jsx)("p",{className:"px-2 text-sm text-muted-foreground",children:"Curated"}),(0,t.jsx)(n3,{active:"ESDC"===f,onClick:()=>{l(!1),h(!1),m("ESDC"),k("https://s3.bgc-jena.mpg.de:9000/esdl-esdc-v3.0.2/esdc-16d-2.5deg-46x72x1440-3.0.2.zarr"),"top"===d?y(!0):v(!0)},children:"ESDC"}),(0,t.jsx)(n3,{active:"seasfire"===f,onClick:()=>{l(!1),h(!1),m("seasfire"),k("https://s3.bgc-jena.mpg.de:9000/misc/seasfire_rechunked.zarr"),"top"===d?y(!0):v(!0)},children:"Seasfire"}),(0,t.jsx)("div",{className:"w-full h-px bg-gray-300 my-2"}),(0,t.jsxs)("div",{className:"w-full",children:[(0,t.jsx)(n3,{active:"remote"===f,onClick:()=>{l(e=>!e),h(!1),m("remote")},children:"Remote Zarr"}),i&&(0,t.jsxs)("form",{className:"mt-2 flex items-center gap-2",onSubmit:e=>{e.preventDefault();let t=e.currentTarget.elements[0];S!=t.value?k(t.value):o.useGlobalStore.getState().setStatus(null),t.value&&("top"===d?y(!0):v(!0))},children:[(0,t.jsx)(s.Input,{className:"w-full",placeholder:"Store URL"}),(0,t.jsx)(tf,{type:"submit",variant:"outline",className:"cursor-pointer",onClick:()=>o.useGlobalStore.getState().setStatus("Fetching..."),children:"Fetch"})]})]}),(0,t.jsxs)("div",{className:"w-full",children:[(0,t.jsx)(n3,{active:"local"===f,onClick:()=>{h(e=>!e),l(!1),m("local")},children:"Local"}),u&&(0,t.jsx)("div",{className:"mt-2",children:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(t_,{leftText:"Zarr",rightText:"NetCDF",state:!_,onClick:()=>rY.useZarrStore.setState({fetchNC:!_})}),_?(0,t.jsx)(n2,{setShowLocal:h,setOpenVariables:"top"===d?y:v}):b?(0,t.jsxs)("div",{className:"p-3 rounded-md border border-yellow-600 text-tiny max-w-[300px]",children:[(0,t.jsx)("strong",{children:"Local folder upload is not supported in Safari."})," Please use Chrome, Firefox, or Edge instead."]}):(0,t.jsx)(rJ,{setShowLocal:h,setOpenVariables:"top"===d?y:v,setInitStore:k})]})})]})]})})]}),"left"===d&&(0,t.jsxs)(n.Popover,{open:x,onOpenChange:v,children:[(0,t.jsx)(n.PopoverTrigger,{asChild:!0,children:(0,t.jsx)("div",{className:"absolute -top-8",style:{left:["local","remote"].includes(f)?-215:-130}})}),(0,t.jsx)(n.PopoverContent,{"data-meta-popover":!0,side:"left",align:"start",className:"max-h-[80vh] overflow-y-auto w-[300px]",children:(0,t.jsx)(n9,{setOpenVariables:e,onCloseDialog:()=>v(!1)})})]}),"top"===d&&(0,t.jsx)(rT,{open:g,onOpenChange:y,children:(0,t.jsxs)(rj,{"data-meta-popover":!0,className:"max-w-[85%] md:max-w-md max-h-[80vh] overflow-y-auto",children:[(0,t.jsx)(rD,{className:"sr-only",children:"Dataset Description"}),(0,t.jsx)(n9,{setOpenVariables:e,onCloseDialog:()=>y(!1)})]})})]})};function n8({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"card",className:(0,eZ.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...r})}function n6({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,eZ.cn)("px-6",e),...r})}e.s(["Card",()=>n8,"CardContent",()=>n6],15288);let n5=[1,2,4,6,8,12,16,24,36,48,54,60,80,120],n7=({zSlice:e,timeLength:r,chunkWidth:i,showNext:n,showPrev:s,animProg:a})=>{let o=(1-(e[1]?e[1]/r:1))*100,l=e[0]/r*100;return(0,t.jsxs)("div",{style:{position:"relative",display:"flex",width:"100%",height:"20px",border:"1px var(--text-paragraph) solid",background:"none"},children:[(0,t.jsx)("div",{style:{position:"absolute",left:`${l}%`,right:`${(1-(e[1]?e[1]/r:1))*100}%`,background:"var(--play-background)",top:0,bottom:0}}),(0,t.jsx)("div",{style:{position:"absolute",left:`${Math.min(100-o,100)}%`,right:`${Math.max(o-i,0)}%`,background:"var(--accent-1)",visibility:n?"visible":"hidden",top:0,bottom:0}}),(0,t.jsx)("div",{style:{position:"absolute",left:`${Math.max(l-i,0)}%`,right:`${Math.min(100-l,100)}%`,background:"var(--accent-1)",visibility:s?"visible":"hidden",top:0,bottom:0}}),(0,t.jsx)("div",{style:{position:"absolute",left:`${l+a*(100-o-l)}%`,width:0,borderLeft:"1px red solid",borderRight:"1px red solid",top:0,bottom:0}})]})},se=({visible:e,setKeepOpen:i})=>{let{animate:n,animProg:s,zSlice:a,coarsen:l,kernel:h,setAnimate:d,setAnimProg:p}=(0,u.usePlotStore)((0,c.useShallow)(e=>({animate:e.animate,animProg:e.animProg,zSlice:e.zSlice,coarsen:e.coarsen,kernel:e.kernel,setAnimate:e.setAnimate,setAnimProg:e.setAnimProg}))),{dimArrays:f,dimUnits:m,zMeta:g,variable:y}=(0,o.useGlobalStore)((0,c.useShallow)(e=>({dimArrays:e.dimArrays,dimUnits:e.dimUnits,zMeta:e.zMeta,variable:e.variable}))),{reFetch:x,setZSlice:v,ReFetch:b}=(0,rY.useZarrStore)((0,c.useShallow)(e=>({reFetch:e.reFetch,setZSlice:e.setZSlice,ReFetch:e.ReFetch}))),w=(0,r.useRef)(null),_=(0,r.useRef)(0),[S,k]=(0,r.useState)(5),M=(0,r.useRef)(5),[C,A]=(0,r.useState)(!1),[I,T]=(0,r.useState)(!1),z=f[f.length-3],E=z?.slice(a[0],a[1]??void 0),N=z?.length||1,j=a[1]?a[1]-a[0]:N-a[0];l&&(E=(0,r$.coarsenFlatArray)(E,h.kernelDepth),j=Math.floor(j/h.kernelDepth));let[O,D,P]=(0,r.useMemo)(()=>{let e=g?.find(e=>e.name===y);if(e){let t=e.chunks[e.chunks.length-3],r=t/N*100;return[t,r,e.chunkSize]}return[0,0,1]},[g,y,N]);function R(){let{maxSize:e,setMaxSize:t,cache:r}=ic.useCacheStore.getState();r.totalSize+P>e&&t(e+P)}(0,r.useEffect)(()=>{if(E?.length){if(n){M.current!==S&&w.current&&(clearInterval(w.current),w.current=null),M.current=S;let e=1e3/n5[S];_.current=Math.round(s*j),w.current=setInterval(()=>{_.current+=1,p((_.current+1)%j/j)},e)}else w.current&&(clearInterval(w.current),w.current=null);return()=>{w.current&&clearInterval(w.current)}}},[n,S]);let B=(0,r$.parseLoc)(E?.[Math.round(s*j)],m[0],!0),L=(0,r$.parseLoc)(E?.[0],m[0],!0),F=(0,r$.parseLoc)(E?.[j-1],m[0],!0);return((0,r.useEffect)(()=>{d(!1),p(0)},[x]),e)?(0,t.jsx)(n8,{className:"play-interface py-1",children:(0,t.jsxs)(n6,{className:"flex flex-col gap-1 w-full h-full px-1 py-1",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)(tf,{variant:"secondary",size:"sm",className:`cursor-pointer ${0===a[0]?"invisible":null}`,onClick:()=>{v([Math.max(a[0]-O,0),a[1]]),i(!0),R(),b()},onPointerOver:()=>T(!0),onPointerLeave:()=>T(!1),children:"Grab Prev Chunk"}),(0,t.jsx)("div",{className:"text-xs sm:text-sm text-center",children:B}),(0,t.jsx)(tf,{variant:"secondary",size:"sm",className:`cursor-pointer ${!a[1]||a[1]===N?"invisible":null}`,onClick:()=>{null!==a[1]&&(v([a[0],Math.min(a[1]+O,N)]),i(!0),R(),b())},onPointerOver:()=>A(!0),onPointerLeave:()=>A(!1),children:"Grab Next Chunk"})]}),j<Math.floor(N/(l?h.kernelDepth:1))&&(0,t.jsx)(n7,{zSlice:a,timeLength:N,chunkWidth:D,showPrev:I,showNext:C,animProg:s}),(0,t.jsxs)("div",{className:"flex items-center gap-1 w-full",children:[(0,t.jsx)("span",{className:"text-xs",children:L}),(0,t.jsx)(nE,{value:[Math.round(s*N)],min:0,max:N-1,step:1,className:"flex-1",onValueChange:e=>{let t=Array.isArray(e)?e[0]:0;p(t/N),_.current=t}}),(0,t.jsx)("span",{className:"text-xs",children:F})]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 items-center w-full",children:[(0,t.jsx)("div",{className:"justify-self-start",children:(0,t.jsx)(tf,{variant:"secondary",size:"sm",className:"cursor-pointer",disabled:S<=0,onClick:()=>k(e=>Math.max(0,e-1)),"aria-label":"Slower",title:"Slower",children:"Slower"})}),(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center gap-1 w-full",children:[(0,t.jsxs)("div",{className:"flex justify-around",children:[(0,t.jsx)(tf,{disabled:n,variant:"default",size:"sm",className:"cursor-pointer",onClick:()=>{_.current=Math.round(s*j)-1,-1===_.current&&(_.current=j-1),p(_.current/j)},"aria-label":n?"":"Backward",title:n?"":"Backward",children:(0,t.jsx)(tG,{})}),(0,t.jsx)(tf,{variant:"default",size:"sm",className:"cursor-pointer mx-2",onClick:()=>d(!n),"aria-label":n?"Pause":"Play",title:n?"Pause":"Play",children:n?(0,t.jsx)(tY,{}):(0,t.jsx)(tX,{})}),(0,t.jsx)(tf,{disabled:n,variant:"default",size:"sm",className:"cursor-pointer",onClick:()=>{_.current=Math.round(s*j)+1;let e=_.current/j;p(e-Math.floor(e))},"aria-label":n?"":"Forward",title:n?"":"Forward",children:(0,t.jsx)(tq,{})})]}),(0,t.jsxs)("div",{className:"text-[11px] leading-none",children:[(0,t.jsx)("b",{children:n5[S]})," FPS"]})]}),(0,t.jsx)("div",{className:"justify-self-end",children:(0,t.jsx)(tf,{variant:"secondary",size:"sm",className:"cursor-pointer",disabled:S>=n5.length-1,onClick:()=>k(e=>Math.min(n5.length-1,e+1)),"aria-label":"Faster",title:"Faster",children:"Faster"})})]})]})}):null},st=()=>{let{isFlat:e,plotOn:i,dimArrays:n}=(0,o.useGlobalStore)((0,c.useShallow)(e=>({isFlat:e.isFlat,plotOn:e.plotOn,dimArrays:e.dimArrays}))),{reFetch:s}=(0,rY.useZarrStore)((0,c.useShallow)(e=>({reFetch:e.reFetch}))),[l,u]=(0,r.useState)(!1),h=(0,r.useMemo)(()=>{let t=Array.isArray(n)&&n.length>=3;return!e&&i&&t},[e,i,n]),[d,p]=(0,r.useState)("left"),[f,m]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{s&&(f||u(!1),m(!0))},[s,f,u,m]),(0,r.useEffect)(()=>{let e=()=>{p(window.innerWidth<768?"top":"left")};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(a.Tooltip,{delayDuration:500,children:[(0,t.jsx)(a.TooltipTrigger,{asChild:!0,children:(0,t.jsx)("div",{style:h?{}:{pointerEvents:"none"},children:(0,t.jsx)(tf,{variant:"ghost",size:"icon",className:"size-10 cursor-pointer hover:scale-90 transition-transform duration-100 ease-out",style:{color:h?"":"var(--text-disabled)"},onClick:()=>{h&&u(e=>!e)},children:(0,t.jsx)(rQ,{className:"size-8"})})})}),(0,t.jsx)(a.TooltipContent,{side:"left"===d?"left":"top",align:"left"===d?"start":"center",className:"flex flex-col",children:(0,t.jsx)("span",{children:"Animation controls"})})]}),(0,t.jsx)(se,{visible:l&&h,setKeepOpen:m})]})};function sr(e){return(0,tg.GenIcon)({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Undo"},child:[{tag:"path",attr:{d:"M19.939,13.67A7.958,7.958,0,0,1,7.8,19.74a8.061,8.061,0,0,1-3.77-6.77.5.5,0,0,1,1,0,6.976,6.976,0,0,0,11,5.7,6.969,6.969,0,0,0-1-11.97,10.075,10.075,0,0,0-4.64-.69V7.46a.5.5,0,0,1-.81.39L7.109,5.9a.5.5,0,0,1,0-.79L9.6,3.17a.5.5,0,0,1,.8.4V5.01c.71-.01,1.43-.03,2.13.02a7.985,7.985,0,0,1,7.41,8.64Z"},child:[]}]}]})(e)}let si=({size:e,depth:i})=>{let n=(0,r.useRef)(null);return(0,r.useEffect)(()=>{let t=n.current;if(!t)return;let r=t.getContext("2d");if(!r)return;t.width=150,t.height=150;let s=(110-6*Math.max(0,i-1))/e;r.clearRect(0,0,150,150);for(let t=i-1;t>=0;t--){let n=6*t,a=6*t/1.5;for(let o=0;o<e;o++)for(let l=0;l<e;l++){r.fillStyle=o===Math.floor(e/2)&&l===Math.floor(e/2)||t==Math.floor(i/2)&&1!=i?"#da5d5dff":"rgba(255, 255, 255, 1)",r.strokeStyle="#334155",r.lineWidth=1;let u=20+n+l*s,c=20+a+o*s;r.beginPath(),r.rect(u,c,s,s),r.fill(),r.stroke()}}},[e,i]),(0,t.jsx)("canvas",{ref:n})},sn=[{value:"Mean",label:"Mean"},{value:"Min",label:"Min"},{value:"Max",label:"Max"},{value:"StDev",label:"Standard Deviation"},{value:"LinearSlope",label:"Linear Slope"}],ss=[{value:"Mean3D",label:"Mean"},{value:"Min3D",label:"Min"},{value:"Max3D",label:"Max"},{value:"StDev3D",label:"Standard Deviation"}],sa=[{value:"Mean2D",label:"Mean"},{value:"Min2D",label:"Min"},{value:"Max2D",label:"Max"},{value:"StDev2D",label:"Standard Deviation"}],so=[{value:"Correlation2D",label:"Correlation"},{value:"TwoVarLinearSlope2D",label:"Linear Slope"},{value:"Covariance2D",label:"Covariance"}],sl=[{value:"Correlation3D",label:"Correlation"},{value:"TwoVarLinearSlope3D",label:"Linear Slope"},{value:"Covariance3D",label:"Covariance"}],su=(0,t.jsxs)("div",{className:"m-0 p-5 font-sans flex-column justify-center items-center",children:[(0,t.jsx)("span",{className:"text-5xl mb-4 block self-center",children:""}),(0,t.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"WebGPU Not Available"}),(0,t.jsx)("p",{className:"text-base leading-relaxed mb-1 opacity-95",children:"WebGPU is not supported or enabled in your current browser. This feature is required for GPU-accelerated computing."}),(0,t.jsxs)("div",{className:"bg-[--card] bg-opacity-15 rounded-xl border border-[--secondary] p-3 border-opacity-20",children:[(0,t.jsx)("h3",{className:"m-0 mb-4 text-lg font-semibold",children:"Try These Solutions:"}),(0,t.jsxs)("ul",{className:"suggestion-list",children:[(0,t.jsx)("li",{children:"Switch to a Chrome-based browser (Chrome, Edge, Brave)"}),(0,t.jsx)("li",{children:"Use Safari on macOS (version 14.1 or later)"}),(0,t.jsx)("li",{children:"Enable WebGPU in your browser's experimental features"}),(0,t.jsx)("li",{children:"Update your browser to the latest version"})]})]})]}),sc=()=>{let{plotOn:e,variable:i,variables:l,dimNames:u,initStore:h,isFlat:d,setTimeSeries:p,setValueScales:f}=(0,o.useGlobalStore)((0,c.useShallow)(e=>({plotOn:e.plotOn,variable:e.variable,variables:e.variables,dimNames:e.dimNames,initStore:e.initStore,isFlat:e.isFlat,setTimeSeries:e.setTimeSeries,setValueScales:e.setValueScales}))),m=(0,r.useRef)(h),[g,y]=(0,r.useState)(!1),{execute:x,operation:v,useTwo:b,kernelSize:w,kernelDepth:_,kernelOperation:S,axis:k,variable2:M,analysisMode:C,reverseDirection:A,valueScalesOrig:I,setExecute:T,setAxis:z,setOperation:E,setUseTwo:N,setVariable2:j,setKernelSize:O,setKernelDepth:D,setKernelOperation:P,setAnalysisMode:R,setReverseDirection:B,setAnalysisStore:L,setAnalysisDim:F}=(0,rU.useAnalysisStore)((0,c.useShallow)(e=>({execute:e.execute,operation:e.operation,useTwo:e.useTwo,kernelSize:e.kernelSize,kernelDepth:e.kernelDepth,kernelOperation:e.kernelOperation,axis:e.axis,variable2:e.variable2,valueScalesOrig:e.valueScalesOrig,analysisMode:e.analysisMode,reverseDirection:e.reverseDirection,setExecute:e.setExecute,setAxis:e.setAxis,setOperation:e.setOperation,setUseTwo:e.setUseTwo,setVariable2:e.setVariable2,setKernelSize:e.setKernelSize,setKernelDepth:e.setKernelDepth,setKernelOperation:e.setKernelOperation,setAnalysisMode:e.setAnalysisMode,setReverseDirection:e.setReverseDirection,setAnalysisStore:e.setAnalysisStore,setAnalysisDim:e.setAnalysisDim}))),{reFetch:V}=(0,rY.useZarrStore)((0,c.useShallow)(e=>({reFetch:e.reFetch}))),[U,$]=(0,r.useState)(!1);(0,r.useEffect)(()=>{(async()=>{if(!navigator.gpu)return $(!0);try{await navigator.gpu.requestAdapter(),$(!1)}catch{$(!0)}})()},[e]),(0,r.useEffect)(()=>{h!=m.current?y(!0):y(!1)},[h]),(0,r.useEffect)(()=>{y(!1),m.current=h,L(h)},[V]),(0,r.useEffect)(()=>{d?D(1):D(3)},[d]),(0,r.useEffect)(()=>{P("Default"),E("Default"),R(!1)},[i]);let[W,G]=(0,r.useState)(0);(0,r.useEffect)(()=>{G(k)},[k]);let[H,q]=(0,r.useState)("left");return(0,r.useEffect)(()=>{let e=()=>{q(window.innerWidth<768?"top":"left")};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)(n.Popover,{children:[(0,t.jsx)(n.PopoverTrigger,{asChild:!0,children:(0,t.jsx)("div",{style:e?{}:{pointerEvents:"none"},children:(0,t.jsxs)(a.Tooltip,{delayDuration:500,children:[(0,t.jsx)(a.TooltipTrigger,{asChild:!0,children:(0,t.jsx)("div",{children:(0,t.jsx)(tf,{variant:"ghost",size:"icon",className:"size-10 cursor-pointer hover:scale-90 transition-transform duration-100 ease-out",style:{color:e?"":"var(--text-disabled)"},children:(0,t.jsx)(rK,{className:"size-8"})})})}),"left"===H?(0,t.jsx)(a.TooltipContent,{side:"left",align:"start",children:(0,t.jsx)("span",{children:"Apply operations"})}):(0,t.jsx)(a.TooltipContent,{side:"top",align:"center",children:(0,t.jsx)("span",{children:"Apply operations"})})]})})}),(0,t.jsx)(n.PopoverContent,{side:H,className:"analysis-info select-none",children:U?su:(0,t.jsxs)(t.Fragment,{children:[!d&&(0,t.jsx)(tf,{className:"cursor-pointer active:scale-[0.95] bg-gray-500",disabled:g,onClick:()=>{N(!b),E("Default")},children:b?"Use One \n Variable":"Use Two Variables"}),(0,t.jsx)("table",{style:{textAlign:"right"},children:(0,t.jsxs)("tbody",{children:[(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"Current Variable"}),(0,t.jsx)("td",{className:"text-center w-[100%] align-middle justify-center content-center",children:(0,t.jsxs)("div",{className:"grid grid-cols-[65%_auto] w-[90%] mx-auto",children:[C&&(0,t.jsx)("div",{className:"rounded-[6px] self-center mx-2 relative border border-gray-150 py-[5px] px-1",children:(0,t.jsxs)("div",{className:"flex justify-around",children:["Current",(0,t.jsxs)(a.Tooltip,{children:[(0,t.jsx)(a.TooltipTrigger,{asChild:!0,children:(0,t.jsx)(ty,{})}),(0,t.jsx)(a.TooltipContent,{children:"Operations will be applied to the newly generated data."})]})]})}),(0,t.jsxs)("button",{className:`rounded-[6px] self-center ${C?null:"col-span-2"} w-[100%] pl-2 relative border border-gray-150 py-[5px] ${C?"hover:scale-[0.95]":""} transition-[0.2s]`,style:{cursor:C?"pointer":""},disabled:!C,onClick:e=>{rU.useAnalysisStore.setState({analysisMode:!1,analysisDim:null,variable2:"Default"}),I&&f(I)},children:[C&&(0,t.jsx)(sr,{size:20,style:{position:"absolute",left:"0%",top:"10%"}}),C?"Reset":i]})]})})]}),b&&(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"Second Variable"}),(0,t.jsx)("td",{children:(0,t.jsxs)(eJ,{onValueChange:j,children:[(0,t.jsx)(e1,{style:{width:"175px",marginLeft:"18px"},children:(0,t.jsx)(eQ,{placeholder:"Select..."})}),(0,t.jsx)(e0,{children:l.map((e,r)=>e==i?null:(0,t.jsx)(e9,{value:e,children:e},r))})]})})]})}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"Operation"}),!b&&(0,t.jsx)("td",{children:(0,t.jsxs)(eJ,{value:v,onValueChange:E,children:[(0,t.jsx)(e1,{style:{width:"175px",marginLeft:"18px"},children:(0,t.jsx)(eQ,{placeholder:"Select..."})}),(0,t.jsxs)(e0,{children:[!d&&(0,t.jsxs)(eK,{children:[(0,t.jsx)(e2,{children:"Dimension Reduction"}),sn.map((e,r)=>(0,t.jsx)(e9,{value:e.value,children:e.label},r))]}),(0,t.jsxs)(eK,{children:[(0,t.jsx)(e2,{children:d?"":"Three Dimensional"}),(0,t.jsx)(e9,{value:"Convolution",children:"Convolution"}),!d&&!C&&(0,t.jsx)(e9,{value:"CUMSUM3D",children:"CUMSUM"})]})]})]})}),b&&(0,t.jsx)("td",{children:(0,t.jsxs)(eJ,{value:v,onValueChange:E,children:[(0,t.jsx)(e1,{style:{width:"175px",marginLeft:"18px"},children:(0,t.jsx)(eQ,{placeholder:"Select..."})}),(0,t.jsxs)(e0,{children:[(0,t.jsxs)(eK,{children:[(0,t.jsx)(e2,{children:"Dimension Reduction"}),so.map((e,r)=>(0,t.jsx)(e9,{value:e.value,children:e.label},r))]}),(0,t.jsxs)(eK,{children:[(0,t.jsx)(e2,{children:"Three Dimensional"}),(0,t.jsx)(e9,{value:"Convolution",children:"Convolution"})]})]})]})})]}),[...sn.map(e=>e.value),...so.map(e=>e.value),"CUMSUM3D"].includes(v)&&!d&&(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"Axis"}),(0,t.jsxs)("td",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[(0,t.jsxs)(eJ,{onValueChange:e=>G(parseInt(e)),children:[(0,t.jsx)(e1,{style:{width:["CUMSUM3D","LinearSlope"].includes(v)?"50%":"175px",marginLeft:"18px"},children:(0,t.jsx)(eQ,{placeholder:u[W]})}),(0,t.jsx)(e0,{children:u.map((e,r)=>(0,t.jsx)(e9,{value:String(r),children:e},r))})]}),["CUMSUM3D"].includes(v)&&(0,t.jsxs)(a.Tooltip,{delayDuration:300,children:[(0,t.jsxs)("div",{style:{width:"90%",display:"flex",justifyContent:"space-around",alignItems:"center",alignContent:"center"},children:[(0,t.jsx)("label",{htmlFor:"reverse-axis",style:{textAlign:"left"},children:"Rev."}),(0,t.jsx)(a.TooltipTrigger,{children:(0,t.jsx)(to,{id:"reverse-axis",checked:1==A,onCheckedChange:e=>{B(+!!e)}})})]}),(0,t.jsx)(a.TooltipContent,{side:"bottom",children:"Reverse the direction of the operation along the axis"})]})]})]}),"Convolution"==v&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"Kernel Op."}),(0,t.jsx)("td",{children:(0,t.jsxs)(eJ,{onValueChange:P,children:[(0,t.jsx)(e1,{style:{width:"175px",marginLeft:"18px"},children:(0,t.jsx)(eQ,{placeholder:"Default"===S?"Select...":S})}),(0,t.jsxs)(e0,{children:[b&&sl.map((e,r)=>(0,t.jsx)(e9,{value:e.value,children:e.label},r)),!b&&d?sa.map((e,r)=>(0,t.jsx)(e9,{value:e.value,children:e.label},r)):ss.map((e,r)=>(0,t.jsx)(e9,{value:e.value,children:e.label},r))]})]})})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{style:{padding:"0px 12px"},children:"Kernel Size"}),(0,t.jsx)("td",{children:(0,t.jsx)("table",{style:{width:"100%",tableLayout:"fixed"},children:(0,t.jsxs)("tbody",{children:[!d&&(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{style:{textAlign:"center"},children:"Size"}),(0,t.jsx)("td",{style:{textAlign:"center"},children:"Depth"})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{style:{textAlign:"center",padding:"0px 12px"},children:(0,t.jsx)(s.Input,{type:"number",min:"1",step:"2",value:String(w),onChange:e=>O(parseInt(e.target.value)),onBlur:e=>O((0,r$.HandleKernelNums)(e.target.value))})}),!d&&(0,t.jsx)("td",{style:{textAlign:"center",padding:"0px 12px"},children:(0,t.jsx)(s.Input,{type:"number",min:"1",step:"2",value:String(_),onChange:e=>D(parseInt(e.target.value)),onBlur:e=>D((0,r$.HandleKernelNums)(e.target.value))})})]})]})})})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{}),(0,t.jsx)("th",{children:(0,t.jsx)(si,{size:Math.min(w,15),depth:Math.min(_,15)})})]})]})]})}),(0,t.jsx)(tf,{className:"cursor-pointer active:scale-[0.95]",disabled:"Default"===v||"Convolution"===v&&"Default"===S||b&&"Default"===M,variant:"pink",onClick:()=>{z(W),F("CUMSUM3D"==v?null:W),T(!x),p({})},children:"Execute"})]})})]})})},sh=()=>{let[e,i]=(0,r.useState)(!1);return(0,t.jsxs)(n8,{className:"panel-container",children:[(0,t.jsx)(n4,{setOpenVariables:i}),(0,t.jsx)(nI,{openVariables:e,setOpenVariables:i}),(0,t.jsx)(r2,{}),(0,t.jsx)(nz,{}),(0,t.jsx)(nU,{}),(0,t.jsx)(st,{}),(0,t.jsx)(sc,{})]})},sd={oom:{title:"Out of Memory",description:"The application has run out of memory. Please try closing other applications or restarting your device."},cors:{title:"CORS Error",description:"There was a Cross-Origin Resource Sharing (CORS) error. Please check your network settings or try again later."},404:{title:"Resource Not Found",description:"The requested resource could not be found. Please check the URL or try again later."},zarrFetch:{title:"Failed to Fetch Zarr Store",description:"There was an error fetching the Zarr store. Please check the store path and your network connection."},dataType:{title:"Unsupported Data Type",description:"The data type of the array is not supported. Please use arrays with Float[16|32|64] or (u)Int[8|16|32] data types."},tsException:{title:"1D Transect Unavailable",description:"1D transects are unavailable when using face displacement on the sphere plot."},largeArray:{title:"Requested too Much Memory",description:"Browzarr cannot request that much data in one call. This is a fixable issue, open an issue on GitHub so I am motivated to implement it."}};e.s(["default",0,()=>{let{error:e,setError:r}=(0,tN.useErrorStore)((0,c.useShallow)(e=>({error:e.error,setError:e.setError})));return(0,t.jsx)(t.Fragment,{children:e&&(0,t.jsx)(rT,{open:!0,onOpenChange:e=>r(null),children:(0,t.jsxs)(rj,{"aria-describedby":"Error Message",children:[(0,t.jsxs)(rD,{className:"text-center text-lg font-semibold",children:["Error: ",sd[e].title]}),(0,t.jsx)("div",{className:"error-message",children:sd[e].description}),(0,t.jsx)("div",{className:"flex justify-center mt-[10px]",children:(0,t.jsx)(tf,{variant:"pink",className:"cursor-pointer hover:scale-[1.1]",onClick:e=>r(null),children:"Okay"})})]})})})}],7593);let sp=r.default.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldAnimate:{current:!0},shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),sf=()=>{let e=r.default.useContext(sp);if(!e)throw Error("useDrawerContext must be used within a Drawer.Root");return e};!function(e){if(!e||"undefined"==typeof document)return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}("[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--initial-transform,100%),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--initial-transform,100%),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-animate=false]{animation:none!important}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(\n[data-state=closed]\n){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,var(--initial-transform,100%),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,var(--initial-transform,100%),0)}}@keyframes slideFromTop{from{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}}@keyframes slideFromLeft{from{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}}@keyframes slideFromRight{from{transform:translate3d(var(--initial-transform,100%),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(var(--initial-transform,100%),0,0)}}");"undefined"!=typeof window?r.useLayoutEffect:r.useEffect;"undefined"!=typeof document&&window.visualViewport;function sm(...e){return r.useCallback(function(...e){return t=>e.forEach(e=>{"function"==typeof e?e(t):null!=e&&(e.current=t)})}(...e),e)}new WeakMap;let sg=e=>{switch(e){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return e}};function sy(e,t){if(!e)return()=>{};let r=e.style.cssText;return Object.assign(e.style,t),()=>{e.style.cssText=r}}let sx=[.32,.72,0,1],sv=()=>()=>{};r.default.forwardRef(function({...e},t){let{overlayRef:i,snapPoints:n,onRelease:s,shouldFade:a,isOpen:o,modal:l,shouldAnimate:u}=sf(),c=sm(t,i),h=n&&n.length>0;if(!l)return null;let d=r.default.useCallback(e=>s(e),[s]);return r.default.createElement(ro,{onMouseUp:d,ref:c,"data-vaul-overlay":"","data-vaul-snap-points":o&&h?"true":"false","data-vaul-snap-points-overlay":o&&a?"true":"false","data-vaul-animate":(null==u?void 0:u.current)?"true":"false",...e})}).displayName="Drawer.Overlay",r.default.forwardRef(function({onPointerDownOutside:e,style:t,onOpenAutoFocus:i,...n},s){let{drawerRef:a,onPress:o,onRelease:l,onDrag:u,keyboardIsOpen:c,snapPointsOffset:h,activeSnapPointIndex:d,modal:p,isOpen:f,direction:m,snapPoints:g,container:y,handleOnly:x,shouldAnimate:v,autoFocus:b}=sf(),[w,_]=r.default.useState(!1),S=sm(s,a),k=r.default.useRef(null),M=r.default.useRef(null),C=r.default.useRef(!1),A=g&&g.length>0;function I(e){k.current=null,C.current=!1,l(e)}return!function(){let{direction:e,isOpen:t,shouldScaleBackground:i,setBackgroundColorOnScale:n,noBodyStyles:s}=sf(),a=r.default.useRef(null),o=(0,r.useMemo)(()=>document.body.style.backgroundColor,[]);function l(){return(window.innerWidth-26)/window.innerWidth}r.default.useEffect(()=>{if(t&&i){a.current&&clearTimeout(a.current);let t=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!t)return;!function(...e){}(n&&!s?sy(document.body,{background:"black"}):sv,sy(t,{transformOrigin:sg(e)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:"0.5s",transitionTimingFunction:`cubic-bezier(${sx.join(",")})`}));let r=sy(t,{borderRadius:"8px",overflow:"hidden",...sg(e)?{transform:`scale(${l()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${l()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{r(),a.current=window.setTimeout(()=>{o?document.body.style.background=o:document.body.style.removeProperty("background")},500)}}},[t,i,o])}(),r.default.useEffect(()=>{A&&window.requestAnimationFrame(()=>{_(!0)})},[]),r.default.createElement(rh,{"data-vaul-drawer-direction":m,"data-vaul-drawer":"","data-vaul-delayed-snap-points":w?"true":"false","data-vaul-snap-points":f&&A?"true":"false","data-vaul-custom-container":y?"true":"false","data-vaul-animate":(null==v?void 0:v.current)?"true":"false",...n,ref:S,style:h&&h.length>0?{"--snap-point-height":`${h[null!=d?d:0]}px`,...t}:t,onPointerDown:e=>{x||(null==n.onPointerDown||n.onPointerDown.call(n,e),k.current={x:e.pageX,y:e.pageY},o(e))},onOpenAutoFocus:e=>{null==i||i(e),b||e.preventDefault()},onPointerDownOutside:t=>{(null==e||e(t),!p||t.defaultPrevented)?t.preventDefault():c.current&&(c.current=!1)},onFocusOutside:e=>{if(!p)return void e.preventDefault()},onPointerMove:e=>{if(M.current=e,x||(null==n.onPointerMove||n.onPointerMove.call(n,e),!k.current))return;let t=e.pageY-k.current.y,r=e.pageX-k.current.x,i="touch"===e.pointerType?10:2;((e,t,r=0)=>{if(C.current)return!0;let i=Math.abs(e.y),n=Math.abs(e.x),s=n>i,a=["bottom","right"].includes(t)?1:-1;if("left"===t||"right"===t){if(!(e.x*a<0)&&n>=0&&n<=r)return s}else if(!(e.y*a<0)&&i>=0&&i<=r)return!s;return C.current=!0,!0})({x:r,y:t},m,i)?u(e):(Math.abs(r)>i||Math.abs(t)>i)&&(k.current=null)},onPointerUp:e=>{null==n.onPointerUp||n.onPointerUp.call(n,e),k.current=null,C.current=!1,l(e)},onPointerOut:e=>{null==n.onPointerOut||n.onPointerOut.call(n,e),I(M.current)},onContextMenu:e=>{null==n.onContextMenu||n.onContextMenu.call(n,e),M.current&&I(M.current)}})}).displayName="Drawer.Content",r.default.forwardRef(function({preventCycle:e=!1,children:t,...i},n){let{closeDrawer:s,isDragging:a,snapPoints:o,activeSnapPoint:l,setActiveSnapPoint:u,dismissible:c,handleOnly:h,isOpen:d,onPress:p,onDrag:f}=sf(),m=r.default.useRef(null),g=r.default.useRef(!1);function y(){m.current&&window.clearTimeout(m.current),g.current=!1}return r.default.createElement("div",{onClick:function(){g.current?y():window.setTimeout(()=>{!function(){if(a||e||g.current)return y();if(y(),!o||0===o.length){c||s();return}if(l===o[o.length-1]&&c)return s();let t=o.findIndex(e=>e===l);-1===t||u(o[t+1])}()},120)},onPointerCancel:y,onPointerDown:e=>{h&&p(e),m.current=window.setTimeout(()=>{g.current=!0},250)},onPointerMove:e=>{h&&f(e)},ref:n,"data-vaul-drawer-visible":d?"true":"false","data-vaul-handle":"","aria-hidden":"true",...i},r.default.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},t))}).displayName="Drawer.Handle",e.i(40272).default,e.i(60112),e.s(["default",0,()=>{let[e,i]=(0,r.useState)([]),[s,o]=(0,r.useState)(null),[l,u]=(0,r.useState)(!1),[c,h]=(0,r.useState)(null);return((0,r.useEffect)(()=>{let{hostname:e,pathname:t,origin:r}=window.location,n=t.split("/").filter(Boolean),s=e.endsWith("github.io"),a="localhost"===e||e.startsWith("10."),l=s&&n.length?`/${n[0]}`:"";if(a)return void setTimeout(()=>{i(["latest"]),o("latest")},0);let u=`${r}${l}/versions.json`;fetch(u).then(e=>{if(!e.ok)throw Error(`Failed to load ${u}`);return e.json()}).then(e=>{let t=e.sort((e,t)=>{if("latest"===e)return -1;if("latest"===t)return 1;let r=e=>e.replace("v","").split(".").map(Number),[i,n,s]=r(e),[a,o,l]=r(t);return i!==a?a-i:n!==o?o-n:l-s});i(t);let r=s?n[1]||"latest":n[0]||"latest";o(t.find(e=>e===r)||t[0]||null)}).catch(e=>{console.error("Could not fetch versions.json",e),i(["latest"]),o("latest")})},[]),(0,r.useEffect)(()=>{c&&(window.location.href=c)},[c]),e.length&&s)?(0,t.jsxs)(n.Popover,{open:l,onOpenChange:u,children:[(0,t.jsxs)(a.Tooltip,{children:[(0,t.jsx)(a.TooltipTrigger,{asChild:!0,children:(0,t.jsx)(n.PopoverTrigger,{asChild:!0,children:(0,t.jsxs)(tf,{variant:"ghost",size:"sm",className:"cursor-pointer",children:[(0,t.jsx)("span",{children:(0,t.jsx)(tw,{})}),(0,t.jsx)(nN,{className:`w-4 h-4 transition-transform ${l?"rotate-180":""}`})]})})}),(0,t.jsx)(a.TooltipContent,{side:"left",children:s})]}),(0,t.jsx)(n.PopoverContent,{className:"w-28 p-1",align:"end",children:(0,t.jsx)("div",{className:"space-y-1",children:e.map(e=>(0,t.jsxs)(tf,{variant:"ghost",size:"sm",className:"cursor-pointer flex items-center justify-between w-full px-3 py-2 text-sm rounded-sm",onClick:()=>(e=>{o(e),u(!1);let{hostname:t,pathname:r}=window.location,i=r.split("/").filter(Boolean),n=t.endsWith("github.io")&&i.length?`/${i[0]}`:"";h("latest"===e?`${n}/latest/`:`${n}/${e}/`)})(e),"aria-label":`Select version ${e}`,children:[(0,t.jsx)("span",{className:s===e?"font-bold":"",children:e}),s===e&&(0,t.jsx)(tH,{className:"w-4 h-4 text-orange-600"})]},e))})})]}):null}],4721),e.s(["ExportExtent",0,()=>{let{customRes:e,previewExtent:r}=(0,l.useImageExportStore)((0,c.useShallow)(e=>({customRes:e.customRes,previewExtent:e.previewExtent})));o.useGlobalStore.getState().DPR||window.devicePixelRatio;let i=e[0]/e[1];return(0,t.jsxs)("div",{style:{position:"fixed",width:`calc(100vh*${i})`,height:"100%",left:"50%",top:"50%",transform:"translate(-50%, -50%)",display:r?"":"none",background:"rgba(200,30,30,0.2)",zIndex:4},children:[(0,t.jsx)("div",{style:{position:"absolute",width:"100%",top:"50%",borderTop:"1px solid black",borderBottom:"1px solid black"}}),(0,t.jsx)("div",{style:{position:"absolute",width:"100%",top:"25%",borderTop:"1px dashed black"}}),(0,t.jsx)("div",{style:{position:"absolute",width:"100%",top:"75%",borderBottom:"1px dashed black"}}),(0,t.jsx)("div",{style:{position:"absolute",height:"100%",left:"50%",borderLeft:"1px solid black",borderRight:"1px solid black"}}),(0,t.jsx)("div",{style:{position:"absolute",height:"100%",left:"25%",borderLeft:"1px dashed black"}}),(0,t.jsx)("div",{style:{position:"absolute",height:"100%",left:"75%",borderRight:"1px dashed black"}})]})}],19321)}]);