(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[190],{337:()=>{},775:()=>{},1423:(e,t,a)=>{"use strict";a.d(t,{AM:()=>l,Wv:()=>i,hl:()=>o});var s=a(6496);a(4364);var r=a(6539),n=a(8279);function l(e){let{...t}=e;return(0,s.jsx)(r.bL,{"data-slot":"popover",...t})}function i(e){let{...t}=e;return(0,s.jsx)(r.l9,{"data-slot":"popover-trigger",...t})}function o(e){let{className:t,align:a="center",sideOffset:l=4,...i}=e;return(0,s.jsx)(r.ZL,{children:(0,s.jsx)(r.UC,{"data-slot":"popover-content",align:a,sideOffset:l,className:(0,n.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",t),...i})})}},1718:(e,t,a)=>{"use strict";a.d(t,{H9:()=>p,Oe:()=>g,Y5:()=>b});var s=a(1541),r=a(8254),n=a(5566),l=a(7835),i=a(6383),o=a(4759),c=a(3278),d=a(9691),u=a(4391);function h(e,t){let a,s=null,[r,n]=(0,o.Qt)(e);if(n<=65504&&r>=-65504)a=new Float16Array(e);else{s=Math.ceil(Math.log10(n/65504)),s=t&&t>s?t:s;for(let t=0;t<e.length;t++)e[t]/=Math.pow(10,s);a=new Float16Array(e)}return[a,s]}function x(e,t){for(let a=0;a<e.length;a++)e[a]/=Math.pow(10,t)}class m extends Error{constructor(e,t){super(e),this.cause=t,this.name="ZarrError"}}function p(e,t,a,s,r,n,l,i){let[o,c,d]=l,[u,h,x]=i,[m,p,f]=t,[g,v,j]=r,b=(o-u)*m,y=(c-h)*p,w=(d-x)*f,S=Math.min(m,g-b),N=Math.min(p,v-y),C=Math.min(f,j-w);for(let t=0;t<S;t++)for(let r=0;r<N;r++){let l=t*a[0]+r*a[1],i=(b+t)*n[0]+(y+r)*n[1]+w,o=e.subarray(l,l+C);s.set(o,i)}}function f(e,t,a,s,r,n,l,i){let[o,c]=l,[d,u]=i,[h,x]=t,[m,p]=r,f=(o-d)*h,g=(c-u)*x,v=Math.min(h,m-f),j=Math.min(x,p-g);for(let t=0;t<v;t++){let r=t*a[0],l=(f+t)*n[0]+g,i=e.subarray(r,r+j);s.set(i,l)}}async function g(e){let{setStatus:t}=d.on.getState();for(let a=0;a<=10;a++)try{let a=s.x(new r.A(e)),l=await a.then(e=>n.h(e,{kind:"group"}));return t(null),l}catch(s){if(10===a)throw"local"!=e.slice(0,5)&&(d.$U.getState().setError("zarrFetch"),t(null)),new m("Failed to initialize store at ".concat(e),s);await new Promise(e=>setTimeout(e,500))}}function v(e,t){let a=new Uint8Array(e.buffer);return(0,u.u3)(a,{level:t})}function j(e){return new Float16Array((0,u.Rq)(e).buffer)}class b{async GetArray(e,t){let{is4D:a,idx4D:s,initStore:r,setProgress:o,setStrides:u,setStatus:g}=d.on.getState(),{compress:b,setCurrentChunks:y,setArraySize:w}=d.SZ.getState(),{cache:S}=d.FT.getState(),{xSlice:N,ySlice:C,zSlice:k}=t;if(this.variable=e,S.has(a?"".concat(r,"_").concat(s,"_").concat(e):"".concat(r,"_").concat(e))){let t=S.get(a?"".concat(r,"_").concat(s,"_").concat(e):"".concat(r,"_").concat(e));return t.compressed&&(t.data=j(t.data)),u(t.stride),t}let A=await this.groupStore,M=await n.h(A.resolve(e),{kind:"array"});a?M.shape.slice(1):M.shape;let[z,D,E]=(0,c._z)(M);a&&(M.shape[0],E=E.slice(1),M.shape[0]);let R=a?M.shape[1]/E[0]>1:M.shape[0]/E[0]>1;if(M.is("number")||M.is("bigint")){let t,n,c,A=null;if(R)if(2==M.shape.length){let s=Math.ceil(M.shape[0]/E[0]),p=Math.ceil(M.shape[1]/E[1]),y=Math.floor(C[0]/E[1]),w=C[1]?Math.ceil(C[1]/E[1]):s,k=Math.floor(N[0]/E[2]),z=N[1]?Math.ceil(N[1]/E[2]):p,D=(w-y)*(z-k),R=(C[1]?C[1]:M.shape[1+ +!!a])-C[0],F=(N[1]?N[1]:M.shape[2+ +!!a])-N[0],T=[(c=[R,F])[1],1];u(T),n=new Float16Array(R*F);let L=1,_=[];for(let a=y;a<w;a++)for(let s=k;s<z;s++){let u="y".concat(a,"_x").concat(s),p="".concat(r,"_").concat(e),w="".concat(p,"_chunk_").concat(u);if(S.has(w)){let e=S.get(w);f(e.compressed?j(e.data):e.data.slice(),e.shape,e.stride,n,c,T,[a,s],[y,k]),o(Math.round(L/D*100)),L++}else{for(let r=0;r<=10;r++)try{t=await l.Jt(M,[i.di(a*E[1],(a+1)*E[1]),i.di(s*E[2],(s+1)*E[2])]);break}catch(t){if(10===r)throw d.$U.getState().setError("zarrFetch"),g(null),o(0),new m("Failed to fetch chunk ".concat(u," for variable ").concat(e),t);await new Promise(e=>setTimeout(e,500))}if(!t||t.data instanceof BigInt64Array||t.data instanceof BigUint64Array)throw Error("BigInt arrays are not supported for conversion to Float32Array.");let r=t.data,j=t.stride;t=null;let[N,C]=h(r,A);if(null!=C&&C!=A&&(null==A||C>A)){let e=A?C-A:C;for(let t of(x(n,e),A=C,_)){let a="".concat(p,"_chunk_").concat(t),s=S.get(a);s.scaling=A,x(s.data,e),S.set(a,s)}}f(N,E,j,n,c,T,[a,s],[y,k]);let z={data:b?v(N,7):N,shape:E,stride:j,scaling:A,compressed:b};S.set(w,z),o(Math.round(L/D*100)),L++,_.push(u)}}g(null),o(0)}else{g("Downloading..."),o(0);let f=Math.ceil(M.shape[0+ +!!a]/E[0]),z=Math.ceil(M.shape[1+ +!!a]/E[1]),D=Math.ceil(M.shape[2+ +!!a]/E[2]),R=Math.floor(k[0]/E[0]),F=k[1]?Math.ceil(k[1]/E[0]):f,T=Math.floor(C[0]/E[1]),L=C[1]?Math.ceil(C[1]/E[1]):z,_=Math.floor(N[0]/E[2]),O=N[1]?Math.ceil(N[1]/E[2]):D,V=(F-R)*(L-T)*(O-_),I=(k[1]?k[1]:M.shape[0+ +!!a])-k[0],B=(C[1]?C[1]:M.shape[1+ +!!a])-C[0],P=(N[1]?N[1]:M.shape[2+ +!!a])-N[0],U=I*B*P;w(U),y({x:[_,O],y:[T,L],z:[R,F]});let W=[(c=[I,B,P])[1]*c[2],c[2],1];u(W),n=new Float16Array(U);let Y=1,G=[];for(let u=R;u<F;u++)for(let f=T;f<L;f++)for(let y=_;y<O;y++){let w="z".concat(u,"_y").concat(f,"_x").concat(y),N=a?"".concat(r,"_").concat(s,"_").concat(e):"".concat(r,"_").concat(e),C="".concat(N,"_chunk_").concat(w);if(S.has(C)){let e=S.get(C);p(e.compressed?j(e.data):e.data.slice(),e.shape,e.stride,n,c,W,[u,f,y],[R,T,_]),o(Math.round(Y/V*100)),Y++}else{for(let r=0;r<=10;r++)try{t=await l.Jt(M,a?[s,i.di(u*E[0],(u+1)*E[0]),i.di(f*E[1],(f+1)*E[1]),i.di(y*E[2],(y+1)*E[2])]:[i.di(u*E[0],(u+1)*E[0]),i.di(f*E[1],(f+1)*E[1]),i.di(y*E[2],(y+1)*E[2])]);break}catch(t){if(10===r)throw d.$U.getState().setError("zarrFetch"),g(null),o(0),new m("Failed to fetch chunk ".concat(w," for variable ").concat(e),t);await new Promise(e=>setTimeout(e,500))}if(!t||t.data instanceof BigInt64Array||t.data instanceof BigUint64Array)throw Error("BigInt arrays are not supported for conversion to Float32Array.");let r=t.data,j=t.stride;t=null;let[k,z]=h(r,A);if(null!=z&&z!=A&&(null==A||z>A)){let e=A?z-A:z;for(let t of(x(n,e),A=z,G)){let a="".concat(N,"_chunk_").concat(t),s=S.get(a);s.scaling=A,x(s.data,e),S.set(a,s)}}p(k,E,j,n,c,W,[u,f,y],[R,T,_]);let D={data:b?v(k,7):k,shape:E,stride:j,scaling:A,compressed:b};S.set(C,D),o(Math.round(Y/V*100)),Y++,G.push(w)}}o(0)}else{g("Downloading...");for(let r=0;r<=10;r++)try{t=a?await l.Jt(M,[s,null,null,null]):await l.Jt(M);break}catch(t){if(10===r)throw d.$U.getState().setError("zarrFetch"),g(null),new m("Failed to fetch variable ".concat(e),t);await new Promise(e=>setTimeout(e,500))}if(!t)throw Error("Unexpected: chunk was not assigned");if(c=a?M.shape.slice(1):M.shape,u(t.stride),t.data instanceof BigInt64Array||t.data instanceof BigUint64Array)throw Error("BigInt arrays are not supported for conversion to Float16Array.");{[n,A]=h(t.data,null);let l={data:b?v(n,7):n,shape:t.shape,stride:t.stride,scaling:A,compressed:b};S.set(a?"".concat(r,"_").concat(s,"_").concat(e):"".concat(r,"_").concat(e),l)}g(null)}return{data:n,shape:c,dtype:M.dtype,scalingFactor:A}}throw Error("Unsupported data type: Only numeric arrays are supported. Got: ".concat(M.dtype))}async GetAttributes(e){let{cache:t}=d.FT.getState(),{initStore:a}=d.on.getState(),s="".concat(a,"_").concat(e,"_meta");if(t.has(s)){let e=t.get(s);return this.dimNames=e._ARRAY_DIMENSIONS,e}let r=await this.groupStore,i=(await n.h(r.resolve(e),{kind:"array"})).attrs;t.set(s,i);let o=[];for(let e of i._ARRAY_DIMENSIONS){if(!t.has(e)){let s=await n.h(r.resolve(e),{kind:"array"}).then(e=>l.Jt(e)),i=await n.h(r.resolve(e),{kind:"array"}).then(e=>e.attrs);t.set("".concat(a,"_").concat(e),s.data),t.set("".concat(a,"_").concat(e,"_meta"),i)}o.push(e)}return this.dimNames=o,i}GetDimArrays(){var e,t;let{initStore:a,variable:s}=d.on.getState(),{cache:r}=d.FT.getState(),n=[],l=[],i=[];if(this.dimNames)for(let t of this.dimNames){let s=r.get("".concat(a,"_").concat(t)),i=r.get("".concat(a,"_").concat(t,"_meta"));n.push(null!=s?s:[0]),l.push(null!=(e=null==i?void 0:i.units)?e:null)}else for(let e of r.get("".concat(a,"_").concat(s,"_meta")).shape)n.push(Array(e).fill(0)),l.push("Default"),i.push("Default");return[n,l,null!=(t=this.dimNames)?t:i]}GetTimeSeries(e){let t,a,s,{uv:r,normal:n}=e,{cache:l}=d.FT.getState();if(!l.has(this.variable)&&0==this.chunkIDs.length)return[0];if(this.chunkIDs.length>0){let e=[];for(let t of this.chunkIDs)e.push(l.get("".concat(this.variable,"_chunk_").concat(t)));({shape:a,stride:s}=e[0]),t=new Float32Array(e.reduce((e,t)=>e+t.data.length,0));let r=0;for(let a of e)t.set(a.data,r),r+=a.data.length}else({data:t,shape:a,stride:s}=l.get(this.variable));let i=(0,o.jT)({normal:n,uv:r}).map((e,t)=>null===e||null===a[t]?null:Math.round(e*a[t]-.5)),c=i.indexOf(null),u=s[c],h=null==i[0]?0:s[0]*i[0],x=null==i[1]?0:s[1]*i[1],m=null==i[2]?0:s[2]*i[2],p=[];for(let e=0;e<a[c];e++){let a=e*u+h+x+m;p.push(t[a])}return p}constructor(e){this.groupStore=e,this.variable="Default",this.dimNames=["","",""],this.chunkIDs=[]}}},1916:()=>{},2094:()=>{},2962:()=>{},3023:()=>{},3278:(e,t,a)=>{"use strict";a.d(t,{Bi:()=>u,Tk:()=>o,_z:()=>c,tz:()=>h});var s=a(5566),r=a(9691);function n(e){let t=["bytes","KB","MB","GB","TB","PB"],a=e,s=0;for(;a>=1024&&s<t.length-1;)a/=1024,s++;return"".concat(a.toFixed(2)," ").concat(t[s])}function l(e){return({int8:1,uint8:1,int16:2,uint16:2,int32:4,uint32:4,int64:8,uint64:8,float32:4,float64:8,bool:1})[e]||4}function i(e){return e.reduce((e,t)=>e*t,1)}async function o(e){let t=await e,a="contents"in t.store?t.store.contents():[],r=[];for(let e of a)if(e.path&&e.path.length>1&&"array"===e.kind){let a=await s.h(t.resolve(e.path.substring(1)),{kind:"array"}),o=l(a.dtype),c=i(a.shape),d=function(e,t){return e.reduce((e,a,s)=>e*Math.ceil(a/t[s]),1)}(a.shape,a.chunks),u=i(a.chunks),h=c*o,x=u*o,m=e.path.substring(1).split("/"),p=m.length>1?m.slice(0,-1).join("/"):void 0;r.push({name:e.path.substring(1),long_name:a.attrs.long_name,shape:a.shape,chunks:a.chunks,dtype:a.dtype,totalSize:h,totalSizeFormatted:n(h),chunkCount:d,chunkSize:x,chunkSizeFormatted:n(x),groupPath:p})}return r}function c(e){let t=l(e.dtype),a=i(e.shape);return[a*t,i(e.chunks)*t,e.chunks]}let d=["longitude","latitude","lat","lon","time","depth","height","altitude","x","y","z","t","level"];async function u(e){return(await e).filter(e=>!function(e){let t=e.toLowerCase();return d.some(e=>t===e)}(e.name)).filter(e=>1!=e.shape.length).map(e=>e.name).sort((e,t)=>e.localeCompare(t))}async function h(e){let t=await e,a="attrs"in t&&"description"in t.attrs?String(t.attrs.description):r.on.getState().initStore;return{title:"attrs"in t?"title"in t.attrs?String(t.attrs.title):"":null,description:a}}},3432:(e,t,a)=>{"use strict";a.d(t,{$:()=>c});var s=a(6496),r=a(4364),n=a(7832),l=a(7229),i=a(8279);let o=(0,l.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive relative overflow-hidden",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline",pink:"bg-linear-to-tr from-pink-500 to-yellow-500 text-white shadow-lg cursor-pointer"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function c(e){let{className:t,variant:a,size:l,asChild:c=!1,disabled:u,onPointerDown:h,children:x,disableRipple:m,...p}=e,f=c?n.DX:"button",[g,v]=r.useState([]),j=e=>{v(t=>t.filter(t=>t.key!==e))};return(0,s.jsxs)(f,{"data-slot":"button",className:(0,i.cn)(o({variant:a,size:l,className:t})),onPointerDown:e=>{if(null==h||h(e),m||u||2===e.button)return;let t=e.currentTarget.getBoundingClientRect(),a=2*Math.max(t.width,t.height),s=e.clientX-t.left-a/2,r=e.clientY-t.top-a/2,n=Date.now()+Math.random();v(e=>[...e,{key:n,x:s,y:r,size:a}])},disabled:u,...p,children:[!m&&(0,s.jsx)("span",{"aria-hidden":!0,className:"pointer-events-none absolute inset-0 z-0",children:g.map(e=>(0,s.jsx)(d,{info:e,onDone:j},e.key))}),(0,s.jsx)("span",{className:"relative z-10 inline-flex items-center gap-2",children:x})]})}function d(e){let{info:t,onDone:a}=e,{x:n,y:l,size:i,key:o}=t,[c,d]=r.useState(!1);return r.useEffect(()=>{let e=requestAnimationFrame(()=>d(!0));return()=>cancelAnimationFrame(e)},[]),(0,s.jsx)("span",{className:"absolute rounded-full",style:{left:n,top:l,width:i,height:i,backgroundColor:"currentColor",opacity:.25*!c,transform:c?"scale(2)":"scale(0)",transition:"transform 450ms ease-out, opacity 600ms ease-out"},onTransitionEnd:()=>a(o)})}},4114:()=>{},4735:()=>{},4759:(e,t,a)=>{"use strict";a.d(t,{NY:()=>b,PE:()=>g,QB:()=>f,Qt:()=>m,SB:()=>u,Td:()=>j,_8:()=>x,db:()=>y,jT:()=>h,kU:()=>w,lt:()=>c,mT:()=>p});var s=a(2331),r=a(9691),n=a(4391),l=a(5566),i=a(7835),o=a(1718);function c(e){if("Default"===e||!e||"string"!=typeof e||""===e.trim())return[1,0];let t=e.match(/^(\w+)\s+since\s+(.+)$/i);if(!t)throw Error('Invalid time unit format: expected "<unit> since <date>", got "'.concat(e,'"'));let[a,s,r]=t,n=s.toLowerCase(),l={millisecond:1,milliseconds:1,second:1e3,seconds:1e3,minute:6e4,minutes:6e4,hour:36e5,hours:36e5,day:864e5,days:864e5},i=n.endsWith("s")?n.slice(0,-1):n,o=void 0!==l[n]?n:i,c=r?new Date(r):new Date;if(!(o in l))throw Error('Unsupported time unit: "'.concat(s,'". Supported units: ').concat(Object.keys(l).join(", ")));return[l[o],c.getTime()]}let d=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function u(e,t){let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!t)return"bigint"==typeof e?e:null==e?void 0:e.toFixed(2);if("bigint"==typeof e){if(!t)return Number(e);try{let[s,r]=c(t),n=Number(e)*s,l=new Date(n+r);if(a)return"".concat(l.getDate()," ").concat(d[l.getMonth()]," ").concat(l.getFullYear());{let e=l.getDate(),t=l.getMonth()+1,a=l.getFullYear();return"".concat(String(e).padStart(2,"0"),"-").concat(String(t).padStart(2,"0"),"-").concat(a)}}catch(t){return e}}return t.match(/(degree|degrees|deg|°)/i)?e?"".concat(e.toFixed(2),"\xb0"):e:e?e.toFixed(2):e}function h(e){let{normal:t,uv:a}=e,s=r.on.getState().flipY;switch(!0){case 1===t.z:return[null,s?1-a.y:a.y,a.x];case -1===t.z:return[null,s?1-a.y:a.y,1-a.x];case 1===t.x:return[1-a.x,s?1-a.y:a.y,null];case -1===t.x:return[a.x,s?1-a.y:a.y,null];case 1===t.y:return[1-a.y,null,a.x];default:return[0,0,0]}}function x(e){return 1===Math.abs(e.x)?2:1===Math.abs(e.y)?1:1===Math.abs(e.z)?0:null}function m(e){let t=1/0,a=-1/0;for(let s=0;s<e.length;s++)t=e[s]<t?e[s]:t,a=e[s]>a?e[s]:a;return[t,a]}function p(e,t,a){let s=(t-e)/(a-1);return Array.from({length:a},(t,a)=>e+s*a)}function f(e,t){let{setLonExtent:a,setLatExtent:n,setLonResolution:l,setLatResolution:i,setOriginalExtent:o}=r.Ws.getState(),c=e.length>2?e.slice(1):e,d=!1;for(let e of c)if(e&&e.match(/(degree|degrees|deg|°)/i)){d=!0;break}if(d){let e=t.length>2?t.slice(1):t,r=e[0][0],c=e[0][e[0].length-1],d=e[1][0],u=e[1][e[1].length-1];a([d=d>180?d-360:d,u=u>180?u-360:u]),n([r,c]);let h=Math.abs(e[0][1]-e[0][0]);l(Math.abs(e[1][1]-e[1][0])),i(h),o(new s.IUQ(d,u,r,c))}else a([-180,180]),n([-90,90])}function g(e,t){let{uv:a,normal:s}=t,{data:r,shape:n,stride:l}=e,i=h({normal:s,uv:a}).map((e,t)=>null===e||null===n[t]?null:Math.round(e*n[t]-.5)),o=i.indexOf(null),c=l[o],d=null==i[0]?0:l[0]*i[0],u=null==i[1]?0:l[1]*i[1],x=null==i[2]?0:l[2]*i[2],m=[];for(let e=0;e<n[o];e++){let t=e*c+d+u+x;m.push(r[t])}return m}function v(e){return new Float16Array((0,n.Rq)(e).buffer)}function j(e){let{variable:t,is4D:a,idx4D:s,initStore:n,strides:l,dataShape:i,setStatus:c}=r.on.getState(),{arraySize:d,currentChunks:u}=r.SZ.getState(),{cache:h}=r.FT.getState(),x=e||n;if(h.has(a?"".concat(x,"_").concat(s,"_").concat(t):"".concat(x,"_").concat(t))){let e=h.get(a?"".concat(x,"_").concat(s,"_").concat(t):"".concat(x,"_").concat(t)),r=e.compressed;c(r?"Decompressing data...":null);let n=r?v(e.data):e.data;return c(null),n}{let e,r,n=new Float16Array(d),[m,p]=u.x,[f,g]=u.y,[j,b]=u.z;for(let c=j;c<b;c++)for(let d=f;d<g;d++)for(let u=m;u<p;u++){let p="z".concat(c,"_y").concat(d,"_x").concat(u),g=a?"".concat(x,"_").concat(s,"_").concat(t,"_chunk_").concat(p):"".concat(x,"_").concat(t,"_chunk_").concat(p),b=h.get(g),y=b.compressed?v(b.data):b.data;e||(e=b.shape,r=b.stride),(0,o.H9)(y,e,r,n,i,l,[c,d,u],[j,f,m])}return c(null),n}}function b(e){return Math.round(100*e)/100}async function y(e){let{cache:t}=r.FT.getState(),{initStore:a}=r.on.getState(),s="".concat(a,"_").concat(e,"_meta"),n=[],o=[];if(t.has(s)){let e=t.get(s),r=e._ARRAY_DIMENSIONS;if(r)for(let e of r){var c;let s=t.get("".concat(a,"_").concat(e)),r=t.get("".concat(a,"_").concat(e,"_meta"));n.push(null!=s?s:[0]),o.push(null!=(c=null==r?void 0:r.units)?c:null)}else for(let t of e.shape)n.push(Array(t).fill(0)),o.push("Default");return{dimNames:null!=r?r:Array(e.shape.length).fill("Default"),dimArrays:n,dimUnits:o}}{let c=await r.SZ.getState().currentStore;if(!c)throw Error("Failed to open Zarr store: ".concat(a));let d=await l.h(c.resolve(e),{kind:"array"}),u=d.attrs;u.shape=d.shape,t.set(s,u);let h=u._ARRAY_DIMENSIONS;if(h)for(let e of h){let s=await l.h(c.resolve(e),{kind:"array"}).then(e=>i.Jt(e)),r=await l.h(c.resolve(e),{kind:"array"}).then(e=>e.attrs);t.set("".concat(a,"_").concat(e),s.data),t.set("".concat(a,"_").concat(e,"_meta"),r),n.push(s.data),o.push(r.units)}else for(let e of d.shape)n.push(Array(e).fill(0)),o.push("Default");return{dimNames:null!=h?h:Array(d.shape.length).fill("Default"),dimArrays:n,dimUnits:o}}}function w(e){return e*Math.PI/180}},5190:(e,t,a)=>{"use strict";a.d(t,{zd:()=>eX,pH:()=>tm,PL:()=>J,hv:()=>e_,jG:()=>eQ,$D:()=>e5,f3:()=>tg,wi:()=>M,It:()=>tp,Rh:()=>Y,oU:()=>eo,Fp:()=>C,DM:()=>e2,Yp:()=>X,M:()=>ex,A:()=>P,de:()=>$,ut:()=>eT,CT:()=>tv,LC:()=>W,gj:()=>U,$m:()=>G});var s=a(6496),r=a(4364),n=a(6239),l=a(5826),i=a(3432),o=a(5286),c=a(8279);function d(e){let{delayDuration:t=0,...a}=e;return(0,s.jsx)(o.Kq,{"data-slot":"tooltip-provider",delayDuration:t,...a})}function u(e){let{...t}=e;return(0,s.jsx)(d,{children:(0,s.jsx)(o.bL,{"data-slot":"tooltip",...t})})}function h(e){let{...t}=e;return(0,s.jsx)(o.l9,{"data-slot":"tooltip-trigger",...t})}function x(e){let{className:t,sideOffset:a=0,children:r,...n}=e;return(0,s.jsx)(o.ZL,{children:(0,s.jsxs)(o.UC,{"data-slot":"tooltip-content",sideOffset:a,className:(0,c.cn)("bg-popover text-popover-foreground shadow-sm animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",t),...n,children:[r,(0,s.jsx)(o.i3,{className:"bg-popover fill-popover z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}let m=()=>{let[e,t]=(0,r.useState)(!1),{theme:a,setTheme:o,resolvedTheme:c}=(0,n.D)();(0,r.useEffect)(()=>{t(!0)},[]);let d=e?null!=a?a:c:void 0;return(0,s.jsxs)(u,{delayDuration:500,children:[(0,s.jsx)(h,{asChild:!0,children:(0,s.jsx)(i.$,{variant:"ghost",size:"icon",className:"size-10 cursor-pointer",onClick:()=>{"dark"===a?o("light"):o("dark")},children:e&&"dark"===d?(0,s.jsx)(l.PhE,{className:"size-6"}):(0,s.jsx)(l.DNQ,{className:"size-6"})})}),(0,s.jsx)(x,{side:"right",align:"start",children:"dark"===d?(0,s.jsx)("span",{children:"Switch to Light Mode"}):(0,s.jsx)("span",{children:"Switch to Dark Mode"})})]})};a(337);var p=a(2885),f=a(9691);let g=e=>{let{color:t="currentColor",size:a=24,...r}=e;return(0,s.jsxs)("svg",{width:a,height:a,viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r,children:[(0,s.jsx)("rect",{width:48,height:48,fill:"none",fillOpacity:.01}),(0,s.jsx)("path",{d:"M44 28V36L31 38.6M44 28L4 32M44 28V20M4 32V44L17 41.4M4 32V16M44 20V12L31 9.4M44 20L4 16M4 16V4L17 6.6M31 9.4V38.6M31 9.4L17 6.6M31 38.6L17 41.4M17 6.6V41.4",stroke:t,strokeWidth:4,strokeLinecap:"round",strokeLinejoin:"round"})]})},v=e=>{let{color:t="currentColor",size:a=24,...r}=e;return(0,s.jsx)("svg",{fill:t,height:a,width:a,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",...r,children:(0,s.jsx)("g",{id:"grid",children:(0,s.jsx)("g",{children:(0,s.jsx)("path",{d:"M23,24H0V1h23V24z M16,22h5v-5h-5V22z M9,22h5v-5H9V22z M2,22h5v-5H2V22z M16,15h5v-5h-5V15z M9,15h5v-5H9V15z M2,15h5v-5 H2V15z M16,8h5V3h-5V8z M9,8h5V3H9V8z M2,8h5V3H2V8z"})})})})};var j=a(1388),b=a(4206),y=a(1423);let w={fast:(0,s.jsx)(j.jXl,{className:"size-8"}),slow:(0,s.jsx)(b.hmj,{className:"size-8"}),potato:(0,s.jsx)(e=>{let{color:t="currentColor",size:a=24,...r}=e;return(0,s.jsxs)("svg",{fill:t,viewBox:"0 -2.22 104 104",xmlns:"http://www.w3.org/2000/svg",...r,children:[(0,s.jsx)("g",{id:"SVGRepo_bgCarrier",strokeWidth:0}),(0,s.jsx)("g",{id:"SVGRepo_tracerCarrier",strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("g",{id:"SVGRepo_iconCarrier",children:(0,s.jsx)("path",{id:"_0505-potato","data-name":"0505-potato",d:"M1009.923,990.113c-.468-.477-1.552-.336-2.058-.772-.818-.041-1.133-.584-2.058-.515-.967-.832-2.6-1-3.344-2.057a20.14,20.14,0,0,1-5.146,2.057c-3.339.346-5.763,1.609-9.773,1.287a14.079,14.079,0,0,1-4.888-1.544,25.134,25.134,0,0,1-10.033-2.058,24.474,24.474,0,0,1-5.916-3.087c-.707-.51-1.31-1.175-2.058-1.8a18.78,18.78,0,0,1-2.056-1.8c-.4-.443-.631-1.066-1.031-1.543-.374-.45-.927-.827-1.286-1.286-.2-.257-.315-.507-.514-.772-.13-.175-.421-.369-.514-.514-.06-.094.082-.448,0-.515a11.316,11.316,0,0,1-1.8-3.087,32.067,32.067,0,0,1-1.029-28.039,41.333,41.333,0,0,1,6.687-11.832c.229-.113.46-.226.516-.515a17.222,17.222,0,0,1,3.086-2.315c.388-.47,1.109-.6,1.543-1.029a1.814,1.814,0,0,1,1.544-1.029c.848-4.64,2.856-8.12,4.63-11.832.6-.845.994-1.693,1.544-2.573a11.571,11.571,0,0,0,1.543-2.572c1.224-1.433,2.464-2.852,3.6-4.373a43.582,43.582,0,0,0,3.6-3.087,88.834,88.834,0,0,1,23.923-10.547c1.928-.3,4.071-.387,6.174-.514.415.073.442-.243.77-.256h5.659c.783.5,2.025.548,2.83,1.029.9.3,1.39,1.011,2.573,1.029a5.394,5.394,0,0,0,2.316,1.544,4.236,4.236,0,0,0,2.058,1.543c2.671,2.816,5.3,5.674,7.717,8.747,1.54,1.2,2.3,3.184,3.6,4.63.176,1.2,1,1.742,1.286,2.83.71.663.659,2.086,1.286,2.83a78.378,78.378,0,0,1,.516,8.231c-.073,2.414-.673,4.3-.516,6.945a3.758,3.758,0,0,0-.515,2.316,3.5,3.5,0,0,0-.514,2.058c-.455,1.345-.932,2.669-1.285,4.116a15.3,15.3,0,0,0,3.085,1.285,14.454,14.454,0,0,0,2.831,1.544c1.278,1.293,3.13,2.014,4.115,3.6,1.475,1.1,2.226,2.92,3.344,4.373a30.112,30.112,0,0,1,1.8,8.232c.1,4.469-.806,7.941-1.544,11.575-.737,1.407-1.153,3.135-1.8,4.63-.435.68-.595,1.634-1.03,2.316-.355.673-1.172.885-1.287,1.8-1.05.234-1.358,1.212-2.571,1.286a11.923,11.923,0,0,1-2.315,1.285c-1.948,1.653-4.152,3.052-6.173,4.63-4.9,1.962-9.321,4.4-15.435,5.145q-.326,0-.647,0C1019.607,991.146,1015.065,990.331,1009.923,990.113Zm7.717-5.4a3.221,3.221,0,0,0,1.945.259,8.79,8.79,0,0,1,1.142,0c.688-1.542.543-3.915,2.572-4.116,1.608.32,1.733,2.155,1.286,3.857,3.659-.112,5.751-1.794,8.746-2.57a19.929,19.929,0,0,1,3.6-2.058,19.707,19.707,0,0,1,3.6-2.059c1.711-2.062,3.857-3.688,5.4-5.916a38.922,38.922,0,0,0,2.057-3.6c.551-1.421,1.47-2.475,2.057-3.858a30.762,30.762,0,0,0,1.544-9.775,16.025,16.025,0,0,0-2.573-5.146,26.527,26.527,0,0,0-16.206-6.945,20.117,20.117,0,0,0-3.649.117,21.379,21.379,0,0,1-3.295.141c-6.569,1.49-12.253,3.868-16.721,7.459a43.1,43.1,0,0,0-6.172,5.917,19.155,19.155,0,0,0-2.316,3.6c-.6.429-.661,1.4-1.03,2.058-.167.534-.96,1.76-.257,2.315a12.322,12.322,0,0,1,3.344-3.858c1.207-1.28,2.454-2.519,4.888-2.571.079.606.894.478.771,1.286-.112,1.943-1.872,2.243-2.572,3.6-.884,1.174-1.782,2.333-2.573,3.6a20.175,20.175,0,0,0-2.314,3.859c-.023,1.823-2.129,2.779-1.287,4.63,1.714.256,1.461-1.454,2.316-2.057.321-1.138,1.192-1.725,1.544-2.831,1.46-1.455,2.053-3.777,5.145-3.6.4.37.894.648,1.028,1.286.078,2.821-1.843,3.644-2.572,5.659a23.657,23.657,0,0,0-2.829,5.4c.791.75,1.152,1.934,2.573,2.057a16.087,16.087,0,0,1,1.8-5.144c.863-1.149,1.89-3.37,3.6-2.83,1.713,1.3-.438,3.091-.513,4.887a5.682,5.682,0,0,0-.772,2.571,8.784,8.784,0,0,0-.772,2.831c1.343.371,2.347,1.083,4.117,1.029.148-1.4.921-2.166,1.029-3.6.814-.73.895-2.191,2.058-2.573C1019.822,979.168,1017.907,982.554,1017.64,984.71Zm-22.894-1.543c1.186-.614,3.19-.411,3.858-1.544a28.449,28.449,0,0,1-4.629-11.318v-5.659a28.788,28.788,0,0,1,9.774-16.721,35.439,35.439,0,0,1,17.749-8.746c5.4.174,9.793-.668,14.919-.771.618-.925.624-2.463.771-3.858.635-.824.65-2.267,1.031-3.344.4-1.144.724-2.361,1.028-3.6.2-2.91.589-6.5-.257-9-.774-.856-1.124-2.136-2.057-2.831a16.866,16.866,0,0,0-1.544-3.344c-.224-1.4-1.628-1.63-1.8-3.087-.728-.987-1.343-2.087-2.059-3.087a33.424,33.424,0,0,0-10.031-9.775,2.1,2.1,0,0,1-1.544-.514,30.359,30.359,0,0,0-4.5.11,34.581,34.581,0,0,1-3.734.147c-7.433,4.057-16.656,6.324-23.409,11.062-1.778,1.518-3.814,2.805-5.144,4.372-.508.6-.829,1.417-1.286,2.058-.219.306-.537.423-.771.772-.184.272-.331.733-.516,1.029-1.324,2.127-2.453,4.242-3.6,6.43a30.176,30.176,0,0,1-1.285,3.087c.033,1.156-1.054,2.538-.257,3.6.267-1.706,1.153-2.791,1.543-4.373.941-1.032.712-3.234,2.573-3.344,1.854.061,1.341,2.992.772,4.115-.319,1.741-.967,3.151-1.287,4.888-.361.668-.356,1.7-.772,2.315a10.729,10.729,0,0,1-.77,2.316c-.311,1.747-.574,3.542-2.574,3.6-1.325-.217-2.057-1.028-1.8-2.829-.992.344-1.185-.31-1.543-.516-.293-.168-.546-.059-.772-.257-.172-.151.032-.734-.513-.514-1.22,1.009-2.381,2.077-3.6,3.087-1.518,3.54-3.956,6.161-4.887,10.289.221.486.4.238.627-.008.172-.185.377-.368.658-.25.923-.15,1.246.3,1.8.516.755,2.092-.46,4.072-1.029,5.658-.481,2.008-1.356,3.618-1.8,5.659.3,1.076.139,2.606,1.03,3.087,1.313-2.117,1.455-5.4,4.63-5.659.942.088,1.178.881,1.544,1.544-.967,3.834-2.742,6.861-3.344,11.06a2.555,2.555,0,0,0,.771,1.543c.146.627.22,1.324,1.029,1.287.244-1.9,1.138-3.151,1.544-4.888,1.094-1.134,1.566-2.892,3.6-3.086.908.688.766,1.534.257,2.572-.8.569-.528,2.215-1.029,3.087a69.929,69.929,0,0,0-1.286,6.945c.9.819,1.6,1.83,3.086,2.057.921-2.939.594-7.123,3.86-7.717a2.316,2.316,0,0,1,1.543,1.543c-.667,2.764-1.719,5.142-1.8,8.49,1.8.257,2.959,1.156,4.886,1.287.691-1.883.329-4.818,2.831-4.889,2.415.473.349,4.115,1.03,5.66,2.02.527,4.83-.056,6.686-.516C993.8,982.4,993.823,983.232,994.746,983.167Zm44.244-12.089c-.6-.085-.249-1.123-.77-1.287a18.041,18.041,0,0,1,0-3.087,1.3,1.3,0,0,0,.77-.771h1.543c.008.25.316.2.516.257,1.613,1.438,1.852,5.676-1.029,5.917C1039.937,971.5,1038.8,971.954,1038.99,971.078Zm-11.318-3.6c-.9-.9-1.151-2.451-1.03-4.373a2.644,2.644,0,0,1,2.83-1.029c1.592,1.4,3.757,5.679,1.544,7.718q-.231.02-.442.019A2.783,2.783,0,0,1,1027.672,967.476Zm-44.244-2.058c-.42-.319-.756-.056-1.178.207a1.716,1.716,0,0,1-1.4.309c-.391-.724-1.218-1.011-1.029-2.315.4-2.246,3.48-3.114,5.658-2.059a8.414,8.414,0,0,1,2.573,6.174c-.588.612-.937,1.464-2.057,1.543C984.065,969.067,983.93,967.059,983.428,965.417ZM1037.7,959.5c-1.094-.706-.922-2.678-1.286-4.116-.206-.177-.3-.617-.515-.772-.5-.356-1.444-.041-2.057-.514-.239-.185-.14-.722-.514-.772-.183-1.811.995-2.262,2.315-2.571,1.08-.137,1.438.448,2.315.514,1.721,1.43,3.562,4.978,2.059,7.975a5.406,5.406,0,0,1-1.752.281C1038.089,959.526,1037.9,959.518,1037.7,959.5Zm-20.836,0c-1.327-1.047-2.888-5.073-.77-6.431,2.28.635,2.864,2.966,3.343,5.4a4.477,4.477,0,0,0-.772,1.029Zm-32.412-11.832c-1.529-.357-2.9-.877-2.829-2.831.031-1.426,1.235-1.68,2.315-2.058,2.871.3,4.713,1.633,5.145,4.373a3.021,3.021,0,0,1-1.286,2.058q-.177.014-.339.014C985.94,949.226,985.322,948.324,984.456,947.669Zm-7.2-4.889c-1.657-1.6-.049-4.469.257-6.43.566-2.179,1.418-4.07,2.057-6.174.9-.923,2.393-2.275,3.6-.772-.416,2.844-1.5,5.012-2.057,7.718-.966,2.016-.256,5.7-3.235,5.7A4.408,4.408,0,0,1,977.254,942.781Zm23.923-4.115v-2.058c.3-.041.216-.469.258-.771a23.376,23.376,0,0,0,1.8-2.058c.369-.151.668-.072,1.03-.256.13-.068.411-.479.513-.516a1.3,1.3,0,0,1,.463.018c.238.032.485.065.567-.018.014-.013-.012-.256,0-.256a3.007,3.007,0,0,1,2.831,1.542c-.391,2.1-3.355,1.621-3.86,3.6-.208,1.752,1.442,1.646,1.287,3.344a2.42,2.42,0,0,1-1.689.746C1002.808,941.984,1001.389,940.261,1001.177,938.666Zm24.694-7.974a1.937,1.937,0,0,1-1.543-1.544c-1.29-.34-2.338-.922-2.572-2.316a3.5,3.5,0,0,1,4.63-1.029c.551.32.743,1.046,1.028,1.544a3.947,3.947,0,0,1,.773,1.8c-.429.343-.4,1.144-.773,1.544a7.79,7.79,0,0,0-.981.133A1.74,1.74,0,0,1,1025.871,930.692Zm-16.721-12.605h-2.571c-.754-.035-1.012.3-1.8.516a2.763,2.763,0,0,1-2.571-.772,5.64,5.64,0,0,1,0-2.058c.891-1.253,2.914-1.373,4.373-2.057h4.115c1.211.675,2.508,1.264,2.574,3.087-.1,1.187-.986,1.586-1.8,2.057q-.093.008-.178.008C1010.316,918.867,1010.09,918.122,1009.15,918.086Zm-21.349-4.63c-.09-2.687,5.834-3.321,6.43-.772.222,1.844-1.693,2.854-3.491,2.854C989.284,915.539,987.906,914.876,987.8,913.457Zm29.066-9a6.3,6.3,0,0,1-1.287-1.287c-.161-3.534,2.662-4.5,6.432-4.373.357.757,1.256.974,1.286,2.058-.122,1.591-1.142,2.29-2.572,2.571-1.141.344-1.919,1.051-3.4,1.052C1017.178,904.475,1017.027,904.469,1016.868,904.454Z",transform:"translate(-953.776 -891.592)"})})]})},{className:"size-8"})},S=()=>{let{setDPR:e}=f.on.getState(),[t,a]=(0,r.useState)("fast"),n=(0,r.useRef)(1);return(0,r.useEffect)(()=>{n.current=window.devicePixelRatio||1},[]),(0,s.jsxs)(y.AM,{children:[(0,s.jsx)(y.Wv,{asChild:!0,children:(0,s.jsx)(i.$,{variant:"ghost",size:"icon",className:"size-10 cursor-pointer",children:w[t]})}),(0,s.jsx)(y.hl,{side:"right",className:"flex items-center p-2 w-auto",children:Object.keys(w).map((t,r)=>(0,s.jsx)(i.$,{variant:"ghost",size:"icon",className:"size-10 cursor-pointer",onClick:()=>{a(t),e(n.current/2**r)},children:w[t]},"performance_".concat(r)))})]})},N=e=>{let{className:t}=e;return(0,s.jsxs)("svg",{viewBox:"0 0 100 100",className:t,"aria-hidden":"true",focusable:"false",children:[(0,s.jsx)("circle",{cx:"50",cy:"20",r:"12",fill:"#9CA3AF"}),(0,s.jsx)("circle",{cx:"78.53",cy:"40.73",r:"12",fill:"#EF4444"}),(0,s.jsx)("circle",{cx:"67.63",cy:"74.27",r:"12",fill:"#10B981"}),(0,s.jsx)("circle",{cx:"32.37",cy:"74.27",r:"12",fill:"#F59E0B"}),(0,s.jsx)("circle",{cx:"21.47",cy:"40.73",r:"12",fill:"#EC4899"})]})},C=r.memo(function(){let{isFlat:e,plotOn:t}=(0,f.on)((0,p.k)(e=>({isFlat:e.isFlat,plotOn:e.plotOn}))),{resetCamera:a,useOrtho:n,setResetCamera:l,setUseOrtho:o}=(0,f.Ws)((0,p.k)(e=>({resetCamera:e.resetCamera,useOrtho:e.useOrtho,setResetCamera:e.setResetCamera,setUseOrtho:e.setUseOrtho}))),[d,b]=(0,r.useState)(!0),y=(0,r.useRef)(null),w=G("--text-plot");return(0,s.jsxs)("nav",{className:"navbar",ref:y,children:[(0,s.jsxs)(u,{delayDuration:500,children:[(0,s.jsx)(h,{asChild:!0,children:(0,s.jsx)(i.$,{variant:"ghost",size:"icon",className:"navbar-trigger size-10","aria-expanded":d,onClick:()=>b(e=>!e),children:(0,s.jsx)(N,{className:"navbar-trigger-icon rotating size-6"})})}),(0,s.jsx)(x,{side:"right",align:"start",children:d?"Close navigation":"Open navigation"})]}),(0,s.jsx)("div",{className:(0,c.cn)("navbar-content",d?"open":"closed"),children:(0,s.jsxs)("div",{className:"navbar-left",children:[t&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(u,{delayDuration:500,children:[(0,s.jsx)(h,{asChild:!0,children:(0,s.jsx)(i.$,{variant:"ghost",size:"icon",className:"size-10 cursor-pointer",tabIndex:0,onClick:()=>l(!a),children:(0,s.jsx)(j.vRP,{className:"size-8"})})}),(0,s.jsx)(x,{side:"right",align:"start",children:(0,s.jsx)("span",{children:"Reset camera view"})})]}),(0,s.jsx)(i.$,{variant:"ghost",size:"icon",className:"cursor-pointer",onClick:()=>o(!n),children:n?(0,s.jsx)(v,{color:w,className:"size-8"}):(0,s.jsx)(g,{color:w,className:"size-8"})})]}),t&&!e&&(0,s.jsx)(X,{}),t&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(tg,{}),(0,s.jsx)(S,{})]}),(0,s.jsx)(m,{})]})})]})});var k=a(5956),A=a(5490);a(2962);let M=()=>(0,s.jsxs)("div",{className:"footer",children:[(0,s.jsx)("div",{className:"large-screen-logo",children:(0,s.jsx)("a",{href:"https://www.bgc-jena.mpg.de/en/bgi/mdi",target:"_blank",rel:"noreferrer",children:(0,s.jsx)(k.default,{src:A.t4,alt:"logoMPI",height:32})})}),(0,s.jsx)("div",{className:"small-screen-logo",children:(0,s.jsx)("a",{href:"https://www.bgc-jena.mpg.de/en/bgi/mdi",target:"_blank",rel:"noreferrer",children:(0,s.jsx)(k.default,{src:A.kU,alt:"logoBGC",height:32})})}),(0,s.jsx)("div",{className:"expandable-text",children:(0,s.jsxs)("span",{children:["Ⓒ ",(0,s.jsx)("a",{href:"https://www.bgc-jena.mpg.de/person/jpoehls/2206",target:"_blank",rel:"noreferrer",children:"Jeran Poehls"}),"&",(0,s.jsx)("a",{href:"https://lazarusa.github.io/",target:"_blank",rel:"noreferrer",children:"Lazaro Alonso"})]})}),(0,s.jsx)("div",{className:"small-screen-logo",children:(0,s.jsx)("a",{href:"https://www.bgc-jena.mpg.de/en/bgi/home",target:"_blank",rel:"noreferrer",children:(0,s.jsx)(k.default,{src:A.Cx,alt:"logoMPI",className:"small-screen-logo",height:32})})})]});a(5724);var z=a(3490),D=a(1427);function E(e){let{...t}=e;return(0,s.jsx)(z.bL,{"data-slot":"dialog",...t})}function R(e){let{...t}=e;return(0,s.jsx)(z.l9,{"data-slot":"dialog-trigger",...t})}function F(e){let{...t}=e;return(0,s.jsx)(z.ZL,{"data-slot":"dialog-portal",...t})}function T(e){let{className:t,...a}=e;return(0,s.jsx)(z.hJ,{"data-slot":"dialog-overlay",className:(0,c.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...a})}function L(e){let{className:t,children:a,showCloseButton:r=!0,...n}=e;return(0,s.jsxs)(F,{"data-slot":"dialog-portal",children:[(0,s.jsx)(T,{}),(0,s.jsxs)(z.UC,{"data-slot":"dialog-content",className:(0,c.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...n,children:[a,r&&(0,s.jsxs)(z.bm,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent cursor-pointer data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,s.jsx)(D.A,{}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function _(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"dialog-header",className:(0,c.cn)("flex flex-col gap-2 text-center sm:text-left",t),...a})}function O(e){let{className:t,...a}=e;return(0,s.jsx)(z.hE,{"data-slot":"dialog-title",className:(0,c.cn)("text-lg leading-none font-semibold",t),...a})}let V=["long_name","description","units","_ARRAY_DIMENSIONS"];function I(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return 0===Object.keys(e).length?[]:[...t.filter(t=>t in e),...Object.keys(e).filter(e=>!t.includes(e))].map(a=>{let n=e[a],l=t.includes(a);return(0,s.jsxs)(r.Fragment,{children:[(0,s.jsxs)("div",{className:"font-mono ".concat(l?"font-semibold":"text-[var(--muted-foreground)]"),children:[a,":"]}),(0,s.jsx)("div",{className:"font-mono whitespace-pre-wrap break-words md:col-start-2 md:row-start-auto pl-4 md:pl-2",style:{overflowWrap:"anywhere"},children:"object"==typeof n?JSON.stringify(n):String(n)})]},a)})}let B=e=>{let{data:t,variable:a}=e;return(0,s.jsxs)(E,{children:[(0,s.jsxs)(u,{delayDuration:500,children:[(0,s.jsx)(h,{asChild:!0,children:(0,s.jsx)(R,{asChild:!0,children:(0,s.jsx)(i.$,{variant:"Attributes"==a?"default":"ghost",size:"icon",className:"size-6 w-auto cursor-pointer px-2",tabIndex:0,children:a})})}),(0,s.jsx)(x,{side:"bottom",align:"start",children:(0,s.jsx)("span",{children:"Show Variable Attributes"})})]}),(0,s.jsxs)(L,{"aria-describedby":"Metadata Information for variable",className:"metadata-dialog",children:[(0,s.jsx)(_,{children:(0,s.jsx)(O,{children:"Attributes"})}),(0,s.jsx)("div",{className:"max-h-[60vh] text-[12px] overflow-y-auto break-words p-0",children:(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-[max-content_1fr] gap-x-1 gap-y-[6px]",children:I(t,V)})})]})]})};a(2094);let P=e=>{let{height:t,setHeight:a}=e,[n,l]=(0,r.useState)(!1),[i,o]=(0,r.useState)(window.innerHeight-50);(0,r.useEffect)(()=>{let e=()=>{o(window.innerHeight-100)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let c=(0,r.useCallback)(e=>{requestAnimationFrame(()=>{a(e)})},[a,i]),d=(0,r.useCallback)(e=>{switch(e.key){case"ArrowUp":e.preventDefault(),c(t-10);break;case"ArrowDown":e.preventDefault(),c(t+10);break;case"Home":e.preventDefault(),c(50);break;case"End":e.preventDefault(),c(i)}},[t,i,c]),u=e=>{e.preventDefault(),l(!0)},h=(0,r.useCallback)(e=>{n&&(e.preventDefault(),c("touches"in e?e.touches[0].clientY:e.clientY))},[n,c]),x=(0,r.useCallback)(()=>{l(!1)},[]),m=(0,r.useCallback)(()=>{n&&l(!1)},[n]);return(0,r.useEffect)(()=>(n&&(document.addEventListener("mousemove",h),document.addEventListener("mouseup",x),document.addEventListener("touchmove",h,{passive:!1}),document.addEventListener("touchend",x),document.addEventListener("touchcancel",x),window.addEventListener("resize",m)),()=>{document.removeEventListener("mousemove",h),document.removeEventListener("mouseup",x),document.removeEventListener("touchmove",h),document.removeEventListener("touchend",x),document.removeEventListener("touchcancel",x),window.removeEventListener("resize",m)}),[n,h,x,m]),(0,s.jsx)("div",{className:"resize-bar",onMouseDown:u,onTouchStart:u,onKeyDown:d,style:{top:"".concat(t,"px")},role:"slider","aria-label":"Resize plot height","aria-valuemin":50,"aria-valuemax":i,"aria-valuenow":t,tabIndex:0})};a(4114);let U=e=>{let{scale:t,setScale:a}=e,[n,l]=(0,r.useState)(!1),i=(0,r.useRef)(null),o=e=>{n&&(e.preventDefault(),a(Math.min(Math.max(t+(i.current?(i.current-e.clientY)/100:0),.1),10)))},c=()=>{l(!1)};return(0,r.useEffect)(()=>(n&&(document.addEventListener("mousemove",o),document.addEventListener("mouseup",c)),()=>{document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",c)}),[n]),(0,s.jsx)("div",{className:"yScaler",onMouseDown:e=>{e.preventDefault(),l(!0),i.current=e.clientY},onMouseUp:c})},W=e=>{let{scale:t,setScale:a}=e,[n,l]=(0,r.useState)(!1),i=(0,r.useRef)(null),o=e=>{n&&(e.preventDefault(),a(Math.min(Math.max(t+(i.current?(i.current-e.clientX)/1e3:0),.1),2)))},c=()=>{l(!1)};return(0,r.useEffect)(()=>(n&&(document.addEventListener("mousemove",o),document.addEventListener("mouseup",c)),()=>{document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",c)}),[n]),(0,s.jsx)("div",{className:"xScaler",onMouseDown:e=>{e.preventDefault(),l(!0),i.current=e.clientX},onMouseUp:c})};function Y(){let{progress:e,status:t}=(0,f.on)((0,p.k)(e=>({progress:e.progress,status:e.status})));return t&&(0,s.jsxs)("div",{className:"loading-container",children:[(0,s.jsx)("div",{className:"loading",children:t}),(0,s.jsx)("div",{className:"progress-bar",style:{width:"".concat(e,"%")}})]})}a(8717);let G=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",[a,s]=(0,r.useState)(t);return(0,r.useEffect)(()=>{let r=()=>getComputedStyle(document.documentElement).getPropertyValue(e).trim(),n=()=>{let e=r();(e||!a)&&s(e||t)};n(),r()||setTimeout(n,100);let l=new MutationObserver(e=>{for(let t of e)"data-theme"===t.attributeName&&n()});return l.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>l.disconnect()},[e,t]),a};a(4735);let $=e=>{let{onClick:t}=e;return(0,s.jsxs)("div",{className:"lineplot-tab",onClick:t,children:[(0,s.jsx)("div",{className:"plottab-line"}),(0,s.jsx)("div",{className:"plottab-line"}),(0,s.jsx)("div",{className:"plottab-line"})]})};var Z=a(9917);a(1916);let X=()=>{let{selectTS:e,resetAnim:t,animate:a,plotType:r,displaceSurface:n,setSelectTS:l,setResetAnim:o}=(0,f.Ws)((0,p.k)(e=>({selectTS:e.selectTS,resetAnim:e.resetAnim,animate:e.animate,plotType:e.plotType,displaceSurface:e.displaceSurface,setSelectTS:e.setSelectTS,setResetAnim:e.setResetAnim}))),c="sphere"===r&&!n,{setError:d}=f.$U.getState();return(0,s.jsx)("div",{className:"selectTS",style:{display:a?"none":""},onClick:()=>d(c?"tsException":null),children:(0,s.jsxs)(u,{delayDuration:500,children:[(0,s.jsx)(h,{asChild:!0,children:(0,s.jsx)(i.$,{variant:"ghost",size:"icon",className:"size-10 cursor-pointer",disabled:c,onClick:()=>{o(!t),l(!e)},children:(0,s.jsx)(Z.Psu,{className:"size-6",style:{color:e?"gold":"var(--text-plot)",filter:e?"drop-shadow(0px 0px 10px gold)":""}})})}),(0,s.jsx)(x,{side:"right",align:"start",children:(0,s.jsx)("p",{style:{maxWidth:220},children:"While active, click the volume to view 1D transects through the given dimension."})})]})})};var q=a(2849),H=a(3628);a(775);var K=a(4759);let Q={Mean:"Mean",Min:"Min",Max:"Max",StDev:"StDev",LinearSlope:"Slope",Mean3D:"Local Mean",Min3D:"Local Min",Max3D:"Local Max",StDev3D:"Local StDev",Mean2D:"Local Mean",Min2D:"Local Min",Max2D:"Local Max",StDev2D:"Local StDev",Correlation2D:"R",Correlation3D:"Local R",TwoVarLinearSlope2D:"Slope",TwoVarLinearSlope3D:"Local Slope",Covariance2D:"Covariance",Covariance3D:"Covariance",CUMSUM3D:"Cumulative Sum"},J=e=>{let{units:t,metadata:a,valueScales:n}=e,{colormap:l,variable:i}=(0,f.on)((0,p.k)(e=>({colormap:e.colormap,variable:e.variable}))),{cScale:o,cOffset:c,setCScale:d,setCOffset:u}=(0,f.Ws)((0,p.k)(e=>({cScale:e.cScale,cOffset:e.cOffset,setCScale:e.setCScale,setCOffset:e.setCOffset}))),{variable2:h,analysisMode:x,operation:m,kernelOperation:g,execute:v}=(0,f.r2)((0,p.k)(e=>({variable2:e.variable2,analysisMode:e.analysisMode,operation:e.operation,kernelOperation:e.kernelOperation,execute:e.execute}))),j=(0,r.useRef)(null),b=(0,r.useRef)(!1),y=(0,r.useRef)({x:null,y:null}),{origMin:w,origMax:S}=(0,r.useMemo)(()=>({origMin:(0,K.NY)(n.minVal),origMax:(0,K.NY)(n.maxVal)}),[n]),N=S-w,C=(0-w)/N,[k,A]=(0,r.useState)(5),[M,z]=(0,r.useState)(w),[D,E]=(0,r.useState)(S),R=(0,r.useRef)({min:null,max:null}),F=(0,r.useMemo)(()=>{let e=[],t=l.source.data.data;for(let a=0;a<t.length/4;a++){let s=4*a,r="rgba(".concat(t[s],", ").concat(t[s+1],", ").concat(t[s+2],", ").concat(t[s+3]," )");e.push(r)}return e},[l]),[T,L]=(0,r.useMemo)(()=>[(0,K.mT)(0,100,k),(0,K.mT)(M,D,k)],[k,M,D]),_=e=>{if(!b.current)return;(null===y.current.x||null===y.current.y)&&(y.current.x=e.clientX,y.current.y=e.clientY),(null===R.current.min||null===R.current.max)&&(R.current.min=M,R.current.max=D);let t=(y.current.x-e.clientX)/100,a=R.current.min,s=R.current.max;z((0,K.NY)(a+N*t)),E((0,K.NY)(s+N*t))},O=()=>{b.current=!1,y.current={x:null,y:null},R.current={min:null,max:null},document.removeEventListener("mousemove",_),document.removeEventListener("mouseup",O)};(0,r.useEffect)(()=>()=>{document.removeEventListener("mousemove",_),document.removeEventListener("mouseup",O)},[]),(0,r.useEffect)(()=>{let e=D-M,t=-(M-w)/(D-M);u(t+=(0-M)/e-C),d(N/e)},[M,D]),(0,r.useEffect)(()=>{z(w),E(S)},[S,w]),(0,r.useEffect)(()=>{if(j.current){let e=j.current.getContext("2d");e&&F.forEach((t,a)=>{e.fillStyle=t,e.fillRect(2*a,0,2,24)})}},[F]);let V=(0,r.useMemo)(()=>{if(!x)return"[".concat(t,"]");{let e=Q["Convolution"===m?g:m];return"Default"!=h?"+ ".concat(h," (").concat(e,")"):"[".concat(t,"] (").concat(e,")")}},[x,v]);return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"colorbar",children:[(0,s.jsx)("input",{type:"number",className:"text-[14px] font-semibold",style:{left:"0%",top:"100%",position:"absolute",width:"".concat(8*String(M).length,"px"),transform:"translateX(-50%)",textAlign:"right",minWidth:"30px"},value:M,onChange:e=>z((0,K.NY)(parseFloat(e.target.value)))}),Array.from({length:k}).map((e,t)=>0==t||t==k-1?null:(0,s.jsx)("p",{style:{left:"".concat(T[t],"%"),top:"100%",position:"absolute",transform:"translateX(-50%)"},children:L[t].toFixed(2)},t)),(0,s.jsx)("input",{type:"number",className:"text-[14px] font-semibold",style:{left:"100%",top:"100%",position:"absolute",width:"".concat(9*String(D).length+1,"px"),transform:"translateX(-50%)",textAlign:"right",minWidth:"30px"},value:D,onChange:e=>E((0,K.NY)(parseFloat(e.target.value)))}),(0,s.jsx)("canvas",{id:"colorbar-canvas",ref:j,width:512,height:24,onMouseDown:()=>{b.current=!0,document.addEventListener("mousemove",_),document.addEventListener("mouseup",O)}}),(0,s.jsxs)("p",{className:"colorbar-title",style:{position:"absolute",top:"-24px",left:"50%",transform:"translateX(-50%)"},children:[(0,s.jsx)(B,{data:a,variable:i}),"".concat(V)]}),(1!=o||0!=c)&&(0,s.jsx)(q.kmZ,{size:25,style:{position:"absolute",top:"-25px",cursor:"pointer"},onClick:()=>{z(w),E(S)}}),(0,s.jsxs)("div",{style:{position:"absolute",right:"0%",bottom:"100%",display:"flex",width:"10%",justifyContent:"space-around"},children:[(0,s.jsx)(H.iu5,{className:"cursor-pointer",onClick:()=>A(Math.max(k-1,2))}),(0,s.jsx)(H.OiG,{className:"cursor-pointer",onClick:()=>A(Math.min(k+1,10))})]})]})})};var ee=a(1541),et=a(5566);function ea(e){let{className:t,type:a,...r}=e;return(0,s.jsx)("input",{type:a,"data-slot":"input",className:(0,c.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 checkbox:h-4  w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...r})}var es=a(3882);async function er(e,t){var a;let s=e.length,r=[],n={};for(let t=0;t<s;t++){let a=e[t];if(".zarray"===a.name||".zattrs"===a.name||"zarr.json"===a.name){let e=a.webkitRelativePath,t=e.split("/");t.shift(),e=t.join("/"),r.push("/"+e)}}for(let e of r){let a=await t.get(e);n[e.slice(1)]=(0,es.eg)(a)}let l={};for(let[e,t]of Object.entries({metadata:n,zarr_consolidated_format:1}.metadata))l["/".concat(e)]=t;return{async get(e,a){if(l[e])return(0,es.kj)(l[e]);let s=await t.get(e,a);if((e.endsWith(".zarray")||e.endsWith(".zgroup")||e.endsWith(".zattrs")||e.endsWith("zarr.json"))&&s){let t=(0,es.eg)(s);l[e]=t}return s},getRange:null==(a=t.getRange)?void 0:a.bind(t),contents(){let e=[];for(let[t,a]of Object.entries(l)){let s=t.split("/"),r=s.pop(),n=s.join("/")||"/";".zarray"===r&&e.push({path:n,kind:"array"}),".zgroup"===r&&e.push({path:n,kind:"group"}),"zarr_format"in a&&3===a.zarr_format&&e.push({path:n,kind:a.node_type})}return e}}}let en=e=>{let{setShowLocal:t,setOpenVariables:a,setInitStore:r}=e,n=(0,f.SZ)(e=>e.setCurrentStore),{setStatus:l}=f.on.getState(),i=async e=>{let s=e.target.files;if(!s||0===s.length)return void l(null);let i=new Map,o=s[0].webkitRelativePath.split("/")[0];for(let e=0;e<s.length;e++){let t=s[e],a=t.webkitRelativePath.substring(o.length+1);a&&i.set("/"+a,t)}let c={async get(e){let t=i.get(e),a=await (null==t?void 0:t.arrayBuffer());return a?new Uint8Array(a):void 0}};try{let e=await ee.x(c);"contents"in e||(e=await er(s,c));let i=await et.h(e,{kind:"group"});n(i),t(!1),a(!0),r("local_".concat(o)),l(null)}catch(e){l(null),e instanceof Error?console.log("Error opening Zarr store: ".concat(e.message)):console.log("An unknown error occurred when opening the Zarr store.")}};return(0,s.jsx)("div",{children:(0,s.jsx)(ea,{type:"file",id:"filepicker",className:"hover:drop-shadow-md hover:scale-[110%]",style:{width:"200px",cursor:"pointer"},directory:"",webkitdirectory:"true",onChange:i})})};function el(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"card",className:(0,c.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...a})}function ei(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"card-content",className:(0,c.cn)("px-6",t),...a})}a(6610);let eo=()=>{let[e,t]=(0,r.useState)(!1);return(0,s.jsxs)(el,{className:"panel-container",children:[(0,s.jsx)(eQ,{setOpenVariables:t}),(0,s.jsx)(eT,{openVariables:e,setOpenVariables:t}),(0,s.jsx)(ex,{}),(0,s.jsx)(e_,{}),(0,s.jsx)(eX,{}),(0,s.jsx)(e2,{}),(0,s.jsx)(tm,{})]})};var ec=a(8274),ed=a(765);let eu=["volume","point-cloud","sphere","flat"],eh={volume:(0,s.jsx)(ec.rxA,{className:"size-8"}),"point-cloud":(0,s.jsx)(ed.n37,{className:"size-8"}),sphere:(0,s.jsx)(ec.sXn,{className:"size-8"}),flat:(0,s.jsx)(j.rtt,{className:"size-8"})},ex=()=>{let{plotType:e,setPlotType:t,setUseOrtho:a}=(0,f.Ws)((0,p.k)(e=>({plotType:e.plotType,setPlotType:e.setPlotType,setUseOrtho:e.setUseOrtho}))),{isFlat:n,variable:l}=(0,f.on)((0,p.k)(e=>({isFlat:e.isFlat,variable:e.variable}))),[o,c]=(0,r.useState)("left"),{dataShape:d,is4D:m}=(0,f.on)((0,p.k)(e=>({dataShape:e.dataShape,is4D:e.is4D}))),g=(0,r.useMemo)(()=>m?d.reduce((e,t)=>e*t,1)/d[0]:d.reduce((e,t)=>e*t,1),[d,m]);return(0,r.useEffect)(()=>{let e=()=>{c(window.innerWidth<768?"top":"left")};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,s.jsxs)(y.AM,{children:[(0,s.jsx)(y.Wv,{asChild:!0,children:(0,s.jsx)("div",{style:"Default"===l?{pointerEvents:"none"}:{},children:(0,s.jsxs)(u,{delayDuration:500,children:[(0,s.jsx)(h,{asChild:!0,children:(0,s.jsx)("div",{children:(0,s.jsx)(i.$,{variant:"ghost",size:"icon",className:"cursor-pointer hover:scale-90 transition-transform duration-100 ease-out",tabIndex:0,"aria-label":"Select plot type",style:{color:"Default"==l?"var(--text-disabled)":""},children:eh[e]})})}),(0,s.jsx)(x,{side:"left"===o?"left":"top",align:"left"===o?"start":"center",children:(0,s.jsx)("span",{children:"Change plot type"})})]})})}),(0,s.jsx)(y.hl,{side:o,className:"flex flex-col items-center min-w-[48px] max-w-[72px] w-[56px] p-2 mb-1",children:eu.map((r,l)=>{if(l<2&&n)return null;{let n="point-cloud"==r&&g>3e7,l=(0,s.jsx)(i.$,{variant:e===r?"default":"ghost",className:"mb-2 w-12 h-12 flex items-center ".concat(n?"bg-amber-400 hover:bg-amber-200":null," cursor-pointer justify-center transform transition-transform duration-100 ease-out hover:scale-90"),onClick:()=>{t(r),"flat"==r&&a(!0)},"aria-label":"Select ".concat(r),children:eh[r]},r);return n?(0,s.jsxs)(u,{open:!0,children:[(0,s.jsx)(h,{asChild:!0,children:(0,s.jsx)("div",{children:l},"pc-warning")}),(0,s.jsx)(x,{side:"left",children:"Expect poor performance"})]},"pc-warning-tooltip"):l}})})]})};var em=a(9533),ep=a(6061),ef=a(4042);let eg=r.forwardRef((e,t)=>{let{className:a,defaultValue:n,value:l,min:i=0,max:o=100,step:d=1,minStepsBetweenThumbs:u=1,...h}=e,x=r.useMemo(()=>Array.isArray(l)?l:Array.isArray(n)?n:[i,o],[l,n,i,o]);return(0,s.jsxs)(ef.bL,{ref:t,value:l,defaultValue:n,min:i,max:o,step:d,minStepsBetweenThumbs:u,className:(0,c.cn)("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",a),...h,children:[(0,s.jsx)(ef.CC,{"data-slot":"slider-track",className:"bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-1.5 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5",children:(0,s.jsx)(ef.Q6,{"data-slot":"slider-range",className:"bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full"})}),x.map((e,t)=>(0,s.jsx)(ef.zi,{"data-slot":"slider-thumb",className:"border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},t))]})});eg.displayName="SliderThumbs";var ev=a(8423);let ej=(0,a(7229).F)("inline-flex items-center justify-center rounded-full border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function eb(e){let{className:t,variant:a,asChild:r=!1,...n}=e,l=r?ev.DX:"span";return(0,s.jsx)(l,{"data-slot":"badge",className:(0,c.cn)(ej({variant:a}),t),...n})}var ey=a(8852);function ew(e){let{className:t,...a}=e;return(0,s.jsx)(ey.bL,{"data-slot":"switch",className:(0,c.cn)("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...a,children:(0,s.jsx)(ey.zi,{"data-slot":"switch-thumb",className:(0,c.cn)("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}let eS=e=>"string"==typeof e?e:Array.isArray(e)?e.join(", "):String(e),eN=e=>{if(0===e)return"0 Bytes";let t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB","TB"][t]};function eC(e,t){return Math.floor(parseInt(e)/t)*t}let ek=e=>{var t,a,n,o,c,d,m,g,v,j,b,w,S,N,C,k,A,M;let{meta:z,metadata:D,setShowMeta:E,setOpenVariables:R,popoverSide:F}=e,{is4D:T,idx4D:L,variable:_,initStore:O,setIs4D:P,setIdx4D:U,setVariable:W,setTextureArrayDepths:Y}=(0,f.on)((0,p.k)(e=>({is4D:e.is4D,idx4D:e.idx4D,variable:e.variable,initStore:e.initStore,setIs4D:e.setIs4D,setIdx4D:e.setIdx4D,setVariable:e.setVariable,setTextureArrayDepths:e.setTextureArrayDepths}))),{dimArrays:G,dimNames:$,dimUnits:Z}=z.dimInfo,{maxSize:X,setMaxSize:q}=f.FT.getState(),[H,Q]=(0,r.useState)(X),{zSlice:J,ySlice:ee,xSlice:et,compress:es,setZSlice:er,setYSlice:en,setXSlice:el,ReFetch:ei,setCompress:eo}=(0,f.SZ)((0,p.k)(e=>({zSlice:e.zSlice,ySlice:e.ySlice,xSlice:e.xSlice,compress:e.compress,setZSlice:e.setZSlice,setYSlice:e.setYSlice,setXSlice:e.setXSlice,ReFetch:e.ReFetch,setCompress:e.setCompress}))),ec=(0,f.FT)(e=>e.cache),{maxTextureSize:ed,max3DTextureSize:eu}=(0,f.Ws)((0,p.k)(e=>({maxTextureSize:e.maxTextureSize,max3DTextureSize:e.max3DTextureSize}))),[eh,ex]=(0,r.useState)(!1),[em,ep]=(0,r.useState)(!1),[ef,ev]=(0,r.useState)(null),[ej,ey]=(0,r.useState)(0),ek=(0,r.useMemo)(()=>z.totalSize?z.totalSize:0,[z]),eA=z.shape.length,eM=(0,r.useMemo)(()=>z.shape?z.shape[eA-3]:0,[z]),ez=(0,r.useMemo)(()=>z.shape?z.shape[eA-2]:0,[z]),eD=(0,r.useMemo)(()=>z.shape?z.shape[eA-1]:0,[z]),eE=(0,r.useMemo)(()=>!!z.shape&&3==z.shape.length,[z]),eR=eA>2&&z.shape[eA-3]/z.chunks[eA-3]>1,eF=z.shape[eA-2]/z.chunks[eA-2]>1,eT=z.shape[eA-1]/z.chunks[eA-1]>1,eL=(0,r.useMemo)(()=>(function(e,t,a,s){let{xSlice:r,ySlice:n,zSlice:l}=e,i=Math.floor(l[0]/t[0]),o=l[1]?Math.ceil(l[1]/t[0]):s?Math.ceil(a[1]/t[0]):Math.ceil(a[0]/t[0]),c=Math.floor(n[0]/t[1]),d=n[1]?Math.ceil(n[1]/t[1]):s?Math.ceil(a[2]/t[1]):Math.ceil(a[1]/t[1]),u=Math.floor(r[0]/t[2]),h=r[1]?Math.ceil(r[1]/t[2]):s?Math.ceil(a[3]/t[2]):Math.ceil(a[2]/t[2]),x=[];for(let e=i;e<o;e++)for(let t=c;t<d;t++)for(let a=u;a<h;a++){let s="z".concat(e,"_y").concat(t,"_x").concat(a);x.push(s)}return x})({xSlice:et,ySlice:ee,zSlice:J},z.chunks,z.shape,4==z.shape.length),[J,et,ee,z]),e_=2==z.shape.length,eO=(0,r.useMemo)(()=>{let e=function(e,t){var a,s;let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=null!=(a=e[0])?a:r,l=null!=(s=e[1])?s:t;return{first:n,last:l,steps:l-n}},t=e_?{first:0,last:1,steps:1}:e(J,eM),a=e(et,z.shape[T?3:eE?2:1]),s=e(ee,z.shape[T?2:+!!eE]),r=e_?ed:eu,n=[t.steps/r,s.steps/r,a.steps/r];Y(n.some(e=>e>1)?n.map(e=>Math.ceil(e)):[1,1,1]);let l=n.reduce((e,t)=>e*Math.ceil(t),1);if(ey(l),l>14?ex(e=>!0):ex(e=>!1),e_)return ek*(a.steps*s.steps/(z.shape[0]*z.shape[1]));{let e=T?[3,2,1]:[2,1,0],r=Math.ceil(a.steps/z.chunks[e[0]]);return r*Math.ceil(s.steps/z.chunks[e[1]])*Math.ceil(t.steps/z.chunks[e[2]])*z.chunkSize}},[z,J,et,ee,eM,eE,T]),eV=(0,r.useMemo)(()=>{let e=z.dtype;return e.includes("32")?eO/2:e.includes("64")?eO/4:e.includes("8")?2*eO:eO},[eO,z]),eI=eV>H;(0,r.useEffect)(()=>{P(4==z.shape.length)},[z]);let eB=z.chunks;return(0,r.useEffect)(()=>{if(eo(!1),U(null),ev(null),ec.has("".concat(O,"_").concat(z.name)))return void ep(!0);if(eL){let e=0;for(let t of eL)ec.has("".concat(O,"_").concat(z.name,"_chunk_").concat(t))&&e++;if(e>0){ev("".concat(e,"/").concat(eL.length)),ep(!0);return}ep(!1)}else ep(!1)},[z,eL]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("b",{children:"".concat(z.long_name," ")}),"left"==F?(0,s.jsxs)(y.AM,{children:[(0,s.jsx)(y.Wv,{className:"cursor-pointer",asChild:!0,children:(0,s.jsx)(eb,{variant:"default",className:"block",children:"Attributes"})}),(0,s.jsx)(y.hl,{"data-meta-popover":!0,className:"max-h-[50vh] overflow-y-auto max-w-200",align:"center",children:I(D,V)})]}):(0,s.jsxs)("div",{children:[" ",(0,s.jsx)(B,{data:D,variable:"Attributes"})," "]}),(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),(0,s.jsxs)("div",{className:"grid grid-cols-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("b",{children:"Data Shape"}),(0,s.jsx)("br",{}),"[".concat(eS(z.shape),"]")]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("b",{children:"Chunk Shape"}),(0,s.jsx)("br",{}),"[".concat(eS(z.chunks),"]")]})]}),(0,s.jsx)("br",{}),(0,s.jsxs)(s.Fragment,{children:[T&&(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{children:[(0,s.jsxs)("p",{children:["This is Four-Dimensional Dataset. You must select an index along the first dimension. ",(0,s.jsx)("br",{}),"Please select an index from ",(0,s.jsx)("b",{children:"0"})," to ",(0,s.jsx)("b",{children:z.shape[0]-1})]}),(0,s.jsx)(ea,{type:"number",min:0,max:z.shape[0]-1,value:String(L),onChange:e=>U(parseInt(e.target.value))})]})}),(eE||e_||null!=L)&&!(em&&!ef)&&(0,s.jsxs)(s.Fragment,{children:[(eR||eT||eF)&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"block text-center text-xl font-bold",children:"Trim Data"}),(0,s.jsxs)("div",{className:"grid gap-4 ",children:[eR&&(0,s.jsxs)("div",{className:"grid gap-1",children:[(0,s.jsx)("div",{className:"flex justify-center",children:(0,s.jsx)("b",{children:"Default"==$[0]?"Axis 0":$[0]})}),(0,s.jsx)(eg,{min:0,max:eM,value:[J[0]?J[0]:0,J[1]?J[1]:eM],step:eB[0],onValueChange:e=>er([e[0],e[1]])}),(0,s.jsxs)("div",{className:"grid grid-cols-2",children:[(0,s.jsxs)("span",{children:["Min: ",(0,s.jsx)("b",{children:(0,K.SB)(null!=(m=null==(t=G[0])?void 0:t[J[0]])?m:null,null!=(g=Z[0])?g:null)}),"  ",(0,s.jsx)("br",{})," Index:",(0,s.jsx)("input",{className:"w-[50px]",type:"number",value:J[0],onChange:e=>er([parseInt(e.target.value),J[1]]),onBlur:e=>er([eC(e.target.value,eB[0]),J[1]])})]}),(0,s.jsxs)("span",{children:["Max: ",(0,s.jsx)("b",{children:(0,K.SB)(null!=(v=null==(a=G[0])?void 0:a[J[1]?J[1]-1:eM-1])?v:null,null!=(j=Z[0])?j:null)}),(0,s.jsx)("br",{})," Index:",(0,s.jsx)("input",{className:"w-[50px]",type:"number",value:J[1]?J[1]:eM,onChange:e=>er([J[0],parseInt(e.target.value)]),onBlur:e=>er([J[0],eC(e.target.value,eB[0])])})]})]})]}),eF&&(0,s.jsxs)("div",{className:"grid gap-1",children:[(0,s.jsx)("div",{className:"flex justify-center",children:(0,s.jsx)("b",{children:"Default"==$[1]?"Axis 1":$[+!e_]})}),(0,s.jsx)(eg,{min:0,max:ez,value:[ee[0]?ee[0]:0,ee[1]?ee[1]:ez],step:e_?eB[0]:eB[1],onValueChange:e=>en([e[0],e[1]])}),(0,s.jsxs)("div",{className:"grid grid-cols-2",children:[(0,s.jsxs)("span",{children:["Min: ",(0,s.jsx)("b",{children:(0,K.SB)(null!=(b=null==(n=G[+!e_])?void 0:n[ee[0]])?b:null,null!=(w=Z[+!e_])?w:null)}),"  ",(0,s.jsx)("br",{})," Index:",(0,s.jsx)("input",{className:"w-[50px]",type:"number",value:ee[0],onChange:e=>en([parseInt(e.target.value),ee[1]]),onBlur:e=>en([eC(e.target.value,eB[1]),ee[1]])})]}),(0,s.jsxs)("span",{children:["Max: ",(0,s.jsx)("b",{children:(0,K.SB)(null!=(S=null==(o=G[+!e_])?void 0:o[ee[1]?ee[1]-1:ez-1])?S:null,null!=(N=Z[+!e_])?N:null)}),(0,s.jsx)("br",{})," Index:",(0,s.jsx)("input",{className:"w-[50px]",type:"number",value:ee[1]?ee[1]:ez,onChange:e=>en([ee[0],parseInt(e.target.value)]),onBlur:e=>en([ee[0],eC(e.target.value,eB[1])])})]})]})]}),eT&&(0,s.jsxs)("div",{className:"grid gap-1",children:[(0,s.jsx)("div",{className:"flex justify-center",children:(0,s.jsx)("b",{children:"Default"==$[2]?"Axis 2":$[e_?1:2]})}),(0,s.jsx)(eg,{min:0,max:eD,value:[et[0]?et[0]:0,et[1]?et[1]:eD],step:e_?eB[1]:eB[2],onValueChange:e=>el([e[0],e[1]])}),(0,s.jsxs)("div",{className:"grid grid-cols-2",children:[(0,s.jsxs)("span",{children:["Min: ",(0,s.jsx)("b",{children:(0,K.SB)(null!=(C=null==(c=G[e_?1:2])?void 0:c[et[0]])?C:null,null!=(k=Z[e_?1:2])?k:null)}),"  ",(0,s.jsx)("br",{})," Index:",(0,s.jsx)("input",{className:"w-[50px]",type:"number",value:et[0],onChange:e=>el([parseInt(e.target.value),et[1]]),onBlur:e=>el([eC(e.target.value,eB[2]),et[1]])})]}),(0,s.jsxs)("span",{children:["Max: ",(0,s.jsx)("b",{children:(0,K.SB)(null!=(A=null==(d=G[e_?1:2])?void 0:d[et[1]?et[1]-1:eD-1])?A:null,null!=(M=Z[e_?1:2])?M:null)}),(0,s.jsx)("br",{})," Index:",(0,s.jsx)("input",{className:"w-[50px]",type:"number",value:et[1]?et[1]:eD,onChange:e=>el([et[0],parseInt(e.target.value)]),onBlur:e=>el([et[0],eC(e.target.value,eB[2])])})]})]})]})]})]}),(0,s.jsx)("br",{}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("b",{children:"Raw Size: "}),eN(eO)]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("b",{children:["Stored size: ",es?"<":null," "]}),eN(eV)]})]}),eO>X&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 p-2 ".concat(eI?"bg-red-50 dark:bg-red-950/30 border-red-200 dark:border-red-800":"bg-emerald-50 dark:bg-emerald-950/30 border-emerald-200 dark:border-emerald-800"," rounded-md border"),children:[(0,s.jsx)("div",{className:"w-2 h-2 ".concat(eI?"bg-red-500":"bg-emerald-500"," rounded-full")}),(0,s.jsx)("span",{className:"text-xs font-medium ".concat(eI?"text-red-800 dark:text-red-200":"text-emerald-800 dark:text-emerald-200"),children:eI?"Selection won't fit in Cache":"Data Will Fit"})]}),(0,s.jsxs)("div",{className:"",children:["Decrease selection or Increase cache size ",(0,s.jsx)("br",{}),(0,s.jsxs)("div",{className:"flex justify-center items-center",children:["Expand Cache:",(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)(ea,{className:"w-[65px] h-[20px] no-spinner",type:"number",min:200,step:20,value:H/1048576,onChange:e=>Q(1048576*parseInt(e.target.value))}),(0,s.jsx)("span",{className:"text-sm font-semibold",children:"MB"})]}),(0,s.jsxs)(u,{children:[(0,s.jsx)(h,{children:(0,s.jsx)(l.kAG,{})}),(0,s.jsx)(x,{children:"Increasing this too far can cause crashes. Mobile users beware"})]})]}),(0,s.jsx)(eg,{id:"newCache-size",min:0,max:1e3,value:[H/1048576],step:10,onValueChange:e=>Q(X+1048576*e[0])})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-[auto_50%] gap-2 mt-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"compress-data",children:"Compress Data "}),(0,s.jsxs)(u,{children:[(0,s.jsx)(h,{children:(0,s.jsx)(l.kAG,{})}),(0,s.jsx)(x,{className:"max-w-[min(100%,16rem)] break-words whitespace-normal",children:"Compress data to preserve memory at the expense of slightly longer load times"})]})]}),(0,s.jsx)(ew,{id:"compress-data",checked:es,onCheckedChange:e=>eo(e)})]})]})]}),(0,s.jsxs)("div",{className:"grid gap-2 mt-2",children:[em&&(0,s.jsx)("div",{children:ef?(0,s.jsxs)("b",{children:[ef," chunks already cached. "]}):(0,s.jsx)("b",{children:"This data is already cached. "})}),eh&&(0,s.jsx)("div",{className:"bg-[#FFBEB388] rounded-md p-1",children:(0,s.jsxs)("span",{className:"text-xs font-medium text-red-800 dark:text-red-200",children:["Not only will this certainly not fit in memory, but it also won't fit in a single shader call. You are wild for this one. Textures:  ",(0,s.jsxs)("b",{children:[ej,"/14"]})]})}),!eh&&(0,s.jsx)(i.$,{variant:"pink",className:"cursor-pointer hover:scale-[1.05]",disabled:T&&null==L||eI,onClick:()=>{_==z.name||(q(H),W(z.name)),ei(),E(!1),R(!1)},children:"Plot"})]})]})};var eA=a(675),eM=a(219);function ez(e){let{...t}=e;return(0,s.jsx)(eA.bL,{"data-slot":"accordion",...t})}function eD(e){let{className:t,...a}=e;return(0,s.jsx)(eA.q7,{"data-slot":"accordion-item",className:(0,c.cn)("border-b last:border-b-0 mb-1",t),...a})}function eE(e){let{className:t,children:a,...r}=e;return(0,s.jsx)(eA.Y9,{className:"flex",children:(0,s.jsxs)(eA.l9,{"data-slot":"accordion-trigger",className:(0,c.cn)("focus-visible:border-ring focus-visible:ring-ring/50 flex flex-1 items-start justify-between gap-4 rounded-md py-2 text-left text-sm font-medium transition-all outline-none hover:underline focus-visible:ring-[3px] disabled:pointer-events-none disabled:opacity-50 [&[data-state=open]>svg]:rotate-180",t),...r,children:[a,(0,s.jsx)(eM.A,{className:"text-muted-foreground pointer-events-none size-4 shrink-0 translate-y-0.5 transition-transform duration-200"})]})})}function eR(e){let{className:t,children:a,...r}=e;return(0,s.jsx)(eA.UC,{"data-slot":"accordion-content",className:"data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down overflow-hidden text-sm",...r,children:(0,s.jsx)("div",{className:(0,c.cn)("pt-0 pb-2",t),children:a})})}var eF=a(1718);let eT=e=>{let{openVariables:t,setOpenVariables:a}=e,[n,l]=(0,r.useState)("left"),[o,c]=(0,r.useState)(!1),[d,m]=(0,r.useState)(!1),{variables:g,zMeta:v,metadata:j,setMetadata:b,initStore:w}=(0,f.on)((0,p.k)(e=>({variables:e.variables,zMeta:e.zMeta,metadata:e.metadata,setMetadata:e.setMetadata,initStore:e.initStore}))),{currentStore:S}=(0,f.SZ)((0,p.k)(e=>({currentStore:e.currentStore}))),N=(0,r.useMemo)(()=>new eF.Y5(S),[S]),[C,k]=(0,r.useState)([[0],[0],[0]]),[A,M]=(0,r.useState)([null,null,null]),[z,D]=(0,r.useState)(["Default"]),[R,F]=(0,r.useState)(null),[T,_]=(0,r.useState)(null),[V,I]=(0,r.useState)(null),[B,P]=(0,r.useState)(""),[U,W]=(0,r.useState)(["root"]),Y=(0,r.useMemo)(()=>{let e=B.toLowerCase().trim(),t=null!=g?g:[];return e&&(t=t.filter(t=>t.toLowerCase().includes(e))),(e=>{let t={};return e.forEach(e=>{let a=e.split("/"),s=t;a.forEach((e,t)=>{s[e]||(s[e]=t===a.length-1?null:{}),s=s[e]})}),t})(t)},[B,g]),G=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=[];return Object.entries(e).forEach(e=>{let[s,r]=e,n=t?"".concat(t,"/").concat(s):s;r&&"object"==typeof r&&(a.push(n),a=a.concat(G(r,n)))}),a};(0,r.useEffect)(()=>{B.trim()?W(["root",...G(Y)]):W(["root"])},[B,Y]),(0,r.useEffect)(()=>{if(g&&v&&T){let e=v.find(e=>e.name===T);e&&(I({...e,dimInfo:{dimArrays:C,dimNames:z,dimUnits:A}}),N.GetAttributes(T).then(e=>b(e)))}},[T,g,v,C,z,A]),(0,r.useEffect)(()=>{F(null),_(null),I(null),b(null)},[w,b]),(0,r.useEffect)(()=>{let e=()=>{l(window.innerWidth<768?"top":"left")};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let $=e=>{let{val:t,idx:a,arrayLength:l}=e,i=t.split("/").pop()||t,o=a===l-1;return(0,s.jsxs)(r.Fragment,{children:[(0,s.jsx)("div",{className:"cursor-pointer pl-2 py-1 text-sm hover:bg-muted rounded",style:{background:T===t?"var(--muted-foreground)":""},onClick:()=>((e,t)=>{F(t),_(e),(0,K.db)(e).then(e=>{D(e.dimNames),k(e.dimArrays),M(e.dimUnits)}),"left"===n?c(!0):m(!0)})(t,a),children:i}),!o&&(0,s.jsx)(ep.w,{className:"my-1"})]},t)},Z=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=Object.entries(e),r=a.filter(e=>{let[t,a]=e;return null===a}),n=a.filter(e=>{let[t,a]=e;return a&&"object"==typeof a});return(0,s.jsxs)(ez,{type:"multiple",value:U,onValueChange:W,className:"w-full",children:[r.length>0&&(0,s.jsx)("div",{className:"px-1",children:r.map((e,a)=>{let[n]=e,l=t?"".concat(t,"/").concat(n):n;return(0,s.jsx)($,{val:l,idx:a,arrayLength:r.length},l)})}),n.map(e=>{let[a,r]=e,n=t?"".concat(t,"/").concat(a):a;return(0,s.jsxs)(eD,{value:n,children:[(0,s.jsx)(eE,{className:"cursor-pointer pl-2",children:a}),(0,s.jsx)(eR,{className:"flex flex-col pl-2",children:Z(r,n)})]},n)})]},t||"__root_inner__")},X=(0,s.jsx)("div",{className:"overflow-y-auto flex-1 [&::-webkit-scrollbar]:hidden",children:Object.keys(Y).length>0?(0,s.jsx)(ez,{type:"multiple",className:"w-full",value:U,onValueChange:W,children:(0,s.jsxs)(eD,{value:"root",children:[(0,s.jsx)(eE,{className:"cursor-pointer",children:"/"}),(0,s.jsx)(eR,{className:"flex flex-col",children:Z(Y,"")})]},"root")}):(0,s.jsx)("div",{className:"text-center text-muted-foreground py-2",children:B?"No variables found matching your search.":"No variables available."})});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(y.AM,{open:t,onOpenChange:a,children:[(0,s.jsx)(y.Wv,{asChild:!0,children:(0,s.jsx)("div",{children:(0,s.jsxs)(u,{delayDuration:500,children:[(0,s.jsx)(h,{asChild:!0,children:(0,s.jsx)("div",{children:(0,s.jsx)(i.$,{variant:"ghost",size:"icon",className:"cursor-pointer hover:scale-90 transition-transform duration-100 ease-out",tabIndex:0,"aria-label":"Select variable",children:(0,s.jsx)(em.T45,{className:"size-8"})})})}),(0,s.jsx)(x,{side:"left"===n?"left":"top",align:"left"===n?"start":"center",children:(0,s.jsx)("span",{children:"Select Variable"})})]})})}),(0,s.jsxs)(y.hl,{side:n,className:"max-h-[50vh] overflow-hidden flex flex-col",onInteractOutside:e=>{e.target.closest("[data-meta-popover]")&&e.preventDefault()},children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-4 justify-center max-w-[240px] md:max-w-sm mx-auto flex-shrink-0",children:[(0,s.jsx)(ea,{placeholder:"Search variable...",value:B,onChange:e=>P(e.target.value),className:"flex-1"}),(0,s.jsx)(i.$,{variant:"secondary",onClick:()=>P(""),children:"Clear"})]}),X]})]}),"left"===n&&(0,s.jsxs)(y.AM,{open:o,onOpenChange:c,children:[(0,s.jsx)(y.Wv,{asChild:!0,children:(0,s.jsx)("div",{className:"absolute -top-8",style:{left:"-".concat(280,"px")}})}),(0,s.jsx)(y.hl,{"data-meta-popover":!0,side:"left",align:"start",className:"max-h-[80vh] overflow-y-auto w-[300px]",children:V&&(0,s.jsx)(ek,{meta:V,metadata:null!=j?j:{},setShowMeta:c,setOpenVariables:a,popoverSide:"left"})})]}),"top"===n&&(0,s.jsx)(E,{open:d,onOpenChange:m,children:(0,s.jsxs)(L,{className:"max-w-[85%] md:max-w-2xl max-h-[80vh] overflow-y-auto",children:[(0,s.jsx)(O,{}),(0,s.jsx)("div",{className:"-mt-4",children:V&&(0,s.jsx)(ek,{meta:V,metadata:null!=j?j:{},setShowMeta:m,setOpenVariables:a,popoverSide:"top"})})]})})]})};var eL=a(5659);let e_=()=>{let[e,t]=(0,r.useState)("Spectral"),[a,n]=(0,r.useState)(!1),[l,o]=(0,r.useState)(null),{colormap:c,setColormap:d}=(0,f.on)((0,p.k)(e=>({setColormap:e.setColormap,colormap:e.colormap}))),[m,g]=(0,r.useState)("left");return(0,r.useEffect)(()=>{d((0,eL.v6)(c,"Default"===(l||e)?"Spectral":l||e,1,"#000000",0,a))},[e,a,l]),(0,r.useEffect)(()=>{let e=()=>{g(window.innerWidth<768?"top":"left")};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,s.jsx)("div",{className:"relative",children:(0,s.jsxs)(y.AM,{children:[(0,s.jsx)(y.Wv,{asChild:!0,children:(0,s.jsx)("div",{children:(0,s.jsxs)(u,{delayDuration:500,children:[(0,s.jsx)(h,{asChild:!0,children:(0,s.jsx)("div",{children:(0,s.jsx)(i.$,{size:"icon",className:"cursor-pointer hover:scale-90 transition-transform duration-100 ease-out rounded-full",style:{backgroundImage:"url(./colormap_icons/".concat(e,".webp)"),backgroundSize:"100%",transform:a?"scaleX(-1)":"",width:"32px",height:"32px"}})})}),"left"===m?(0,s.jsx)(x,{side:"left",align:"start",children:(0,s.jsx)("span",{children:"Change Colormap"})}):(0,s.jsx)(x,{side:"top",align:"center",children:(0,s.jsx)("span",{children:"Change Colormap"})})]})})}),(0,s.jsxs)(y.hl,{side:m,className:"colormaps",children:[eL.dl.map(e=>(0,s.jsx)(k.default,{className:"cmap ".concat(a?"flipped":""),src:"./colormap_icons/".concat(e,".webp"),alt:e,height:100,width:256,onMouseEnter:()=>o(e),onMouseLeave:()=>o(null),onClick:()=>{t(e),o(null)}},e)),(0,s.jsx)(j.QkK,{className:"flipper",style:{position:"absolute",top:"-2rem",right:"80%",bottom:"90%",height:"50px",width:"50px",cursor:"pointer",transform:"".concat(a?"rotate(270deg)":"rotate(90deg)"),transition:".25s"},onClick:()=>n(e=>!e)})]})]})})};var eO=a(6883),eV=a(7642);let eI=e=>{let{children:t,className:a,show:r}=e;return(0,s.jsx)("div",{className:"".concat(a," grid transition-all duration-300 ease-in-out"),style:{gridTemplateRows:r?"1fr":"0fr"},children:(0,s.jsx)("div",{className:"overflow-hidden",children:t})})},eB=r.memo(function(e){var t,a;let{range:r,setRange:n,valueScales:l,min:i=-1,array:o,units:c}=e,{minVal:d,maxVal:u}=l;d=Number(d),u=Number(u);let[h,x]=[i,1];if(o){let e=o.length,t=Math.round((r[0]-i)/(1-i)*e),a=Math.round((r[1]-i)/(1-i)*e);h=o[t],x=o[a-1]}else h=Math.round(100*(r[0]*(u-(t=d))+t))/100,x=Math.round(100*(r[1]*(u-(a=d))+a))/100;return(0,s.jsxs)("div",{className:"w-full flex justify-between flex-col",children:[(0,s.jsx)(eg,{min:i,max:1,value:r,step:.01,onValueChange:e=>n(e)}),(0,s.jsxs)("div",{className:"flex justify-between text-xs mt-2 mb-2",children:[(0,s.jsxs)("span",{children:["Min: ",(0,K.SB)(h,c)]}),(0,s.jsxs)("span",{children:["Max: ",(0,K.SB)(x,c)]})]})]})}),eP=()=>{let{valueRange:e,xRange:t,yRange:a,zRange:n,setValueRange:l,setXRange:i,setYRange:o,setZRange:c}=(0,f.Ws)((0,p.k)(e=>({valueRange:e.valueRange,xRange:e.xRange,yRange:e.yRange,zRange:e.zRange,setValueRange:e.setValueRange,setXRange:e.setXRange,setYRange:e.setYRange,setZRange:e.setZRange}))),d={minVal:0,maxVal:0},{valueScales:u,dimArrays:h,dimNames:x,dimUnits:m,is4D:g}=(0,f.on)((0,p.k)(e=>({valueScales:e.valueScales,dimArrays:e.dimArrays,dimNames:e.dimNames,dimUnits:e.dimUnits,is4D:e.is4D}))),v=g?x.slice(1):x,j=g?m.slice(1):m,[b,y]=(0,r.useState)(!1);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,s.jsxs)("div",{className:"flex flex-col items-center w-[200px] gap-4",children:[(0,s.jsx)("b",{children:"Value Cropping"}),(0,s.jsx)(eB,{range:e,setRange:l,valueScales:u,min:0})]}),(0,s.jsxs)("div",{className:"flex flex-col w-[200px] -mt-4",children:[(0,s.jsxs)("button",{onClick:()=>y(!b),className:"flex items-center gap-2 w-full mb-2",children:[(0,s.jsx)("b",{children:"Spatial Cropping"}),(0,s.jsx)(eM.A,{className:"h-4 w-4 transition-transform duration-200 ".concat(b?"rotate-180":"")})]}),(0,s.jsx)("div",{className:"grid transition-all duration-300 ease-in-out",style:{gridTemplateRows:b?"1fr":"0fr"},children:(0,s.jsx)("div",{className:"overflow-hidden",children:(0,s.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,s.jsxs)("div",{className:"grid w-[100%] place-items-center",children:[(0,s.jsx)("h2",{children:v[2]}),(0,s.jsx)(eB,{range:t,setRange:i,valueScales:d,array:h[2],units:j[2]})]}),(0,s.jsxs)("div",{className:"grid w-[100%] place-items-center",children:[(0,s.jsx)("h2",{children:v[1]}),(0,s.jsx)(eB,{range:a,setRange:o,valueScales:d,array:h[1],units:j[1]})]}),(0,s.jsxs)("div",{className:"grid w-[100%] place-items-center",children:[(0,s.jsx)("h2",{children:v[0]}),(0,s.jsx)(eB,{range:n,setRange:c,valueScales:d,array:h[0],units:j[0]})]})]})})})]})]}),(0,s.jsx)("div",{className:"border-t border-gray-300 w-full my-4"})]})},eU=()=>{let{useFragOpt:e,quality:t,transparency:a,vTransferRange:r,vTransferScale:n,setQuality:o,setUseFragOpt:c,setTransparency:d,setVTransferRange:m,setVTransferScale:g}=(0,f.Ws)((0,p.k)(e=>({useFragOpt:e.useFragOpt,quality:e.quality,transparency:e.transparency,nanTransparency:e.nanTransparency,nanColor:e.nanColor,vTransferRange:e.vTransferRange,vTransferScale:e.vTransferScale,setQuality:e.setQuality,setUseFragOpt:e.setUseFragOpt,setTransparency:e.setTransparency,setNanTransparency:e.setNanTransparency,setNanColor:e.setNanColor,setVTransferRange:e.setVTransferRange,setVTransferScale:e.setVTransferScale})));return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"grid gap-y-[5px] items-center w-50 text-center",children:[(0,s.jsx)("b",{children:"Quality"}),(0,s.jsxs)("div",{className:"w-full flex justify-between text-xs items-center gap-2",children:["Worse",(0,s.jsx)(eO.A,{min:50,max:1e3,step:50,value:[t],className:"flex-1 mb-2",onValueChange:e=>o(e[0])}),"Better"]}),(0,s.jsxs)(u,{delayDuration:500,children:[(0,s.jsx)(h,{asChild:!0,children:(0,s.jsx)(i.$,{variant:"pink",size:"sm",className:"w-[100%] cursor-[pointer] mb-2 mt-2",onClick:()=>c(!e),children:e?"Revert to Normal":"Use Optimized Shader"})}),(0,s.jsx)(x,{side:"left",children:"Enable this for better performance while navigating. Switch back for exports or still images."})]}),(0,s.jsx)("b",{children:"Transparency"}),(0,s.jsx)(eO.A,{min:0,max:10,step:.2,value:[a],className:"w-full mb-2",onValueChange:e=>d(e[0])}),(0,s.jsxs)("div",{className:"grid grid-cols-[auto_60px] items-center text-left",children:[(0,s.jsxs)("h1",{children:[(0,s.jsx)("span",{children:"Transparency Scale "}),(0,s.jsxs)(u,{children:[(0,s.jsx)(h,{children:(0,s.jsx)(l.kAG,{})}),(0,s.jsx)(x,{className:"max-w-60 break-words whitespace-normal",children:'This is the raised power for transparency. Higher values "Squash" lower values while lower values help bring them out. 1 is linear.'})]})]}),(0,s.jsx)(ea,{type:"number",value:n,step:.1,min:0,onChange:e=>g(parseFloat(e.target.value))})]}),(0,s.jsxs)("div",{className:"grid grid-cols-[auto_20%] items-center gap-2 mt-2 text-left",children:[(0,s.jsx)("label",{htmlFor:"compress-data",children:(0,s.jsxs)("h1",{children:[" ",(0,s.jsx)("span",{children:"Scale by clip "}),(0,s.jsxs)(u,{children:[(0,s.jsx)(h,{children:(0,s.jsx)(l.kAG,{})}),(0,s.jsx)(x,{className:"max-w-60 break-words whitespace-normal",children:"Transparency is scaled from dataset minimum to maximum. Lower values are more transparent. When enabled - transparency scales based on the cropped values below."})]})]})}),(0,s.jsx)(ew,{className:"h-5",id:"compress-data",checked:r,onCheckedChange:e=>m(e)})]})]}),(0,s.jsx)("div",{className:"border-t border-gray-300 w-full my-4"})]})},eW=()=>{let{setPointSize:e,setScaleIntensity:t,setScalePoints:a,setTimeScale:r}=(0,f.Ws)((0,p.k)(e=>({setPointSize:e.setPointSize,setScaleIntensity:e.setScaleIntensity,setScalePoints:e.setScalePoints,setTimeScale:e.setTimeScale}))),{scalePoints:n,scaleIntensity:l,pointSize:o,timeScale:c}=(0,f.Ws)((0,p.k)(e=>({scalePoints:e.scalePoints,scaleIntensity:e.scaleIntensity,pointSize:e.pointSize,timeScale:e.timeScale})));return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"flex-column items-center w-50 text-center",children:[(0,s.jsx)("b",{children:"Point Size"}),(0,s.jsx)(eO.A,{className:"w-full mb-4 mt-2",min:1,max:50,step:1,value:[o],onValueChange:t=>e(t[0])}),(0,s.jsx)(i.$,{variant:"pink",size:"sm",className:"w-[100%] cursor-[pointer] mb-2 mt-2",onClick:()=>a(!n),children:n?"Remove Scaling":"Scale By Value"}),(0,s.jsx)(eI,{show:n,children:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("b",{children:"Scale Intensity"}),(0,s.jsx)(eO.A,{className:"w-full mb-2 mt-2",min:1,max:100,step:1,value:[l],onValueChange:e=>t(e[0])})]})}),(0,s.jsxs)("div",{className:"relative",children:[1!=c&&(0,s.jsx)(q.kmZ,{className:"text-lg cursor-pointer absolute top-0 left-0 hover:scale-90 transition-transform duration-100 ease-out",onClick:e=>r(1)}),(0,s.jsx)("b",{children:"Resize Time Dimension"})]}),(0,s.jsx)(eO.A,{className:"w-full mb-2 mt-2",min:.05,max:5,step:.05,value:[c],onValueChange:e=>r(e[0])})]}),(0,s.jsx)("div",{className:"border-t border-gray-300 w-full my-4"})]})},eY=()=>{let{displacement:e,displaceSurface:t,offsetNegatives:a,rotateFlat:r,setDisplacement:n,setDisplaceSurface:l,setOffsetNegatives:i,setResetCamera:o}=(0,f.Ws)((0,p.k)(e=>({displacement:e.displacement,displaceSurface:e.displaceSurface,offsetNegatives:e.offsetNegatives,rotateFlat:e.rotateFlat,setDisplacement:e.setDisplacement,setDisplaceSurface:e.setDisplaceSurface,setOffsetNegatives:e.setOffsetNegatives,setResetCamera:e.setResetCamera})));return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"grid gap-2 mb-2",children:[(0,s.jsxs)("div",{className:"relative w-full text-center h-10 bg-primary rounded-full cursor-pointer mb-2 flex items-center justify-between px-4",onClick:()=>{t||o(!f.Ws.getState().resetCamera),l(!t),f.Ws.setState({rotateFlat:!1})},children:[(0,s.jsx)("span",{className:"z-10 font-semibold transition-colors ".concat(t?"text-primary":"text-secondary"),children:"Flat"}),(0,s.jsx)("span",{className:"z-10 font-semibold transition-colors ".concat(t?"text-secondary":"text-primary"),children:"Displace"}),(0,s.jsx)("div",{className:"absolute top-1 h-8 w-[calc(50%-8px)] bg-secondary shadow-xs hover:bg-secondary/80 rounded-full transition-all duration-300 ".concat(t?"left-1":"left-[calc(50%+4px)]")})]}),(0,s.jsx)(eI,{show:!t,children:(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)("b",{children:"Displacement"}),(0,s.jsx)(eO.A,{min:0,max:100,step:2,value:[e],className:"w-full mb-2",onValueChange:e=>n(e[0])}),(0,s.jsxs)("div",{className:"grid grid-cols-[auto_20%] items-center gap-2 text-left",children:[(0,s.jsx)("label",{htmlFor:"offset-switch",children:(0,s.jsx)("b",{children:"Offset Negatives"})}),(0,s.jsx)(ew,{id:"offset-switch",checked:a,onCheckedChange:e=>i(e)}),(0,s.jsx)("label",{htmlFor:"rotate-switch",children:(0,s.jsx)("b",{children:"Rotate"})}),(0,s.jsx)(ew,{id:"rotate-switch",checked:r,onCheckedChange:e=>f.Ws.setState({rotateFlat:e})})]})]})})]})})},eG=()=>{let{sphereResolution:e,displacement:t,displaceSurface:a,offsetNegatives:r,setSphereResolution:n,setDisplacement:l,setDisplaceSurface:i,setOffsetNegatives:o}=(0,f.Ws)((0,p.k)(e=>({sphereResolution:e.sphereResolution,displacement:e.displacement,displaceSurface:e.displaceSurface,offsetNegatives:e.offsetNegatives,setSphereResolution:e.setSphereResolution,setDisplacement:e.setDisplacement,setDisplaceSurface:e.setDisplaceSurface,setOffsetNegatives:e.setOffsetNegatives})));return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"grid gap-y-[5px] items-center w-50 text-center mb-2",children:[(0,s.jsx)("b",{children:"Displacement Mode"}),(0,s.jsxs)("div",{className:"relative w-full h-10 bg-primary rounded-full cursor-pointer mb-2 flex items-center justify-between px-4",onClick:()=>{i(!a),l(t*(a?15:.06666666666666667))},children:[(0,s.jsx)("span",{className:"z-10 font-semibold transition-colors ".concat(a?"text-primary":"text-secondary"),children:"Surface"}),(0,s.jsx)("span",{className:"z-10 font-semibold transition-colors ".concat(a?"text-secondary":"text-primary"),children:"Faces"}),(0,s.jsx)("div",{className:"absolute top-1 h-8 w-[calc(50%-8px)] bg-secondary shadow-xs hover:bg-secondary/80 rounded-full transition-all duration-300 ".concat(a?"left-1":"left-[calc(50%+4px)]")})]}),(0,s.jsx)("b",{children:"Displacement"}),(0,s.jsx)(eO.A,{min:0,max:a?2:30,step:.2,value:[t],className:"w-full mb-2",onValueChange:e=>l(e[0])}),!a&&(0,s.jsxs)("div",{className:"grid grid-cols-[auto_20%] items-center gap-2 text-left",children:[(0,s.jsx)("label",{htmlFor:"offset-switch",children:"Offset Negatives"}),(0,s.jsx)(ew,{id:"offset-switch",checked:r,onCheckedChange:e=>o(e)})]}),a&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("b",{children:"Displacement Resolution"}),(0,s.jsx)(eO.A,{min:4,max:100,step:4,value:[e],className:"w-full mb-2",onValueChange:e=>n(e[0])})]})]})})},e$=()=>{let{lonExtent:e,latExtent:t,lonResolution:a,latResolution:r,originalExtent:n,setLonExtent:l,setLatExtent:o,setLonResolution:c,setLatResolution:d}=(0,f.Ws)((0,p.k)(e=>({lonExtent:e.lonExtent,latExtent:e.latExtent,lonResolution:e.lonResolution,latResolution:e.latResolution,originalExtent:e.originalExtent,setLonExtent:e.setLonExtent,setLatExtent:e.setLatExtent,setLonResolution:e.setLonResolution,setLatResolution:e.setLatResolution})));return(0,s.jsxs)("div",{className:"grid gap-2 mb-4 justify-items-center ",children:[(0,s.jsx)("h1",{children:"Spatial Extent"}),(0,s.jsx)("div",{className:"border-t border-gray-300 w-full"}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsxs)("div",{className:"flex-col justify-items-center",children:[(0,s.jsx)("h2",{children:"Min Lon"}),(0,s.jsx)(ea,{value:e[0],onChange:t=>l([parseFloat(t.target.value),e[1]]),type:"number"})]}),(0,s.jsxs)("div",{className:"flex-col justify-items-center",children:[(0,s.jsx)("h2",{children:"Max Lon"}),(0,s.jsx)(ea,{value:e[1],onChange:t=>l([e[0],parseFloat(t.target.value)]),type:"number"})]})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsxs)("div",{className:"flex-col justify-items-center",children:[(0,s.jsx)("h2",{children:"Min Lat"}),(0,s.jsx)(ea,{value:t[0],onChange:e=>o([parseFloat(e.target.value),t[1]]),type:"number"})]}),(0,s.jsxs)("div",{className:"flex-col justify-items-center",children:[(0,s.jsx)("h2",{children:"Max Lat"}),(0,s.jsx)(ea,{value:t[1],onChange:e=>o([t[0],parseFloat(e.target.value)]),type:"number"})]})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsxs)("div",{className:"flex-col justify-items-center",children:[(0,s.jsx)("h2",{children:"Lon Resolution"}),(0,s.jsx)(ea,{value:a,onChange:e=>c(parseFloat(e.target.value)),type:"number"})]}),(0,s.jsxs)("div",{className:"flex-col justify-items-center",children:[(0,s.jsx)("h2",{children:"Lat Resolution"}),(0,s.jsx)(ea,{value:r,onChange:e=>d(parseFloat(e.target.value)),type:"number"})]})]}),(0,s.jsx)(i.$,{variant:"pink",disabled:n.toArray().slice(0,2).every((t,a)=>t==e[a])&&n.toArray().slice(2).every((e,a)=>e==t[a]),onClick:e=>{l([n.x,n.y]),o([n.z,n.w])},children:" Reset Extent "})]})},eZ=()=>{let{showBorders:e,borderColor:t,nanColor:a,nanTransparency:r,plotType:n,interpPixels:l,setShowBorders:o,setBorderColor:c,setNanColor:d,setNanTransparency:u,setInterpPixels:h}=(0,f.Ws)((0,p.k)(e=>({showBorders:e.showBorders,borderColor:e.borderColor,nanColor:e.nanColor,nanTransparency:e.nanTransparency,plotType:e.plotType,interpPixels:e.interpPixels,setShowBorders:e.setShowBorders,setBorderColor:e.setBorderColor,setNanColor:e.setNanColor,setNanTransparency:e.setNanTransparency,setInterpPixels:e.setInterpPixels}))),{analysisMode:x,axis:m}=(0,f.r2)((0,p.k)(e=>({analysisMode:e.analysisMode,axis:e.axis})));return(0,s.jsxs)("div",{className:"grid gap-y-[5px] items-center w-50 text-center",children:["point-cloud"!=n&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("b",{children:"NaN Transparency"}),(0,s.jsx)(eO.A,{min:0,max:1,step:.05,value:[r],className:"w-full mb-2",onValueChange:e=>u(e[0])}),(0,s.jsx)("b",{children:"NaN Color"}),(0,s.jsx)("input",{type:"color",className:"w-[100%] cursor-pointer",value:a,onChange:e=>d(e.target.value)}),(0,s.jsxs)("div",{className:"grid grid-cols-[auto_20%] items-center gap-2 mt-2 text-left",children:[(0,s.jsx)("label",{children:"Interpolate Pixels"}),(0,s.jsx)(ew,{className:"h-5",id:"interpoalte-pixels",checked:l,onCheckedChange:e=>h(e)})]})]}),!(x&&0!=m)&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.$,{variant:"pink",size:"sm",className:"w-[100%] cursor-[pointer] mb-2 mt-2",onClick:()=>o(!e),children:e?"Hide Borders":"Show Borders"}),e&&(0,s.jsxs)("div",{children:[(0,s.jsx)("b",{children:"Border Color"}),(0,s.jsx)("input",{type:"color",className:"w-[100%] cursor-pointer",value:t,onChange:e=>c(e.target.value)})]})]}),(0,s.jsxs)(y.AM,{children:[(0,s.jsx)(y.Wv,{asChild:!0,children:(0,s.jsx)(i.$,{variant:"pink",size:"sm",className:"w-[100%] cursor-pointer mb-2",children:"Adjust Extent"})}),(0,s.jsx)(y.hl,{className:"overflow-y-auto p-2 w-[280px] max-h-[70vh]",children:(0,s.jsx)(e$,{})})]})]})},eX=()=>{let[e,t]=(0,r.useState)("left"),{plotOn:a}=(0,f.on)((0,p.k)(e=>({plotOn:e.plotOn}))),{plotType:n}=(0,f.Ws)((0,p.k)(e=>({plotType:e.plotType})));return(0,r.useEffect)(()=>{let e=()=>{t(window.innerWidth<768?"top":"left")};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(y.AM,{children:[(0,s.jsx)(y.Wv,{asChild:!0,children:(0,s.jsx)("div",{style:a?{}:{pointerEvents:"none"},children:(0,s.jsxs)(u,{delayDuration:500,children:[(0,s.jsx)(h,{asChild:!0,children:(0,s.jsx)("div",{children:(0,s.jsx)(i.$,{variant:"ghost",size:"icon",className:"size-10 cursor-pointer hover:scale-90 transition-transform duration-100 ease-out",style:{color:a?"":"var(--text-disabled)"},children:(0,s.jsx)(eV.xPd,{className:"size-8"})})})}),(0,s.jsx)(x,{side:"left"===e?"left":"top",align:"left"===e?"start":"center",children:(0,s.jsx)("span",{children:"Plot Settings"})})]})})}),(0,s.jsxs)(y.hl,{side:e,className:"overflow-y-auto w-[240px] mt-2 mr-1 ".concat("top"===e?"max-h-[80vh] mb-1":"max-h-[70vh]"),children:["volume"===n&&(0,s.jsx)(eU,{}),"point-cloud"===n&&(0,s.jsx)(eW,{}),"sphere"===n&&(0,s.jsx)(eG,{}),("volume"===n||"point-cloud"===n)&&(0,s.jsx)(eP,{}),"flat"===n&&(0,s.jsx)(eY,{}),(0,s.jsx)(eZ,{})]})]})})},eq={ESDC:"https://s3.bgc-jena.mpg.de:9000/esdl-esdc-v3.0.2/esdc-16d-2.5deg-46x72x1440-3.0.2.zarr",SEASFIRE:"https://s3.bgc-jena.mpg.de:9000/misc/seasfire_rechunked.zarr"},eH=e=>{let{setOpenVariables:t,onCloseDialog:a}=e,{titleDescription:r}=(0,f.on)((0,p.k)(e=>({titleDescription:e.titleDescription}))),{title:n,description:l}=r;return(0,s.jsxs)("div",{className:"grid gap-1",children:[(0,s.jsxs)("div",{className:"mb-2",children:[(0,s.jsx)("h1",{className:"text-lg font-bold",children:n||"Store"}),(0,s.jsx)("p",{className:"whitespace-pre-wrap break-words",style:{overflowWrap:"anywhere"},children:l||"No Description"})]}),(0,s.jsx)("div",{className:"flex justify-center my-2",children:(0,s.jsxs)(i.$,{variant:"default",className:"cursor-pointer mt-[-20px]",onClick:()=>{t(!0),a()},children:["Open Variables",(0,s.jsx)(em.T45,{className:"size-8"})]})})]})},eK=e=>{let{children:t,active:a,onClick:r}=e;return(0,s.jsx)(i.$,{variant:a?"default":"ghost",className:"cursor-pointer w-full justify-start",onClick:r,children:t})},eQ=e=>{let{setOpenVariables:t}=e,[a,n]=(0,r.useState)(!1),[l,o]=(0,r.useState)(!1),[c,d]=(0,r.useState)("left"),[m,g]=(0,r.useState)("ESDC"),[v,j]=(0,r.useState)(!1),[b,w]=(0,r.useState)(!1),[S,N]=(0,r.useState)(!1),{initStore:C,setInitStore:k}=(0,f.on)((0,p.k)(e=>({setInitStore:e.setInitStore,initStore:e.initStore})));return(0,r.useEffect)(()=>{let e=()=>{d(window.innerWidth<768?"top":"left")};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,r.useEffect)(()=>{if("undefined"!=typeof navigator){let e=navigator.userAgent,t=navigator.vendor||"";N(/safari/i.test(e)&&!/chrome|crios|android|fxios|edg/i.test(e)&&/apple/i.test(t))}},[]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(y.AM,{children:[(0,s.jsx)(y.Wv,{asChild:!0,children:(0,s.jsx)("div",{children:(0,s.jsxs)(u,{delayDuration:500,children:[(0,s.jsx)(h,{asChild:!0,children:(0,s.jsx)("div",{children:(0,s.jsx)(i.$,{tabIndex:0,variant:"ghost",size:"icon",className:"cursor-pointer hover:scale-90 transition-transform duration-100 ease-out","aria-label":"Select dataset",children:(0,s.jsx)(em.Gn0,{className:"size-8"})})})}),(0,s.jsx)(x,{side:"left"===c?"left":"top",align:"left"===c?"start":"center",children:(0,s.jsx)("span",{children:"Select dataset"})})]})})}),(0,s.jsx)(y.hl,{side:c,className:"w-auto p-0",onInteractOutside:e=>{e.target.closest("[data-meta-popover]")&&e.preventDefault()},children:(0,s.jsxs)("div",{className:"flex flex-col items-start max-w-[220px] p-3 gap-1 w-auto",children:[(0,s.jsx)("p",{className:"px-2 text-sm text-muted-foreground",children:"Curated"}),(0,s.jsx)(eK,{active:"ESDC"===m,onClick:()=>{n(!1),o(!1),g("ESDC"),k(eq.ESDC),"top"===c?j(!0):w(!0)},children:"ESDC"}),(0,s.jsx)(eK,{active:"seasfire"===m,onClick:()=>{n(!1),o(!1),g("seasfire"),k(eq.SEASFIRE),"top"===c?j(!0):w(!0)},children:"Seasfire"}),(0,s.jsx)("div",{className:"w-full h-px bg-gray-300 my-2"}),(0,s.jsx)("p",{className:"px-2 text-sm text-muted-foreground",children:"Personal"}),(0,s.jsxs)("div",{className:"w-full",children:[(0,s.jsx)(eK,{active:"remote"===m,onClick:()=>{n(e=>!e),g("remote")},children:"Remote"}),a&&(0,s.jsxs)("form",{className:"mt-2 flex items-center gap-2",onSubmit:e=>{e.preventDefault();let t=e.currentTarget.elements[0];C!=t.value?k(t.value):f.on.getState().setStatus(null),t.value&&("top"===c?j(!0):w(!0))},children:[(0,s.jsx)(ea,{className:"w-full",placeholder:"Store URL"}),(0,s.jsx)(i.$,{type:"submit",variant:"outline",className:"cursor-pointer",onClick:()=>f.on.getState().setStatus("Fetching..."),children:"Fetch"})]})]}),(0,s.jsxs)("div",{className:"w-full",children:[(0,s.jsx)(eK,{active:"local"===m,onClick:()=>{o(e=>!e),n(!1),g("local")},children:"Local"}),l&&(0,s.jsx)("div",{className:"mt-2",children:S?(0,s.jsxs)("div",{className:"p-3 rounded-md border border-yellow-600 text-tiny max-w-[300px]",children:[(0,s.jsx)("strong",{children:"Local folder upload is not supported in Safari."})," Please use Chrome, Firefox, or Edge instead."]}):(0,s.jsx)(en,{setShowLocal:o,setOpenVariables:"top"===c?j:w,setInitStore:k})})]})]})})]}),"left"===c&&(0,s.jsxs)(y.AM,{open:b,onOpenChange:w,children:[(0,s.jsx)(y.Wv,{asChild:!0,children:(0,s.jsx)("div",{className:"absolute -top-8",style:{left:["local","remote"].includes(m)?-215:-100}})}),(0,s.jsx)(y.hl,{"data-meta-popover":!0,side:"left",align:"start",className:"max-h-[80vh] overflow-y-auto w-[300px]",children:(0,s.jsx)(eH,{setOpenVariables:t,onCloseDialog:()=>w(!1)})})]}),"top"===c&&(0,s.jsx)(E,{open:v,onOpenChange:j,children:(0,s.jsxs)(L,{"data-meta-popover":!0,className:"max-w-[85%] md:max-w-md max-h-[80vh] overflow-y-auto",children:[(0,s.jsx)(O,{className:"sr-only",children:"Dataset Description"}),(0,s.jsx)(eH,{setOpenVariables:t,onCloseDialog:()=>j(!1)})]})})]})},eJ=[1,2,4,6,8,12,16,24,36,48,54,60,80,120],e0=e=>{let{zSlice:t,timeLength:a,chunkWidth:r,showNext:n,showPrev:l,animProg:i}=e,o=(1-(t[1]?t[1]/a:1))*100,c=t[0]/a*100;return(0,s.jsxs)("div",{style:{position:"relative",display:"flex",width:"100%",height:"20px",border:"1px var(--text-paragraph) solid",background:"none"},children:[(0,s.jsx)("div",{style:{position:"absolute",left:"".concat(c,"%"),right:"".concat((1-(t[1]?t[1]/a:1))*100,"%"),background:"var(--play-background)",top:0,bottom:0}}),(0,s.jsx)("div",{style:{position:"absolute",left:"".concat(Math.min(100-o,100),"%"),right:"".concat(Math.max(o-r,0),"%"),background:"var(--accent-1)",visibility:n?"visible":"hidden",top:0,bottom:0}}),(0,s.jsx)("div",{style:{position:"absolute",left:"".concat(Math.max(c-r,0),"%"),right:"".concat(Math.min(100-c,100),"%"),background:"var(--accent-1)",visibility:l?"visible":"hidden",top:0,bottom:0}}),(0,s.jsx)("div",{style:{position:"absolute",left:"".concat(c+i*(100-o-c),"%"),width:0,borderLeft:"1px red solid",borderRight:"1px red solid",top:0,bottom:0}})]})},e1=e=>{var t;let{visible:a,setKeepOpen:n}=e,{animate:l,animProg:o,zSlice:c,setAnimate:d,setAnimProg:u}=(0,f.Ws)((0,p.k)(e=>({animate:e.animate,animProg:e.animProg,zSlice:e.zSlice,setAnimate:e.setAnimate,setAnimProg:e.setAnimProg}))),{dimArrays:h,dimUnits:x,zMeta:m,variable:g}=(0,f.on)((0,p.k)(e=>({dimArrays:e.dimArrays,dimUnits:e.dimUnits,zMeta:e.zMeta,variable:e.variable}))),{reFetch:v,setZSlice:j,ReFetch:y}=(0,f.SZ)((0,p.k)(e=>({reFetch:e.reFetch,setZSlice:e.setZSlice,ReFetch:e.ReFetch}))),w=(0,r.useRef)(null),S=(0,r.useRef)(0),[N,C]=(0,r.useState)(5),k=(0,r.useRef)(5),[A,M]=(0,r.useState)(!1),[z,D]=(0,r.useState)(!1),E=h[h.length-3],R=null==E?void 0:E.slice(c[0],null!=(t=c[1])?t:void 0),F=(null==E?void 0:E.length)||1,T=c[1]?c[1]-c[0]:F-c[0],[L,_,O]=(0,r.useMemo)(()=>{let e=null==m?void 0:m.find(e=>e.name===g);if(e){let t=e.chunks[e.chunks.length-3],a=t/F*100;return[t,a,e.chunkSize]}return[0,0,1]},[m,g,F]);function V(){let{maxSize:e,setMaxSize:t,cache:a}=f.FT.getState();a.totalSize+O>e&&t(e+O)}(0,r.useEffect)(()=>{if(null==R?void 0:R.length){if(l){k.current!==N&&w.current&&(clearInterval(w.current),w.current=null),k.current=N;let e=1e3/eJ[N];S.current=Math.round(o*T),w.current=setInterval(()=>{S.current+=1,u((S.current+1)%T/T)},e)}else w.current&&(clearInterval(w.current),w.current=null);return()=>{w.current&&clearInterval(w.current)}}},[l,N]);let I=(0,K.SB)(null==R?void 0:R[Math.round(o*T)],x[0],!0),B=(0,K.SB)(null==R?void 0:R[0],x[0],!0),P=(0,K.SB)(null==R?void 0:R[T-1],x[0],!0);return((0,r.useEffect)(()=>{d(!1),u(0)},[v]),a)?(0,s.jsx)(el,{className:"play-interface py-1",children:(0,s.jsxs)(ei,{className:"flex flex-col gap-1 w-full h-full px-1 py-1",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)(i.$,{variant:"secondary",size:"sm",className:"cursor-pointer ".concat(0===c[0]?"invisible":null),onClick:()=>{j([Math.max(c[0]-L,0),c[1]]),n(!0),V(),y()},onPointerOver:()=>D(!0),onPointerLeave:()=>D(!1),children:"Grab Prev Chunk"}),(0,s.jsx)("div",{className:"text-xs sm:text-sm text-center",children:I}),(0,s.jsx)(i.$,{variant:"secondary",size:"sm",className:"cursor-pointer ".concat(c[1]&&c[1]!==F?null:"invisible"),onClick:()=>{null!==c[1]&&(j([c[0],Math.min(c[1]+L,F)]),n(!0),V(),y())},onPointerOver:()=>M(!0),onPointerLeave:()=>M(!1),children:"Grab Next Chunk"})]}),T<F&&(0,s.jsx)(e0,{zSlice:c,timeLength:F,chunkWidth:_,showPrev:z,showNext:A,animProg:o}),(0,s.jsxs)("div",{className:"flex items-center gap-1 w-full",children:[(0,s.jsx)("span",{className:"text-xs",children:B}),(0,s.jsx)(eO.A,{value:[Math.round(o*F)],min:0,max:F-1,step:1,className:"flex-1",onValueChange:e=>{let t=Array.isArray(e)?e[0]:0;u(t/F),S.current=t}}),(0,s.jsx)("span",{className:"text-xs",children:P})]}),(0,s.jsxs)("div",{className:"grid grid-cols-3 items-center w-full",children:[(0,s.jsx)("div",{className:"justify-self-start",children:(0,s.jsx)(i.$,{variant:"secondary",size:"sm",className:"cursor-pointer",disabled:N<=0,onClick:()=>C(e=>Math.max(0,e-1)),"aria-label":"Slower",title:"Slower",children:"Slower"})}),(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center gap-1 w-full",children:[(0,s.jsxs)("div",{className:"flex justify-around",children:[(0,s.jsx)(i.$,{disabled:l,variant:"default",size:"sm",className:"cursor-pointer",onClick:()=>{S.current=Math.round(o*T)-1,-1===S.current&&(S.current=T-1),u(S.current/T)},"aria-label":l?"":"Backward",title:l?"":"Backward",children:(0,s.jsx)(b.HWp,{})}),(0,s.jsx)(i.$,{variant:"default",size:"sm",className:"cursor-pointer mx-2",onClick:()=>d(!l),"aria-label":l?"Pause":"Play",title:l?"Pause":"Play",children:l?(0,s.jsx)(b.kwt,{}):(0,s.jsx)(b.gSK,{})}),(0,s.jsx)(i.$,{disabled:l,variant:"default",size:"sm",className:"cursor-pointer",onClick:()=>{S.current=Math.round(o*T)+1,u(S.current/T)},"aria-label":l?"":"Forward",title:l?"":"Forward",children:(0,s.jsx)(b.BJf,{})})]}),(0,s.jsxs)("div",{className:"text-[11px] leading-none",children:[(0,s.jsx)("b",{children:eJ[N]})," FPS"]})]}),(0,s.jsx)("div",{className:"justify-self-end",children:(0,s.jsx)(i.$,{variant:"secondary",size:"sm",className:"cursor-pointer",disabled:N>=eJ.length-1,onClick:()=>C(e=>Math.min(eJ.length-1,e+1)),"aria-label":"Faster",title:"Faster",children:"Faster"})})]})]})}):null},e2=()=>{let{isFlat:e,plotOn:t,dimArrays:a}=(0,f.on)((0,p.k)(e=>({isFlat:e.isFlat,plotOn:e.plotOn,dimArrays:e.dimArrays}))),{reFetch:n}=(0,f.SZ)((0,p.k)(e=>({reFetch:e.reFetch}))),[l,o]=(0,r.useState)(!1),c=(0,r.useMemo)(()=>{let s=Array.isArray(a)&&a.length>=3;return!e&&t&&s},[e,t,a]),[d,m]=(0,r.useState)("left"),[g,v]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{n&&(g||o(!1),v(!0))},[n,g,o,v]),(0,r.useEffect)(()=>{let e=()=>{m(window.innerWidth<768?"top":"left")};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(u,{delayDuration:500,children:[(0,s.jsx)(h,{asChild:!0,children:(0,s.jsx)("div",{style:c?{}:{pointerEvents:"none"},children:(0,s.jsx)(i.$,{variant:"ghost",size:"icon",className:"size-10 cursor-pointer hover:scale-90 transition-transform duration-100 ease-out",style:{color:c?"":"var(--text-disabled)"},onClick:()=>{c&&o(e=>!e)},children:(0,s.jsx)(ec.BXV,{className:"size-8"})})})}),(0,s.jsx)(x,{side:"left"===d?"left":"top",align:"left"===d?"start":"center",className:"flex flex-col",children:(0,s.jsx)("span",{children:"Animation controls"})})]}),(0,s.jsx)(e1,{visible:l&&c,setKeepOpen:v})]})};a(3023);let e4={oom:{title:"Out of Memory",description:"The application has run out of memory. Please try closing other applications or restarting your device."},cors:{title:"CORS Error",description:"There was a Cross-Origin Resource Sharing (CORS) error. Please check your network settings or try again later."},404:{title:"Resource Not Found",description:"The requested resource could not be found. Please check the URL or try again later."},zarrFetch:{title:"Failed to Fetch Zarr Store",description:"There was an error fetching the Zarr store. Please check the store path and your network connection."},dataType:{title:"Unsupported Data Type",description:"The data type of the array is not supported. Please use arrays with Float[16|32|64] or (u)Int[8|16|32] data types."},tsException:{title:"1D Transect Unavailable",description:"1D transects are unavailable when using face displacement on the sphere plot."}},e5=()=>{let{error:e,setError:t}=(0,f.$U)((0,p.k)(e=>({error:e.error,setError:e.setError})));return(0,s.jsx)(s.Fragment,{children:e&&(0,s.jsx)(E,{open:!0,onOpenChange:e=>t(null),children:(0,s.jsxs)(L,{"aria-describedby":"Error Message",children:[(0,s.jsxs)(O,{className:"text-center text-lg font-semibold",children:["Error: ",e4[e].title]}),(0,s.jsx)("div",{className:"error-message",children:e4[e].description}),(0,s.jsx)("div",{className:"flex justify-center mt-[10px]",children:(0,s.jsx)(i.$,{variant:"pink",className:"cursor-pointer hover:scale-[1.1]",onClick:e=>t(null),children:"Okay"})})]})})})};var e3=a(9603),e8=a(2080),e6=a(559),e7=a(1178);function e9(e){let{...t}=e;return(0,s.jsx)(e8.bL,{"data-slot":"select",...t})}function te(e){let{...t}=e;return(0,s.jsx)(e8.YJ,{"data-slot":"select-group",...t})}function tt(e){let{...t}=e;return(0,s.jsx)(e8.WT,{"data-slot":"select-value",...t})}function ta(e){let{className:t,size:a="default",children:r,...n}=e;return(0,s.jsxs)(e8.l9,{"data-slot":"select-trigger","data-size":a,className:(0,c.cn)("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...n,children:[r,(0,s.jsx)(e8.In,{asChild:!0,children:(0,s.jsx)(eM.A,{className:"size-4 opacity-50"})})]})}function ts(e){let{className:t,children:a,position:r="popper",...n}=e;return(0,s.jsx)(e8.ZL,{children:(0,s.jsxs)(e8.UC,{"data-slot":"select-content",className:(0,c.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===r&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[(0,s.jsx)(tl,{}),(0,s.jsx)(e8.LM,{className:(0,c.cn)("p-1","popper"===r&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:a}),(0,s.jsx)(ti,{})]})})}function tr(e){let{className:t,...a}=e;return(0,s.jsx)(e8.JU,{"data-slot":"select-label",className:(0,c.cn)("text-muted-foreground px-2 py-1.5 text-xs",t),...a})}function tn(e){let{className:t,children:a,...r}=e;return(0,s.jsxs)(e8.q7,{"data-slot":"select-item",className:(0,c.cn)("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...r,children:[(0,s.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,s.jsx)(e8.VF,{children:(0,s.jsx)(e6.A,{className:"size-4"})})}),(0,s.jsx)(e8.p4,{children:a})]})}function tl(e){let{className:t,...a}=e;return(0,s.jsx)(e8.PP,{"data-slot":"select-scroll-up-button",className:(0,c.cn)("flex cursor-default items-center justify-center py-1",t),...a,children:(0,s.jsx)(e7.A,{className:"size-4"})})}function ti(e){let{className:t,...a}=e;return(0,s.jsx)(e8.wn,{"data-slot":"select-scroll-down-button",className:(0,c.cn)("flex cursor-default items-center justify-center py-1",t),...a,children:(0,s.jsx)(eM.A,{className:"size-4"})})}let to=[{value:"Mean",label:"Mean"},{value:"Min",label:"Min"},{value:"Max",label:"Max"},{value:"StDev",label:"Standard Deviation"},{value:"LinearSlope",label:"Linear Slope"}],tc=[{value:"Mean3D",label:"Mean"},{value:"Min3D",label:"Min"},{value:"Max3D",label:"Max"},{value:"StDev3D",label:"Standard Deviation"}],td=[{value:"Mean2D",label:"Mean"},{value:"Min2D",label:"Min"},{value:"Max2D",label:"Max"},{value:"StDev2D",label:"Standard Deviation"}],tu=[{value:"Correlation2D",label:"Correlation"},{value:"TwoVarLinearSlope2D",label:"Linear Slope"},{value:"Covariance2D",label:"Covariance"}],th=[{value:"Correlation3D",label:"Correlation"},{value:"TwoVarLinearSlope3D",label:"Linear Slope"},{value:"Covariance3D",label:"Covariance"}],tx=(0,s.jsxs)("div",{className:"m-0 p-5 font-sans flex-column justify-center items-center",children:[(0,s.jsx)("span",{className:"text-5xl mb-4 block self-center",children:"⚠️"}),(0,s.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"WebGPU Not Available"}),(0,s.jsx)("p",{className:"text-base leading-relaxed mb-1 opacity-95",children:"WebGPU is not supported or enabled in your current browser. This feature is required for GPU-accelerated computing."}),(0,s.jsxs)("div",{className:"bg-[--card] bg-opacity-15 rounded-xl border border-[--secondary] p-3 border-opacity-20",children:[(0,s.jsx)("h3",{className:"m-0 mb-4 text-lg font-semibold",children:"Try These Solutions:"}),(0,s.jsxs)("ul",{className:"suggestion-list",children:[(0,s.jsx)("li",{children:"Switch to a Chrome-based browser (Chrome, Edge, Brave)"}),(0,s.jsx)("li",{children:"Use Safari on macOS (version 14.1 or later)"}),(0,s.jsx)("li",{children:"Enable WebGPU in your browser's experimental features"}),(0,s.jsx)("li",{children:"Update your browser to the latest version"})]})]})]}),tm=()=>{let{plotOn:e,variable:t,variables:a,dimNames:n,initStore:o,isFlat:c,setTimeSeries:d,setValueScales:m}=(0,f.on)((0,p.k)(e=>({plotOn:e.plotOn,variable:e.variable,variables:e.variables,dimNames:e.dimNames,initStore:e.initStore,isFlat:e.isFlat,setTimeSeries:e.setTimeSeries,setValueScales:e.setValueScales}))),g=(0,r.useRef)(o),[v,j]=(0,r.useState)(!1),{execute:b,operation:w,useTwo:S,kernelSize:N,kernelDepth:C,kernelOperation:k,axis:A,variable2:M,analysisMode:z,reverseDirection:D,valueScalesOrig:E,setExecute:R,setAxis:F,setOperation:T,setUseTwo:L,setVariable2:_,setKernelSize:O,setKernelDepth:V,setKernelOperation:I,setAnalysisMode:B,setReverseDirection:P,setAnalysisStore:U,setAnalysisDim:W}=(0,f.r2)((0,p.k)(e=>({execute:e.execute,operation:e.operation,useTwo:e.useTwo,kernelSize:e.kernelSize,kernelDepth:e.kernelDepth,kernelOperation:e.kernelOperation,axis:e.axis,variable2:e.variable2,valueScalesOrig:e.valueScalesOrig,analysisMode:e.analysisMode,reverseDirection:e.reverseDirection,setExecute:e.setExecute,setAxis:e.setAxis,setOperation:e.setOperation,setUseTwo:e.setUseTwo,setVariable2:e.setVariable2,setKernelSize:e.setKernelSize,setKernelDepth:e.setKernelDepth,setKernelOperation:e.setKernelOperation,setAnalysisMode:e.setAnalysisMode,setReverseDirection:e.setReverseDirection,setAnalysisStore:e.setAnalysisStore,setAnalysisDim:e.setAnalysisDim}))),{reFetch:Y}=(0,f.SZ)((0,p.k)(e=>({reFetch:e.reFetch}))),[G,$]=(0,r.useState)(!1);(0,r.useEffect)(()=>{(async()=>{if(!navigator.gpu)return $(!0);try{await navigator.gpu.requestAdapter(),$(!1)}catch(e){$(!0)}})()},[e]),(0,r.useEffect)(()=>{o!=g.current?j(!0):j(!1)},[o]),(0,r.useEffect)(()=>{j(!1),g.current=o,U(o)},[Y]),(0,r.useEffect)(()=>{c?V(1):V(3)},[c]),(0,r.useEffect)(()=>{I("Default"),T("Default"),B(!1)},[t]);let[Z,X]=(0,r.useState)(0);(0,r.useEffect)(()=>{X(A)},[A]);let[q,H]=(0,r.useState)("left");function K(e){let t=parseInt(e);return t%2==0?Math.max(1,t-1):t}return(0,r.useEffect)(()=>{let e=()=>{H(window.innerWidth<768?"top":"left")};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(y.AM,{children:[(0,s.jsx)(y.Wv,{asChild:!0,children:(0,s.jsx)("div",{style:e?{}:{pointerEvents:"none"},children:(0,s.jsxs)(u,{delayDuration:500,children:[(0,s.jsx)(h,{asChild:!0,children:(0,s.jsx)("div",{children:(0,s.jsx)(i.$,{variant:"ghost",size:"icon",className:"size-10 cursor-pointer hover:scale-90 transition-transform duration-100 ease-out",style:{color:e?"":"var(--text-disabled)"},children:(0,s.jsx)(ec.x6X,{className:"size-8"})})})}),"left"===q?(0,s.jsx)(x,{side:"left",align:"start",children:(0,s.jsx)("span",{children:"Apply operations"})}):(0,s.jsx)(x,{side:"top",align:"center",children:(0,s.jsx)("span",{children:"Apply operations"})})]})})}),(0,s.jsx)(y.hl,{side:q,className:"analysis-info select-none",children:G?tx:(0,s.jsxs)(s.Fragment,{children:[!c&&(0,s.jsx)(i.$,{className:"cursor-pointer active:scale-[0.95] bg-gray-500",disabled:v,onClick:()=>{L(!S),T("Default")},children:S?"Use One \n Variable":"Use Two Variables"}),(0,s.jsx)("table",{style:{textAlign:"right"},children:(0,s.jsxs)("tbody",{children:[(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Current Variable"}),(0,s.jsx)("td",{className:"text-center w-[100%] align-middle justify-center content-center",children:(0,s.jsxs)("div",{className:"grid grid-cols-[65%_auto] w-[90%] mx-auto",children:[z&&(0,s.jsx)("div",{className:"rounded-[6px] self-center mx-2 relative border border-gray-150 py-[5px] px-1",children:(0,s.jsxs)("div",{className:"flex justify-around",children:["Current",(0,s.jsxs)(u,{children:[(0,s.jsx)(h,{asChild:!0,children:(0,s.jsx)(l.kAG,{})}),(0,s.jsx)(x,{children:"Operations will be applied to the newly generated data."})]})]})}),(0,s.jsxs)("button",{className:"rounded-[6px] self-center ".concat(z?null:"col-span-2"," w-[100%] pl-2 relative border border-gray-150 py-[5px] ").concat(z?"hover:scale-[0.95]":""," transition-[0.2s]"),style:{cursor:z?"pointer":""},disabled:!z,onClick:e=>{f.r2.setState({analysisMode:!1,analysisDim:null,variable2:"Default"}),E&&m(E)},children:[z&&(0,s.jsx)(e3.fc4,{size:20,style:{position:"absolute",left:"0%",top:"10%"}}),z?"Reset":t]})]})})]}),S&&(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Second Variable"}),(0,s.jsx)("td",{children:(0,s.jsxs)(e9,{onValueChange:_,children:[(0,s.jsx)(ta,{style:{width:"175px",marginLeft:"18px"},children:(0,s.jsx)(tt,{placeholder:"Select..."})}),(0,s.jsx)(ts,{children:a.map((e,a)=>e==t?null:(0,s.jsx)(tn,{value:e,children:e},a))})]})})]})}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Operation"}),!S&&(0,s.jsx)("td",{children:(0,s.jsxs)(e9,{value:w,onValueChange:T,children:[(0,s.jsx)(ta,{style:{width:"175px",marginLeft:"18px"},children:(0,s.jsx)(tt,{placeholder:"Select..."})}),(0,s.jsxs)(ts,{children:[!c&&(0,s.jsxs)(te,{children:[(0,s.jsx)(tr,{children:"Dimension Reduction"}),to.map((e,t)=>(0,s.jsx)(tn,{value:e.value,children:e.label},t))]}),(0,s.jsxs)(te,{children:[(0,s.jsx)(tr,{children:c?"":"Three Dimensional"}),(0,s.jsx)(tn,{value:"Convolution",children:"Convolution"}),!c&&!z&&(0,s.jsx)(tn,{value:"CUMSUM3D",children:"CUMSUM"})]})]})]})}),S&&(0,s.jsx)("td",{children:(0,s.jsxs)(e9,{value:w,onValueChange:T,children:[(0,s.jsx)(ta,{style:{width:"175px",marginLeft:"18px"},children:(0,s.jsx)(tt,{placeholder:"Select..."})}),(0,s.jsxs)(ts,{children:[(0,s.jsxs)(te,{children:[(0,s.jsx)(tr,{children:"Dimension Reduction"}),tu.map((e,t)=>(0,s.jsx)(tn,{value:e.value,children:e.label},t))]}),(0,s.jsxs)(te,{children:[(0,s.jsx)(tr,{children:"Three Dimensional"}),(0,s.jsx)(tn,{value:"Convolution",children:"Convolution"})]})]})]})})]}),[...to.map(e=>e.value),...tu.map(e=>e.value),"CUMSUM3D"].includes(w)&&!c&&(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Axis"}),(0,s.jsxs)("td",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[(0,s.jsxs)(e9,{onValueChange:e=>X(parseInt(e)),children:[(0,s.jsx)(ta,{style:{width:["CUMSUM3D","LinearSlope"].includes(w)?"50%":"175px",marginLeft:"18px"},children:(0,s.jsx)(tt,{placeholder:n[Z]})}),(0,s.jsx)(ts,{children:n.map((e,t)=>(0,s.jsx)(tn,{value:String(t),children:e},t))})]}),["CUMSUM3D"].includes(w)&&(0,s.jsxs)(u,{delayDuration:300,children:[(0,s.jsxs)("div",{style:{width:"90%",display:"flex",justifyContent:"space-around",alignItems:"center",alignContent:"center"},children:[(0,s.jsx)("label",{htmlFor:"reverse-axis",style:{textAlign:"left"},children:"Rev."}),(0,s.jsx)(h,{children:(0,s.jsx)(ew,{id:"reverse-axis",checked:1==D,onCheckedChange:e=>{P(+!!e)}})})]}),(0,s.jsx)(x,{side:"bottom",children:"Reverse the direction of the operation along the axis"})]})]})]}),"Convolution"==w&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Kernel Op."}),(0,s.jsx)("td",{children:(0,s.jsxs)(e9,{onValueChange:I,children:[(0,s.jsx)(ta,{style:{width:"175px",marginLeft:"18px"},children:(0,s.jsx)(tt,{placeholder:"Default"===k?"Select...":k})}),(0,s.jsxs)(ts,{children:[S&&th.map((e,t)=>(0,s.jsx)(tn,{value:e.value,children:e.label},t)),!S&&c?td.map((e,t)=>(0,s.jsx)(tn,{value:e.value,children:e.label},t)):tc.map((e,t)=>(0,s.jsx)(tn,{value:e.value,children:e.label},t))]})]})})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{style:{padding:"0px 12px"},children:"Kernel Size"}),(0,s.jsx)("td",{children:(0,s.jsx)("table",{style:{width:"100%",tableLayout:"fixed"},children:(0,s.jsxs)("tbody",{children:[!c&&(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{style:{textAlign:"center"},children:"Size"}),(0,s.jsx)("td",{style:{textAlign:"center"},children:"Depth"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{style:{textAlign:"center",padding:"0px 12px"},children:(0,s.jsx)(ea,{type:"number",min:"1",step:"2",value:String(N),onChange:e=>O(parseInt(e.target.value)),onBlur:e=>O(K(e.target.value))})}),!c&&(0,s.jsx)("td",{style:{textAlign:"center",padding:"0px 12px"},children:(0,s.jsx)(ea,{type:"number",min:"1",step:"2",value:String(C),onChange:e=>V(parseInt(e.target.value)),onBlur:e=>V(K(e.target.value))})})]})]})})})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{}),(0,s.jsx)("th",{children:(0,s.jsx)(tp,{size:Math.min(N,15),depth:Math.min(C,15)})})]})]})]})}),(0,s.jsx)(i.$,{className:"cursor-pointer active:scale-[0.95]",disabled:"Default"===w||"Convolution"===w&&"Default"===k||S&&"Default"===M,variant:"pink",onClick:()=>{F(Z),W("CUMSUM3D"==w?null:Z),R(!b),d({})},children:"Execute"})]})})]})})},tp=e=>{let{size:t,depth:a}=e,n=(0,r.useRef)(null);return(0,r.useEffect)(()=>{let e=n.current;if(!e)return;let s=e.getContext("2d");if(!s)return;e.width=150,e.height=150;let r=(110-6*Math.max(0,a-1))/t;s.clearRect(0,0,150,150);for(let e=a-1;e>=0;e--){let n=6*e,l=6*e/1.5;for(let i=0;i<t;i++)for(let o=0;o<t;o++){s.fillStyle=i===Math.floor(t/2)&&o===Math.floor(t/2)||e==Math.floor(a/2)&&1!=a?"#da5d5dff":"rgba(255, 255, 255, 1)",s.strokeStyle="#334155",s.lineWidth=1;let c=20+n+o*r,d=20+l+i*r;s.beginPath(),s.rect(c,d,r,r),s.fill(),s.stroke()}}},[t,a]),(0,s.jsx)("canvas",{ref:n})};var tf=a(3268);let tg=()=>{let{includeBackground:e,includeColorbar:t,doubleSize:a,cbarLoc:n,cbarNum:l,useCustomRes:o,customRes:c,includeAxis:d,mainTitle:m,cbarLabel:g,animate:v,timeRate:j,frames:b,frameRate:w,orbit:S,useTime:N,loopTime:C,animViz:k,initialState:A,finalState:M,preview:z}=(0,f.qi)((0,p.k)(e=>({includeBackground:e.includeBackground,includeColorbar:e.includeColorbar,doubleSize:e.doubleSize,cbarLoc:e.cbarLoc,cbarNum:e.cbarNum,useCustomRes:e.useCustomRes,customRes:e.customRes,includeAxis:e.includeAxis,mainTitle:e.mainTitle,cbarLabel:e.cbarLabel,animate:e.animate,timeRate:e.timeRate,frames:e.frames,frameRate:e.frameRate,orbit:e.orbit,useTime:e.useTime,loopTime:e.loopTime,animViz:e.animViz,initialState:e.initialState,finalState:e.finalState,preview:e.preview}))),{ExportImg:D,EnableExport:E,setIncludeBackground:R,setIncludeColorbar:F,setDoubleSize:T,setCbarLoc:L,setCbarNum:_,setUseCustomRes:O,setCustomRes:V,setIncludeAxis:I,setHideAxis:B,setHideAxisControls:P,setMainTitle:U,setCbarLabel:W,setAnimate:Y,setFrames:G,setFrameRate:$,setTimeRate:Z,setOrbit:X,setUseTime:q,setLoopTime:H,setAnimViz:K,setInitialState:Q,setFinalState:J,setPreview:ee}=f.qi.getState(),{plotType:et,zSlice:es}=(0,f.Ws)((0,p.k)(e=>({plotType:e.plotType,zSlice:e.zSlice}))),{variable:er,metadata:en,dimArrays:el}=(0,f.on)((0,p.k)(e=>({variable:e.variable,metadata:e.metadata,dimArrays:e.dimArrays,dimUnits:e.dimUnits}))),[ei,eo]=(0,r.useState)(!1),[ec,ed]=(0,r.useState)(!1),[eu,eh]=(0,r.useState)(!0),[ex,em]=(0,r.useState)(!0);return(0,r.useEffect)(()=>{var e;let t=el[el.length-3];null==t||t.slice(es[0],null!=(e=es[1])?e:void 0);let a=(null==t?void 0:t.length)||1;G(es[1]?es[1]-es[0]:a-es[0])},[es]),(0,r.useEffect)(()=>{Q(void 0),J(void 0)},[et]),(0,s.jsxs)(y.AM,{children:[(0,s.jsx)(y.Wv,{asChild:!0,children:(0,s.jsx)("div",{children:(0,s.jsxs)(u,{delayDuration:500,children:[(0,s.jsx)(h,{asChild:!0,children:(0,s.jsx)(i.$,{variant:"ghost",size:"icon",className:"cursor-pointer",onClick:e=>E(),children:(0,s.jsx)(tf.qlq,{className:"size-8"})})}),(0,s.jsx)(x,{side:"right",align:"start",children:"Export view as Image"})]})})}),(0,s.jsx)(y.hl,{side:"right",className:"w-[200px] select-none",children:(0,s.jsxs)("div",{className:"grid items-center gap-2",children:[(0,s.jsxs)("button",{onClick:()=>eo(e=>!e),className:"flex items-center gap-2 w-full ",children:[(0,s.jsx)("b",{children:"Titles"}),(0,s.jsx)(eM.A,{className:"h-4 w-4 transition-transform duration-200 ".concat(ei?"":"rotate-180")})]}),(0,s.jsx)(eI,{show:ei,className:"col-span-2",children:(0,s.jsxs)("div",{className:"grid",children:[(0,s.jsx)("label",{htmlFor:"main-title",children:"Main Title"}),(0,s.jsx)(ea,{id:"main-title",type:"string",placeholder:er,value:m,onChange:e=>U(e.target.value)}),(0,s.jsx)("label",{htmlFor:"cbar-title",children:"Colorbar Label"}),(0,s.jsx)(ea,{id:"cbar-title",type:"string",placeholder:null==en?void 0:en.units,value:g,onChange:e=>W(e.target.value)})]})}),(0,s.jsxs)("button",{onClick:()=>eh(e=>!e),className:"flex items-center gap-2 w-full ",children:[(0,s.jsx)("b",{children:"Settings"}),(0,s.jsx)(eM.A,{className:"h-4 w-4 transition-transform duration-200 ".concat(eu?"":"rotate-180")})]}),(0,s.jsx)(eI,{show:eu,className:"col-span-2",children:(0,s.jsxs)("div",{className:"grid grid-cols-[auto_60px] items-center gap-2",children:[(0,s.jsx)("label",{htmlFor:"includeBG",children:"Include Background"}),(0,s.jsx)(ew,{id:"includeBG",checked:e,onCheckedChange:e=>R(e)}),"sphere"!=et&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("label",{htmlFor:"includeBG",children:"Include Axis"}),(0,s.jsx)(ew,{id:"includeBG",checked:d,onCheckedChange:e=>I(e)})]}),(0,s.jsx)("label",{htmlFor:"includeCbar",children:"Include Colorbar"}),(0,s.jsx)(ew,{id:"includeCbar",checked:t,onCheckedChange:e=>F(e)}),(0,s.jsxs)(eI,{show:t,className:"col-span-2",children:[(0,s.jsxs)("div",{className:"col-span-2 flex justify-between",children:[(0,s.jsxs)("label",{htmlFor:"colorbar-loc ",children:["Colorbar ",(0,s.jsx)("br",{})," Location"]}),(0,s.jsx)("div",{id:"colorbar-loc",children:(0,s.jsxs)(e9,{value:n,onValueChange:e=>L(e),children:[(0,s.jsx)(ta,{children:(0,s.jsx)(tt,{placeholder:n})}),(0,s.jsx)(ts,{children:["left","right","top","bottom"].map(e=>(0,s.jsx)(tn,{value:e,children:(e=>e.charAt(0).toUpperCase()+e.slice(1))(e)},e))})]})})]}),(0,s.jsxs)("div",{className:"grid grid-cols-[auto_60px] items-center gap-2",children:[(0,s.jsx)("label",{htmlFor:"cbarNum",children:"Number of Ticks"}),(0,s.jsx)(ea,{id:"cbarNum",type:"number",min:0,max:20,step:1,value:l,onChange:e=>_(parseInt(e.target.value))})]}),(0,s.jsx)("div",{className:"border-b my-2"})]}),(0,s.jsx)("label",{htmlFor:"useCustomRes",children:"Set Resolution"}),(0,s.jsx)(ew,{id:"useCustomRes",checked:o,onCheckedChange:e=>O(e)}),(0,s.jsx)(eI,{show:o,className:"col-span-2",children:(0,s.jsxs)("div",{className:"grid grid-cols-[50%_50%] col-span-2 ",children:[(0,s.jsxs)("div",{className:"flex flex-col items-center",children:[(0,s.jsx)("h1",{children:"Width"}),(0,s.jsx)(ea,{id:"cbarNum",type:"number",value:c[0],onChange:e=>V([parseInt(e.target.value),c[1]])})]}),(0,s.jsxs)("div",{className:"flex flex-col items-center",children:[(0,s.jsx)("h1",{children:"Height"}),(0,s.jsx)(ea,{id:"cbarNum",type:"number",value:c[1],onChange:e=>V([c[0],parseInt(e.target.value)])})]})]})}),(0,s.jsx)(eI,{show:!o,className:"col-span-2",children:(0,s.jsxs)("div",{className:"grid grid-cols-[auto_60px] items-center gap-2",children:[(0,s.jsx)("label",{htmlFor:"includeCbar",children:"Double Resolution"}),(0,s.jsx)(ew,{id:"includeCbar",checked:a,onCheckedChange:e=>T(e)})]})})]})}),(0,s.jsxs)("button",{onClick:()=>ed(e=>!e),className:"flex items-center gap-2 w-full ",children:[(0,s.jsx)("b",{children:"Animations"}),(0,s.jsx)(eM.A,{className:"h-4 w-4 transition-transform duration-200 ".concat(ec?"":"rotate-180")})]}),(0,s.jsx)(eI,{show:ec,className:"grid col-span-2 gap-2",children:(0,s.jsxs)("div",{className:"grid grid-cols-[auto_60px] items-center gap-2",children:[(0,s.jsx)("label",{htmlFor:"useAnimate",children:"Export Animation"}),(0,s.jsx)(ew,{id:"useAnimate",checked:v,onCheckedChange:e=>Y(e)}),(0,s.jsxs)(eI,{show:v,className:"col-span-2 ",children:[(0,s.jsxs)("div",{className:"grid grid-cols-[auto_80px] items-center gap-2 mb-2",children:[(0,s.jsx)("label",{htmlFor:"frames",children:"Frames"}),(0,s.jsx)(ea,{id:"frames",type:"number",step:1,value:b,onChange:e=>G(parseInt(e.target.value))}),(0,s.jsx)("label",{htmlFor:"fps",children:"FPS"}),(0,s.jsx)(ea,{id:"fps",type:"number",step:1,value:w,onChange:e=>$(parseInt(e.target.value))})]}),(0,s.jsxs)("div",{className:"grid grid-cols-[auto_60px] items-center gap-2",children:[(0,s.jsx)("label",{htmlFor:"useOrbit",children:"Orbit"}),(0,s.jsx)(ew,{id:"useOrbit",checked:S,onCheckedChange:e=>X(e)}),(0,s.jsx)("label",{htmlFor:"useTime",children:"Animate Time"}),(0,s.jsx)(ew,{id:"useTime",checked:N,onCheckedChange:e=>q(e)}),(0,s.jsxs)(eI,{show:N,className:"col-span-2",children:[(0,s.jsxs)("div",{className:"grid grid-cols-[auto_80px] items-center gap-2 mb-2",children:[(0,s.jsx)("label",{htmlFor:"timeRate",children:"Time FPS"}),(0,s.jsx)(ea,{id:"timeRate",type:"number",step:1,value:j,onChange:e=>Z(parseInt(e.target.value))})]}),(0,s.jsxs)("div",{className:"grid grid-cols-[auto_60px] items-center gap-2",children:[(0,s.jsx)("label",{htmlFor:"loopTime",children:"Loop Time"}),(0,s.jsx)(ew,{id:"loopTime",checked:C,onCheckedChange:e=>H(e)})]}),(0,s.jsx)("div",{className:"border-b my-2"})]}),(0,s.jsx)("label",{htmlFor:"changeViz",children:"Animate Visuals"}),(0,s.jsx)(ew,{id:"changeViz",checked:k,onCheckedChange:e=>K(e)}),(0,s.jsxs)(eI,{show:k,className:"col-span-2",children:[(0,s.jsx)("div",{className:"flex items-center justify-center",children:(0,s.jsx)("b",{children:"Visual States"})}),(0,s.jsxs)("div",{className:"relative w-full text-center h-10 bg-primary rounded-full cursor-pointer mb-2 flex items-center justify-between px-4",onClick:()=>{em(e=>!e)},children:[(0,s.jsx)("span",{className:"z-10 font-semibold transition-colors ".concat(ex?"text-primary":"text-secondary"),children:"Initial"}),(0,s.jsx)("span",{className:"z-10 font-semibold transition-colors ".concat(ex?"text-secondary":"text-primary"),children:"Final"}),(0,s.jsx)("div",{className:"absolute top-1 h-8 w-[calc(50%-8px)] bg-secondary shadow-xs hover:bg-secondary/80 rounded-full transition-all duration-300 ".concat(ex?"left-1":"left-[calc(50%+4px)]")})]}),(0,s.jsxs)("div",{className:"grid items-center gap-1 justify-center",children:[ex&&A||!ex&&M?(0,s.jsx)(i.$,{className:"cursor-pointer",variant:"outline",onClick:()=>(function(e){let t=e?f.qi.getState().initialState:f.qi.getState().finalState;t&&f.Ws.setState(t)})(ex),children:"View State"}):(0,s.jsx)("p",{children:"State not set"}),(0,s.jsx)(i.$,{className:"cursor-pointer",variant:"secondary",onClick:e=>{!function(e){var t;let{plotType:a}=f.Ws.getState(),s=[];s="volume"===a?["transparency","vTransferRange","vTransferScale"]:"point-cloud"===a?["scaleIntensity","pointSize","timeScale"]:["displacement"],["point-cloud","volume"].includes(a)&&s.push("valueRange","xRange","yRange","zRange"),"pointCloud"!=a&&s.push("nanColor","nanTransparency");let r=(t=f.Ws.getState(),s.reduce((e,a)=>(a in t&&(e[a]=t[a]),e),{}));e?f.qi.setState({initialState:r}):f.qi.setState({finalState:r})}(ex)},children:ex&&A||!ex&&M?"Overwrite State":"Set State"})]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-[auto_60px] items-center gap-2 my-2",children:[(0,s.jsx)("label",{htmlFor:"usePreview",children:"Export Preview"}),(0,s.jsx)(ew,{id:"usePreview",checked:z,onCheckedChange:e=>ee(e)})]})]})]})}),(0,s.jsx)(i.$,{className:"col-span-2",variant:"pink",onClick:e=>{D(),P(!0),B(!d)},children:"Export"})]})})]})};a(3642),a(8526);let tv=()=>{let[e,t]=(0,r.useState)([]),[a,n]=(0,r.useState)(null),[o,c]=(0,r.useState)(!1);return((0,r.useEffect)(()=>{let{hostname:e,pathname:a,origin:s}=window.location,r=a.split("/").filter(Boolean),l=e.endsWith("github.io"),i="localhost"===e||e.startsWith("10."),o=l&&r.length?"/".concat(r[0]):"";if(i){t(["latest"]),n("latest");return}let c="".concat(s).concat(o,"/versions.json");fetch(c).then(e=>{if(!e.ok)throw Error("Failed to load ".concat(c));return e.json()}).then(e=>{let a=e.sort((e,t)=>{if("latest"===e)return -1;if("latest"===t)return 1;let a=e=>e.replace("v","").split(".").map(Number),[s,r,n]=a(e),[l,i,o]=a(t);return s!==l?l-s:r!==i?i-r:o-n});t(a);let s=l?r[1]||"latest":r[0]||"latest";n(a.find(e=>e===s)||a[0]||null)}).catch(e=>{console.error("Could not fetch versions.json",e),t(["latest"]),n("latest")})},[]),e.length&&a)?(0,s.jsxs)(y.AM,{open:o,onOpenChange:c,children:[(0,s.jsxs)(u,{children:[(0,s.jsx)(h,{asChild:!0,children:(0,s.jsx)(y.Wv,{asChild:!0,children:(0,s.jsxs)(i.$,{variant:"ghost",size:"sm",className:"cursor-pointer",children:[(0,s.jsx)("span",{children:(0,s.jsx)(l.N3f,{})}),(0,s.jsx)(eV.zrT,{className:"w-4 h-4 transition-transform ".concat(o?"rotate-180":"")})]})})}),(0,s.jsx)(x,{side:"left",children:a})]}),(0,s.jsx)(y.hl,{className:"w-28 p-1",align:"end",children:(0,s.jsx)("div",{className:"space-y-1",children:e.map(e=>(0,s.jsxs)(i.$,{variant:"ghost",size:"sm",className:"cursor-pointer flex items-center justify-between w-full px-3 py-2 text-sm rounded-sm",onClick:()=>(e=>{n(e),c(!1);let{hostname:t,pathname:a}=window.location,s=a.split("/").filter(Boolean),r=t.endsWith("github.io")&&s.length?"/".concat(s[0]):"";"latest"===e?window.location.href="".concat(r,"/latest/"):window.location.href="".concat(r,"/").concat(e,"/")})(e),"aria-label":"Select version ".concat(e),children:[(0,s.jsx)("span",{className:a===e?"font-bold":"",children:e}),a===e&&(0,s.jsx)(b.CMH,{className:"w-4 h-4 text-orange-600"})]},e))})})]}):null}},5490:(e,t,a)=>{"use strict";a.d(t,{kU:()=>r,t4:()=>s,Cx:()=>n});let s={src:".//_next/static/media/logo_bgc_mpi.811f35c6.png",height:335,width:1901,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAABCAMAAADU3h9xAAAACVBMVEX///////////+OSuX+AAAAA3RSTlMdMnkqIWkUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAEUlEQVR4nGNgYGBgYGRiZAQAABYABhAF/EgAAAAASUVORK5CYII=",blurWidth:8,blurHeight:1},r={src:".//_next/static/media/logo_bgc.2186f7da.png",height:324,width:324,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAM1BMVEX///////////////////////////9MaXH////////////////////////////+/v7///9noLCvAAAAEHRSTlMVaEuDyyA0AAn4qpuOw9jiFXZvNwAAAAlwSFlzAAALEwAACxMBAJqcGAAAADtJREFUeJwFwQkCwCAIA7CiQMFj9v+vXQLmPmZB5E2yRmANVrESHigCA6+1rHWx1VJrIj5JcoA47hP8AUH+AfDeLlYAAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8},n={src:".//_next/static/media/logo_mpi.60f96703.png",height:335,width:335,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAG1BMVEX///////////////////////////////9MaXHtBtUtAAAACXRSTlMVIF5RcjsnRQDMSZBbAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAM0lEQVR4nBXJyREAMAwCscXgo/+KM/lKHG03By7Hgq6ZFKJWSfEnWX7FK6RPNRo4eru5BxsqAMT2mkYXAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8}},5659:(e,t,a)=>{"use strict";a.d(t,{oW:()=>d,qw:()=>c,v6:()=>l,dl:()=>n});var s=a(2331),r=a(2801);let n=["magma","inferno","plasma","viridis","cividis","twilight","twilight_shifted","turbo","Blues","BrBG","BuGn","BuPu","CMRmap","GnBu","Greens","Greys","OrRd","Oranges","PRGn","PiYG","PuBu","PuBuGn","PuOr","PuRd","Purples","RdBu","RdGy","RdPu","RdYlBu","RdYlGn","Reds","Spectral","Wistia","YlGn","YlGnBu","YlOrBr","YlOrRd","afmhot","autumn","binary","bone","brg","bwr","cool","coolwarm","copper","cubehelix","flag","gist_earth","gist_gray","gist_heat","gist_ncar","gist_rainbow","gist_stern","gist_yarg","gnuplot","gnuplot2","gray","hot","hsv","jet","nipy_spectral","ocean","pink","prism","rainbow","seismic","spring","summer","terrain","winter","Accent","Dark2","Paired","Pastel1","Pastel2","Set1","Set2","Set3","tab10","tab20","tab20b","tab20c"];function l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Spectral",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"#000000",l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],o=Array.from({length:255},(e,t)=>t/254),c=(o=i?o.reverse():o).map(e=>(0,r.md)(e,t,!1)),d=new Uint8Array((c.length+1)*4);for(let e=0;e<c.length;e++){let[t,s,r]=c[e];d[4*e]=t,d[4*e+1]=s,d[4*e+2]=r,d[4*e+3]=a}let u=function(e){let t=parseInt(e=e.replace(/^#/,""),16);return[t>>16&255,t>>8&255,255&t]}(n),h=4*c.length;d[h]=u[0],d[h+1]=u[1],d[h+2]=u[2],d[h+3]=l,e&&e.dispose();let x=new s.GYF(d,c.length+1,1,s.GWd);return x.needsUpdate=!0,x}var i=a(4759),o=a(9691);function c(e,t){let{textureArrayDepths:a}=o.on.getState(),r=t||o.on.getState().textureData;if(r)if(2==e.length){let t=e[1],n=e[0],l={y:Math.floor(n/a[1]),x:Math.floor(t/a[2])},i=function(e,t,a){let s=[],r=Math.ceil(t.y/a.y),n=Math.ceil(t.x/a.x);for(let l=0;l<r;l++)for(let r=0;r<n;r++){let n=l*a.y,i=r*a.x,o=Math.min(n+a.y,t.y),c=Math.min(i+a.x,t.x),d=o-n,u=c-i;if(d<=0||u<=0)continue;let h=new Uint8Array(d*u),x=0;for(let a=n;a<o;a++){let s=a*t.x+i;h.set(e.subarray(s,s+u),x),x+=u}s.push({data:h,dims:{x:u,y:d}})}return s}(r,{y:n,x:t},l),o=[];for(let e of i){let t=new s.GYF(e.data,e.dims.x,e.dims.y,s.VT0,s.OUM);t.needsUpdate=!0,o.push(t)}return o}else{let[t,n,l]=e,i={z:Math.floor(t/a[0]),y:Math.floor(n/a[1]),x:Math.floor(l/a[2])},o=function(e,t,a,s){let r=[],n={z:t.y*t.x,y:t.x};for(let l=0;l<s[0];l++)for(let i=0;i<s[1];i++)for(let o=0;o<s[2];o++){let s=l*a.z,c=i*a.y,d=o*a.x,u=Math.min(s+a.z,t.z),h=Math.min(c+a.y,t.y),x=Math.min(d+a.x,t.x)-d,m=u-s,p=h-c,f=new Uint8Array(m*p*x),g=0;for(let t=s;t<u;t++)for(let a=c;a<h;a++){let s=t*n.z+a*n.y+d;f.set(e.subarray(s,s+x),g),g+=x}r.push({data:f,dims:{x:x,y:p,z:m}})}return r}(r,{z:t,y:n,x:l},i,a),c=[];for(let e of o){let t=new s.dYF(e.data,e.dims.x,e.dims.y,e.dims.z);t.format=s.VT0,t.minFilter=s.hxR,t.magFilter=s.hxR,t.needsUpdate=!0,c.push(t)}return c}}function d(e,t){let a=function(e,t){let{setTextureData:a}=o.on.getState(),s=e.data,[r,n]=t?[t.minVal,t.maxVal]:(0,i.Qt)(s);return a(new Uint8Array(e.data.map(e=>{let t=(e-r)/(n-r);return isNaN(t)?255:254*t}))),{minVal:r,maxVal:n}}(e,t);return[c(e.shape),a]}},5724:()=>{},6061:(e,t,a)=>{"use strict";a.d(t,{w:()=>l});var s=a(6496);a(4364);var r=a(141),n=a(8279);function l(e){let{className:t,orientation:a="horizontal",decorative:l=!0,...i}=e;return(0,s.jsx)(r.b,{"data-slot":"separator",decorative:l,orientation:a,className:(0,n.cn)("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",t),...i})}},6610:()=>{},6883:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});var s=a(6496),r=a(4364),n=a(4042),l=a(8279);function i(e){let{className:t,defaultValue:a,value:i,min:o=0,max:c=100,...d}=e,u=r.useMemo(()=>Array.isArray(i)?i:Array.isArray(a)?a:[o,c],[i,a,o,c]);return(0,s.jsxs)(n.bL,{"data-slot":"slider",defaultValue:a,value:i,min:o,max:c,className:(0,l.cn)("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",t),...d,children:[(0,s.jsx)(n.CC,{"data-slot":"slider-track",className:(0,l.cn)("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-1.5 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:(0,s.jsx)(n.Q6,{"data-slot":"slider-range",className:(0,l.cn)("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:u.length},(e,t)=>(0,s.jsx)(n.zi,{"data-slot":"slider-thumb",className:"border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},t))]})}},8279:(e,t,a)=>{"use strict";a.d(t,{cn:()=>n});var s=a(8197),r=a(691);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.QP)((0,s.$)(t))}},8717:()=>{},9691:(e,t,a)=>{"use strict";a.d(t,{r2:()=>h,FT:()=>p,$U:()=>f,on:()=>d,qi:()=>g,Ws:()=>u,SZ:()=>x});var s=a(9531),r=a(2331),n=a(5659),l=a(1718);function i(e){if(e instanceof ArrayBuffer||ArrayBuffer.isView(e))return e.byteLength;if("object"==typeof e&&null!==e&&"data"in e){let t=e.data;if(ArrayBuffer.isView(t))return t.byteLength}try{return JSON.stringify(e).length}catch(e){return 0}}class o{get(e){if(this.cache.has(e))return this.order=this.order.filter(t=>t!==e),this.order.push(e),this.cache.get(e)}set(e,t){var a,s;let r=this.sizeCalculator(t);for(this.cache.has(e)&&(this.totalSize-=null!=(a=this.sizes.get(e))?a:0),this.cache.set(e,t),this.sizes.set(e,r),this.totalSize+=r,this.order=this.order.filter(t=>t!==e),this.order.push(e);this.totalSize>this.maxSize&&this.order.length>0;){let e=this.order[0];this.order.shift();let t=null!=(s=this.sizes.get(e))?s:0;this.cache.delete(e),this.sizes.delete(e),this.totalSize-=t}}resize(e){if(e<0)throw Error("Cache size cannot be negative.");for(this.maxSize=e;this.totalSize>this.maxSize&&this.order.length>0;){var t;let e=this.order[0];this.order.shift();let a=null!=(t=this.sizes.get(e))?t:0;this.cache.delete(e),this.sizes.delete(e),this.totalSize-=a}}has(e){return this.cache.has(e)}delete(e){var t;return!!this.cache.has(e)&&(this.totalSize-=null!=(t=this.sizes.get(e))?t:0,this.cache.delete(e),this.sizes.delete(e),this.order=this.order.filter(t=>t!==e),!0)}clear(){this.cache.clear(),this.sizes.clear(),this.order=[],this.totalSize=0}get size(){return this.cache.size}get volume(){return this.totalSize}keys(){return this.cache.keys()}values(){return this.cache.values()}entries(){return this.cache.entries()}constructor(e){var t;this.cache=new Map,this.order=[],this.totalSize=0,this.sizes=new Map,this.maxSize=e.maxSize,this.sizeCalculator=null!=(t=e.sizeCalculator)?t:i}}let c="https://s3.bgc-jena.mpg.de:9000/esdl-esdc-v3.0.2/esdc-16d-2.5deg-46x72x1440-3.0.2.zarr",d=(0,s.v)((e,t)=>({dataShape:[1,1,1],shape:new r.Pq0(2,2,2),valueScales:{maxVal:1,minVal:-1},colormap:(0,n.v6)(),timeSeries:{},strides:[10368,144,1],metadata:null,zMeta:[{}],dimArrays:[[0],[0],[0]],dimNames:["Default"],dimUnits:["Default"],dimCoords:{},plotDim:0,flipY:!1,initStore:c,variable:"Default",variables:[],plotOn:!1,isFlat:!1,progress:0,status:null,is4D:!1,idx4D:null,titleDescription:{title:null,description:null},textureArrayDepths:[1,1,1],textureData:new Uint8Array(1),DPR:1,setDataShape:t=>e({dataShape:t}),setShape:t=>e({shape:t}),setValueScales:t=>e({valueScales:t}),setColormap:t=>e({colormap:t}),setTimeSeries:t=>e({timeSeries:t}),updateTimeSeries:a=>{e({timeSeries:Object.fromEntries(Object.entries({...a,...t().timeSeries}).slice(0,10))})},setStrides:t=>e({strides:t}),setStatus:t=>e({status:t}),setMetadata:t=>e({metadata:t}),setZMeta:t=>e({zMeta:t}),setDimArrays:t=>e({dimArrays:t}),setDimNames:t=>e({dimNames:t}),setDimUnits:t=>e({dimUnits:t}),setDimCoords:t=>e({dimCoords:t}),updateDimCoords:a=>{e({dimCoords:Object.fromEntries(Object.entries({...a,...t().dimCoords}).slice(0,10))})},setPlotDim:t=>e({plotDim:t}),setFlipY:t=>e({flipY:t}),setInitStore:t=>e({initStore:t}),setVariable:t=>e({variable:t}),setVariables:t=>e({variables:t}),setPlotOn:t=>e({plotOn:t}),setIsFlat:t=>e({isFlat:t}),setProgress:t=>e({progress:t}),setIs4D:t=>e({is4D:t}),setIdx4D:t=>e({idx4D:t}),setTitleDescription:t=>e({titleDescription:t}),setTextureArrayDepths:t=>e({textureArrayDepths:t}),setTextureData:t=>e({textureData:t}),setDPR:t=>e({DPR:t})})),u=(0,s.v)((e,t)=>({plotType:"volume",pointSize:5,scalePoints:!1,scaleIntensity:1,quality:200,timeScale:1,valueRange:[0,1],xRange:[-1,1],yRange:[-1,1],zRange:[-1,1],selectTS:!1,showPoints:!1,linePointSize:2,lineWidth:1.25,lineColor:"#111111",pointColor:"#EA8686",useLineColor:!1,lineResolution:3,animate:!1,resetAnim:!1,animProg:0,cOffset:0,cScale:1,useFragOpt:!1,resetCamera:!1,useCustomColor:!1,useCustomPointColor:!1,transparency:0,nanTransparency:1,nanColor:"#000000",showBorders:!1,borderColor:"#000000",lonExtent:[-180,180],latExtent:[-90,90],originalExtent:new r.IUQ(-180,180,-90,90),lonResolution:1,latResolution:1,colorIdx:0,maxTextureSize:2048,max3DTextureSize:2048,vTransferRange:!1,vTransferScale:1,sphereResolution:10,displacement:0,displaceSurface:!0,offsetNegatives:!0,zSlice:[0,null],ySlice:[0,null],xSlice:[0,null],interpPixels:!1,useOrtho:!1,rotateFlat:!1,setVTransferRange:t=>e({vTransferRange:t}),setVTransferScale:t=>e({vTransferScale:t}),setQuality:t=>e({quality:t}),setTimeScale:t=>e({timeScale:t}),setValueRange:t=>e({valueRange:t}),setXRange:t=>e({xRange:t}),setYRange:t=>e({yRange:t}),setZRange:t=>e({zRange:t}),setPointSize:t=>e({pointSize:t}),setScalePoints:t=>e({scalePoints:t}),setScaleIntensity:t=>e({scaleIntensity:t}),setPlotType:t=>e({plotType:t}),setSelectTS:t=>e({selectTS:t}),setShowPoints:t=>e({showPoints:t}),setLinePointSize:t=>e({linePointSize:t}),setLineWidth:t=>e({lineWidth:t}),setLineColor:t=>e({lineColor:t}),setPointColor:t=>e({pointColor:t}),setUseLineColor:t=>e({useLineColor:t}),setLineResolution:t=>e({lineResolution:t}),setAnimate:t=>e({animate:t}),setResetAnim:t=>e({resetAnim:t}),setAnimProg:t=>e({animProg:t}),setCOffset:t=>e({cOffset:t}),setCScale:t=>e({cScale:t}),setUseFragOpt:t=>e({useFragOpt:t}),setResetCamera:t=>e({resetCamera:t}),setUseCustomColor:t=>e({useCustomColor:t}),setUseCustomPointColor:t=>e({useCustomPointColor:t}),setTransparency:t=>e({transparency:t}),setNanTransparency:t=>e({nanTransparency:t}),setNanColor:t=>e({nanColor:t}),setShowBorders:t=>e({showBorders:t}),setBorderColor:t=>e({borderColor:t}),setLonExtent:t=>e({lonExtent:t}),setLatExtent:t=>e({latExtent:t}),setOriginalExtent:t=>e({originalExtent:t}),setLonResolution:t=>e({lonResolution:t}),setLatResolution:t=>e({latResolution:t}),incrementColorIdx:()=>e(e=>({colorIdx:(e.colorIdx+1)%10})),getColorIdx:()=>t().colorIdx,setMaxTextureSize:t=>e({maxTextureSize:t}),setMax3DTextureSize:t=>e({max3DTextureSize:t}),setSphereResolution:t=>e({sphereResolution:t}),setDisplacement:t=>e({displacement:t}),setDisplaceSurface:t=>e({displaceSurface:t}),setOffsetNegatives:t=>e({offsetNegatives:t}),setZSlice:t=>e({zSlice:t}),setYSlice:t=>e({ySlice:t}),setXSlice:t=>e({xSlice:t}),setInterpPixels:t=>e({interpPixels:t}),setUseOrtho:t=>e({useOrtho:t})})),h=(0,s.v)(e=>({analysisMode:!1,axis:0,operation:"Default",execute:!1,useTwo:!1,variable2:"Default",valueScalesOrig:null,kernelSize:3,kernelDepth:3,kernelOperation:"Default",analysisArray:new Uint8Array(1),reverseDirection:0,analysisStore:c,analysisDim:null,setAnalysisMode:t=>e({analysisMode:t}),setAxis:t=>e({axis:t}),setOperation:t=>e({operation:t}),setExecute:t=>e({execute:t}),setUseTwo:t=>e({useTwo:t}),setVariable2:t=>e({variable2:t}),setValueScalesOrig:t=>e({valueScalesOrig:t}),setKernelSize:t=>e({kernelSize:t}),setKernelDepth:t=>e({kernelDepth:t}),setKernelOperation:t=>e({kernelOperation:t}),setAnalysisArray:t=>e({analysisArray:t}),setReverseDirection:t=>e({reverseDirection:t}),setAnalysisStore:t=>e({analysisStore:t}),setAnalysisDim:t=>e({analysisDim:t})})),x=(0,s.v)((e,t)=>({zSlice:[0,null],ySlice:[0,null],xSlice:[0,null],compress:!1,currentStore:(0,l.Oe)(c),reFetch:!1,currentChunks:{x:[],y:[],z:[]},arraySize:0,setZSlice:t=>e({zSlice:t}),setYSlice:t=>e({ySlice:t}),setXSlice:t=>e({xSlice:t}),setCompress:t=>e({compress:t}),setCurrentStore:t=>e({currentStore:t}),setReFetch:t=>e({reFetch:t}),ReFetch:()=>e({reFetch:!t().reFetch}),setCurrentChunks:t=>e({currentChunks:t}),setArraySize:t=>e({arraySize:t})})),m=new o({maxSize:0xc800000}),p=(0,s.v)((e,t)=>({cache:m,maxSize:0xc800000,clearCache:()=>{let{cache:e}=t();e.clear()},setMaxSize:a=>{let{cache:s}=t();s.resize(a),e({maxSize:a})}})),f=(0,s.v)(e=>({error:null,setError:t=>e({error:t})})),g=(0,s.v)((e,t)=>({exportImg:!1,enableExport:!1,includeBackground:!1,includeColorbar:!0,doubleSize:!1,cbarLoc:"bottom",cbarNum:5,useCustomRes:!1,customRes:[1920,1080],includeAxis:!0,hideAxisControls:!1,hideAxis:!1,mainTitle:void 0,cbarLabel:void 0,animate:!1,frames:60,frameRate:12,orbit:!1,useTime:!1,timeRate:12,loopTime:!1,animViz:!1,initialState:void 0,finalState:void 0,preview:!0,ExportImg:()=>e({exportImg:!t().exportImg}),EnableExport:()=>e({enableExport:!0}),setIncludeBackground:t=>e({includeBackground:t}),setIncludeColorbar:t=>e({includeColorbar:t}),setDoubleSize:t=>e({doubleSize:t}),setCbarLoc:t=>e({cbarLoc:t}),getCbarLoc:()=>t().cbarLoc,setCbarNum:t=>e({cbarNum:t}),getCbarNum:()=>t().cbarNum,setUseCustomRes:t=>e({useCustomRes:t}),setCustomRes:t=>e({customRes:t}),getCustomRes:()=>t().customRes,setIncludeAxis:t=>e({includeAxis:t}),getIncludeAxis:()=>t().includeAxis,setHideAxisControls:t=>e({hideAxisControls:t}),getHideAxisControls:()=>t().hideAxisControls,setHideAxis:t=>e({hideAxis:t}),setMainTitle:t=>e({mainTitle:t}),setCbarLabel:t=>e({cbarLabel:t}),setAnimate:t=>e({animate:t}),setFrames:t=>e({frames:t}),setFrameRate:t=>e({frameRate:t}),setOrbit:t=>e({orbit:t}),setUseTime:t=>e({useTime:t}),setTimeRate:t=>e({timeRate:t}),setLoopTime:t=>e({loopTime:t}),setAnimViz:t=>e({animViz:t}),setInitialState:t=>e({initialState:t}),setFinalState:t=>e({finalState:t}),setPreview:t=>e({preview:t})}))}}]);