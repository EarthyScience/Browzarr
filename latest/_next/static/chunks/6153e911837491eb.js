(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,2269,e=>{e.v("/latest/_next/static/media/netcdf-worker.527a1235.js")},96606,e=>{"use strict";let r={NC_NOERR:0,NC_NOWRITE:0,NC_WRITE:1,NC_CLOBBER:0,NC_NOCLOBBER:4,NC_NETCDF4:4096,NC_BYTE:1,NC_CHAR:2,NC_SHORT:3,NC_INT:4,NC_FLOAT:5,NC_DOUBLE:6,NC_LONGLONG:10,NC_CHUNKED:0,NC_CONTIGUOUS:1,NC_COMPACT:2,NC_UNLIMITED:-1e3,NC_GLOBAL:-1},t={f8:r.NC_DOUBLE,f4:r.NC_FLOAT,i4:r.NC_INT,i2:r.NC_SHORT,i1:r.NC_BYTE,S1:r.NC_CHAR,i8:r.NC_LONGLONG,double:r.NC_DOUBLE,float:r.NC_FLOAT,int:r.NC_INT,short:r.NC_SHORT,byte:r.NC_BYTE,char:r.NC_CHAR,longlong:r.NC_LONGLONG};e.s(["CONSTANT_DTYPE_MAP",0,{1:"i1",2:"S1",3:"i2",4:"i4",5:"f4",6:"f8",10:"i8"},"DATA_TYPE_MAP",0,t,"DATA_TYPE_SIZE",0,{1:1,2:1,3:2,4:4,5:4,6:8,10:8},"NC_CONSTANTS",0,r])},48475,e=>{"use strict";var r=e.i(96606);class t{static async loadModule(r={}){try{if("undefined"==typeof window)throw Error("NetCDF4-WASM only works in browser environments.");let n=(await e.A(88194)).default,i=await n({locateFile:e=>e.endsWith(".wasm")?r.wasmPath||"./netcdf4-wasm.wasm":e});return t.wrapModule(i)}catch(e){throw Error(`Failed to load NetCDF4 WASM module: ${e}`)}}static wrapModule(e){let t=e.cwrap("nc_open_wrapper","number",["string","number","number"]),n=e.cwrap("nc_close_wrapper","number",["number"]),i=e.cwrap("nc_create_wrapper","number",["string","number","number"]),a=e.cwrap("nc_def_dim_wrapper","number",["number","string","number","number"]),l=e.cwrap("nc_def_var_wrapper","number",["number","string","number","number","number","number"]),o=e.cwrap("nc_put_var_double_wrapper","number",["number","number","number"]),s=e.cwrap("nc_enddef_wrapper","number",["number"]),_=e.cwrap("nc_inq_ndims_wrapper","number",["number","number"]),u=e.cwrap("nc_inq_unlimdim_wrapper","number",["number","number"]),c=e.cwrap("nc_inq_dimids_wrapper","number",["number","number","number","number"]),m=e.cwrap("nc_inq_dim_wrapper","number",["number","number","number","number"]),d=e.cwrap("nc_inq_dimid_wrapper","number",["number","string","number"]),N=e.cwrap("nc_inq_dimlen_wrapper","number",["number","number","number"]),f=e.cwrap("nc_inq_dimname_wrapper","number",["number","number","number"]),h=e.cwrap("nc_inq_nvars_wrapper","number",["number","number"]),b=e.cwrap("nc_inq_varids_wrapper","number",["number","number","number"]),C=e.cwrap("nc_inq_varid_wrapper","number",["number","string","number"]),g=e.cwrap("nc_inq_var_wrapper","number",["number","number","number","number","number","number"]),p=e.cwrap("nc_inq_varname_wrapper","number",["number","number","number"]),w=e.cwrap("nc_inq_vartype_wrapper","number",["number","number","number"]),T=e.cwrap("nc_inq_varndims_wrapper","number",["number","number","number"]),S=e.cwrap("nc_inq_vardimid_wrapper","number",["number","number","number"]),A=e.cwrap("nc_inq_varnatts_wrapper","number",["number","number","number"]),O=e.cwrap("nc_inq_var_chunking_wrapper","number",["number","number","number","number"]),y=e.cwrap("nc_inq_natts_wrapper","number",["number","number"]),E=e.cwrap("nc_inq_att_wrapper","number",["number","number","string","number","number"]),R=e.cwrap("nc_inq_attid_wrapper","number",["number","number","string","number"]),v=e.cwrap("nc_inq_attname_wrapper","number",["number","number","number","number"]),F=e.cwrap("nc_inq_atttype_wrapper","number",["number","number","string","number"]),k=e.cwrap("nc_inq_attlen_wrapper","number",["number","number","string","number"]),D=e.cwrap("nc_get_att_text_wrapper","number",["number","number","string","number"]),V=e.cwrap("nc_get_att_short_wrapper","number",["number","number","string","number"]),I=e.cwrap("nc_get_att_int_wrapper","number",["number","number","string","number"]),q=e.cwrap("nc_get_att_float_wrapper","number",["number","number","string","number"]),$=e.cwrap("nc_get_att_double_wrapper","number",["number","number","string","number"]),M=e.cwrap("nc_get_att_longlong_wrapper","number",["number","number","string","number"]),B=e.cwrap("nc_get_vara_short_wrapper","number",["number","number","number","number","number"]),z=e.cwrap("nc_get_vara_int_wrapper","number",["number","number","number","number","number"]),L=e.cwrap("nc_get_vara_float_wrapper","number",["number","number","number","number","number"]),W=e.cwrap("nc_get_vara_double_wrapper","number",["number","number","number","number","number"]),U=e.cwrap("nc_get_var_text_wrapper","number",["number","number","number"]),P=e.cwrap("nc_get_var_short_wrapper","number",["number","number","number"]),x=e.cwrap("nc_get_var_int_wrapper","number",["number","number","number"]),H=e.cwrap("nc_get_var_longlong_wrapper","number",["number","number","number"]),G=e.cwrap("nc_get_var_float_wrapper","number",["number","number","number"]),j=e.cwrap("nc_get_var_double_wrapper","number",["number","number","number"]);return{...e,nc_open:(r,n)=>{let i=e._malloc(4),a=t(r,n,i),l=e.getValue(i,"i32");return e._free(i),{result:a,ncid:l}},nc_close:e=>n(e),nc_create:(r,t)=>{let n=e._malloc(4),a=i(r,t,n),l=e.getValue(n,"i32");return e._free(n),{result:a,ncid:l}},nc_inq_ndims:t=>{let n=e._malloc(4),i=_(t,n),a=i===r.NC_CONSTANTS.NC_NOERR?e.getValue(n,"i32"):void 0;return e._free(n),{result:i,ndims:a}},nc_inq_unlimdim:t=>{let n=e._malloc(4),i=u(t,n),a=i===r.NC_CONSTANTS.NC_NOERR?e.getValue(n,"i32"):void 0;return e._free(n),{result:i,unlimdimid:a}},nc_inq_dimids:(t,n=0)=>{let i,a,l=e._malloc(4),o=e._malloc(4096),s=c(t,l,o,n);return s===r.NC_CONSTANTS.NC_NOERR&&(i=e.getValue(l,"i32"),a=Int32Array.from({length:i},(r,t)=>e.getValue(o+4*t,"i32"))),e._free(l),e._free(o),{result:s,ndims:i,dimids:a}},nc_inq_dim:(t,n)=>{let i,a,l=e._malloc(257),o=e._malloc(8),s=m(t,n,l,o);return s===r.NC_CONSTANTS.NC_NOERR&&(i=e.UTF8ToString(l),a=e.getValue(o,"i32")),e._free(l),e._free(o),{result:s,name:i,len:a}},nc_inq_dimid:(t,n)=>{let i=e._malloc(4),a=d(t,n,i),l=a===r.NC_CONSTANTS.NC_NOERR?e.getValue(i,"i32"):void 0;return e._free(i),{result:a,dimid:l}},nc_inq_dimlen:(t,n)=>{let i=e._malloc(8),a=N(t,n,i),l=a===r.NC_CONSTANTS.NC_NOERR?e.getValue(i,"i64"):void 0;return e._free(i),{result:a,len:l}},nc_inq_dimname:(t,n)=>{let i=e._malloc(257);e.HEAPU8.fill(0,i,i+256+1);let a=f(t,n,i),l=a===r.NC_CONSTANTS.NC_NOERR?e.UTF8ToString(i):void 0;return e._free(i),{result:a,name:l}},nc_inq_nvars:t=>{let n=e._malloc(4),i=h(t,n),a=i===r.NC_CONSTANTS.NC_NOERR?e.getValue(n,"i32"):void 0;return e._free(n),{result:i,nvars:a}},nc_inq_varids:t=>{let n,i,a=e._malloc(4),l=e._malloc(32768),o=b(t,a,l);return o===r.NC_CONSTANTS.NC_NOERR&&(n=e.getValue(a,"i32"),i=Int32Array.from({length:n},(r,t)=>e.getValue(l+4*t,"i32"))),e._free(a),e._free(l),{result:o,nvars:n,varids:i}},nc_inq_varid:(t,n)=>{let i=e._malloc(4),a=C(t,n,i),l=a===r.NC_CONSTANTS.NC_NOERR?e.getValue(i,"i32"):void 0;return e._free(i),{result:a,varid:l}},nc_inq_var:(t,n)=>{let i,a,l,o,s,_=e._malloc(257),u=e._malloc(4),c=e._malloc(4),m=e._malloc(4096),d=e._malloc(4),N=g(t,n,_,u,c,m,d);return N===r.NC_CONSTANTS.NC_NOERR&&(i=e.UTF8ToString(_),a=e.getValue(u,"i32"),l=e.getValue(c,"i32"),s=e.getValue(d,"i32"),o=Int32Array.from({length:l},(r,t)=>e.getValue(m+4*t,"i32"))),e._free(_),e._free(u),e._free(c),e._free(m),e._free(d),{result:N,name:i,type:a,ndims:l,dimids:o,natts:s}},nc_inq_varname:(t,n)=>{let i=e._malloc(257),a=p(t,n,i),l=a===r.NC_CONSTANTS.NC_NOERR?e.UTF8ToString(i):void 0;return e._free(i),{result:a,name:l}},nc_inq_vartype:(t,n)=>{let i=e._malloc(4),a=w(t,n,i),l=a===r.NC_CONSTANTS.NC_NOERR?e.getValue(i,"i32"):void 0;return e._free(i),{result:a,type:l}},nc_inq_varndims:(t,n)=>{let i=e._malloc(4),a=T(t,n,i),l=a===r.NC_CONSTANTS.NC_NOERR?e.getValue(i,"i32"):void 0;return e._free(i),{result:a,ndims:l}},nc_inq_vardimid:(t,n)=>{let i,a=e._malloc(4),l=e._malloc(4096),o=S(t,n,l);return o===r.NC_CONSTANTS.NC_NOERR&&(i=Int32Array.from(new Int32Array(e.HEAP32.buffer,l,1024))),e._free(a),e._free(l),{result:o,dimids:i}},nc_inq_varnatts:(t,n)=>{let i=e._malloc(4),a=A(t,n,i),l=a===r.NC_CONSTANTS.NC_NOERR?e.getValue(i,"i32"):void 0;return e._free(i),{result:a,natts:l}},nc_inq_var_chunking:(t,n)=>{let i,a,l=e._malloc(4),o=e._malloc(4096),s=O(t,n,l,o);if(s===r.NC_CONSTANTS.NC_NOERR){i=e.getValue(l,"i32");let s=e._malloc(4),_=T(t,n,s),u=1024;_===r.NC_CONSTANTS.NC_NOERR&&(u=e.getValue(s,"i32")),e._free(s),a=Array(u);for(let r=0;r<u;r++)a[r]=e.getValue(o+4*r,"i32")}return e._free(l),e._free(o),{result:s,chunking:i,chunkSizes:a}},nc_inq_natts:t=>{let n=e._malloc(4),i=y(t,n),a=i===r.NC_CONSTANTS.NC_NOERR?e.getValue(n,"i32"):void 0;return e._free(n),{result:i,natts:a}},nc_inq_att:(t,n,i)=>{let a,l,o=e._malloc(4),s=e._malloc(8),_=E(t,n,i,o,s);return _===r.NC_CONSTANTS.NC_NOERR&&(a=e.getValue(o,"i32"),l=e.getValue(s,"i32")),e._free(o),e._free(s),{result:_,type:a,len:l}},nc_inq_attid:(t,n,i)=>{let a=e._malloc(4),l=R(t,n,i,a),o=l===r.NC_CONSTANTS.NC_NOERR?e.getValue(a,"i32"):void 0;return e._free(a),{result:l,attnum:o}},nc_inq_attname:(t,n,i)=>{let a=e._malloc(257),l=v(t,n,i,a),o=l===r.NC_CONSTANTS.NC_NOERR?e.UTF8ToString(a):void 0;return e._free(a),{result:l,name:o}},nc_inq_atttype:(t,n,i)=>{let a=e._malloc(4),l=F(t,n,i,a),o=l===r.NC_CONSTANTS.NC_NOERR?e.getValue(a,"i32"):void 0;return e._free(a),{result:l,type:o}},nc_inq_attlen:(t,n,i)=>{let a=e._malloc(8),l=k(t,n,i,a),o=l===r.NC_CONSTANTS.NC_NOERR?e.getValue(a,"i64"):void 0;return e._free(a),{result:l,len:o}},nc_get_att_text:(t,n,i,a)=>{let l=e._malloc(a+1),o=D(t,n,i,l);e.setValue(l+a,0,"i8");let s=o===r.NC_CONSTANTS.NC_NOERR?e.UTF8ToString(l):void 0;return e._free(l),{result:o,data:s}},nc_get_att_short:(t,n,i,a)=>{let l=e._malloc(2*a),o=V(t,n,i,l),s=o===r.NC_CONSTANTS.NC_NOERR?Array.from({length:a},(r,t)=>e.getValue(l+2*t,"i16")):void 0;return e._free(l),{result:o,data:s}},nc_get_att_int:(t,n,i,a)=>{let l=e._malloc(4*a),o=I(t,n,i,l),s=o===r.NC_CONSTANTS.NC_NOERR?Array.from({length:a},(r,t)=>e.getValue(l+4*t,"i32")):void 0;return e._free(l),{result:o,data:s}},nc_get_att_float:(t,n,i,a)=>{let l=e._malloc(4*a),o=q(t,n,i,l),s=o===r.NC_CONSTANTS.NC_NOERR?Array.from({length:a},(r,t)=>e.getValue(l+4*t,"float")):void 0;return e._free(l),{result:o,data:s}},nc_get_att_double:(t,n,i,a)=>{let l=e._malloc(8*a),o=$(t,n,i,l),s=o===r.NC_CONSTANTS.NC_NOERR?Array.from({length:a},(r,t)=>e.getValue(l+8*t,"double")):void 0;return e._free(l),{result:o,data:s}},nc_get_att_longlong:(t,n,i,a)=>{let l=e._malloc(8*a),o=M(t,n,i,l),s=o===r.NC_CONSTANTS.NC_NOERR?Array.from({length:a},(r,t)=>BigInt(e.getValue(l+8*t,"i64"))):void 0;return e._free(l),{result:o,data:s}},nc_get_vara_short:(t,n,i,a)=>{let l=a.reduce((e,r)=>e*r,1),o=e._malloc(2*l),s=e._malloc(8*i.length),_=e._malloc(8*a.length);i.forEach((r,t)=>e.setValue(s+8*t,r,"i64")),a.forEach((r,t)=>e.setValue(_+8*t,r,"i64"));let u=B(t,n,s,_,o),c=u===r.NC_CONSTANTS.NC_NOERR?new Int16Array(e.HEAP16.buffer,o,l).slice():void 0;return e._free(o),e._free(s),e._free(_),{result:u,data:c}},nc_get_vara_int:(t,n,i,a)=>{let l=a.reduce((e,r)=>e*r,1),o=e._malloc(4*l),s=e._malloc(8*i.length),_=e._malloc(8*a.length);i.forEach((r,t)=>e.setValue(s+8*t,r,"i64")),a.forEach((r,t)=>e.setValue(_+8*t,r,"i64"));let u=z(t,n,s,_,o),c=u===r.NC_CONSTANTS.NC_NOERR?new Int32Array(e.HEAP32.buffer,o,l).slice():void 0;return e._free(o),e._free(s),e._free(_),{result:u,data:c}},nc_get_vara_float:(t,n,i,a)=>{let l=a.reduce((e,r)=>e*r,1),o=e._malloc(4*l),s=e._malloc(4*i.length),_=e._malloc(4*a.length);i.forEach((r,t)=>e.setValue(s+4*t,r,"i32")),a.forEach((r,t)=>e.setValue(_+4*t,r,"i32"));let u=L(t,n,s,_,o),c=u===r.NC_CONSTANTS.NC_NOERR?new Float32Array(e.HEAPF32.buffer,o,l).slice():void 0;return e._free(o),e._free(s),e._free(_),{result:u,data:c}},nc_get_vara_double:(t,n,i,a)=>{let l=a.reduce((e,r)=>e*r,1),o=e._malloc(8*l),s=e._malloc(8*i.length),_=e._malloc(8*a.length);i.forEach((r,t)=>e.setValue(s+8*t,r,"i64")),a.forEach((r,t)=>e.setValue(_+8*t,r,"i64"));let u=W(t,n,s,_,o),c=u===r.NC_CONSTANTS.NC_NOERR?new Float64Array(e.HEAPF64.buffer,o,l).slice():void 0;return e._free(o),e._free(s),e._free(_),{result:u,data:c}},nc_get_var_text:(t,n,i)=>{let a=e._malloc(i),l=U(t,n,a),o=l===r.NC_CONSTANTS.NC_NOERR?Array.from({length:i},(r,t)=>e.UTF8ToString(e.getValue(a+t,"i8"))):void 0;return e._free(a),{result:l,data:o}},nc_get_var_short:(t,n,i)=>{let a,l=e._malloc(2*i),o=P(t,n,l);return o===r.NC_CONSTANTS.NC_NOERR&&(a=new Int16Array(e.HEAP16.buffer,l,i).slice()),e._free(l),{result:o,data:a}},nc_get_var_int:(t,n,i)=>{let a,l=e._malloc(4*i),o=x(t,n,l);return o===r.NC_CONSTANTS.NC_NOERR&&(a=new Int32Array(e.HEAP32.buffer,l,i).slice()),e._free(l),{result:o,data:a}},nc_get_var_float:(t,n,i)=>{let a,l=e._malloc(4*i),o=G(t,n,l);return o===r.NC_CONSTANTS.NC_NOERR&&(a=new Float32Array(e.HEAPF32.buffer,l,i).slice()),e._free(l),{result:o,data:a}},nc_get_var_longlong:(t,n,i)=>{let a,l=e._malloc(8*i),o=H(t,n,l);return o===r.NC_CONSTANTS.NC_NOERR&&(a=new BigInt64Array(e.HEAP64.buffer,l,i).slice()),e._free(l),{result:o,data:a}},nc_def_dim:(r,t,n)=>{let i=e._malloc(4),l=a(r,t,n,i),o=e.getValue(i,"i32");return e._free(i),{result:l,dimid:o}},nc_def_var:(r,t,n,i,a)=>{let o=e._malloc(4),s=e._malloc(4*a.length);for(let r=0;r<a.length;r++)e.setValue(s+4*r,a[r],"i32");let _=l(r,t,n,i,s,o),u=e.getValue(o,"i32");return e._free(o),e._free(s),{result:_,varid:u}},nc_put_var_double:(r,t,n)=>{let i=e._malloc(8*n.length);e.HEAPF64.set(n,i/8);let a=o(r,t,i);return e._free(i),a},nc_get_var_double:(t,n,i)=>{let a,l=e._malloc(8*i),o=j(t,n,l);return o===r.NC_CONSTANTS.NC_NOERR&&(a=new Float64Array(e.HEAPF64.buffer,l,i).slice()),e._free(l),{result:o,data:a}},nc_enddef:e=>s(e)}}}e.s(["WasmModuleLoader",()=>t])},15654,e=>{"use strict";var r=e.i(96606);function t(e,t){let i={},a=n(e,t),o=l(e,t);for(let n=0;n<a;n++){if(o.includes(n))continue;let a=e.nc_inq_varname(t,n);if(a.result!==r.NC_CONSTANTS.NC_NOERR||!a.name){console.warn(`Failed to get variable name for varid ${n} (error: ${a.result})`);continue}i[a.name]={id:n}}return i}function n(e,t){let n=e.nc_inq_nvars(t);if(n.result!==r.NC_CONSTANTS.NC_NOERR)throw Error(`Failed to get number of variables (error: ${n.result})`);return n.nvars||0}function i(e,t){let n=e.nc_inq_ndims(t);if(n.result!==r.NC_CONSTANTS.NC_NOERR)throw Error(`Failed to get number of dimensions (error: ${n.result})`);return n.ndims||0}function a(e,r){let t=l(e,r),n={};for(let i of t){let t=o(e,r,i);n[t.name]={size:t.len,units:t.units,id:t.id}}return n}function l(e,t){let n=e.nc_inq_dimids(t,0);if(n.result!==r.NC_CONSTANTS.NC_NOERR)throw Error(`Failed to get dimension IDs (error: ${n.result})`);return n.dimids||[0]}function o(e,t,n){let i=e.nc_inq_dim(t,n);if(i.result!==r.NC_CONSTANTS.NC_NOERR)throw Error(`Failed to get dim (error: ${i.result})`);let a=e.nc_inq_varid(t,i.name).varid,{result:l,...o}=i,_=s(e,t,a,"units");return{...o,units:_,id:a}}function s(e,t,n,i){let a=e.nc_inq_att(t,n,i);if(a.result!==r.NC_CONSTANTS.NC_NOERR)return void console.warn(`Failed to get attribute info for ${i} (error: ${a.result})`);let l=a.type;if(!l)throw Error("Failed to allocate memory for attribute type.");return(2===l?e.nc_get_att_text(t,n,i,a.len):3===l?e.nc_get_att_short(t,n,i,a.len):4===l?e.nc_get_att_int(t,n,i,a.len):5===l?e.nc_get_att_float(t,n,i,a.len):6===l?e.nc_get_att_double(t,n,i,a.len):10===l?e.nc_get_att_longlong(t,n,i,a.len):e.nc_get_att_double(t,n,i,a.len)).data}function _(e,t){let n={},i=e.nc_inq_natts(t);if(i.result!==r.NC_CONSTANTS.NC_NOERR)throw Error(`Failed to get number of global attributes (error: ${i.result})`);let a=i.natts,l=[];for(let n=0;n<a;n++){let i=u(e,t,r.NC_CONSTANTS.NC_GLOBAL,n);l.push(i)}if(0===l.length)return n;for(let i of l)i&&(n[i]=s(e,t,r.NC_CONSTANTS.NC_GLOBAL,i));return n}function u(e,t,n,i){let a=e.nc_inq_attname(t,n,i);if(a.result!==r.NC_CONSTANTS.NC_NOERR)throw Error(`Failed to get attribute (error: ${a.result})`);return a.name}function c(e,r){let t=m(e,r),n=[];for(let i of t){let{attributes:t,...a}=d(e,r,i);n.push({...a,...t})}return n}function m(e,t){let n=e.nc_inq_varids(t);if(n.result!==r.NC_CONSTANTS.NC_NOERR)throw Error(`Failed to get variable IDs (error: ${n.result})`);return n.varids||[0]}function d(e,t,n){let i,a={},l="number"==typeof n,_=n;l||(_=e.nc_inq_varid(t,n).varid);let c=e.nc_inq_var(t,_);if(c.result!==r.NC_CONSTANTS.NC_NOERR)throw Error(`Failed to get variable info (error: ${c.result})`);let m=r.DATA_TYPE_SIZE[c.type],d=c.dimids,N=[],f=[],h=1;if(d)for(let r of d){let n=o(e,t,r);h*=n.len,N.push(n),f.push(n.len)}let b=[];if(c.natts)for(let r=0;r<c.natts;r++){let n=u(e,t,_,r);b.push(n)}let C={};if(b.length>0)for(let r of b)r&&(C[r]=s(e,t,_,r));let g=e.nc_inq_var_chunking(t,_),p=g.chunking===r.NC_CONSTANTS.NC_CHUNKED,w=(i=p?g.chunkSizes:f).reduce((e,r)=>e*r,1);return a.name=c.name,a.dtype=r.CONSTANT_DTYPE_MAP[c.type],a.nctype=c.type,a.shape=f,a.dims=N,a.size=h,a.totalSize=h*m,a.attributes=C,a.chunked=p,a.chunks=i,a.chunkSize=w*m,a}function N(e,r,t){let n,i="number"==typeof t,a=i?t:0;i||(a=e.nc_inq_varid(r,t).varid);let l=d(e,r,a),o=l.size,s=l.nctype;if(!s||!o)throw Error("Failed to allocate memory for array");if(!(n=2===s?e.nc_get_var_text(r,a,o):3===s?e.nc_get_var_short(r,a,o):4===s?e.nc_get_var_int(r,a,o):10===s?e.nc_get_var_longlong(r,a,o):5===s?e.nc_get_var_float(r,a,o):e.nc_get_var_double(r,a,o)).data)throw Error("Failed to read array data");return n.data}function f(e,r,t,n,i){let a,l="number"==typeof t,o=l?t:0;l||(o=e.nc_inq_varid(r,t).varid);let s=d(e,r,o).nctype;if(!s)throw Error("Failed to allocate memory for array");if(!(a=3===s?e.nc_get_vara_short(r,o,n,i):4===s?e.nc_get_vara_int(r,o,n,i):5===s?e.nc_get_vara_float(r,o,n,i):e.nc_get_vara_double(r,o,n,i)).data)throw console.log(a),Error("Failed to read array data");return a.data}e.s(["getAttributeName",()=>u,"getAttributeValues",()=>s,"getDim",()=>o,"getDimCount",()=>i,"getDimIDs",()=>l,"getDims",()=>a,"getFullMetadata",()=>c,"getGlobalAttributes",()=>_,"getSlicedVariableArray",()=>f,"getVarCount",()=>n,"getVarIDs",()=>m,"getVariableArray",()=>N,"getVariableInfo",()=>d,"getVariables",()=>t])},8402,e=>{e.v(e.b(["static/chunks/dcdba7d3d14922df.js","static/chunks/turbopack-977bd06ed5a4e0a2.js"]))},25179,e=>{"use strict";e.i(27171);class r{name;size;isUnlimited;constructor(e,r,t=!1){this.name=e,this.size=r,this.isUnlimited=t}__len__(){return this.size}toString(){let e=this.isUnlimited?"unlimited":this.size.toString();return`<netCDF4.Dimension '${this.name}': size = ${e}>`}}class t{netcdf;name;datatype;dimensions;varid;ncid;_attributes={};constructor(e,r,t,n,i,a){this.netcdf=e,this.name=r,this.datatype=t,this.dimensions=n,this.varid=i,this.ncid=a}setAttr(e,r){this._attributes[e]=r}getAttr(e){return this._attributes[e]}attrs(){return Object.keys(this._attributes)}async getValue(){let e=this.dimensions.reduce((e,r)=>{let t=this.netcdf.dimensions[r];if(!t)return+e;let n=t.size;return t.isUnlimited&&(n=1),e*Math.max(n,1)},1);if("f8"===this.datatype||"double"===this.datatype)return await this.netcdf.getVariableDouble(this.ncid,this.varid,e);if("f4"===this.datatype||"float"===this.datatype)return new Float32Array(await this.netcdf.getVariableDouble(this.ncid,this.varid,e));throw Error(`Data type ${this.datatype} not yet supported`)}async setValue(e){if("f8"===this.datatype||"double"===this.datatype||"f4"===this.datatype||"float"===this.datatype){let r=e instanceof Float64Array?e:new Float64Array(e);return await this.netcdf.putVariableDouble(this.ncid,this.varid,r)}throw Error(`Data type ${this.datatype} not yet supported`)}async __getitem__(e){if("number"==typeof e)return(await this.getValue())[e];throw Error("Advanced indexing not yet implemented")}async __setitem__(e,r){throw Error("Item assignment not yet implemented")}get units(){return this._attributes.units}set units(e){this.setAttr("units",e)}get long_name(){return this._attributes.long_name}set long_name(e){this.setAttr("long_name",e)}get standard_name(){return this._attributes.standard_name}set standard_name(e){this.setAttr("standard_name",e)}get scale_factor(){return this._attributes.scale_factor}set scale_factor(e){this.setAttr("scale_factor",e)}get add_offset(){return this._attributes.add_offset}set add_offset(e){this.setAttr("add_offset",e)}get _FillValue(){return this._attributes._FillValue}set _FillValue(e){this.setAttr("_FillValue",e)}get calendar(){return this._attributes.calendar}set calendar(e){this.setAttr("calendar",e)}get axis(){return this._attributes.axis}set axis(e){this.setAttr("axis",e)}toString(){let e=this.dimensions.length>0?`(${this.dimensions.join(", ")})`:"()";return`<netCDF4.Variable '${this.name}': dimensions ${e}, size = [${this.dimensions.map(e=>this.netcdf.dimensions[e]?.size||"?").join(" x ")}], type = '${this.datatype}'>`}}var n=e.i(96606);class i{netcdf;name;groupId;dimensions={};variables={};groups={};_attributes={};constructor(e,r,t){this.netcdf=e,this.name=r,this.groupId=t}setAttr(e,r){this._attributes[e]=r}getAttr(e){return this._attributes[e]}attrs(){return Object.keys(this._attributes)}async createDimension(e,t){if(this.dimensions[e])throw Error(`Dimension '${e}' already exists`);if(null!==t&&t<0&&t!==n.NC_CONSTANTS.NC_UNLIMITED)throw Error(`Invalid dimension size: ${t}. Size must be non-negative or null for unlimited.`);let i=null===t||t===n.NC_CONSTANTS.NC_UNLIMITED,a=i?0:t;await this.netcdf.defineDimension(this.groupId,e,a);let l=new r(e,i?n.NC_CONSTANTS.NC_UNLIMITED:t,i);return this.dimensions[e]=l,l}loadMockDimensions(){}async createVariable(e,r,i=[],a={}){let l=n.DATA_TYPE_MAP[r];if(void 0===l)throw Error(`Unsupported datatype: ${r}`);let o=i.map(e=>{if(!this.dimensions[e])throw Error(`Dimension '${e}' not found`);return Object.keys(this.dimensions).indexOf(e)}),s=await this.netcdf.defineVariable(this.groupId,e,l,o),_=new t(this.netcdf,e,r,i,s,this.groupId);return this.variables[e]=_,_}createGroup(e){let r=new i(this.netcdf,e,this.groupId);return this.groups[e]=r,r}children(){return this.groups}get path(){return""===this.name?"/":`/${this.name}`}toString(){return`<netCDF4.Group '${this.path}'>`}}var a=e.i(48475),l=e.i(15654);class o extends i{filename;mode;options;module=null;initialized=!1;ncid=-1;_isOpen=!1;memorySource;workerSource;worker;workerReady;constructor(e,r="r",t={}){super(null,"",-1),this.filename=e,this.mode=r,this.options=t,this.netcdf=this}async initialize(){if(!this.initialized)try{this.workerSource?(await this.setupWorker(),this.initialized=!0):(this.module=await a.WasmModuleLoader.loadModule(this.options),this.memorySource&&await this.mountMemoryData()),this.initialized=!0,this.filename&&!this.workerSource&&await this.open()}catch(e){throw e}}static async Dataset(e,r="r",t={}){let n=new o(e,r,t);return await n.initialize(),n}static async fromBlob(e,r="r",t={}){let n=await e.arrayBuffer();return o.fromArrayBuffer(n,r,t)}static async fromArrayBuffer(e,r="r",t={}){let n=new Uint8Array(e);return o.fromMemory(n,r,t)}static async fromMemory(e,r="r",t={},n){if(!e)throw Error("Data cannot be null or undefined");if(!(e instanceof ArrayBuffer)&&!(e instanceof Uint8Array))throw Error("Data must be ArrayBuffer or Uint8Array");let i=e instanceof ArrayBuffer?new Uint8Array(e):e,a=n||`/tmp/netcdf_${Date.now()}_${Math.random().toString(36).substr(2,9)}.nc`,l=new o(a,r,t);return l.memorySource={data:i,filename:a},await l.initialize(),l}static async fromBlobLazy(e,r={}){let t=`netcdf_lazy_${Date.now()}.nc`,n=`/working/${t}`;console.log("fromBlobLazy: Creating dataset with path:",n);let i=new o(n,"r",r);return i.workerSource={blob:e,filename:n},await i.initialize(),console.log("fromBlobLazy: Initialization complete, calling open()"),await i.open(),console.log("fromBlobLazy: Open complete, ncid:",i.ncid),i}async open(){if(!this._isOpen){if(console.log("open() called, filename:",this.filename,"worker:",!!this.worker),!this.filename||""===this.filename.trim())throw Error("No filename specified");if(!["r","w","w-","a","r+"].includes(this.mode))throw Error(`Unsupported mode: ${this.mode}`);if(this.worker){console.log("open(): Using worker path, waiting for workerReady"),await this.workerReady,console.log("open(): Worker ready, calling nc_open with path:",this.filename);let e="r"===this.mode?n.NC_CONSTANTS.NC_NOWRITE:n.NC_CONSTANTS.NC_WRITE;this.ncid=await this.callWorker("open",{path:this.filename,modeValue:e}),console.log("open(): Received ncid from worker:",this.ncid),this.groupId=this.ncid,this._isOpen=!0;return}if("w"===this.mode||"w-"===this.mode){let e=n.NC_CONSTANTS.NC_CLOBBER;"NETCDF4"===this.options.format&&(e|=n.NC_CONSTANTS.NC_NETCDF4);let r=await this.createFile(this.filename,e);this.ncid=r,this.groupId=r}else("r"===this.mode||"a"===this.mode||"r+"===this.mode)&&("r"===this.mode?n.NC_CONSTANTS.NC_NOWRITE:n.NC_CONSTANTS.NC_WRITE,this.ncid=await this.openFile(this.filename,this.mode),this.groupId=this.ncid);this._isOpen=!0}}get file_format(){return this.options.format||"NETCDF4"}get disk_format(){return this.file_format}get filepath(){return this.filename||""}get isopen(){return this._isOpen}isInitialized(){return this.initialized}getModule(){if(!this.module)throw Error("NetCDF4 module not initialized. Call initialize() first.");return this.module}async close(){this._isOpen&&this.ncid>=0&&(await this.closeFile(this.ncid),this._isOpen=!1,this.ncid=-1)}async sync(){this._isOpen&&console.warn("sync() not yet implemented")}async __aenter__(){return this.initialized||await this.initialize(),this}async __aexit__(){await this.close()}async openFile(e,r="r"){let t=this.getModule(),i="r"===r?n.NC_CONSTANTS.NC_NOWRITE:n.NC_CONSTANTS.NC_WRITE,a=t.nc_open(e,i);if(a.result!==n.NC_CONSTANTS.NC_NOERR)throw Error(`Failed to open NetCDF file: ${e} (error: ${a.result})`);return a.ncid}async createFile(e,r=n.NC_CONSTANTS.NC_CLOBBER){let t=this.getModule().nc_create(e,r);if(t.result!==n.NC_CONSTANTS.NC_NOERR)throw Error(`Failed to create NetCDF file: ${e} (error: ${t.result})`);return t.ncid}async closeFile(e){if(this.worker)this.callWorker("close");else{let r=this.module;if(!r)throw Error("Failed to load module. Ensure module is initialized before calling methods");let t=r.nc_close(e);if(t!==n.NC_CONSTANTS.NC_NOERR)throw Error(`Failed to close NetCDF file with ID: ${e} (error: ${t})`)}}requestId=0;async callWorker(e,r={}){if(!this.worker)throw Error("Worker not initialized");let t=++this.requestId;return new Promise((n,i)=>{let a=r=>{r.data.id===t&&(r.data.success?n(r.data.result):i(Error(r.data.error||`Worker error in ${e}`)),this.worker.removeEventListener("message",a))};this.worker.addEventListener("message",a),this.worker.postMessage({id:t,type:e,ncid:this.ncid,...r})})}async getGlobalAttributes(){return this.worker?this.callWorker("getGlobalAttributes"):l.getGlobalAttributes(this.module,this.ncid)}async getFullMetadata(){return this.worker?this.callWorker("getFullMetadata"):l.getFullMetadata(this.module,this.ncid)}async getAttributeValues(e,r){return this.worker?this.callWorker("getAttributeValues",{varid:e,attname:r}):l.getAttributeValues(this.module,this.ncid,e,r)}async getDimCount(){return this.worker?this.callWorker("getDimCount"):l.getDimCount(this.module,this.ncid)}async getVariables(){return this.worker?this.callWorker("getVariables"):l.getVariables(this.module,this.ncid)}async getVarIDs(){return this.worker?this.callWorker("getVarIDs"):l.getVarIDs(this.module,this.ncid)}async getDimIDs(){return this.worker?this.callWorker("getDimIDs"):l.getDimIDs(this.module,this.ncid)}async getDim(e){return this.worker?this.callWorker("getDim",{dimid:e}):l.getDim(this.module,this.ncid,e)}async getDims(){return this.worker?this.callWorker("getDims"):l.getDims(this.module,this.ncid)}async getVarCount(){return this.worker?this.callWorker("getVarCount"):l.getVarCount(this.module,this.ncid)}async getAttributeName(e,r){return this.worker?this.callWorker("getAttributeName",{varid:e,attId:r}):l.getAttributeName(this.module,this.ncid,e,r)}async getVariableInfo(e){return this.worker?this.callWorker("getVariableInfo",{variable:e}):l.getVariableInfo(this.module,this.ncid,e)}async getVariableArray(e){return this.worker?this.callWorker("getVariableArray",{variable:e}):l.getVariableArray(this.module,this.ncid,e)}async getSlicedVariableArray(e,r,t){return this.worker?this.callWorker("getSlicedVariableArray",{variable:e,start:r,count:t}):l.getSlicedVariableArray(this.module,this.ncid,e,r,t)}async defineDimension(e,r,t){let i=this.getModule().nc_def_dim(e,r,t);if(i.result!==n.NC_CONSTANTS.NC_NOERR)throw Error(`Failed to define dimension: ${r} (error: ${i.result})`);return i.dimid}async defineVariable(e,r,t,i){let a=this.getModule().nc_def_var(e,r,t,i.length,i);if(a.result!==n.NC_CONSTANTS.NC_NOERR)throw Error(`Failed to define variable: ${r} (error: ${a.result})`);return a.varid}async endDefineMode(e){let r=this.getModule().nc_enddef(e);if(r!==n.NC_CONSTANTS.NC_NOERR)throw Error(`Failed to end define mode (error: ${r})`)}async putVariableDouble(e,r,t){let i=this.getModule().nc_put_var_double(e,r,t);if(i!==n.NC_CONSTANTS.NC_NOERR)throw Error(`Failed to write variable data (error: ${i})`)}async getVariableDouble(e,r,t){let i=this.getModule().nc_get_var_double(e,r,t);if(i.result!==n.NC_CONSTANTS.NC_NOERR)throw Error(`Failed to read variable data (error: ${i.result})`);if(!i.data)throw Error("nc_get_var_double returned no data");return i.data}createMockModule(){e.g.__netcdf4_mock_files||(e.g.__netcdf4_mock_files={});let r=e.g.__netcdf4_mock_files;return{nc_open:(e,t)=>!e||""===e.trim()||e.includes("unsupported")||!["r","w","a"].some(e=>this.mode.includes(e))?{result:-1,ncid:-1}:("r"!==this.mode||r[e]||(r[e]={attributes:{},dimensions:{},variables:{}}),{result:n.NC_CONSTANTS.NC_NOERR,ncid:1}),nc_close:e=>n.NC_CONSTANTS.NC_NOERR,nc_create:(e,t)=>e.includes("unsupported")||["x","invalid"].some(e=>this.mode.includes(e))?{result:-1,ncid:-1}:(r[e]={attributes:{},dimensions:{},variables:{}},{result:n.NC_CONSTANTS.NC_NOERR,ncid:1}),nc_def_dim:(e,t,i)=>(this.filename&&r[this.filename]&&(r[this.filename].dimensions[t]={size:i,unlimited:i===n.NC_CONSTANTS.NC_UNLIMITED}),{result:n.NC_CONSTANTS.NC_NOERR,dimid:1}),nc_def_var:(e,t,i,a,l)=>{if(this.filename&&r[this.filename]){r[this.filename].variables[t]={data:new Float64Array(0),attributes:{}};let e=Object.keys(r[this.filename].variables).length;return{result:n.NC_CONSTANTS.NC_NOERR,varid:e}}return{result:n.NC_CONSTANTS.NC_NOERR,varid:1}},nc_put_var_double:(e,t,i)=>{if(this.filename&&r[this.filename]){let e=r[this.filename].variables,n=Object.keys(e);n.length>0&&t>=1&&t<=n.length&&(e[n[t-1]].data=new Float64Array(i))}return n.NC_CONSTANTS.NC_NOERR},nc_get_var_double:(e,t,i)=>{if(this.filename&&r[this.filename]){let e=r[this.filename].variables,a=Object.keys(e);if(a.length>0&&t>=1&&t<=a.length){let r=e[a[t-1]].data;if(r&&r.length>0){if(i<=0)return{result:n.NC_CONSTANTS.NC_NOERR,data:new Float64Array(0)};let e=new Float64Array(i);for(let t=0;t<i&&t<r.length;t++)e[t]=r[t];return{result:n.NC_CONSTANTS.NC_NOERR,data:e}}}}if(i<=0)return{result:n.NC_CONSTANTS.NC_NOERR,data:new Float64Array(0)};let a=new Float64Array(i);for(let e=0;e<i;e++)a[e]=.1*e;return{result:n.NC_CONSTANTS.NC_NOERR,data:a}},nc_enddef:e=>n.NC_CONSTANTS.NC_NOERR}}async setupWorker(){if(!this.workerSource)throw Error("No worker source");return this.worker||(this.worker=new Worker(e.r(8402),{type:"module",type:void 0})),this.workerReady=new Promise((e,r)=>{let t=n=>{n.data.success?(this.worker.removeEventListener("message",t),e()):(this.worker.removeEventListener("message",t),r(Error(n.data.message)))};this.worker.addEventListener("message",t),this.worker.postMessage({type:"init",blob:this.workerSource.blob,filename:this.workerSource.filename})}),this.workerReady}async mountMemoryData(){if(this.memorySource&&this.module)try{let e=this.getModule();if(!e.FS)throw Error("Emscripten FS not available");try{e.FS.mkdir("/tmp")}catch(e){}e.FS.writeFile(this.memorySource.filename,this.memorySource.data)}catch(e){throw Error(`Failed to mount memory data: ${e}`)}}async toArrayBuffer(){if(!this.module)throw Error("NetCDF4 module not initialized");try{let e=this.getModule();if(!e.FS||!this.filename)throw Error("Cannot read file data");let r=e.FS.readFile(this.filename);return r.buffer.slice(r.byteOffset,r.byteOffset+r.byteLength)}catch(e){throw Error(`Failed to read data as ArrayBuffer: ${e}`)}}async toBlob(e="application/x-netcdf"){return new Blob([await this.toArrayBuffer()],{type:e})}toString(){let e=this._isOpen?"open":"closed",r=this.memorySource?"(in-memory)":"";return`<netCDF4.Dataset '${this.filename}'${r}: mode = '${this.mode}', file format = '${this.file_format}', ${e}>`}}async function s(e,r="r",t={}){if("string"==typeof e)return await o.Dataset(e,r,t);if(e instanceof Blob)return await o.fromBlob(e,r,t);if(e instanceof ArrayBuffer)return await o.fromArrayBuffer(e,r,t);if(e instanceof Uint8Array)return await o.fromMemory(e,r,t);throw Error("Invalid source type. Expected string, Blob, ArrayBuffer, or Uint8Array.")}async function _(e,r="r",t={}){return await s(e,r,t)}async function u(e,r="r",t={}){return await s(e,r,t)}async function c(e,r="r",t={},n){return n?await o.fromMemory(e,r,t,n):await s(e,r,t)}e.s(["Dataset",()=>s,"DatasetFromArrayBuffer",()=>u,"DatasetFromBlob",()=>_,"DatasetFromMemory",()=>c],44166),e.i(44166),e.s(["DATA_TYPE_MAP",()=>n.DATA_TYPE_MAP,"Dataset",()=>s,"DatasetFromArrayBuffer",()=>u,"DatasetFromBlob",()=>_,"DatasetFromMemory",()=>c,"Dimension",()=>r,"Group",()=>i,"NC_CONSTANTS",()=>n.NC_CONSTANTS,"NetCDF4",()=>o,"Variable",()=>t,"default",()=>o],25179)},88194,e=>{e.v(r=>Promise.all(["static/chunks/00398ecfc6c101a3.js","static/chunks/b9b6d060426faee1.js"].map(r=>e.l(r))).then(()=>r(91776)))}]);