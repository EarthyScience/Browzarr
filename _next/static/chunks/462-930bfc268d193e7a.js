(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[462],{21:(e,t,a)=>{"use strict";a.d(t,{oW:()=>o,v6:()=>i,dl:()=>n});var s=a(7510),r=a(1252);let n=["magma","inferno","plasma","viridis","cividis","twilight","twilight_shifted","turbo","Blues","BrBG","BuGn","BuPu","CMRmap","GnBu","Greens","Greys","OrRd","Oranges","PRGn","PiYG","PuBu","PuBuGn","PuOr","PuRd","Purples","RdBu","RdGy","RdPu","RdYlBu","RdYlGn","Reds","Spectral","Wistia","YlGn","YlGnBu","YlOrBr","YlOrRd","afmhot","autumn","binary","bone","brg","bwr","cool","coolwarm","copper","cubehelix","flag","gist_earth","gist_gray","gist_heat","gist_ncar","gist_rainbow","gist_stern","gist_yarg","gnuplot","gnuplot2","gray","hot","hsv","jet","nipy_spectral","ocean","pink","prism","rainbow","seismic","spring","summer","terrain","winter","Accent","Dark2","Paired","Pastel1","Pastel2","Set1","Set2","Set3","tab10","tab20","tab20b","tab20c"];function i(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Spectral",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"#000000",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,l=arguments.length>5&&void 0!==arguments[5]&&arguments[5],o=Array.from({length:255},(e,t)=>t/254),d=(o=l?o.reverse():o).map(e=>(0,r.md)(e,t,!1)),c=new Uint8Array((d.length+1)*4);for(let e=0;e<d.length;e++){let[t,s,r]=d[e];c[4*e]=t,c[4*e+1]=s,c[4*e+2]=r,c[4*e+3]=a}let u=function(e){let t=parseInt(e=e.replace(/^#/,""),16);return[t>>16&255,t>>8&255,255&t]}(n),h=4*d.length;c[h]=u[0],c[h+1]=u[1],c[h+2]=u[2],c[h+3]=i,e&&e.dispose();let m=new s.GYF(c,d.length+1,1,s.GWd);return m.needsUpdate=!0,m}var l=a(8804);function o(e){let[t,a]=3==e.shape.length?function(e){let t=e.shape,a=e.data,[r,n,i]=t,[o,d]=(0,l.Qt)(a),c=new Uint8Array(a.map(e=>(e-o)/(d-o)).map(e=>isNaN(e)?255:254*e)),u=new s.dYF(c,i,n,r);return u.format=s.VT0,u.minFilter=s.hxR,u.magFilter=s.hxR,u.needsUpdate=!0,[u,{maxVal:d,minVal:o}]}(e):function(e){let t=e.shape,a=e.data,r=t[1],n=t[0],[i,o]=(0,l.Qt)(a),d=new Uint8Array(a.map(e=>(e-i)/(o-i)).map(e=>isNaN(e)?255:254*e)),c=new s.GYF(d,r,n,s.VT0,s.OUM);return c.needsUpdate=!0,[c,{maxVal:o,minVal:i}]}(e);return[t,a]}},355:(e,t,a)=>{"use strict";a.d(t,{Cf:()=>u,L3:()=>m,c7:()=>h,lG:()=>l,rr:()=>x,zM:()=>o});var s=a(9564);a(7776);var r=a(3085),n=a(8822),i=a(3964);function l(e){let{...t}=e;return(0,s.jsx)(r.bL,{"data-slot":"dialog",...t})}function o(e){let{...t}=e;return(0,s.jsx)(r.l9,{"data-slot":"dialog-trigger",...t})}function d(e){let{...t}=e;return(0,s.jsx)(r.ZL,{"data-slot":"dialog-portal",...t})}function c(e){let{className:t,...a}=e;return(0,s.jsx)(r.hJ,{"data-slot":"dialog-overlay",className:(0,i.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...a})}function u(e){let{className:t,children:a,showCloseButton:l=!0,...o}=e;return(0,s.jsxs)(d,{"data-slot":"dialog-portal",children:[(0,s.jsx)(c,{}),(0,s.jsxs)(r.UC,{"data-slot":"dialog-content",className:(0,i.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...o,children:[a,l&&(0,s.jsxs)(r.bm,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,s.jsx)(r.VY,{id:"dialog-description",className:"sr-only",children:"This dialog contains important information for screen readers."}),(0,s.jsx)(n.A,{}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function h(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"dialog-header",className:(0,i.cn)("flex flex-col gap-2 text-center sm:text-left",t),...a})}function m(e){let{className:t,...a}=e;return(0,s.jsx)(r.hE,{"data-slot":"dialog-title",className:(0,i.cn)("text-lg leading-none font-semibold",t),...a})}function x(e){let{className:t,...a}=e;return(0,s.jsx)(r.VY,{"data-slot":"dialog-description",className:(0,i.cn)("text-muted-foreground text-sm",t),...a})}},406:()=>{},489:(e,t,a)=>{"use strict";a.d(t,{p:()=>n});var s=a(9564);a(7776);var r=a(3964);function n(e){let{className:t,type:a,...n}=e;return(0,s.jsx)("input",{type:a,"data-slot":"input",className:(0,r.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...n})}},655:(e,t,a)=>{"use strict";a.d(t,{R:()=>l});var s=a(9564),r=a(7776),n=a(7481),i=a(3964);let l=r.forwardRef((e,t)=>{let{className:a,defaultValue:l,value:o,min:d=0,max:c=100,step:u=1,minStepsBetweenThumbs:h=1,...m}=e,x=r.useMemo(()=>Array.isArray(o)?o:Array.isArray(l)?l:[d,c],[o,l,d,c]);return(0,s.jsxs)(n.bL,{ref:t,value:o,defaultValue:l,min:d,max:c,step:u,minStepsBetweenThumbs:h,className:(0,i.cn)("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",a),...m,children:[(0,s.jsx)(n.CC,{"data-slot":"slider-track",className:"bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-1.5 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5",children:(0,s.jsx)(n.Q6,{"data-slot":"slider-range",className:"bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full"})}),x.map((e,t)=>(0,s.jsx)(n.zi,{"data-slot":"slider-thumb",className:"border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},t))]})});l.displayName="SliderThumbs"},919:()=>{},1279:(e,t,a)=>{"use strict";a.d(t,{$:()=>d});var s=a(9564),r=a(7776),n=a(2021),i=a(978),l=a(3964);let o=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive relative overflow-hidden",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline",pink:"bg-linear-to-tr from-pink-500 to-yellow-500 text-white shadow-lg"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function d(e){let{className:t,variant:a,size:i,asChild:d=!1,disabled:u,onPointerDown:h,children:m,disableRipple:x,...p}=e,g=d?n.DX:"button",[f,v]=r.useState([]),j=e=>{v(t=>t.filter(t=>t.key!==e))};return(0,s.jsxs)(g,{"data-slot":"button",className:(0,l.cn)(o({variant:a,size:i,className:t})),onPointerDown:e=>{if(null==h||h(e),x||u||2===e.button)return;let t=e.currentTarget.getBoundingClientRect(),a=2*Math.max(t.width,t.height),s=e.clientX-t.left-a/2,r=e.clientY-t.top-a/2,n=Date.now()+Math.random();v(e=>[...e,{key:n,x:s,y:r,size:a}])},disabled:u,...p,children:[!x&&(0,s.jsx)("span",{"aria-hidden":!0,className:"pointer-events-none absolute inset-0 z-0",children:f.map(e=>(0,s.jsx)(c,{info:e,onDone:j},e.key))}),(0,s.jsx)("span",{className:"relative z-10 inline-flex items-center gap-2",children:m})]})}function c(e){let{info:t,onDone:a}=e,{x:n,y:i,size:l,key:o}=t,[d,c]=r.useState(!1);return r.useEffect(()=>{let e=requestAnimationFrame(()=>c(!0));return()=>cancelAnimationFrame(e)},[]),(0,s.jsx)("span",{className:"absolute rounded-full",style:{left:n,top:i,width:l,height:l,backgroundColor:"currentColor",opacity:.25*!d,transform:d?"scale(2)":"scale(0)",transition:"transform 450ms ease-out, opacity 600ms ease-out"},onTransitionEnd:()=>a(o)})}},1465:()=>{},1950:(e,t,a)=>{"use strict";a.d(t,{A:()=>m});var s=a(9564),r=a(7776),n=a(8688),i=a(1526),l=a(655),o=a(9341),d=a(1279),c=a(489);let u=e=>"string"==typeof e?e:Array.isArray(e)?e.join(", "):String(e),h=e=>{if(0===e)return"0 Bytes";let t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB","TB"][t]},m=e=>{let{meta:t,setShowMeta:a,noCard:m=!1}=e,{is4D:x,idx4D:p,variable:g,setIs4D:f,setIdx4D:v,setVariable:j}=(0,n.on)((0,i.k)(e=>({is4D:e.is4D,idx4D:e.idx4D,variable:e.variable,setIs4D:e.setIs4D,setIdx4D:e.setIdx4D,setVariable:e.setVariable}))),{slice:b,reFetch:y,setSlice:w,setReFetch:A}=(0,n.SZ)((0,i.k)(e=>({reFetch:e.reFetch,slice:e.slice,setSlice:e.setSlice,setReFetch:e.setReFetch}))),N=(0,r.useMemo)(()=>t.totalSize?t.totalSize:0,[t]),S=(0,r.useMemo)(()=>t.shape?4==t.shape.length?t.shape[1]:t.shape[0]:0,[t]),C=(0,r.useMemo)(()=>!!t.shape&&3==t.shape.length,[t]),k=x?t.shape[1]/t.chunks[1]>1:t.shape[0]/t.chunks[0]>1,z=(0,r.useMemo)(()=>{if(C){let e=b[0]?b[0]:0,a=b[1]?b[1]:S,s=t.shape[2]/t.chunks[2]*(t.shape[1]/t.chunks[1])*t.chunkSize;return Math.ceil((a-e)/(t.chunks?t.chunks[0]:1))*s}if(!x)return 0;{let e=b[0]?b[0]:0,a=b[1]?b[1]:S,s=t.shape[3]/t.chunks[3]*(t.shape[2]/t.chunks[2])*t.chunkSize;return Math.ceil((a-e)/(t.chunks?t.chunks[1]:1))*s}},[t,b]);return(0,r.useEffect)(()=>{f(4==t.shape.length)}),(0,r.useEffect)(()=>{w([0,null]),v(null)},[t]),(0,s.jsx)(s.Fragment,{children:m?(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-foreground",children:"Variable Information"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Detailed metadata and configuration options"})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("h4",{className:"text-sm font-medium text-foreground",children:"Long Name"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground bg-muted/50 px-3 py-2 rounded-md",children:t.long_name})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("h4",{className:"text-sm font-medium text-foreground",children:"Shape"}),(0,s.jsxs)("p",{className:"text-sm text-muted-foreground bg-muted/50 px-3 py-2 rounded-md font-mono",children:["[",u(t.shape),"]"]})]})]}),x&&(0,s.jsxs)("div",{className:"space-y-3 p-4 bg-blue-50 dark:bg-blue-950/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[(0,s.jsx)("h4",{className:"text-sm font-medium text-blue-900 dark:text-blue-100",children:"4D Dataset Configuration"}),(0,s.jsx)("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:"This is a Four-Dimensional Dataset. You must select an index along the first dimension."}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("label",{className:"text-xs font-medium text-blue-700 dark:text-blue-300",children:["Select index (0 to ",t.shape[0]-1,"):"]}),(0,s.jsx)(c.p,{type:"number",min:0,max:t.shape[0]-1,value:String(p),onChange:e=>v(parseInt(e.target.value)),className:"max-w-32"})]})]}),(C||null!=p)&&(0,s.jsxs)("div",{className:"space-y-4",children:[N>1e8&&k&&(0,s.jsxs)("div",{className:"space-y-3 p-4 bg-muted/30 rounded-lg border border-orange-200 dark:border-orange-800",children:[(0,s.jsx)("h4",{className:"text-sm font-medium text-orange-900 dark:text-orange-100",children:"Data Range Selection"}),(0,s.jsx)("p",{className:"text-xs text-orange-800 dark:text-orange-200",children:"Large dataset detected. Select a time range to reduce memory usage."}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)(l.R,{min:0,max:S,value:[b[0]?b[0]:0,b[1]?b[1]:S],step:1,onValueChange:e=>w([e[0],e[1]])}),(0,s.jsxs)("div",{className:"flex justify-between items-center text-xs",children:[(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("label",{className:"font-medium",children:" Min: "}),(0,s.jsx)("input",{className:"w-16 px-2 py-1 rounded border border-orange-300 dark:border-orange-600 bg-background text-foreground",type:"number",value:b[0],onChange:e=>w([parseInt(e.target.value),b[1]])})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("label",{className:"font-medium",children:" Max: "}),(0,s.jsx)("input",{className:"w-16 px-2 py-1 rounded border border-orange-300 dark:border-orange-600 bg-background text-foreground text-right",type:"number",value:b[1]?b[1]:S,onChange:e=>w([b[0],parseInt(e.target.value)])})]})]})]})]}),(0,s.jsxs)("div",{className:"space-y-3 p-4 bg-muted/30 rounded-lg border border-border",children:[(0,s.jsx)("h4",{className:"text-sm font-medium text-foreground",children:"Memory Usage"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("span",{className:"text-sm text-muted-foreground",children:"Total Size:"}),(0,s.jsx)("span",{className:"text-sm font-medium",children:h(z)})]}),(0,s.jsxs)("div",{className:"mt-3",children:[z<1e8&&(0,s.jsxs)("div",{className:"flex items-center gap-2 p-2 bg-emerald-50 dark:bg-emerald-950/30 rounded-md border border-emerald-200 dark:border-emerald-800",children:[(0,s.jsx)("div",{className:"w-2 h-2 bg-emerald-500 rounded-full"}),(0,s.jsx)("span",{className:"text-xs font-medium text-emerald-800 dark:text-emerald-200",children:"Selected data will fit in memory"})]}),z>1e8&&z<2e8&&(0,s.jsxs)("div",{className:"flex items-center gap-2 p-2 bg-orange-50 dark:bg-orange-950/30 rounded-md border border-orange-200 dark:border-orange-800",children:[(0,s.jsx)("div",{className:"w-2 h-2 bg-orange-500 rounded-full"}),(0,s.jsx)("span",{className:"text-xs font-medium text-orange-800 dark:text-orange-200",children:"Data may not fit in memory"})]}),z>2e8&&(0,s.jsxs)("div",{className:"flex items-center gap-2 p-2 bg-red-50 dark:bg-red-950/30 rounded-md border border-red-200 dark:border-red-800",children:[(0,s.jsx)("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),(0,s.jsx)("span",{className:"text-xs font-medium text-red-800 dark:text-red-200",children:"Data will not fit in memory"})]})]})]})]})]}),(0,s.jsx)("div",{className:"flex justify-end pt-4 border-t border-border",children:(0,s.jsx)(d.$,{variant:"pink",size:"sm",className:"cursor-pointer hover:scale-[1.02] transition-transform",disabled:x&&null==p,onClick:()=>{g==t.name?A(!y):j(t.name),a(!1)},children:"Plot Variable"})})]}):(0,s.jsxs)(o.Zp,{className:"meta-container max-w-sm md:max-w-md p-4 mb-4 border border-muted select-none",children:[(0,s.jsxs)("div",{className:"meta-info",children:[(0,s.jsx)("b",{children:"Long Name"})," ",(0,s.jsx)("br",{}),"".concat(t.long_name),(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),(0,s.jsx)("b",{children:"Shape"}),(0,s.jsx)("br",{}),"[".concat(u(t.shape),"]"),(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),x&&(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{children:[(0,s.jsxs)("p",{children:["This is Four-Dimensional Dataset. You must select an index along the first dimension. ",(0,s.jsx)("br",{}),"Please select an index from ",(0,s.jsx)("b",{children:"0"})," to ",(0,s.jsx)("b",{children:t.shape[0]-1})]}),(0,s.jsx)(c.p,{type:"number",min:0,max:t.shape[0]-1,value:String(p),onChange:e=>v(parseInt(e.target.value))})]})}),(C||null!=p)&&(0,s.jsxs)(s.Fragment,{children:[N>1e8&&k&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"flex justify-center",children:(0,s.jsx)("b",{children:"Select Data Range"})}),(0,s.jsxs)("div",{className:"w-full flex flex-col justify-between",children:[(0,s.jsx)(l.R,{min:0,max:S,value:[b[0]?b[0]:0,b[1]?b[1]:S],step:1,onValueChange:e=>w([e[0],e[1]])}),(0,s.jsxs)("div",{className:"flex justify-between text-xs mt-4",children:[(0,s.jsxs)("span",{children:["Min: ",(0,s.jsx)("br",{})," ",(0,s.jsx)("input",{className:"w-[50px]",type:"number",value:b[0],onChange:e=>w([parseInt(e.target.value),b[1]])})]}),(0,s.jsxs)("span",{children:["Max: ",(0,s.jsx)("br",{})," ",(0,s.jsx)("input",{className:"w-[50px] text-right",type:"number",value:b[1]?b[1]:S,onChange:e=>w([b[0],parseInt(e.target.value)])})]})]})]})]}),(0,s.jsx)("b",{children:"Total Size: "}),h(z),(0,s.jsx)("br",{}),z<1e8&&(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"flex items-center gap-2 p-2 bg-emerald-50 dark:bg-emerald-950/30 rounded-md border border-emerald-200 dark:border-emerald-800",children:[(0,s.jsx)("div",{className:"w-2 h-2 bg-emerald-500 rounded-full"}),(0,s.jsx)("span",{className:"text-xs font-medium text-emerald-800 dark:text-emerald-200",children:"Selected data will fit in memory"})]})}),z>1e8&&z<2e8&&(0,s.jsxs)("div",{className:"flex items-center gap-2 p-2 bg-orange-50 dark:bg-orange-950/30 rounded-md border border-orange-200 dark:border-orange-800",children:[(0,s.jsx)("div",{className:"w-2 h-2 bg-orange-500 rounded-full"}),(0,s.jsx)("span",{className:"text-xs font-medium text-orange-800 dark:text-orange-200",children:"Data may not fit in memory"})]}),z>2e8&&(0,s.jsxs)("div",{className:"flex items-center gap-2 p-2 bg-red-50 dark:bg-red-950/30 rounded-md border border-red-200 dark:border-red-800",children:[(0,s.jsx)("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),(0,s.jsx)("span",{className:"text-xs font-medium text-red-800 dark:text-red-200",children:"Data will not fit in memory"})]})]})]}),(0,s.jsx)(d.$,{variant:"pink",size:"sm",className:"cursor-pointer hover:scale-[1.05]",disabled:x&&null==p,onClick:()=>{g==t.name?A(!y):j(t.name),a(!1)},children:"Plot"})]})})}},2462:(e,t,a)=>{"use strict";a.d(t,{zd:()=>eM,pH:()=>e1,PL:()=>et,hv:()=>eb,jG:()=>eR,$D:()=>eU,wi:()=>_,It:()=>e2,Rh:()=>X,oU:()=>ed,OS:()=>W,Fp:()=>V,DM:()=>eI,Yp:()=>H,M:()=>ex,A:()=>G,de:()=>K,ut:()=>ej,LC:()=>$,gj:()=>Y,$m:()=>Z});var s=a(9564),r=a(7776),n=a(6341),i=a(6613),l=a(2537),o=a(1279),d=a(6099),c=a(3964);function u(e){let{delayDuration:t=0,...a}=e;return(0,s.jsx)(d.Kq,{"data-slot":"tooltip-provider",delayDuration:t,...a})}function h(e){let{...t}=e;return(0,s.jsx)(u,{children:(0,s.jsx)(d.bL,{"data-slot":"tooltip",...t})})}function m(e){let{...t}=e;return(0,s.jsx)(d.l9,{"data-slot":"tooltip-trigger",...t})}function x(e){let{className:t,sideOffset:a=0,children:r,...n}=e;return(0,s.jsx)(d.ZL,{children:(0,s.jsxs)(d.UC,{"data-slot":"tooltip-content",sideOffset:a,className:(0,c.cn)("bg-popover text-popover-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",t),...n,children:[r,(0,s.jsx)(d.i3,{className:"bg-popover fill-popover z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}let p=()=>{let[e,t]=(0,r.useState)(!1),{theme:a,setTheme:n,resolvedTheme:d}=(0,i.D)();(0,r.useEffect)(()=>{t(!0)},[]);let c=e?null!=a?a:d:void 0;return(0,s.jsxs)(h,{delayDuration:500,children:[(0,s.jsx)(m,{asChild:!0,children:(0,s.jsx)(o.$,{variant:"ghost",size:"icon",className:"size-10 cursor-pointer",onClick:()=>{"dark"===a?n("light"):n("dark")},children:e&&"dark"===c?(0,s.jsx)(l.PhE,{className:"size-6"}):(0,s.jsx)(l.DNQ,{className:"size-6"})})}),(0,s.jsx)(x,{side:"right",align:"start",children:"dark"===c?(0,s.jsx)("span",{children:"Switch to Light Mode"}):(0,s.jsx)("span",{children:"Switch to Dark Mode"})})]})},g={src:"/_next/static/media/logo.d9323308.png",height:1e3,width:1e3,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAYFBMVEVMaXH5xyb60jLzyNjzZ6d/VTLYx8zw4VrRS4LBN3nlYJ7eZJfel1W0ijz7zzyRNiT90Dqew6/17/Xj1M749N/LyI3ha37R3v/3z2v90TvcrzLBV37/2DL/4oHcwLv+//8HdHKGAAAAHHRSTlMAefb+9wpSBWI3T09v0FAq1lr29NTo+j7+kvP2lbyMGQAAAAlwSFlzAAAdhwAAHYcBj+XxZQAAAEBJREFUeJwVxUcSgCAQAMEhLpgQzIr6/19a9qUBXHKADMd49h2I0rVqJbDN975kwJf3mTwQL2NsBAirDf/QNsAHWeQCQebHKVQAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8};a(919);var f=a(1526),v=a(8688),j=a(21),b=a(1779),y=a(4799);function w(e){let{...t}=e;return(0,s.jsx)(y._s.Root,{"data-slot":"drawer",...t})}function A(e){let{...t}=e;return(0,s.jsx)(y._s.Trigger,{"data-slot":"drawer-trigger",...t})}function N(e){let{...t}=e;return(0,s.jsx)(y._s.Portal,{"data-slot":"drawer-portal",...t})}function S(e){let{className:t,...a}=e;return(0,s.jsx)(y._s.Overlay,{"data-slot":"drawer-overlay",className:(0,c.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...a})}function C(e){let{className:t,children:a,...r}=e;return(0,s.jsxs)(N,{"data-slot":"drawer-portal",children:[(0,s.jsx)(S,{}),(0,s.jsxs)(y._s.Content,{"data-slot":"drawer-content",className:(0,c.cn)("group/drawer-content bg-background fixed z-50 flex h-auto flex-col","data-[vaul-drawer-direction=top]:inset-x-0 data-[vaul-drawer-direction=top]:top-0 data-[vaul-drawer-direction=top]:mb-24 data-[vaul-drawer-direction=top]:max-h-[80vh] data-[vaul-drawer-direction=top]:rounded-b-lg data-[vaul-drawer-direction=top]:border-b","data-[vaul-drawer-direction=bottom]:inset-x-0 data-[vaul-drawer-direction=bottom]:bottom-0 data-[vaul-drawer-direction=bottom]:mt-24 data-[vaul-drawer-direction=bottom]:max-h-[80vh] data-[vaul-drawer-direction=bottom]:rounded-t-lg data-[vaul-drawer-direction=bottom]:border-t","data-[vaul-drawer-direction=right]:inset-y-0 data-[vaul-drawer-direction=right]:right-0 data-[vaul-drawer-direction=right]:w-3/4 data-[vaul-drawer-direction=right]:border-l data-[vaul-drawer-direction=right]:sm:max-w-sm","data-[vaul-drawer-direction=left]:inset-y-0 data-[vaul-drawer-direction=left]:left-0 data-[vaul-drawer-direction=left]:w-3/4 data-[vaul-drawer-direction=left]:border-r data-[vaul-drawer-direction=left]:sm:max-w-sm",t),...r,children:[(0,s.jsx)("div",{className:"bg-muted mx-auto mt-4 hidden h-2 w-[100px] shrink-0 rounded-full group-data-[vaul-drawer-direction=bottom]/drawer-content:block"}),a]})]})}function k(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"drawer-header",className:(0,c.cn)("flex flex-col gap-0.5 p-4 group-data-[vaul-drawer-direction=bottom]/drawer-content:text-center group-data-[vaul-drawer-direction=top]/drawer-content:text-center md:gap-1.5 md:text-left",t),...a})}function z(e){let{className:t,...a}=e;return(0,s.jsx)(y._s.Title,{"data-slot":"drawer-title",className:(0,c.cn)("text-foreground font-semibold",t),...a})}let D={src:"/_next/static/media/logo_bgc_mpi.811f35c6.png",height:335,width:1901,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAABCAMAAADU3h9xAAAACVBMVEX///////////+OSuX+AAAAA3RSTlMdMnkqIWkUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAEUlEQVR4nGNgYGBgYGRiZAQAABYABhAF/EgAAAAASUVORK5CYII=",blurWidth:8,blurHeight:1},M={src:"/_next/static/media/logo_bgc.2186f7da.png",height:324,width:324,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAM1BMVEX///////////////////////////9MaXH////////////////////////////+/v7///9noLCvAAAAEHRSTlMVaEuDyyA0AAn4qpuOw9jiFXZvNwAAAAlwSFlzAAALEwAACxMBAJqcGAAAADtJREFUeJwFwQkCwCAIA7CiQMFj9v+vXQLmPmZB5E2yRmANVrESHigCA6+1rHWx1VJrIj5JcoA47hP8AUH+AfDeLlYAAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8},E={src:"/_next/static/media/logo_mpi.60f96703.png",height:335,width:335,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAG1BMVEX///////////////////////////////9MaXHtBtUtAAAACXRSTlMVIF5RcjsnRQDMSZBbAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAM0lEQVR4nBXJyREAMAwCscXgo/+KM/lKHG03By7Hgq6ZFKJWSfEnWX7FK6RPNRo4eru5BxsqAMT2mkYXAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8},R=()=>(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{children:"Browzarr"}),"builds on the lessons learned from the visualization prototype from the SeasFire project.",(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),(0,s.jsx)("p",{children:"The ESA-funded SeasFire project is exploring the potential of spatio-temporal asynchronous links happening between pre-occurring and non-overlapping atmospheric conditions and European fire regimes to predict the seasonal burned areas sizes in Europe by leveraging two major advancements of our time:"}),(0,s.jsxs)("ul",{children:[(0,s.jsx)("li",{children:"the availability of a huge amount of satellite data with a good spatio-temporal resolution, which will be used as fire drivers called the Earth system variables, and"}),(0,s.jsx)("li",{children:"the progress in Deep Learning (DL) and especially in graph and image based modelling frameworks, finding methods capable of capturing the spatio-temporal interactions of the Earth System variables."})]}),(0,s.jsx)("a",{href:"https://seasfire.hua.gr/",target:"_blank",rel:"noreferrer",children:"https://seasfire.hua.gr/"}),(0,s.jsx)("br",{}),(0,s.jsx)("a",{href:"https://zenodo.org/records/8055879",target:"_blank",rel:"noreferrer",children:"zenodo"}),(0,s.jsxs)("p",{children:[(0,s.jsx)("br",{}),(0,s.jsx)("strong",{children:"Citation: "})," ",(0,s.jsx)("br",{}),"Alonso, L., Gans, F., Karasante, I., Ahuja, A., Prapas, I., Kondylatos, S., Papoutsis, I., Panagiotou, E., Mihail, D., Cremer, F., Weber, U., & Carvalhais, N. (2023). SeasFire Cube: A Global Dataset for Seasonal Fire Modeling in the Earth System (0.3) [Data set]. Zenodo. https://doi.org/10.5281/zenodo.8055879"]}),(0,s.jsx)("br",{}),(0,s.jsxs)("p",{children:[" ",(0,s.jsx)("strong",{children:" Contact :"})]}),(0,s.jsx)("div",{children:(0,s.jsxs)("span",{children:[(0,s.jsx)("a",{href:"https://lazarusa.github.io/",target:"_blank",rel:"noreferrer",children:(0,s.jsx)("strong",{children:"Lazaro Alonso"})})," &",(0,s.jsx)("a",{href:"https://www.bgc-jena.mpg.de/person/jpoehls/2206",target:"_blank",rel:"noreferrer",children:(0,s.jsx)("strong",{children:" Jeran Poehls"})})]})}),(0,s.jsx)("br",{}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Max-Planck Institute for Biogeochemistry"}),(0,s.jsx)("br",{}),"Hans-Kn\xf6ll Str. 10",(0,s.jsx)("br",{}),"07745 Jena"]}),(0,s.jsx)("br",{}),(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,s.jsx)("a",{href:"https://www.bgc-jena.mpg.de/en/bgi/home",target:"_blank",rel:"noreferrer",children:(0,s.jsx)(n.default,{src:E,alt:"logoMPI",height:32})}),(0,s.jsx)("a",{href:"https://www.bgc-jena.mpg.de/en/bgi/mdi",target:"_blank",rel:"noreferrer",children:(0,s.jsx)(n.default,{src:M,alt:"logoBGC",height:32})})]}),(0,s.jsx)("br",{}),(0,s.jsxs)("p",{children:["Ⓒ ",(0,s.jsx)("a",{href:"https://github.com/EarthyScience/FireSight?tab=Apache-2.0-1-ov-file#readme",target:"_blank",rel:"noreferrer",children:"Apache License, Version 2.0"})]})]});var L=a(355),F=a(5575);function T(e){let{...t}=e;return(0,s.jsx)(F.bL,{"data-slot":"popover",...t})}function I(e){let{...t}=e;return(0,s.jsx)(F.l9,{"data-slot":"popover-trigger",...t})}function U(e){let{className:t,align:a="center",sideOffset:r=4,...n}=e;return(0,s.jsx)(F.ZL,{children:(0,s.jsx)(F.UC,{"data-slot":"popover-content",align:a,sideOffset:r,className:(0,c.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",t),...n})})}let B=e=>{let{className:t}=e;return(0,s.jsxs)("svg",{viewBox:"0 0 100 100",className:t,"aria-hidden":"true",focusable:"false",children:[(0,s.jsx)("circle",{cx:"50",cy:"20",r:"12",fill:"#9CA3AF"}),(0,s.jsx)("circle",{cx:"78.53",cy:"40.73",r:"12",fill:"#EF4444"}),(0,s.jsx)("circle",{cx:"67.63",cy:"74.27",r:"12",fill:"#10B981"}),(0,s.jsx)("circle",{cx:"32.37",cy:"74.27",r:"12",fill:"#F59E0B"}),(0,s.jsx)("circle",{cx:"21.47",cy:"40.73",r:"12",fill:"#EC4899"})]})},V=r.memo(function(){let{setInitStore:e,setVariable:t,setColormap:a,setTimeSeries:i,setDimCoords:l,isFlat:d,plotOn:u,variables:y,variable:N}=(0,v.on)((0,f.k)(e=>({setInitStore:e.setInitStore,setVariable:e.setVariable,setColormap:e.setColormap,setTimeSeries:e.setTimeSeries,setDimCoords:e.setDimCoords,isFlat:e.isFlat,plotOn:e.plotOn,variables:e.variables,variable:e.variable}))),{setPlotType:S,plotType:D,resetCamera:M,setAnimate:E,setResetCamera:L}=(0,v.Ws)((0,f.k)(e=>({setPlotType:e.setPlotType,plotType:e.plotType,resetCamera:e.resetCamera,setAnimate:e.setAnimate,setResetCamera:e.setResetCamera}))),[F,T]=(0,r.useState)(!1),[I,U]=(0,r.useState)(!1),[V,_]=(0,r.useState)("Default"),[O,P]=(0,r.useState)(!1),W=(0,v.on)((0,f.k)(e=>e.colormap)),[G,Y]=(0,r.useState)(!0),$=(0,r.useRef)(null);return(0,r.useEffect)(()=>{a((0,j.v6)(W,"Default"===V?"Spectral":V,1,"#000000",0,O))},[V,O]),(0,s.jsxs)("nav",{className:"navbar",ref:$,children:[(0,s.jsxs)(h,{delayDuration:500,children:[(0,s.jsx)(m,{asChild:!0,children:(0,s.jsx)(o.$,{variant:"ghost",size:"icon",className:"navbar-trigger size-10","aria-expanded":G,"aria-label":G?"Close navigation":"Open navigation",title:G?"Close navigation":"Open navigation",onClick:()=>Y(e=>!e),children:(0,s.jsx)(B,{className:"navbar-trigger-icon rotating size-6"})})}),(0,s.jsx)(x,{side:"right",align:"start",children:G?(0,s.jsx)("span",{children:"Close navigation"}):(0,s.jsx)("span",{children:"Open navigation"})})]}),(0,s.jsxs)("div",{className:(0,c.cn)("navbar-content",G?"open":"closed"),children:[(0,s.jsxs)("div",{className:"navbar-left",children:[(0,s.jsxs)(w,{children:[(0,s.jsx)(A,{asChild:!0,children:(0,s.jsx)("div",{children:(0,s.jsxs)(h,{delayDuration:500,children:[(0,s.jsx)(m,{asChild:!0,children:(0,s.jsx)(o.$,{variant:"ghost",size:"icon",className:"cursor-pointer",tabIndex:0,"aria-label":"About Browzarr",title:"About Browzarr",children:(0,s.jsx)(n.default,{src:g,alt:"browzarr"})})}),(0,s.jsx)(x,{side:"right",align:"start",children:(0,s.jsx)("span",{children:"About BrowZarr"})})]})})}),(0,s.jsxs)(C,{className:"max-w-md mx-auto",children:[(0,s.jsx)(k,{children:(0,s.jsx)(z,{children:"About"})}),(0,s.jsx)("div",{className:"flex-1 overflow-y-auto px-4 pb-4",children:(0,s.jsx)(R,{})})]})]}),u&&(0,s.jsxs)(h,{delayDuration:500,children:[(0,s.jsx)(m,{asChild:!0,children:(0,s.jsx)(o.$,{variant:"ghost",size:"icon",className:"size-10 cursor-pointer",tabIndex:0,"aria-label":"Reset camera view",title:"Reset camera view",onClick:()=>L(!M),children:(0,s.jsx)(b.vRP,{className:"size-8"})})}),(0,s.jsx)(x,{side:"right",align:"start",children:(0,s.jsx)("span",{children:"Reset camera view"})})]}),u&&!d&&(0,s.jsx)(H,{})]}),(0,s.jsx)(p,{})]})]})});a(4408);let _=()=>(0,s.jsxs)("div",{className:"footer",children:[(0,s.jsx)("div",{className:"large-screen-logo",children:(0,s.jsx)("a",{href:"https://www.bgc-jena.mpg.de/en/bgi/mdi",target:"_blank",rel:"noreferrer",children:(0,s.jsx)(n.default,{src:D,alt:"logoMPI",height:32})})}),(0,s.jsx)("div",{className:"small-screen-logo",children:(0,s.jsx)("a",{href:"https://www.bgc-jena.mpg.de/en/bgi/mdi",target:"_blank",rel:"noreferrer",children:(0,s.jsx)(n.default,{src:M,alt:"logoBGC",height:32})})}),(0,s.jsx)("div",{className:"expandable-text",children:(0,s.jsxs)("span",{children:["Ⓒ ",(0,s.jsx)("a",{href:"https://www.bgc-jena.mpg.de/person/jpoehls/2206",target:"_blank",rel:"noreferrer",children:"Jeran Poehls"}),"&",(0,s.jsx)("a",{href:"https://lazarusa.github.io/",target:"_blank",rel:"noreferrer",children:"Lazaro Alonso"})]})}),(0,s.jsx)("div",{className:"small-screen-logo",children:(0,s.jsx)("a",{href:"https://www.bgc-jena.mpg.de/en/bgi/home",target:"_blank",rel:"noreferrer",children:(0,s.jsx)(n.default,{src:E,alt:"logoMPI",className:"small-screen-logo",height:32})})})]});var O=a(5581);a(4882);let P=["long_name","description","units","_ARRAY_DIMENSIONS"],W=e=>{let{data:t}=e;return(0,s.jsx)("div",{className:"metadata-container",children:(0,s.jsxs)(L.lG,{children:[(0,s.jsxs)(h,{delayDuration:500,children:[(0,s.jsx)(m,{asChild:!0,children:(0,s.jsx)(L.zM,{asChild:!0,children:(0,s.jsx)("div",{children:(0,s.jsx)(o.$,{variant:"ghost",size:"icon",className:"size-6 cursor-pointer",tabIndex:0,children:(0,s.jsx)(O._AI,{className:"size-6"})})})})}),(0,s.jsx)(x,{side:"bottom",align:"start",children:(0,s.jsx)("span",{children:"Show Variable Metadata"})})]}),(0,s.jsxs)(L.Cf,{className:"metadata-dialog",children:[(0,s.jsxs)(L.c7,{children:[(0,s.jsx)(L.L3,{children:"Variable Metadata"}),(0,s.jsx)(L.rr,{children:"Detailed information about the selected variable"})]}),(0,s.jsxs)("div",{className:"metadata-content",children:[P.map(e=>t[e]&&(0,s.jsxs)("p",{children:[(0,s.jsxs)("strong",{children:[e,": "]}),String(t[e])]},e)),Object.entries(t).map(e=>{let[t,a]=e;return!P.includes(t)&&(0,s.jsxs)("p",{children:[(0,s.jsxs)("strong",{children:[t,":"]})," ",String(a)]},t)})]})]})]})})};a(8247);let G=e=>{let{height:t,setHeight:a}=e,[n,i]=(0,r.useState)(!1),[l,o]=(0,r.useState)(window.innerHeight-50);(0,r.useEffect)(()=>{let e=()=>{o(window.innerHeight-100)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let d=(0,r.useCallback)(e=>{requestAnimationFrame(()=>{a(e)})},[a,l]),c=(0,r.useCallback)(e=>{switch(e.key){case"ArrowUp":e.preventDefault(),d(t-10);break;case"ArrowDown":e.preventDefault(),d(t+10);break;case"Home":e.preventDefault(),d(50);break;case"End":e.preventDefault(),d(l)}},[t,l,d]),u=e=>{e.preventDefault(),i(!0)},h=(0,r.useCallback)(e=>{n&&(e.preventDefault(),d("touches"in e?e.touches[0].clientY:e.clientY))},[n,d]),m=(0,r.useCallback)(()=>{i(!1)},[]),x=(0,r.useCallback)(()=>{n&&i(!1)},[n]);return(0,r.useEffect)(()=>(n&&(document.addEventListener("mousemove",h),document.addEventListener("mouseup",m),document.addEventListener("touchmove",h,{passive:!1}),document.addEventListener("touchend",m),document.addEventListener("touchcancel",m),window.addEventListener("resize",x)),()=>{document.removeEventListener("mousemove",h),document.removeEventListener("mouseup",m),document.removeEventListener("touchmove",h),document.removeEventListener("touchend",m),document.removeEventListener("touchcancel",m),window.removeEventListener("resize",x)}),[n,h,m,x]),(0,s.jsx)("div",{className:"resize-bar",onMouseDown:u,onTouchStart:u,onKeyDown:c,style:{top:"".concat(t,"px")},role:"slider","aria-label":"Resize plot height","aria-valuemin":50,"aria-valuemax":l,"aria-valuenow":t,tabIndex:0})};a(4884);let Y=e=>{let{scale:t,setScale:a}=e,[n,i]=(0,r.useState)(!1),l=(0,r.useRef)(null),o=e=>{n&&(e.preventDefault(),a(Math.min(Math.max(t+(l.current?(l.current-e.clientY)/100:0),.1),10)))},d=()=>{i(!1)};return(0,r.useEffect)(()=>(n&&(document.addEventListener("mousemove",o),document.addEventListener("mouseup",d)),()=>{document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",d)}),[n]),(0,s.jsx)("div",{className:"yScaler",onMouseDown:e=>{e.preventDefault(),i(!0),l.current=e.clientY},onMouseUp:d})},$=e=>{let{scale:t,setScale:a}=e,[n,i]=(0,r.useState)(!1),l=(0,r.useRef)(null),o=e=>{n&&(e.preventDefault(),a(Math.min(Math.max(t+(l.current?(l.current-e.clientX)/1e3:0),.1),2)))},d=()=>{i(!1)};return(0,r.useEffect)(()=>(n&&(document.addEventListener("mousemove",o),document.addEventListener("mouseup",d)),()=>{document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",d)}),[n]),(0,s.jsx)("div",{className:"xScaler",onMouseDown:e=>{e.preventDefault(),i(!0),l.current=e.clientX},onMouseUp:d})};function X(){let{progress:e,showLoading:t,downloading:a}=(0,v.on)((0,f.k)(e=>({progress:e.progress,showLoading:e.showLoading,downloading:e.downloading})));return t&&(0,s.jsxs)("div",{className:"loading-container",children:[(0,s.jsx)("div",{className:"loading",children:a?"Downloading":"Building"}),(0,s.jsx)("div",{className:"progress-bar",style:{width:"".concat(e,"%")}})]})}a(3787);let Z=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",[a,s]=(0,r.useState)(t);return(0,r.useEffect)(()=>{let r=()=>getComputedStyle(document.documentElement).getPropertyValue(e).trim(),n=()=>{let e=r();(e||!a)&&s(e||t)};n(),r()||setTimeout(n,100);let i=new MutationObserver(e=>{for(let t of e)"data-theme"===t.attributeName&&n()});return i.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>i.disconnect()},[e,t]),a};a(1465);let K=e=>{let{onClick:t}=e;return(0,s.jsxs)("div",{className:"lineplot-tab",onClick:t,children:[(0,s.jsx)("div",{className:"plottab-line"}),(0,s.jsx)("div",{className:"plottab-line"}),(0,s.jsx)("div",{className:"plottab-line"})]})};var Q=a(172);a(406);let H=()=>{let{selectTS:e,resetAnim:t,animate:a,setSelectTS:r,setResetAnim:n}=(0,v.Ws)((0,f.k)(e=>({selectTS:e.selectTS,resetAnim:e.resetAnim,animate:e.animate,setSelectTS:e.setSelectTS,setResetAnim:e.setResetAnim})));return(0,s.jsx)("div",{className:"selectTS",style:{display:a?"none":""},children:(0,s.jsxs)(h,{delayDuration:500,children:[(0,s.jsx)(m,{asChild:!0,children:(0,s.jsx)(o.$,{variant:"ghost",size:"icon",className:"size-10 cursor-pointer",onClick:()=>{n(!t),r(!e)},children:(0,s.jsx)(Q.Psu,{className:"size-6",style:{color:e?"gold":"grey",filter:e?"drop-shadow(0px 0px 10px gold)":""}})})}),(0,s.jsx)(x,{side:"right",align:"start",children:(0,s.jsx)("p",{style:{maxWidth:220},children:"While active, click the volume to view 1D transects through the given dimension."})})]})})};var J=a(3098),q=a(2135);a(6709);var ee=a(8804);let et=e=>{let{units:t,valueScales:a}=e,{colormap:n,variable:i}=(0,v.on)((0,f.k)(e=>({colormap:e.colormap,variable:e.variable}))),{cScale:l,cOffset:o,setCScale:d,setCOffset:c}=(0,v.Ws)((0,f.k)(e=>({cScale:e.cScale,cOffset:e.cOffset,setCScale:e.setCScale,setCOffset:e.setCOffset}))),u=(0,r.useRef)(null),h=(0,r.useRef)(!1),m=(0,r.useRef)({x:null,y:null}),[x,p]=(0,r.useState)(5),g=(0,r.useMemo)(()=>{let e=[],t=n.source.data.data;for(let a=0;a<t.length/4;a++){let s=4*a,r="rgba(".concat(t[s],", ").concat(t[s+1],", ").concat(t[s+2],", ").concat(t[s+3]," )");e.push(r)}return e},[n]),[j,b]=(0,r.useMemo)(()=>[(0,ee.mT)(0,100,x),(0,ee.mT)(a.minVal,a.maxVal,x)],[a,x]),y=e=>{if(!h.current)return;(null===m.current.x||null===m.current.y)&&(m.current.x=e.clientX,m.current.y=e.clientY);let t=m.current.x-e.clientX,a=m.current.y-e.clientY;c(o-t/100),d(l+a/100)},w=()=>{h.current=!1,m.current={x:null,y:null},document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",w)};return(0,r.useEffect)(()=>()=>{document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",w)},[]),(0,r.useEffect)(()=>{if(u.current){let e=u.current.getContext("2d");e&&g.forEach((t,a)=>{e.fillStyle=t,e.fillRect(2*a,0,2,24)})}},[g]),(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"colorbar",children:[Array.from({length:x}).map((e,t)=>(0,s.jsx)("p",{style:{left:"".concat(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return Math.max(Math.min(e,a),t)}((j[t]-50)*l+50+100*o),"%"),top:"100%",position:"absolute",transform:"translateX(-50%)",opacity:function(e){return e>100?1-(e-100)*6/100:e<0?1-6*Math.abs(e)/100:1}((j[t]-50)*l+50+100*o)},children:b[t].toFixed(2)},t)),(0,s.jsx)("canvas",{ref:u,width:512,height:24,onMouseDown:()=>{h.current=!0,document.addEventListener("mousemove",y),document.addEventListener("mouseup",w)}}),(0,s.jsx)("p",{className:"colorbar-title",style:{position:"absolute",top:"-24px",left:"50%",transform:"translateX(-50%)"},children:"".concat(i," [ ").concat(t," ]")}),(1!=l||0!=o)&&(0,s.jsx)(J.kmZ,{size:25,style:{position:"absolute",top:"-25px",cursor:"pointer"},onClick:()=>{d(1),c(0)}}),(0,s.jsxs)("div",{style:{position:"absolute",right:"0%",bottom:"100%",display:"flex",width:"10%",justifyContent:"space-around"},children:[(0,s.jsx)(q.iu5,{className:"cursor-pointer",onClick:()=>p(Math.max(x-1,2))}),(0,s.jsx)(q.OiG,{className:"cursor-pointer",onClick:()=>p(Math.min(x+1,10))})]})]})})};var ea=a(2105),es=a(970),er=a(489),en=a(6150);async function ei(e,t){var a;let s=e.length,r=[],n={};for(let t=0;t<s;t++){let a=e[t];if(".zarray"===a.name||".zattrs"===a.name){let e=a.webkitRelativePath,t=e.split("/");t.shift(),e=t.join("/"),r.push("/"+e)}}for(let e of r){let a=await t.get(e);n[e.slice(1)]=(0,en.eg)(a)}let i={};for(let[e,t]of Object.entries({metadata:n,zarr_consolidated_format:1}.metadata))i["/".concat(e)]=t;return{async get(e,a){if(i[e])return(0,en.kj)(i[e]);let s=await t.get(e,a);if((e.endsWith(".zarray")||e.endsWith(".zgroup")||e.endsWith(".zattrs")||e.endsWith("zarr.json"))&&s){let t=(0,en.eg)(s);i[e]=t}return s},getRange:null==(a=t.getRange)?void 0:a.bind(t),contents(){let e=[];for(let[t,a]of Object.entries(i)){let s=t.split("/"),r=s.pop(),n=s.join("/")||"/";".zarray"===r&&e.push({path:n,kind:"array"}),".zgroup"===r&&e.push({path:n,kind:"group"}),"zarr_format"in a&&3===a.zarr_format&&e.push({path:n,kind:a.node_type})}return e}}}let el=e=>{let{setShowLocal:t,setOpenVariables:a}=e,r=(0,v.SZ)(e=>e.setCurrentStore),n=async e=>{let s=e.target.files;if(!s||0===s.length)return;let n=new Map,i=s[0].webkitRelativePath.split("/")[0];for(let e=0;e<s.length;e++){let t=s[e],a=t.webkitRelativePath.substring(i.length+1);a&&n.set("/"+a,t.arrayBuffer())}let l={async get(e){let t=await n.get(e);return t?new Uint8Array(t):void 0}};try{let e=await ea.x(l);"contents"in e||(e=await ei(s,l)),es.h(e,{kind:"group"}).then(e=>{r(e)}),t(!1),a(!0)}catch(e){e instanceof Error?console.log("Error opening Zarr store: ".concat(e.message)):console.log("An unknown error occurred when opening the Zarr store.")}};return(0,s.jsx)("div",{children:(0,s.jsx)(er.p,{type:"file",id:"filepicker",className:"hover:drop-shadow-md hover:scale-[110%]",style:{width:"200px",cursor:"pointer"},directory:"",webkitdirectory:"true",onChange:n})})};a(5896),a(3316);var eo=a(9341);let ed=()=>{let[e,t]=(0,r.useState)(!1);return(0,s.jsxs)(eo.Zp,{className:"panel-container",children:[(0,s.jsx)(eR,{setOpenVariables:t}),(0,s.jsx)(ej,{openVariables:e,setOpenVariables:t}),(0,s.jsx)(ex,{}),(0,s.jsx)(eb,{}),(0,s.jsx)(eM,{}),(0,s.jsx)(eI,{}),(0,s.jsx)(e1,{})]})};var ec=a(789),eu=a(6438);let eh=["volume","point-cloud","sphere","flat"],em={volume:(0,s.jsx)(ec.rxA,{className:"size-8"}),"point-cloud":(0,s.jsx)(eu.n37,{className:"size-8"}),sphere:(0,s.jsx)(ec.sXn,{className:"size-8"}),flat:(0,s.jsx)(b.rtt,{className:"size-8"})},ex=()=>{let{plotType:e,setPlotType:t}=(0,v.Ws)((0,f.k)(e=>({plotType:e.plotType,setPlotType:e.setPlotType}))),a=(0,v.on)(e=>e.isFlat),[n,i]=(0,r.useState)("left");return(0,r.useEffect)(()=>{let e=()=>{i(window.innerWidth<768?"top":"left")};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,s.jsxs)(T,{children:[(0,s.jsx)(I,{asChild:!0,children:(0,s.jsx)("div",{children:(0,s.jsxs)(h,{delayDuration:500,children:[(0,s.jsx)(m,{asChild:!0,children:(0,s.jsx)("div",{children:(0,s.jsx)(o.$,{variant:"ghost",size:"icon",className:"cursor-pointer hover:scale-90 transition-transform duration-100 ease-out",tabIndex:0,"aria-label":"Select plot type",children:em[e]})})}),(0,s.jsx)(x,{side:"left",align:"start",className:"flex flex-col",children:(0,s.jsx)("span",{children:"Change plot type"})})]})})}),(0,s.jsx)(U,{side:n,className:"flex flex-col items-center min-w-[48px] max-w-[72px] w-[56px] p-2 mb-1",children:eh.map((r,n)=>n<2&&a?null:(0,s.jsx)(o.$,{variant:e===r?"default":"ghost",className:"mb-2 w-12 h-12 flex items-center cursor-pointer justify-center transform transition-transform duration-100 ease-out hover:scale-90",onClick:()=>{t(r)},"aria-label":"Select ".concat(r),children:em[r]},r))})]})};var ep=a(4354),eg=a(7302);function ef(e){let{className:t,orientation:a="horizontal",decorative:r=!0,...n}=e;return(0,s.jsx)(eg.b,{"data-slot":"separator",decorative:r,orientation:a,className:(0,c.cn)("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",t),...n})}var ev=a(1950);let ej=e=>{let{openVariables:t,setOpenVariables:a}=e,[n,i]=(0,r.useState)("left"),[l,d]=(0,r.useState)(!1),{variables:c,zMeta:u}=(0,v.on)((0,f.k)(e=>({variables:e.variables,zMeta:e.zMeta}))),[p,g]=(0,r.useState)(null),[j,b]=(0,r.useState)(null),[y,w]=(0,r.useState)(null),[A,N]=(0,r.useState)(""),S=(0,r.useMemo)(()=>{let e=A.toLowerCase().trim();return e?c.filter(t=>t.toLowerCase().includes(e)):c},[A,c]);return(0,r.useEffect)(()=>{c&&u&&j&&w(u.find(e=>e.name===j))},[j,c]),(0,r.useEffect)(()=>{let e=()=>{i(window.innerWidth<768?"top":"left")};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,s.jsxs)(T,{open:t,onOpenChange:a,children:[(0,s.jsx)(I,{asChild:!0,children:(0,s.jsx)("div",{children:(0,s.jsxs)(h,{delayDuration:500,children:[(0,s.jsx)(m,{asChild:!0,children:(0,s.jsx)("div",{children:(0,s.jsx)(o.$,{variant:"ghost",size:"icon",className:"cursor-pointer hover:scale-90 transition-transform duration-100 ease-out",tabIndex:0,"aria-label":"Select variable",children:(0,s.jsx)(ep.T45,{className:"size-8"})})})}),(0,s.jsx)(x,{side:"left",align:"start",children:(0,s.jsx)("span",{children:"Select Variable"})})]})})}),(0,s.jsxs)(U,{side:n,className:"max-h-[50vh] overflow-hidden flex flex-col",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-4 justify-center max-w-[240px] md:max-w-sm mx-auto flex-shrink-0",children:[(0,s.jsx)(er.p,{placeholder:"Search variable...",value:A,onChange:e=>N(e.target.value),className:"flex-1"}),(0,s.jsx)(o.$,{variant:"secondary",onClick:()=>N(""),children:"Clear"})]}),(0,s.jsx)("div",{className:"overflow-y-auto flex-1 [&::-webkit-scrollbar]:hidden",children:S.map((e,t)=>(0,s.jsxs)(r.Fragment,{children:[(0,s.jsx)("div",{className:"cursor-pointer pl-2 py-1 text-sm hover:bg-muted rounded ",style:{background:t==p?"#d6d6d6ff":""},onClick:()=>{g(t),b(e),d(!0)},children:e}),t!=S.length-1&&(0,s.jsx)(ef,{className:"my-1"})]},t))}),l&&y&&(0,s.jsx)("div",{className:"meta-options w-[300px]",children:(0,s.jsx)(ev.A,{meta:y,setShowMeta:d})})]})]})},eb=()=>{let[e,t]=(0,r.useState)("Spectral"),[a,i]=(0,r.useState)(!1),[l,d]=(0,r.useState)(null),{colormap:c,setColormap:u}=(0,v.on)((0,f.k)(e=>({setColormap:e.setColormap,colormap:e.colormap}))),[p,g]=(0,r.useState)("left");return(0,r.useEffect)(()=>{u((0,j.v6)(c,"Default"===(l||e)?"Spectral":l||e,1,"#000000",0,a))},[e,a,l]),(0,r.useEffect)(()=>{let e=()=>{g(window.innerWidth<768?"top":"left")};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,s.jsx)("div",{className:"relative",children:(0,s.jsxs)(T,{children:[(0,s.jsx)(I,{asChild:!0,children:(0,s.jsx)("div",{children:(0,s.jsxs)(h,{delayDuration:500,children:[(0,s.jsx)(m,{asChild:!0,children:(0,s.jsx)("div",{children:(0,s.jsx)(o.$,{size:"icon",className:"cursor-pointer hover:scale-90 transition-transform duration-100 ease-out rounded-full",style:{backgroundImage:"url(./colormap_icons/".concat(e,".webp)"),backgroundSize:"100%",transform:a?"scaleX(-1)":"",width:"32px",height:"32px"}})})}),(0,s.jsx)(x,{side:"left",align:"start",children:(0,s.jsx)("span",{children:"Change Colormap"})})]})})}),(0,s.jsxs)(U,{side:p,className:"colormaps",children:[j.dl.map(e=>(0,s.jsx)(n.default,{className:"cmap ".concat(a?"flipped":""),src:"./colormap_icons/".concat(e,".webp"),alt:e,height:100,width:256,onMouseEnter:()=>d(e),onMouseLeave:()=>d(null),onClick:()=>{t(e),d(null)}},e)),(0,s.jsx)(b.QkK,{className:"flipper",style:{position:"absolute",top:"-2rem",right:"80%",bottom:"90%",height:"50px",width:"50px",cursor:"pointer",transform:"".concat(a?"rotate(270deg)":"rotate(90deg)"),transition:".25s"},onClick:()=>i(e=>!e)})]})]})})};var ey=a(3656),ew=a(655),eA=a(1397);let eN=r.memo(function(e){var t,a;let{range:r,setRange:n,valueScales:i,min:l=-1,array:o}=e,{minVal:d,maxVal:c}=i;d=Number(d),c=Number(c);let[u,h]=[l,1];if(o){let e=o.length,t=Math.round((r[0]-l)/(1-l)*e),a=Math.round((r[1]-l)/(1-l)*e);u=o[t],h=o[a-1]}else u=Math.round(100*(r[0]*(c-(t=d))+t))/100,h=Math.round(100*(r[1]*(c-(a=d))+a))/100;return(0,s.jsxs)("div",{className:"w-full flex justify-between flex-col",children:[(0,s.jsx)(ew.R,{min:l,max:1,value:r,step:.01,onValueChange:e=>n(e)}),(0,s.jsxs)("div",{className:"flex justify-between text-xs mt-2 mb-2",children:[(0,s.jsxs)("span",{children:["Min: ",u]}),(0,s.jsxs)("span",{children:["Max: ",h]})]})]})}),eS=()=>{let{valueRange:e,xRange:t,yRange:a,zRange:r,setValueRange:n,setXRange:i,setYRange:l,setZRange:o}=(0,v.Ws)((0,f.k)(e=>({valueRange:e.valueRange,xRange:e.xRange,yRange:e.yRange,zRange:e.zRange,setValueRange:e.setValueRange,setXRange:e.setXRange,setYRange:e.setYRange,setZRange:e.setZRange}))),d={minVal:0,maxVal:0},{valueScales:c,dimArrays:u}=(0,v.on)((0,f.k)(e=>({valueScales:e.valueScales,dimArrays:e.dimArrays,isFlat:e.isFlat})));return(0,s.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,s.jsxs)("div",{className:"flex flex-col items-center w-[200px] gap-4",children:[(0,s.jsx)("b",{children:"Value Cropping"}),(0,s.jsx)(eN,{range:e,setRange:n,valueScales:c,min:0})]}),(0,s.jsxs)("div",{className:"flex flex-col items-center w-[200px] gap-4 -mt-4",children:[(0,s.jsx)("b",{children:"Spatial Cropping"}),(0,s.jsx)(eN,{range:t,setRange:i,valueScales:d,array:u[2]}),(0,s.jsx)(eN,{range:a,setRange:l,valueScales:d,array:u[1]}),(0,s.jsx)(eN,{range:r,setRange:o,valueScales:d,array:u[0]})]})]})},eC=()=>{let{useFragOpt:e,quality:t,transparency:a,nanTransparency:r,nanColor:n,setQuality:i,setUseFragOpt:l,setTransparency:d,setNanTransparency:c,setNanColor:u}=(0,v.Ws)((0,f.k)(e=>({useFragOpt:e.useFragOpt,quality:e.quality,transparency:e.transparency,nanTransparency:e.nanTransparency,nanColor:e.nanColor,setQuality:e.setQuality,setUseFragOpt:e.setUseFragOpt,setTransparency:e.setTransparency,setNanTransparency:e.setNanTransparency,setNanColor:e.setNanColor})));return(0,s.jsxs)("div",{className:"grid gap-y-[5px] items-center w-50 text-center",children:[(0,s.jsx)("b",{children:"Quality"}),(0,s.jsxs)("div",{className:"w-full flex justify-between text-xs items-center gap-2",children:["Worse",(0,s.jsx)(ey.A,{min:50,max:1e3,step:50,value:[t],className:"flex-1 mb-2",onValueChange:e=>i(e[0])}),"Better"]}),(0,s.jsx)(o.$,{variant:"pink",size:"sm",className:"w-[100%] cursor-[pointer] mb-2 mt-2",onClick:()=>l(!e),children:e?"Revert to Normal":"Use Optimized Shader"}),(0,s.jsx)("b",{children:"Transparency"}),(0,s.jsx)(ey.A,{min:0,max:10,step:.2,value:[a],className:"w-full mb-2",onValueChange:e=>d(e[0])})]})},ek=()=>{let{setPointSize:e,setScaleIntensity:t,setScalePoints:a,setTimeScale:r}=(0,v.Ws)((0,f.k)(e=>({setPointSize:e.setPointSize,setScaleIntensity:e.setScaleIntensity,setScalePoints:e.setScalePoints,setTimeScale:e.setTimeScale}))),{scalePoints:n,scaleIntensity:i,pointSize:l,timeScale:d}=(0,v.Ws)((0,f.k)(e=>({scalePoints:e.scalePoints,scaleIntensity:e.scaleIntensity,pointSize:e.pointSize,timeScale:e.timeScale})));return(0,s.jsxs)("div",{className:"flex-column items-center w-50 text-center",children:[(0,s.jsx)("b",{children:"Point Size"}),(0,s.jsx)(ey.A,{className:"w-full mb-4 mt-2",min:1,max:50,step:1,value:[l],onValueChange:t=>e(t[0])}),(0,s.jsx)(o.$,{variant:"pink",size:"sm",className:"w-[100%] cursor-[pointer] mb-2 mt-2",onClick:()=>a(!n),children:n?"Remove Scaling":"Scale By Value"}),n&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("b",{children:"Scale Intensity"}),(0,s.jsx)(ey.A,{className:"w-full mb-2 mt-2",min:1,max:100,step:1,value:[i],onValueChange:e=>t(e[0])})]}),(0,s.jsx)("b",{children:"Resize Time Dimension"}),(0,s.jsx)(ey.A,{className:"w-full mb-2 mt-2",min:.05,max:5,step:.05,value:[d],onValueChange:e=>r(e[0])})]})},ez=()=>{let{lonExtent:e,latExtent:t,lonResolution:a,latResolution:r,setLonExtent:n,setLatExtent:i,setLonResolution:l,setLatResolution:o}=(0,v.Ws)((0,f.k)(e=>({lonExtent:e.lonExtent,latExtent:e.latExtent,lonResolution:e.lonResolution,latResolution:e.latResolution,setLonExtent:e.setLonExtent,setLatExtent:e.setLatExtent,setLonResolution:e.setLonResolution,setLatResolution:e.setLatResolution})));return(0,s.jsxs)("div",{className:"grid gap-2 mb-4 justify-items-center ",children:[(0,s.jsx)("h1",{children:"Spatial Extent"}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsxs)("div",{className:"flex-col justify-items-center",children:[(0,s.jsx)("h2",{children:"Min Lon"}),(0,s.jsx)(er.p,{value:e[0],onChange:t=>n([parseFloat(t.target.value),e[1]]),type:"number"})]}),(0,s.jsxs)("div",{className:"flex-col justify-items-center",children:[(0,s.jsx)("h2",{children:"Max Lon"}),(0,s.jsx)(er.p,{value:e[1],onChange:t=>n([e[0],parseFloat(t.target.value)]),type:"number"})]})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsxs)("div",{className:"flex-col justify-items-center",children:[(0,s.jsx)("h2",{children:"Min Lat"}),(0,s.jsx)(er.p,{value:t[0],onChange:e=>i([parseFloat(e.target.value),t[1]]),type:"number"})]}),(0,s.jsxs)("div",{className:"flex-col justify-items-center",children:[(0,s.jsx)("h2",{children:"Min Lat"}),(0,s.jsx)(er.p,{value:t[1],onChange:e=>i([t[0],parseFloat(e.target.value)]),type:"number"})]})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsxs)("div",{className:"flex-col justify-items-center",children:[(0,s.jsx)("h2",{children:"Lon Resolution"}),(0,s.jsx)(er.p,{value:a,onChange:e=>l(parseFloat(e.target.value)),type:"number"})]}),(0,s.jsxs)("div",{className:"flex-col justify-items-center",children:[(0,s.jsx)("h2",{children:"Lat Resolution"}),(0,s.jsx)(er.p,{value:r,onChange:e=>o(parseFloat(e.target.value)),type:"number"})]})]})]})},eD=()=>{let{showBorders:e,borderColor:t,nanColor:a,nanTransparency:r,setShowBorders:n,setBorderColor:i,setNanColor:l,setNanTransparency:d}=(0,v.Ws)((0,f.k)(e=>({showBorders:e.showBorders,borderColor:e.borderColor,nanColor:e.nanColor,nanTransparency:e.nanTransparency,setShowBorders:e.setShowBorders,setBorderColor:e.setBorderColor,setNanColor:e.setNanColor,setNanTransparency:e.setNanTransparency})));return(0,s.jsxs)("div",{className:"grid gap-y-[5px] items-center w-50 text-center",children:[(0,s.jsx)("b",{children:"NaN Transparency"}),(0,s.jsx)(ey.A,{min:0,max:1,step:.05,value:[r],className:"w-full mb-2",onValueChange:e=>d(e[0])}),(0,s.jsx)("b",{children:"NaN Color"}),(0,s.jsx)("input",{type:"color",className:"w-[100%] cursor-pointer",value:a,onChange:e=>l(e.target.value)}),(0,s.jsx)(o.$,{variant:"pink",size:"sm",className:"w-[100%] cursor-[pointer] mb-2 mt-2",onClick:()=>n(!e),children:e?"Hide Borders":"Show Borders"}),e&&(0,s.jsxs)("div",{children:[(0,s.jsx)("b",{children:"Border Color"}),(0,s.jsx)("input",{type:"color",className:"w-[100%] cursor-pointer",value:t,onChange:e=>i(e.target.value)})]}),(0,s.jsxs)(T,{children:[(0,s.jsx)(I,{asChild:!0,children:(0,s.jsx)(o.$,{variant:"pink",size:"sm",className:"w-[100%] cursor-pointer mb-2",children:"Adjust Extent"})}),(0,s.jsx)(U,{className:"overflow-y-auto p-2 w-[280px] max-h-[70vh]",children:(0,s.jsx)(ez,{})})]})]})},eM=()=>{let[e,t]=(0,r.useState)(!1),{plotOn:a}=(0,v.on)((0,f.k)(e=>({plotOn:e.plotOn}))),{plotType:n}=(0,v.Ws)((0,f.k)(e=>({plotType:e.plotType})));return(0,r.useEffect)(()=>{let e=()=>{t(window.innerWidth<=768)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,s.jsx)(s.Fragment,{children:a?(0,s.jsxs)(T,{children:[(0,s.jsx)(I,{asChild:!0,children:(0,s.jsx)("div",{children:(0,s.jsxs)(h,{delayDuration:500,children:[(0,s.jsx)(m,{asChild:!0,children:(0,s.jsx)("div",{children:(0,s.jsx)(o.$,{variant:"ghost",size:"icon",className:"size-10 cursor-pointer hover:scale-90 transition-transform duration-100 ease-out",children:(0,s.jsx)(eA.xPd,{className:"size-8"})})})}),(0,s.jsx)(x,{side:"left",align:"start",children:(0,s.jsx)("span",{children:"Plot Settings"})})]})})}),(0,s.jsxs)(U,{side:e?"top":"left",className:"overflow-y-auto w-[240px] mt-2 mr-1 ".concat(e?"max-h-[80vh] mb-1":"max-h-[70vh]"),children:["volume"===n&&(0,s.jsx)(eC,{}),"point-cloud"===n&&(0,s.jsx)(ek,{}),("volume"===n||"point-cloud"===n)&&(0,s.jsx)(eS,{}),"point-cloud"!=n&&(0,s.jsx)(eD,{})]})]}):(0,s.jsx)(o.$,{variant:"ghost",size:"icon",className:"size-10",disabled:!0,style:{color:"var(--text-disabled)",transform:"scale(1)"},children:(0,s.jsx)(eA.xPd,{className:"size-8"})})})},eE={ESDC:"https://s3.bgc-jena.mpg.de:9000/esdl-esdc-v3.0.2/esdc-16d-2.5deg-46x72x1440-3.0.2.zarr",SEASFIRE:"https://s3.bgc-jena.mpg.de:9000/misc/seasfire_rechunked.zarr"},eR=e=>{let{setOpenVariables:t}=e,[a,n]=(0,r.useState)(!1),[i,l]=(0,r.useState)(!1),[d,c]=(0,r.useState)("left"),[u,p]=(0,r.useState)("ESDC"),{setInitStore:g,setVariable:j}=(0,v.on)((0,f.k)(e=>({setInitStore:e.setInitStore,setVariable:e.setVariable})));return(0,r.useEffect)(()=>{let e=()=>{c(window.innerWidth<768?"top":"left")};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,s.jsxs)(T,{children:[(0,s.jsx)(I,{asChild:!0,children:(0,s.jsx)("div",{children:(0,s.jsxs)(h,{delayDuration:500,children:[(0,s.jsx)(m,{asChild:!0,children:(0,s.jsx)("div",{children:(0,s.jsx)(o.$,{tabIndex:0,variant:"ghost",size:"icon",className:"cursor-pointer hover:scale-90 transition-transform duration-100 ease-out","aria-label":"Select dataset",children:(0,s.jsx)(ep.Gn0,{className:"size-8"})})})}),(0,s.jsx)(x,{side:"left",align:"start",className:"flex flex-col",children:(0,s.jsx)("span",{children:"Select datase"})})]})})}),(0,s.jsxs)(U,{side:d,className:"flex flex-col items-start max-w-[220px] p-3 gap-3 w-auto mb-1",children:[(0,s.jsx)("p",{children:"Curated"}),(0,s.jsx)(o.$,{variant:"ESDC"===u?"default":"ghost",className:"cursor-pointer mt-[-20px]",onClick:()=>{n(!1),l(!1),p("ESDC"),g(eE.ESDC),t(!0)},children:"ESDC"}),(0,s.jsx)(o.$,{variant:"seasfire"===u?"default":"ghost",className:"cursor-pointer",onClick:()=>{n(!1),l(!1),p("seasfire"),g(eE.SEASFIRE),t(!0)},children:"Seasfire"}),(0,s.jsx)("div",{className:"w-full h-px bg-gray-300"}),(0,s.jsx)("p",{children:"Personal"}),(0,s.jsxs)("div",{children:[(0,s.jsx)(o.$,{variant:"remote"===u?"default":"ghost",className:"cursor-pointer mt-[-20px]",onClick:()=>{l(!1),p("remote"),n(e=>!e)},children:"Remote"}),a&&(0,s.jsxs)("form",{className:"mt-2 flex items-center gap-2",onSubmit:e=>{e.preventDefault(),g(e.currentTarget.elements[0].value),t(!0)},children:[(0,s.jsx)(er.p,{className:"w-[100px]",placeholder:"Store URL"}),(0,s.jsx)(o.$,{type:"submit",variant:"outline",children:"Fetch"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(o.$,{variant:"local"===u?"default":"ghost",className:"cursor-pointer",onClick:()=>{l(e=>!e),n(!1),p("local")},children:"Local"}),i&&(0,s.jsx)("div",{className:"mt-2",children:(0,s.jsx)(el,{setShowLocal:l,setOpenVariables:t})})]})]})]})};var eL=a(9259);let eF=[1,2,4,6,8,12,16,24,36,48,54,60,80,120],eT=e=>{let{visible:t}=e,{animate:a,animProg:n,setAnimate:i,setAnimProg:l}=(0,v.Ws)((0,f.k)(e=>({animate:e.animate,animProg:e.animProg,setAnimate:e.setAnimate,setAnimProg:e.setAnimProg}))),{dimArrays:d,dimNames:c,dimUnits:u}=(0,v.on)((0,f.k)(e=>({dimArrays:e.dimArrays,dimNames:e.dimNames,dimUnits:e.dimUnits}))),h=(0,r.useMemo)(()=>d[0].length,[d]),m=(0,r.useRef)(null),x=(0,r.useRef)(0),[p,g]=(0,r.useState)(5),j=(0,r.useRef)(5);(0,r.useEffect)(()=>{if(a){j.current!=p&&m.current&&(clearInterval(m.current),m.current=null),j.current=p;let e=1e3/eF[p];x.current=Math.round(n*h),m.current=setInterval(()=>{x.current+=1,l((x.current+1)%h/h)},e)}else m.current&&(clearInterval(m.current),m.current=null);return()=>{m.current&&clearInterval(m.current)}},[a,p]);let b=(0,ee.SB)(d[0][Math.min(Math.round(n*h),h-1)],u[0],!0),y=(0,ee.SB)(d[0][0],u[0],!0),w=(0,ee.SB)(d[0][h-1],u[0],!0);return(0,s.jsx)("div",{style:{display:t?"":"none"},children:(0,s.jsx)(eo.Zp,{className:"play-interface py-1",children:(0,s.jsxs)(eo.Wu,{className:"flex flex-col gap-1 w-full h-full px-1 py-1",children:[(0,s.jsx)("div",{className:"text-xs sm:text-sm text-center",children:b}),(0,s.jsxs)("div",{className:"flex items-center gap-1 w-full",children:[(0,s.jsx)("span",{className:"text-xs",children:y}),(0,s.jsx)(ey.A,{value:[Math.round(n*h)],min:0,max:h,step:1,className:"flex-1",onValueChange:e=>{l((Array.isArray(e)?e[0]:0)/h)}}),(0,s.jsx)("span",{className:"text-xs",children:w})]}),(0,s.jsxs)("div",{className:"grid grid-cols-3 items-center w-full",children:[(0,s.jsx)("div",{className:"justify-self-start",children:(0,s.jsx)(o.$,{variant:"secondary",size:"sm",className:"cursor-pointer",disabled:p<=0,onClick:()=>g(e=>Math.max(0,e-1)),children:"Slower"})}),(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center gap-1 w-full",children:[(0,s.jsx)(o.$,{variant:"default",size:"sm",className:"cursor-pointer",onClick:()=>i(!a),"aria-label":a?"Pause":"Play",title:a?"Pause":"Play",children:a?(0,s.jsx)(eL.kwt,{}):(0,s.jsx)(eL.gSK,{})}),(0,s.jsxs)("div",{className:"text-[11px] leading-none",children:[(0,s.jsx)("b",{children:eF[p]})," FPS"]})]}),(0,s.jsx)("div",{className:"justify-self-end",children:(0,s.jsx)(o.$,{variant:"secondary",size:"sm",className:"cursor-pointer",disabled:p>=eF.length-1,onClick:()=>g(e=>Math.min(eF.length-1,e+1)),children:"Faster"})})]})]})})})},eI=()=>{let{isFlat:e,plotOn:t}=(0,v.on)((0,f.k)(e=>({isFlat:e.isFlat,plotOn:e.plotOn}))),[a,n]=(0,r.useState)(!1),i=(0,r.useMemo)(()=>!e&&t,[e,t]),l=!e&&t;return(0,s.jsxs)("div",{children:[l?(0,s.jsxs)(h,{delayDuration:500,children:[(0,s.jsx)(m,{asChild:!0,children:(0,s.jsx)("div",{children:(0,s.jsx)(o.$,{variant:"ghost",size:"icon",className:"size-10 cursor-pointer hover:scale-90 transition-transform duration-100 ease-out",onClick:()=>{i&&n(e=>!e)},children:(0,s.jsx)(ec.BXV,{className:"size-8"})})})}),(0,s.jsx)(x,{side:"left",align:"start",className:"flex flex-col",children:(0,s.jsx)("span",{children:"Animation controls"})})]}):(0,s.jsx)(o.$,{variant:"ghost",size:"icon",className:"size-10",disabled:!0,style:{color:"var(--text-disabled)",transform:"scale(1)"},children:(0,s.jsx)(ec.BXV,{className:"size-8"})}),(0,s.jsx)(eT,{visible:a})]})};a(4918);let eU=()=>{let{zarrFetch:e,cors:t,oom:a,invalidURL:r,setZarrFetch:n,setCors:i,setOom:l,setInvalidURL:d}=(0,v.$U)((0,f.k)(e=>({zarrFetch:e.zarrFetch,cors:e.cors,oom:e.oom,invalidURL:e.invalidURL,setZarrFetch:e.setZarrFetch,setCors:e.setCors,setOom:e.setOom,setInvalidURL:e.setInvalidURL}))),c=[e,t,a,r],u=[n,i,l,d],h=c.includes(!0);return(0,s.jsx)(L.lG,{open:h,children:(0,s.jsxs)(L.Cf,{children:[(0,s.jsx)(L.L3,{className:"text-center text-lg font-semibold",children:"Error"}),(0,s.jsxs)("div",{className:"error-message",children:[e&&(0,s.jsxs)("div",{children:["Failed to fetch data from the store.",(0,s.jsx)("br",{}),"If this store has worked beforehand then this is likely a temporary issue. Try again"]}),t&&(0,s.jsxs)("div",{children:["This dataset is hosted on a different website and is likely blocked for security reasons. This is called a ",(0,s.jsx)("b",{children:"CORS"})," issue (Cross-Origin Resource Sharing). However, for security reasons the exact reason is occluded. A potential issue is that the server hosting the dataset needs to add headers that tell your browser ",(0,s.jsx)("b",{children:"this is safe."}),"If you control the server, you can add those CORS headers. Otherwise, reach out to whoever manages the data and ask them to enable CORS for browser access."]}),a&&(0,s.jsxs)("div",{children:["Whoa there! ",(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),"If you're reading this you've just tried to plot a ridiculous amount of points. Your browser ran out of memory allocating the arrays necessary to dictate their positions in space. Stick to the volumetric view if you need to view the entire dataset."]}),r&&(0,s.jsx)("div",{children:"This address appears invalid."})]}),(0,s.jsx)("div",{className:"flex justify-center mt-[10px]",children:(0,s.jsx)(o.$,{variant:"pink",className:"cursor-pointer hover:scale-[1.1]",onClick:e=>(()=>{for(let e=0;e<c.length;e++)c[e]&&(0,u[e])(!1)})(),children:"Okay"})})]})})};var eB=a(5048),eV=a(423),e_=a(9588),eO=a(6966),eP=a(5605);function eW(e){let{...t}=e;return(0,s.jsx)(eV.bL,{"data-slot":"select",...t})}function eG(e){let{...t}=e;return(0,s.jsx)(eV.YJ,{"data-slot":"select-group",...t})}function eY(e){let{...t}=e;return(0,s.jsx)(eV.WT,{"data-slot":"select-value",...t})}function e$(e){let{className:t,size:a="default",children:r,...n}=e;return(0,s.jsxs)(eV.l9,{"data-slot":"select-trigger","data-size":a,className:(0,c.cn)("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...n,children:[r,(0,s.jsx)(eV.In,{asChild:!0,children:(0,s.jsx)(e_.A,{className:"size-4 opacity-50"})})]})}function eX(e){let{className:t,children:a,position:r="popper",...n}=e;return(0,s.jsx)(eV.ZL,{children:(0,s.jsxs)(eV.UC,{"data-slot":"select-content",className:(0,c.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===r&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[(0,s.jsx)(eQ,{}),(0,s.jsx)(eV.LM,{className:(0,c.cn)("p-1","popper"===r&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:a}),(0,s.jsx)(eH,{})]})})}function eZ(e){let{className:t,...a}=e;return(0,s.jsx)(eV.JU,{"data-slot":"select-label",className:(0,c.cn)("text-muted-foreground px-2 py-1.5 text-xs",t),...a})}function eK(e){let{className:t,children:a,...r}=e;return(0,s.jsxs)(eV.q7,{"data-slot":"select-item",className:(0,c.cn)("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...r,children:[(0,s.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,s.jsx)(eV.VF,{children:(0,s.jsx)(eO.A,{className:"size-4"})})}),(0,s.jsx)(eV.p4,{children:a})]})}function eQ(e){let{className:t,...a}=e;return(0,s.jsx)(eV.PP,{"data-slot":"select-scroll-up-button",className:(0,c.cn)("flex cursor-default items-center justify-center py-1",t),...a,children:(0,s.jsx)(eP.A,{className:"size-4"})})}function eH(e){let{className:t,...a}=e;return(0,s.jsx)(eV.wn,{"data-slot":"select-scroll-down-button",className:(0,c.cn)("flex cursor-default items-center justify-center py-1",t),...a,children:(0,s.jsx)(e_.A,{className:"size-4"})})}let eJ=["Mean","Min","Max","StDev","CUMSUM","LinearSlope"],eq=["Mean","Min","Max","StDev","CUMSUM3D"],e0=(0,s.jsxs)("div",{className:"m-0 p-5 font-sans flex-column justify-center items-center",children:[(0,s.jsx)("span",{className:"text-5xl mb-4 block self-center",children:"⚠️"}),(0,s.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"WebGPU Not Available"}),(0,s.jsx)("p",{className:"text-base leading-relaxed mb-1 opacity-95",children:"WebGPU is not supported or enabled in your current browser. This feature is required for GPU-accelerated computing."}),(0,s.jsxs)("div",{className:"bg-white bg-opacity-15 rounded-xl border border-white border-opacity-20",children:[(0,s.jsx)("h3",{className:"m-0 mb-4 text-lg font-semibold",children:"Try These Solutions:"}),(0,s.jsxs)("ul",{className:"suggestion-list",children:[(0,s.jsx)("li",{children:"Switch to a Chrome-based browser (Chrome, Edge, Brave)"}),(0,s.jsx)("li",{children:"Use Safari on macOS (version 14.1 or later)"}),(0,s.jsx)("li",{children:"Enable WebGPU in your browser's experimental features"}),(0,s.jsx)("li",{children:"Update your browser to the latest version"})]})]})]}),e1=()=>{let{plotOn:e,variable:t}=(0,v.on)((0,f.k)(e=>({plotOn:e.plotOn,variable:e.variable}))),{execute:a,operation:n,useTwo:i,kernelSize:l,kernelDepth:d,kernelOperation:c,axis:u,variable2:p,analysisMode:g,reverseDirection:j,setExecute:b,setAxis:y,setOperation:w,setUseTwo:A,setVariable2:N,setKernelSize:S,setKernelDepth:C,setKernelOperation:k,setAnalysisMode:z,setReverseDirection:D}=(0,v.r2)((0,f.k)(e=>({execute:e.execute,operation:e.operation,useTwo:e.useTwo,kernelSize:e.kernelSize,kernelDepth:e.kernelDepth,kernelOperation:e.kernelOperation,axis:e.axis,variable2:e.variable2,analysisMode:e.analysisMode,reverseDirection:e.reverseDirection,setExecute:e.setExecute,setAxis:e.setAxis,setOperation:e.setOperation,setUseTwo:e.setUseTwo,setVariable2:e.setVariable2,setKernelSize:e.setKernelSize,setKernelDepth:e.setKernelDepth,setKernelOperation:e.setKernelOperation,setAnalysisMode:e.setAnalysisMode,setReverseDirection:e.setReverseDirection}))),{variables:M,dimNames:E}=(0,v.on)((0,f.k)(e=>({variables:e.variables,dimNames:e.dimNames}))),{reFetch:R,setReFetch:L}=(0,v.SZ)((0,f.k)(e=>({reFetch:e.reFetch,setReFetch:e.setReFetch}))),[F,B]=(0,r.useState)(!1);(0,r.useEffect)(()=>{(async()=>{if(!navigator.gpu)return B(!0);try{await navigator.gpu.requestAdapter(),B(!1)}catch(e){B(!0)}})()},[e]);let[V,_]=(0,r.useState)("left");function O(e){let t=parseInt(e);return t%2==0?Math.max(1,t-1):t}return(0,r.useEffect)(()=>{let e=()=>{_(window.innerWidth<768?"top":"left")};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,s.jsx)(s.Fragment,{children:e?(0,s.jsxs)(T,{children:[(0,s.jsx)(I,{asChild:!0,children:(0,s.jsx)("div",{children:(0,s.jsxs)(h,{delayDuration:500,children:[(0,s.jsx)(m,{asChild:!0,children:(0,s.jsx)("div",{children:(0,s.jsx)(o.$,{variant:"ghost",size:"icon",className:"size-10 cursor-pointer hover:scale-90 transition-transform duration-100 ease-out",children:(0,s.jsx)(ec.x6X,{className:"size-8"})})})}),(0,s.jsx)(x,{side:"left",align:"start",className:"flex flex-col",children:(0,s.jsx)("div",{children:"Apply operations"})})]})})}),(0,s.jsx)(U,{side:V,className:"analysis-info select-none",children:F?e0:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.$,{className:"cursor-pointer active:scale-[0.95]",onClick:()=>{A(!i),w("Default")},children:i?"Use One \n Variable":"Use Two Variables"}),(0,s.jsx)("table",{style:{textAlign:"right"},children:(0,s.jsxs)("tbody",{children:[(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Current Variable"}),(0,s.jsx)("td",{className:"text-center w-[100%] align-middle justify-center content-center",children:(0,s.jsxs)("button",{className:"rounded-[6px] self-center w-[80%] mx-auto relative border border-gray-150 py-[5px] ".concat(g?"hover:scale-[0.95]":""," transition-[0.2s]"),style:{cursor:g?"pointer":"",background:g?"#b6d1ddff":"#f8f8f8"},disabled:!g,onClick:e=>{L(!R),z(!1)},children:[g&&(0,s.jsx)(eB.fc4,{size:20,style:{position:"absolute",left:"0%",top:"10%"}}),t]})})]}),i&&(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Second Variable"}),(0,s.jsx)("td",{children:(0,s.jsxs)(eW,{onValueChange:N,children:[(0,s.jsx)(e$,{style:{width:"175px",marginLeft:"10px"},children:(0,s.jsx)(eY,{placeholder:"Default"==p?"Select...":p})}),(0,s.jsx)(eX,{children:M.map((e,a)=>e==t?null:(0,s.jsx)(eK,{value:e,children:e},a))})]})})]})}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Operation"}),!i&&(0,s.jsx)("td",{children:(0,s.jsxs)(eW,{onValueChange:w,children:[(0,s.jsx)(e$,{style:{width:"175px",marginLeft:"10px"},children:(0,s.jsx)(eY,{placeholder:"Default"===n?"Select...":n})}),(0,s.jsxs)(eX,{children:[(0,s.jsxs)(eG,{children:[(0,s.jsx)(eZ,{children:"Dimension Reduction"}),eJ.map((e,t)=>(0,s.jsx)(eK,{value:e,children:e},t))]}),(0,s.jsxs)(eG,{children:[(0,s.jsx)(eZ,{children:"Three Dimensional"}),(0,s.jsx)(eK,{value:"Convolution",children:"Convolution"}),(0,s.jsx)(eK,{value:"CUMSUM3D",children:"CUMSUM"})]})]})]})}),i&&(0,s.jsx)("td",{children:(0,s.jsxs)(eW,{onValueChange:w,children:[(0,s.jsx)(e$,{style:{width:"175px",marginLeft:"10px"},children:(0,s.jsx)(eY,{placeholder:"Default"===n?"Select...":n})}),(0,s.jsxs)(eX,{children:[(0,s.jsxs)(eG,{children:[(0,s.jsx)(eZ,{children:"Dimension Reduction"}),(0,s.jsx)(eK,{value:"Correlation2D",children:"Correlation"}),(0,s.jsx)(eK,{value:"TwoVarLinearSlope2D",children:"Linear Slope"}),(0,s.jsx)(eK,{value:"Covariance2D",children:"Covariance"})]}),(0,s.jsxs)(eG,{children:[(0,s.jsx)(eZ,{children:"Three Dimensional"}),(0,s.jsx)(eK,{value:"Correlation3D",children:"Correlation"}),(0,s.jsx)(eK,{value:"TwoVarLinearSlope3D",children:"Linear Slope"}),(0,s.jsx)(eK,{value:"Covariance3D",children:"Covariance"})]})]})]})})]}),!["Convolution","Correlation3D","Default","Covariance3D","TwoVarLinearSlope3D"].includes(n)&&(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Axis"}),(0,s.jsxs)("td",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[(0,s.jsxs)(eW,{onValueChange:e=>y(parseInt(e)),children:[(0,s.jsx)(e$,{style:{width:["CUMSUM3D","LinearSlope"].includes(n)?"50%":"175px",marginLeft:"10px"},children:(0,s.jsx)(eY,{placeholder:E[u]})}),(0,s.jsx)(eX,{children:E.map((e,t)=>(0,s.jsx)(eK,{value:String(t),children:e},t))})]}),["CUMSUM3D"].includes(n)&&(0,s.jsxs)(h,{delayDuration:300,children:[(0,s.jsx)(m,{asChild:!0,children:(0,s.jsxs)("div",{style:{width:"50%",display:"flex",alignItems:"center"},children:[(0,s.jsx)("label",{htmlFor:"reverse-axis",style:{textAlign:"left",marginRight:"-20px",marginLeft:"-10px"},children:"Rev."}),(0,s.jsx)(er.p,{id:"reverse-axis",type:"checkbox",checked:1==j,onChange:e=>{D(+!!e.target.checked)}})]})}),(0,s.jsx)(x,{side:"bottom",children:"Reverse the direction of the operation along the axis"})]})]})]}),["Convolution","Correlation3D","Covariance3D","TwoVarLinearSlope3D"].includes(n)&&(0,s.jsxs)(s.Fragment,{children:["Convolution"===n&&(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Kernel Op."}),(0,s.jsx)("td",{children:(0,s.jsxs)(eW,{onValueChange:k,children:[(0,s.jsx)(e$,{style:{width:"175px",marginLeft:"10px"},children:(0,s.jsx)(eY,{placeholder:"Default"===c?"Select...":c})}),(0,s.jsx)(eX,{children:eq.map((e,t)=>(0,s.jsx)(eK,{value:e,children:e},t))})]})})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{style:{padding:"0px 12px"},children:"Kernel Size"}),(0,s.jsx)("td",{children:(0,s.jsx)("table",{style:{width:"100%",tableLayout:"fixed"},children:(0,s.jsxs)("tbody",{children:[(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{style:{textAlign:"center"},children:"Size"}),(0,s.jsx)("td",{style:{textAlign:"center"},children:"Depth"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{style:{textAlign:"center",padding:"0px 12px"},children:(0,s.jsx)(er.p,{type:"number",min:"1",step:"2",value:String(l),onChange:e=>S(O(e.target.value))})}),(0,s.jsx)("td",{style:{textAlign:"center",padding:"0px 12px"},children:(0,s.jsx)(er.p,{type:"number",min:"1",step:"2",value:String(d),onChange:e=>C(O(e.target.value))})})]})]})})})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{}),(0,s.jsx)("th",{children:(0,s.jsx)(e2,{size:Math.min(l,15),depth:Math.min(d,15)})})]})]})]})}),(0,s.jsx)(o.$,{className:"cursor-pointer active:scale-[0.95]",disabled:"Default"===n||"Convolution"===n&&"Default"===c||i&&"Default"===p,onClick:()=>{b(!a),z(!0)},children:"Execute"})]})})]}):(0,s.jsx)(o.$,{variant:"ghost",size:"icon",className:"size-10",disabled:!0,style:{color:"var(--text-disabled)",transform:"scale(1)"},children:(0,s.jsx)(ec.x6X,{className:"size-8"})})})},e2=e=>{let{size:t,depth:a}=e,n=(0,r.useRef)(null);return(0,r.useEffect)(()=>{let e=n.current;if(!e)return;let s=e.getContext("2d");if(!s)return;e.width=150,e.height=150;let r=(110-6*Math.max(0,a-1))/t;s.clearRect(0,0,150,150);for(let e=a-1;e>=0;e--){let n=6*e,i=6*e/1.5;for(let l=0;l<t;l++)for(let o=0;o<t;o++){s.fillStyle=l===Math.floor(t/2)&&o===Math.floor(t/2)||e==Math.floor(a/2)&&1!=a?"#da5d5dff":"rgba(255, 255, 255, 1)",s.strokeStyle="#334155",s.lineWidth=1;let d=20+n+o*r,c=20+i+l*r;s.beginPath(),s.rect(d,c,r,r),s.fill(),s.stroke()}}},[t,a]),(0,s.jsx)("canvas",{ref:n})}},3316:()=>{},3656:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});var s=a(9564),r=a(7776),n=a(7481),i=a(3964);function l(e){let{className:t,defaultValue:a,value:l,min:o=0,max:d=100,...c}=e,u=r.useMemo(()=>Array.isArray(l)?l:Array.isArray(a)?a:[o,d],[l,a,o,d]);return(0,s.jsxs)(n.bL,{"data-slot":"slider",defaultValue:a,value:l,min:o,max:d,className:(0,i.cn)("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",t),...c,children:[(0,s.jsx)(n.CC,{"data-slot":"slider-track",className:(0,i.cn)("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-1.5 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:(0,s.jsx)(n.Q6,{"data-slot":"slider-range",className:(0,i.cn)("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:u.length},(e,t)=>(0,s.jsx)(n.zi,{"data-slot":"slider-thumb",className:"border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},t))]})}},3787:()=>{},3964:(e,t,a)=>{"use strict";a.d(t,{cn:()=>n});var s=a(6144),r=a(4480);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.QP)((0,s.$)(t))}},4408:()=>{},4882:()=>{},4884:()=>{},4918:()=>{},6431:(e,t,a)=>{"use strict";a.d(t,{Bi:()=>c,Tk:()=>l,_z:()=>o,tz:()=>u});var s=a(970);function r(e){let t=["bytes","KB","MB","GB","TB","PB"],a=e,s=0;for(;a>=1024&&s<t.length-1;)a/=1024,s++;return"".concat(a.toFixed(2)," ").concat(t[s])}function n(e){return({int8:1,uint8:1,int16:2,uint16:2,int32:4,uint32:4,int64:8,uint64:8,float32:4,float64:8,bool:1})[e]||4}function i(e){return e.reduce((e,t)=>e*t,1)}async function l(e){let t=await e,a="contents"in t.store?t.store.contents():[],l=[];for(let e of a)if(e.path&&e.path.length>1&&"array"===e.kind){let a=await s.h(t.resolve(e.path.substring(1)),{kind:"array"}),o=n(a.dtype),d=i(a.shape),c=function(e,t){return e.reduce((e,a,s)=>e*Math.ceil(a/t[s]),1)}(a.shape,a.chunks),u=i(a.chunks),h=d*o,m=u*o;l.push({name:e.path.substring(1),long_name:a.attrs.long_name,shape:a.shape,chunks:a.chunks,dtype:a.dtype,totalSize:h,totalSizeFormatted:r(h),chunkCount:c,chunkSize:m,chunkSizeFormatted:r(m)})}return l}function o(e){let t=n(e.dtype),a=i(e.shape);return[a*t,i(e.chunks)*t,e.chunks]}let d=["longitude","latitude","lat","lon","time","depth","height","altitude","x","y","z","t","level"];async function c(e){return(await e).filter(e=>!function(e){let t=e.toLowerCase();return d.some(e=>t===e)}(e.name)).map(e=>e.name).sort((e,t)=>e.localeCompare(t))}async function u(e){let t=await e,a="attrs"in t&&"description"in t.attrs?String(t.attrs.description):"";return{title:"attrs"in t&&"title"in t.attrs?String(t.attrs.title):"",description:a}}},6709:()=>{},8247:()=>{},8688:(e,t,a)=>{"use strict";a.d(t,{$U:()=>u,SZ:()=>c,Ws:()=>o,on:()=>l,r2:()=>d});var s=a(6479),r=a(7510),n=a(21),i=a(9901);let l=(0,s.v)((e,t)=>({dataShape:[1,1,1],shape:new r.Pq0(2,2,2),valueScales:{maxVal:1,minVal:-1},colormap:(0,n.v6)(),timeSeries:{},strides:[10368,144,1],showLoading:!1,metadata:null,zMeta:[{}],dataArray:new Uint8Array(1),dimArrays:[[0],[0],[0]],dimNames:["Default"],dimUnits:["Default"],dimCoords:{},plotDim:0,flipY:!1,initStore:"https://s3.bgc-jena.mpg.de:9000/esdl-esdc-v3.0.2/esdc-16d-2.5deg-46x72x1440-3.0.2.zarr",variable:"Default",variables:[],plotOn:!1,isFlat:!1,progress:0,downloading:!1,is4D:!1,idx4D:null,setDataShape:t=>e({dataShape:t}),setShape:t=>e({shape:t}),setValueScales:t=>e({valueScales:t}),setColormap:t=>e({colormap:t}),setTimeSeries:t=>e({timeSeries:t}),updateTimeSeries:a=>{e({timeSeries:Object.fromEntries(Object.entries({...a,...t().timeSeries}).slice(0,10))})},setStrides:t=>e({strides:t}),setShowLoading:t=>e({showLoading:t}),setMetadata:t=>e({metadata:t}),setZMeta:t=>e({zMeta:t}),setDataArray:t=>e({dataArray:t}),setDimArrays:t=>e({dimArrays:t}),setDimNames:t=>e({dimNames:t}),setDimUnits:t=>e({dimUnits:t}),setDimCoords:t=>e({dimCoords:t}),updateDimCoords:a=>{e({dimCoords:Object.fromEntries(Object.entries({...a,...t().dimCoords}).slice(0,10))})},setPlotDim:t=>e({plotDim:t}),setFlipY:t=>e({flipY:t}),setInitStore:t=>e({initStore:t}),setVariable:t=>e({variable:t}),setVariables:t=>e({variables:t}),setPlotOn:t=>e({plotOn:t}),setIsFlat:t=>e({isFlat:t}),setProgress:t=>e({progress:t}),setDownloading:t=>e({downloading:t}),setIs4D:t=>e({is4D:t}),setIdx4D:t=>e({idx4D:t})})),o=(0,s.v)((e,t)=>({plotType:"sphere",pointSize:5,scalePoints:!1,scaleIntensity:1,quality:200,timeScale:1,valueRange:[0,1],xRange:[-1,1],yRange:[-1,1],zRange:[-1,1],selectTS:!1,showPoints:!1,linePointSize:2,lineWidth:1.25,lineColor:"#111111",pointColor:"#EA8686",useLineColor:!1,lineResolution:3,animate:!1,resetAnim:!1,animProg:0,cOffset:0,cScale:1,useFragOpt:!1,resetCamera:!1,useCustomColor:!1,useCustomPointColor:!1,transparency:0,nanTransparency:1,nanColor:"#000000",showBorders:!1,borderColor:"#000000",lonExtent:[-180,180],latExtent:[-90,90],lonResolution:1,latResolution:1,colorIdx:0,setQuality:t=>e({quality:t}),setTimeScale:t=>e({timeScale:t}),setValueRange:t=>e({valueRange:t}),setXRange:t=>e({xRange:t}),setYRange:t=>e({yRange:t}),setZRange:t=>e({zRange:t}),setPointSize:t=>e({pointSize:t}),setScalePoints:t=>e({scalePoints:t}),setScaleIntensity:t=>e({scaleIntensity:t}),setPlotType:t=>e({plotType:t}),setSelectTS:t=>e({selectTS:t}),setShowPoints:t=>e({showPoints:t}),setLinePointSize:t=>e({linePointSize:t}),setLineWidth:t=>e({lineWidth:t}),setLineColor:t=>e({lineColor:t}),setPointColor:t=>e({pointColor:t}),setUseLineColor:t=>e({useLineColor:t}),setLineResolution:t=>e({lineResolution:t}),setAnimate:t=>e({animate:t}),setResetAnim:t=>e({resetAnim:t}),setAnimProg:t=>e({animProg:t}),setCOffset:t=>e({cOffset:t}),setCScale:t=>e({cScale:t}),setUseFragOpt:t=>e({useFragOpt:t}),setResetCamera:t=>e({resetCamera:t}),setUseCustomColor:t=>e({useCustomColor:t}),setUseCustomPointColor:t=>e({useCustomPointColor:t}),setTransparency:t=>e({transparency:t}),setNanTransparency:t=>e({nanTransparency:t}),setNanColor:t=>e({nanColor:t}),setShowBorders:t=>e({showBorders:t}),setBorderColor:t=>e({borderColor:t}),setLonExtent:t=>e({lonExtent:t}),setLatExtent:t=>e({latExtent:t}),setLonResolution:t=>e({lonResolution:t}),setLatResolution:t=>e({latResolution:t}),incrementColorIdx:()=>e(e=>({colorIdx:(e.colorIdx+1)%10})),getColorIdx:()=>t().colorIdx})),d=(0,s.v)(e=>({analysisMode:!1,axis:0,operation:"Default",execute:!1,useTwo:!1,variable2:"Default",valueScalesOrig:null,kernelSize:3,kernelDepth:3,kernelOperation:"Default",analysisArray:new Uint8Array(1),reverseDirection:0,setAnalysisMode:t=>e({analysisMode:t}),setAxis:t=>e({axis:t}),setOperation:t=>e({operation:t}),setExecute:t=>e({execute:t}),setUseTwo:t=>e({useTwo:t}),setVariable2:t=>e({variable2:t}),setValueScalesOrig:t=>e({valueScalesOrig:t}),setKernelSize:t=>e({kernelSize:t}),setKernelDepth:t=>e({kernelDepth:t}),setKernelOperation:t=>e({kernelOperation:t}),setAnalysisArray:t=>e({analysisArray:t}),setReverseDirection:t=>e({reverseDirection:t})})),c=(0,s.v)(e=>({slice:[0,null],compress:!1,currentStore:(0,i.Oe)("https://s3.bgc-jena.mpg.de:9000/esdl-esdc-v3.0.2/esdc-16d-2.5deg-46x72x1440-3.0.2.zarr"),reFetch:!1,setSlice:t=>e({slice:t}),setCompress:t=>e({compress:t}),setCurrentStore:t=>e({currentStore:t}),setReFetch:t=>e({reFetch:t})})),u=(0,s.v)(e=>({zarrFetch:!1,cors:!1,oom:!1,invalidURL:!1,setZarrFetch:t=>e({zarrFetch:t}),setCors:t=>e({cors:t}),setOom:t=>e({oom:t}),setInvalidURL:t=>e({invalidURL:t})}))},8804:(e,t,a)=>{"use strict";a.d(t,{QB:()=>u,Qt:()=>d,SB:()=>i,_8:()=>o,jT:()=>l,lt:()=>r,mT:()=>c});var s=a(8688);function r(e){if("Default"===e||!e||"string"!=typeof e||""===e.trim())return 1;let t=e.match(/^(\w+)\s+since\s+(.+)$/i);if(!t)throw Error('Invalid time unit format: expected "<unit> since <date>", got "'.concat(e,'"'));let[a,s,r]=t,n=s.toLowerCase(),i={millisecond:1,milliseconds:1,second:1e3,seconds:1e3,minute:6e4,minutes:6e4,hour:36e5,hours:36e5,day:864e5,days:864e5},l=n.endsWith("s")?n.slice(0,-1):n,o=void 0!==i[n]?n:l;if(!(o in i))throw Error('Unsupported time unit: "'.concat(s,'". Supported units: ').concat(Object.keys(i).join(", ")));return i[o]}let n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function i(e,t){let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!t)return e;if("bigint"==typeof e){if(!t)return Number(e);try{let s=r(t),i=Number(e)*s,l=new Date(i);if(a)return"".concat(l.getDate()," ").concat(n[l.getMonth()]," ").concat(l.getFullYear());{let e=l.getDate(),t=l.getMonth()+1,a=l.getFullYear();return"".concat(String(e).padStart(2,"0"),"-").concat(String(t).padStart(2,"0"),"-").concat(a)}}catch(t){return e}}return t.match(/(degree|degrees|deg|°)/i)?"".concat(e.toFixed(2),"\xb0"):e.toFixed(2)}function l(e){let{normal:t,uv:a}=e,r=s.on.getState().flipY;switch(!0){case 1===t.z:return[null,r?1-a.y:a.y,a.x];case -1===t.z:return[null,r?1-a.y:a.y,1-a.x];case 1===t.x:return[1-a.x,r?1-a.y:a.y,null];case -1===t.x:return[a.x,r?1-a.y:a.y,null];case 1===t.y:return[1-a.y,null,a.x];default:return[0,0,0]}}function o(e){return 1===Math.abs(e.x)?2:1===Math.abs(e.y)?1:1===Math.abs(e.z)?0:null}function d(e){let t=1/0,a=-1/0;for(let s=0;s<e.length;s++)t=e[s]<t?e[s]:t,a=e[s]>a?e[s]:a;return[t,a]}function c(e,t,a){let s=(t-e)/(a-1);return Array.from({length:a},(t,a)=>e+s*a)}function u(e,t){let a=s.Ws.getState().setLonExtent,r=s.Ws.getState().setLatExtent,n=s.Ws.getState().setLonResolution,i=s.Ws.getState().setLatResolution,l=e.length>2?e.slice(1):e,o=!1;for(let e of l)if(e.match(/(degree|degrees|deg|°)/i)){o=!0;break}if(o){let e=t.length>2?t.slice(1):t,s=e[0][0],l=e[0][e[0].length-1],o=e[1][0],d=e[1][e[1].length-1];a([o=o>180?o-360:o,d=d>180?d-360:d]),r([s,l]);let c=Math.abs(e[0][1]-e[0][0]);n(Math.abs(e[1][1]-e[1][0])),i(c)}else a([-180,180]),r([-90,90])}},9341:(e,t,a)=>{"use strict";a.d(t,{Wu:()=>l,Zp:()=>n,aR:()=>i});var s=a(9564);a(7776);var r=a(3964);function n(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"card",className:(0,r.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...a})}function i(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"card-header",className:(0,r.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...a})}function l(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"card-content",className:(0,r.cn)("px-6",t),...a})}},9901:(e,t,a)=>{"use strict";a.d(t,{Oe:()=>m,Y5:()=>x});var s=a(2105),r=a(4123),n=a(970),i=a(7974),l=a(7603),o=a(7595),d=a(8804),c=a(6431),u=a(8688);class h extends Error{constructor(e,t){super(e),this.cause=t,this.name="ZarrError"}}async function m(e){try{let t=s.x(new r.A(e));return await t.then(e=>n.h(e,{kind:"group"}))}catch(t){throw u.$U.getState().setZarrFetch(!0),u.on.getState().setShowLoading(!1),new h("Failed to initialize store at ".concat(e),t)}}class x{async GetArray(e,t){let a=u.on.getState().setProgress,s=u.on.getState().setStrides,r=u.on.getState().setDownloading,o=u.SZ.getState().compress,d=u.on.getState().is4D,h=u.on.getState().idx4D;if(this.variable=e,this.cache.has(d?"".concat(h,"_").concat(e):e))return this.cache.get(e);let m=await this.groupStore,x=await n.h(m.resolve(e),{kind:"array"}),[p,g,f]=(0,c._z)(x);d&&(p/=x.shape[0],f=f.slice(1),x.shape[0]);let v=d?x.shape[1]/f[0]>1:x.shape[0]/f[0]>1;if(x.is("number")||x.is("bigint")){let n,c,u;if(this.chunkIDs=[],p<1e8||!v){if(r(!0),n=d?await i.Jt(x,[h,null,null,null]):await i.Jt(x),u=d?x.shape.slice(1):x.shape,s(n.stride),n.data instanceof BigInt64Array||n.data instanceof BigUint64Array)throw Error("BigInt arrays are not supported for conversion to Float32Array.");c=new Float32Array(n.data),this.cache.set(d?"".concat(h,"_").concat(e):e,n),r(!1)}else{r(!0),a(0);let m=Math.floor(t[0]/f[0]),p=t[1]?Math.ceil(t[1]/f[0]):d?Math.ceil(x.shape[1]/f[0]):Math.ceil(x.shape[0]/f[0]),g=p-m,v=d?x.shape[2]*x.shape[3]:x.shape[1]*x.shape[2],j=(p-m)*f[0]*v;u=d?[(p-m)*f[0],x.shape[2],x.shape[3]]:[(p-m)*f[0],x.shape[1],x.shape[2]],c=o?new Uint8Array(j):new Float32Array(j);let b=0,y=1;for(let t=m;t<p;t++){let r=d?"".concat(h,"_").concat(e,"_chunk_").concat(t):"".concat(e,"_chunk_").concat(t);if(this.chunkIDs.push(t),this.cache.has(r))s((n=this.cache.get(r)).stride),c.set(n.data,b),a(Math.round(y/g*100)),b+=n.data.length,y++;else{if((n=await i.Jt(x,d?[h,l.di(t*f[0],(t+1)*f[0]),null,null]:[l.di(t*f[0],(t+1)*f[0]),null,null])).data instanceof BigInt64Array||n.data instanceof BigUint64Array)throw Error("BigInt arrays are not supported for conversion to Float32Array.");c.set(n.data,b),this.cache.set(r,n),b+=n.data.length,s(n.stride),a(Math.round(y/g*100)),y++}}r(!1),a(0)}return{data:c,shape:u,dtype:x.dtype}}throw Error("Unsupported data type: Only numeric arrays are supported. Got: ".concat(x.dtype))}async GetAttributes(e){let t="".concat(e,"_meta");if(this.cache.has(t))return this.cache.get(t);let a=await this.groupStore,s=(await n.h(a.resolve(e),{kind:"array"})).attrs;this.cache.set(t,s);let r=[];for(let e of s._ARRAY_DIMENSIONS){if(!this.cache.has(e)){let t=await n.h(a.resolve(e),{kind:"array"}).then(e=>i.Jt(e)),s=await n.h(a.resolve(e),{kind:"array"}).then(e=>e.attrs);this.cache.set(e,t.data),this.cache.set("".concat(e,"_meta"),s)}r.push(e)}return this.dimNames=r,s}GetDimArrays(){let e=[],t=[];for(let a of this.dimNames)e.push(this.cache.get(a)),t.push(this.cache.get("".concat(a,"_meta")));return[e,t,this.dimNames]}GetTimeSeries(e){let t,a,s,{uv:r,normal:n}=e;if(!this.cache.has(this.variable)&&0==this.chunkIDs.length)return[0];if(this.chunkIDs.length>0){let e=[];for(let t of this.chunkIDs)e.push(this.cache.get("".concat(this.variable,"_chunk_").concat(t)));({shape:a,stride:s}=e[0]),t=new Float32Array(e.reduce((e,t)=>e+t.data.length,0));let r=0;for(let a of e)t.set(a.data,r),r+=a.data.length}else({data:t,shape:a,stride:s}=this.cache.get(this.variable));let i=(0,d.jT)({normal:n,uv:r}).map((e,t)=>null===e||null===a[t]?null:Math.round(e*a[t]-.5)),l=i.indexOf(null),o=s[l],c=null==i[0]?0:s[0]*i[0],u=null==i[1]?0:s[1]*i[1],h=null==i[2]?0:s[2]*i[2],m=[];for(let e=0;e<a[l];e++){let a=e*o+c+u+h;m.push(t[a])}return m}constructor(e){this.groupStore=e,this.variable="Default",this.cache=new o.A({maxSize:2e3}),this.dimNames=["","",""],this.chunkIDs=[]}}}}]);