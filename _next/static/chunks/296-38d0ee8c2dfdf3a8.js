(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[296],{21:(e,t,s)=>{"use strict";s.d(t,{oW:()=>o,v6:()=>i,dl:()=>n});var a=s(7510),r=s(1252);let n=["magma","inferno","plasma","viridis","cividis","twilight","twilight_shifted","turbo","Blues","BrBG","BuGn","BuPu","CMRmap","GnBu","Greens","Greys","OrRd","Oranges","PRGn","PiYG","PuBu","PuBuGn","PuOr","PuRd","Purples","RdBu","RdGy","RdPu","RdYlBu","RdYlGn","Reds","Spectral","Wistia","YlGn","YlGnBu","YlOrBr","YlOrRd","afmhot","autumn","binary","bone","brg","bwr","cool","coolwarm","copper","cubehelix","flag","gist_earth","gist_gray","gist_heat","gist_ncar","gist_rainbow","gist_stern","gist_yarg","gnuplot","gnuplot2","gray","hot","hsv","jet","nipy_spectral","ocean","pink","prism","rainbow","seismic","spring","summer","terrain","winter","Accent","Dark2","Paired","Pastel1","Pastel2","Set1","Set2","Set3","tab10","tab20","tab20b","tab20c"];function i(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Spectral",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"#000000",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,l=arguments.length>5&&void 0!==arguments[5]&&arguments[5],o=Array.from({length:255},(e,t)=>t/254),c=(o=l?o.reverse():o).map(e=>(0,r.md)(e,t,!1)),d=new Uint8Array((c.length+1)*4);for(let e=0;e<c.length;e++){let[t,a,r]=c[e];d[4*e]=t,d[4*e+1]=a,d[4*e+2]=r,d[4*e+3]=s}let u=function(e){let t=parseInt(e=e.replace(/^#/,""),16);return[t>>16&255,t>>8&255,255&t]}(n),h=4*c.length;d[h]=u[0],d[h+1]=u[1],d[h+2]=u[2],d[h+3]=i,e&&e.dispose();let m=new a.GYF(d,c.length+1,1,a.GWd);return m.needsUpdate=!0,m}var l=s(8804);function o(e){let[t,s]=3==e.shape.length?function(e){let t=e.shape,s=e.data,[r,n,i]=t,[o,c]=(0,l.Qt)(s),d=new Uint8Array(s.map(e=>(e-o)/(c-o)).map(e=>isNaN(e)?255:254*e)),u=new a.dYF(d,i,n,r);return u.format=a.VT0,u.minFilter=a.hxR,u.magFilter=a.hxR,u.needsUpdate=!0,[u,{maxVal:c,minVal:o}]}(e):function(e){let t=e.shape,s=e.data,r=t[1],n=t[0],[i,o]=(0,l.Qt)(s),c=new Uint8Array(s.map(e=>(e-i)/(o-i)).map(e=>isNaN(e)?255:254*e)),d=new a.GYF(c,r,n,a.VT0,a.OUM);return d.needsUpdate=!0,[d,{maxVal:o,minVal:i}]}(e);return[t,s]}},406:()=>{},919:()=>{},1279:(e,t,s)=>{"use strict";s.d(t,{$:()=>o});var a=s(9564);s(7776);var r=s(5536),n=s(978),i=s(3964);let l=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function o(e){let{className:t,variant:s,size:n,asChild:o=!1,...c}=e,d=o?r.DX:"button";return(0,a.jsx)(d,{"data-slot":"button",className:(0,i.cn)(l({variant:s,size:n,className:t})),...c})}},1465:()=>{},2296:(e,t,s)=>{"use strict";s.d(t,{zd:()=>eO,pH:()=>te,PL:()=>ed,hv:()=>eM,jG:()=>eU,$D:()=>eX,wi:()=>Y,It:()=>tt,Rh:()=>$,oU:()=>ej,OS:()=>H,Fp:()=>G,DM:()=>eY,Yp:()=>ei,M:()=>eS,A:()=>Z,de:()=>q,ut:()=>eD,LC:()=>J,gj:()=>Q});var a=s(9564),r=s(7776),n=s(6341),i=s(6613),l=s(6056),o=s(2795);s(3984);let c=()=>{let[e,t]=(0,r.useState)(!1),{theme:s,setTheme:n,resolvedTheme:c}=(0,i.D)();return(0,r.useEffect)(()=>{t(!0)},[]),(0,a.jsx)("button",{onClick:()=>{"dark"===s?n("light"):n("dark")},className:"toggle",children:e?"dark"===(e?null!=s?s:c:void 0)?(0,a.jsx)(o.A,{size:32}):(0,a.jsx)(l.A,{size:32}):(0,a.jsx)(l.A,{})})},d={src:"/Browzarr/_next/static/media/logo.d9323308.png",height:1e3,width:1e3,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAYFBMVEVMaXH5xyb60jLzyNjzZ6d/VTLYx8zw4VrRS4LBN3nlYJ7eZJfel1W0ijz7zzyRNiT90Dqew6/17/Xj1M749N/LyI3ha37R3v/3z2v90TvcrzLBV37/2DL/4oHcwLv+//8HdHKGAAAAHHRSTlMAefb+9wpSBWI3T09v0FAq1lr29NTo+j7+kvP2lbyMGQAAAAlwSFlzAAAdhwAAHYcBj+XxZQAAAEBJREFUeJwVxUcSgCAQAMEhLpgQzIr6/19a9qUBXHKADMd49h2I0rVqJbDN975kwJf3mTwQL2NsBAirDf/QNsAHWeQCQebHKVQAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8};s(919);var u=s(3277),h=s(8688),m=s(21),x=s(1279),p=s(3964),g=s(1779),f=s(1381);function v(e){let{...t}=e;return(0,a.jsx)(f._s.Root,{"data-slot":"drawer",...t})}function j(e){let{...t}=e;return(0,a.jsx)(f._s.Trigger,{"data-slot":"drawer-trigger",...t})}function b(e){let{...t}=e;return(0,a.jsx)(f._s.Portal,{"data-slot":"drawer-portal",...t})}function w(e){let{className:t,...s}=e;return(0,a.jsx)(f._s.Overlay,{"data-slot":"drawer-overlay",className:(0,p.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...s})}function y(e){let{className:t,children:s,...r}=e;return(0,a.jsxs)(b,{"data-slot":"drawer-portal",children:[(0,a.jsx)(w,{}),(0,a.jsxs)(f._s.Content,{"data-slot":"drawer-content",className:(0,p.cn)("group/drawer-content bg-background fixed z-50 flex h-auto flex-col","data-[vaul-drawer-direction=top]:inset-x-0 data-[vaul-drawer-direction=top]:top-0 data-[vaul-drawer-direction=top]:mb-24 data-[vaul-drawer-direction=top]:max-h-[80vh] data-[vaul-drawer-direction=top]:rounded-b-lg data-[vaul-drawer-direction=top]:border-b","data-[vaul-drawer-direction=bottom]:inset-x-0 data-[vaul-drawer-direction=bottom]:bottom-0 data-[vaul-drawer-direction=bottom]:mt-24 data-[vaul-drawer-direction=bottom]:max-h-[80vh] data-[vaul-drawer-direction=bottom]:rounded-t-lg data-[vaul-drawer-direction=bottom]:border-t","data-[vaul-drawer-direction=right]:inset-y-0 data-[vaul-drawer-direction=right]:right-0 data-[vaul-drawer-direction=right]:w-3/4 data-[vaul-drawer-direction=right]:border-l data-[vaul-drawer-direction=right]:sm:max-w-sm","data-[vaul-drawer-direction=left]:inset-y-0 data-[vaul-drawer-direction=left]:left-0 data-[vaul-drawer-direction=left]:w-3/4 data-[vaul-drawer-direction=left]:border-r data-[vaul-drawer-direction=left]:sm:max-w-sm",t),...r,children:[(0,a.jsx)("div",{className:"bg-muted mx-auto mt-4 hidden h-2 w-[100px] shrink-0 rounded-full group-data-[vaul-drawer-direction=bottom]/drawer-content:block"}),s]})]})}function A(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"drawer-header",className:(0,p.cn)("flex flex-col gap-0.5 p-4 group-data-[vaul-drawer-direction=bottom]/drawer-content:text-center group-data-[vaul-drawer-direction=top]/drawer-content:text-center md:gap-1.5 md:text-left",t),...s})}function S(e){let{className:t,...s}=e;return(0,a.jsx)(f._s.Title,{"data-slot":"drawer-title",className:(0,p.cn)("text-foreground font-semibold",t),...s})}let N={src:"/Browzarr/_next/static/media/logo_bgc_mpi.811f35c6.png",height:335,width:1901,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAABCAMAAADU3h9xAAAACVBMVEX///////////+OSuX+AAAAA3RSTlMdMnkqIWkUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAEUlEQVR4nGNgYGBgYGRiZAQAABYABhAF/EgAAAAASUVORK5CYII=",blurWidth:8,blurHeight:1},k={src:"/Browzarr/_next/static/media/logo_bgc.2186f7da.png",height:324,width:324,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAM1BMVEX///////////////////////////9MaXH////////////////////////////+/v7///9noLCvAAAAEHRSTlMVaEuDyyA0AAn4qpuOw9jiFXZvNwAAAAlwSFlzAAALEwAACxMBAJqcGAAAADtJREFUeJwFwQkCwCAIA7CiQMFj9v+vXQLmPmZB5E2yRmANVrESHigCA6+1rHWx1VJrIj5JcoA47hP8AUH+AfDeLlYAAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8},C={src:"/Browzarr/_next/static/media/logo_mpi.60f96703.png",height:335,width:335,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAG1BMVEX///////////////////////////////9MaXHtBtUtAAAACXRSTlMVIF5RcjsnRQDMSZBbAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAM0lEQVR4nBXJyREAMAwCscXgo/+KM/lKHG03By7Hgq6ZFKJWSfEnWX7FK6RPNRo4eru5BxsqAMT2mkYXAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8},E=()=>(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{children:"Browzarr"}),"builds on the lessons learned from the visualization prototype from the SeasFire project.",(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),(0,a.jsx)("p",{children:"The ESA-funded SeasFire project is exploring the potential of spatio-temporal asynchronous links happening between pre-occurring and non-overlapping atmospheric conditions and European fire regimes to predict the seasonal burned areas sizes in Europe by leveraging two major advancements of our time:"}),(0,a.jsxs)("ul",{children:[(0,a.jsx)("li",{children:"the availability of a huge amount of satellite data with a good spatio-temporal resolution, which will be used as fire drivers called the Earth system variables, and"}),(0,a.jsx)("li",{children:"the progress in Deep Learning (DL) and especially in graph and image based modelling frameworks, finding methods capable of capturing the spatio-temporal interactions of the Earth System variables."})]}),(0,a.jsx)("a",{href:"https://seasfire.hua.gr/",target:"_blank",rel:"noreferrer",children:"https://seasfire.hua.gr/"}),(0,a.jsx)("br",{}),(0,a.jsx)("a",{href:"https://zenodo.org/records/8055879",target:"_blank",rel:"noreferrer",children:"zenodo"}),(0,a.jsxs)("p",{children:[(0,a.jsx)("br",{}),(0,a.jsx)("strong",{children:"Citation: "})," ",(0,a.jsx)("br",{}),"Alonso, L., Gans, F., Karasante, I., Ahuja, A., Prapas, I., Kondylatos, S., Papoutsis, I., Panagiotou, E., Mihail, D., Cremer, F., Weber, U., & Carvalhais, N. (2023). SeasFire Cube: A Global Dataset for Seasonal Fire Modeling in the Earth System (0.3) [Data set]. Zenodo. https://doi.org/10.5281/zenodo.8055879"]}),(0,a.jsx)("br",{}),(0,a.jsxs)("p",{children:[" ",(0,a.jsx)("strong",{children:" Contact :"})]}),(0,a.jsx)("div",{children:(0,a.jsxs)("span",{children:[(0,a.jsx)("a",{href:"https://lazarusa.github.io/",target:"_blank",rel:"noreferrer",children:(0,a.jsx)("strong",{children:"Lazaro Alonso"})})," &",(0,a.jsx)("a",{href:"https://www.bgc-jena.mpg.de/person/jpoehls/2206",target:"_blank",rel:"noreferrer",children:(0,a.jsx)("strong",{children:" Jeran Poehls"})})]})}),(0,a.jsx)("br",{}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Max-Planck Institute for Biogeochemistry"}),(0,a.jsx)("br",{}),"Hans-Kn\xf6ll Str. 10",(0,a.jsx)("br",{}),"07745 Jena"]}),(0,a.jsx)("br",{}),(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,a.jsx)("a",{href:"https://www.bgc-jena.mpg.de/en/bgi/home",target:"_blank",rel:"noreferrer",children:(0,a.jsx)(n.default,{src:C,alt:"logoMPI",height:32})}),(0,a.jsx)("a",{href:"https://www.bgc-jena.mpg.de/en/bgi/mdi",target:"_blank",rel:"noreferrer",children:(0,a.jsx)(n.default,{src:k,alt:"logoBGC",height:32})})]}),(0,a.jsx)("br",{}),(0,a.jsxs)("p",{children:["Ⓒ ",(0,a.jsx)("a",{href:"https://github.com/EarthyScience/FireSight?tab=Apache-2.0-1-ov-file#readme",target:"_blank",rel:"noreferrer",children:"Apache License, Version 2.0"})]})]});var z=s(182),D=s(8822);function M(e){let{...t}=e;return(0,a.jsx)(z.bL,{"data-slot":"dialog",...t})}function R(e){let{...t}=e;return(0,a.jsx)(z.l9,{"data-slot":"dialog-trigger",...t})}function L(e){let{...t}=e;return(0,a.jsx)(z.ZL,{"data-slot":"dialog-portal",...t})}function F(e){let{className:t,...s}=e;return(0,a.jsx)(z.hJ,{"data-slot":"dialog-overlay",className:(0,p.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...s})}function B(e){let{className:t,children:s,showCloseButton:r=!0,...n}=e;return(0,a.jsxs)(L,{"data-slot":"dialog-portal",children:[(0,a.jsx)(F,{}),(0,a.jsxs)(z.UC,{"data-slot":"dialog-content",className:(0,p.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...n,children:[s,r&&(0,a.jsxs)(z.bm,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,a.jsx)(D.A,{}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function T(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"dialog-header",className:(0,p.cn)("flex flex-col gap-2 text-center sm:text-left",t),...s})}function I(e){let{className:t,...s}=e;return(0,a.jsx)(z.hE,{"data-slot":"dialog-title",className:(0,p.cn)("text-lg leading-none font-semibold",t),...s})}function _(e){let{className:t,...s}=e;return(0,a.jsx)(z.VY,{"data-slot":"dialog-description",className:(0,p.cn)("text-muted-foreground text-sm",t),...s})}var O=s(6687);function P(e){let{...t}=e;return(0,a.jsx)(O.bL,{"data-slot":"popover",...t})}function U(e){let{...t}=e;return(0,a.jsx)(O.l9,{"data-slot":"popover-trigger",...t})}function V(e){let{className:t,align:s="center",sideOffset:r=4,...n}=e;return(0,a.jsx)(O.ZL,{children:(0,a.jsx)(O.UC,{"data-slot":"popover-content",align:s,sideOffset:r,className:(0,p.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",t),...n})})}let W=e=>{let{className:t}=e;return(0,a.jsxs)("svg",{viewBox:"0 0 100 100",className:t,"aria-hidden":"true",focusable:"false",children:[(0,a.jsx)("circle",{cx:"50",cy:"20",r:"12",fill:"#9CA3AF"}),(0,a.jsx)("circle",{cx:"78.53",cy:"40.73",r:"12",fill:"#EF4444"}),(0,a.jsx)("circle",{cx:"67.63",cy:"74.27",r:"12",fill:"#10B981"}),(0,a.jsx)("circle",{cx:"32.37",cy:"74.27",r:"12",fill:"#F59E0B"}),(0,a.jsx)("circle",{cx:"21.47",cy:"40.73",r:"12",fill:"#EC4899"})]})},G=r.memo(function(){let{setInitStore:e,setVariable:t,setColormap:s,setTimeSeries:i,setDimCoords:l,isFlat:o,plotOn:x,variables:f,variable:b}=(0,h.on)((0,u.k)(e=>({setInitStore:e.setInitStore,setVariable:e.setVariable,setColormap:e.setColormap,setTimeSeries:e.setTimeSeries,setDimCoords:e.setDimCoords,isFlat:e.isFlat,plotOn:e.plotOn,variables:e.variables,variable:e.variable}))),{setPlotType:w,plotType:N,resetCamera:k,setAnimate:C,setResetCamera:z}=(0,h.Ws)((0,u.k)(e=>({setPlotType:e.setPlotType,plotType:e.plotType,resetCamera:e.resetCamera,setAnimate:e.setAnimate,setResetCamera:e.setResetCamera}))),[D,M]=(0,r.useState)(!1),[R,L]=(0,r.useState)(!1),[F,B]=(0,r.useState)("Default"),[T,I]=(0,r.useState)(!1),_=(0,h.on)((0,u.k)(e=>e.colormap)),[O,P]=(0,r.useState)(!1),U=(0,r.useRef)(null);return(0,r.useEffect)(()=>{s((0,m.v6)(_,"Default"===F?"Spectral":F,1,"#000000",0,T))},[F,T]),(0,r.useEffect)(()=>{function e(e){if(!O)return;let t=e.target;U.current&&t&&!U.current.contains(t)&&P(!1)}function t(e){O&&"Escape"===e.key&&P(!1)}return document.addEventListener("mousedown",e),document.addEventListener("touchstart",e,{passive:!0}),document.addEventListener("keydown",t),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("touchstart",e),document.removeEventListener("keydown",t)}},[O]),(0,a.jsxs)("nav",{className:"navbar",ref:U,children:[(0,a.jsx)("button",{type:"button",className:"navbar-trigger","aria-expanded":O,"aria-label":O?"Close navigation":"Open navigation",title:O?"Close navigation":"Open navigation",onClick:()=>P(e=>!e),children:(0,a.jsx)(W,{className:"navbar-trigger-icon rotating"})}),(0,a.jsxs)("div",{className:(0,p.cn)("navbar-content",O?"open":"closed"),children:[(0,a.jsxs)("div",{className:"navbar-left",children:[(0,a.jsxs)(v,{children:[(0,a.jsx)(j,{asChild:!0,children:(0,a.jsx)("div",{role:"button ",className:"cursor-pointer",tabIndex:0,"aria-label":"About Browzarr",title:"About Browzarr",children:(0,a.jsx)(n.default,{src:d,alt:"browzarr"})})}),(0,a.jsxs)(y,{className:"max-w-md mx-auto",children:[(0,a.jsx)(A,{children:(0,a.jsx)(S,{children:"About"})}),(0,a.jsx)("div",{className:"flex-1 overflow-y-auto px-4 pb-4",children:(0,a.jsx)(E,{})})]})]}),x&&(0,a.jsx)("div",{role:"button",tabIndex:0,"aria-label":"Reset camera view",title:"Reset camera view",onClick:()=>z(!k),className:"w-[32px] h-[32px] cursor-pointer flex items-center justify-center transition-transform hover:shadow-white/40 transition-shadow hover:scale-90 hover:shadow-lg",children:(0,a.jsx)(g.vRP,{className:"w-full h-full"})}),x&&!o&&(0,a.jsx)(ei,{})]}),(0,a.jsx)(c,{})]})]})});s(4408);let Y=()=>(0,a.jsxs)("div",{className:"footer",children:[(0,a.jsx)("div",{className:"large-screen-logo",children:(0,a.jsx)("a",{href:"https://www.bgc-jena.mpg.de/en/bgi/mdi",target:"_blank",rel:"noreferrer",children:(0,a.jsx)(n.default,{src:N,alt:"logoMPI",height:32})})}),(0,a.jsx)("div",{className:"small-screen-logo",children:(0,a.jsx)("a",{href:"https://www.bgc-jena.mpg.de/en/bgi/mdi",target:"_blank",rel:"noreferrer",children:(0,a.jsx)(n.default,{src:k,alt:"logoBGC",height:32})})}),(0,a.jsx)("div",{className:"expandable-text",children:(0,a.jsxs)("span",{children:["Ⓒ ",(0,a.jsx)("a",{href:"https://www.bgc-jena.mpg.de/person/jpoehls/2206",target:"_blank",rel:"noreferrer",children:"Jeran Poehls"}),"&",(0,a.jsx)("a",{href:"https://lazarusa.github.io/",target:"_blank",rel:"noreferrer",children:"Lazaro Alonso"})]})}),(0,a.jsx)("div",{className:"small-screen-logo",children:(0,a.jsx)("a",{href:"https://www.bgc-jena.mpg.de/en/bgi/home",target:"_blank",rel:"noreferrer",children:(0,a.jsx)(n.default,{src:C,alt:"logoMPI",className:"small-screen-logo",height:32})})})]});var X=s(433);s(4882);let K=["long_name","description","units","_ARRAY_DIMENSIONS"],H=e=>{let{data:t}=e;return(0,a.jsx)("div",{className:"metadata-container",children:(0,a.jsxs)(M,{children:[(0,a.jsx)(R,{asChild:!0,children:(0,a.jsx)("div",{className:"metadata-icon",children:(0,a.jsx)(X.qNH,{size:32})})}),(0,a.jsxs)(B,{className:"metadata-dialog",children:[(0,a.jsxs)(T,{children:[(0,a.jsx)(I,{children:"Variable Metadata"}),(0,a.jsx)(_,{children:"Detailed information about the selected variable"})]}),(0,a.jsxs)("div",{className:"metadata-content",children:[K.map(e=>t[e]&&(0,a.jsxs)("p",{children:[(0,a.jsxs)("strong",{children:[e,": "]}),String(t[e])]},e)),Object.entries(t).map(e=>{let[t,s]=e;return!K.includes(t)&&(0,a.jsxs)("p",{children:[(0,a.jsxs)("strong",{children:[t,":"]})," ",String(s)]},t)})]})]})]})})};s(8247);let Z=e=>{let{height:t,setHeight:s}=e,[n,i]=(0,r.useState)(!1),[l,o]=(0,r.useState)(window.innerHeight-50);(0,r.useEffect)(()=>{let e=()=>{o(window.innerHeight-100)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let c=(0,r.useCallback)(e=>{requestAnimationFrame(()=>{s(e)})},[s,l]),d=(0,r.useCallback)(e=>{switch(e.key){case"ArrowUp":e.preventDefault(),c(t-10);break;case"ArrowDown":e.preventDefault(),c(t+10);break;case"Home":e.preventDefault(),c(50);break;case"End":e.preventDefault(),c(l)}},[t,l,c]),u=e=>{e.preventDefault(),i(!0)},h=(0,r.useCallback)(e=>{n&&(e.preventDefault(),c("touches"in e?e.touches[0].clientY:e.clientY))},[n,c]),m=(0,r.useCallback)(()=>{i(!1)},[]),x=(0,r.useCallback)(()=>{n&&i(!1)},[n]);return(0,r.useEffect)(()=>(n&&(document.addEventListener("mousemove",h),document.addEventListener("mouseup",m),document.addEventListener("touchmove",h,{passive:!1}),document.addEventListener("touchend",m),document.addEventListener("touchcancel",m),window.addEventListener("resize",x)),()=>{document.removeEventListener("mousemove",h),document.removeEventListener("mouseup",m),document.removeEventListener("touchmove",h),document.removeEventListener("touchend",m),document.removeEventListener("touchcancel",m),window.removeEventListener("resize",x)}),[n,h,m,x]),(0,a.jsx)("div",{className:"resize-bar",onMouseDown:u,onTouchStart:u,onKeyDown:d,style:{top:"".concat(t,"px")},role:"slider","aria-label":"Resize plot height","aria-valuemin":50,"aria-valuemax":l,"aria-valuenow":t,tabIndex:0})};s(4884);let Q=e=>{let{scale:t,setScale:s}=e,[n,i]=(0,r.useState)(!1),l=(0,r.useRef)(null),o=e=>{n&&(e.preventDefault(),s(Math.min(Math.max(t+(l.current?(l.current-e.clientY)/100:0),.1),10)))},c=()=>{i(!1)};return(0,r.useEffect)(()=>(n&&(document.addEventListener("mousemove",o),document.addEventListener("mouseup",c)),()=>{document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",c)}),[n]),(0,a.jsx)("div",{className:"yScaler",onMouseDown:e=>{e.preventDefault(),i(!0),l.current=e.clientY},onMouseUp:c})},J=e=>{let{scale:t,setScale:s}=e,[n,i]=(0,r.useState)(!1),l=(0,r.useRef)(null),o=e=>{n&&(e.preventDefault(),s(Math.min(Math.max(t+(l.current?(l.current-e.clientX)/1e3:0),.1),2)))},c=()=>{i(!1)};return(0,r.useEffect)(()=>(n&&(document.addEventListener("mousemove",o),document.addEventListener("mouseup",c)),()=>{document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",c)}),[n]),(0,a.jsx)("div",{className:"xScaler",onMouseDown:e=>{e.preventDefault(),i(!0),l.current=e.clientX},onMouseUp:c})};function $(){let{progress:e,showLoading:t,downloading:s}=(0,h.on)((0,u.k)(e=>({progress:e.progress,showLoading:e.showLoading,downloading:e.downloading})));return t&&(0,a.jsxs)("div",{className:"loading-container",children:[(0,a.jsx)("div",{className:"loading",children:s?"Downloading":"Building"}),(0,a.jsx)("div",{className:"progress-bar",style:{width:"".concat(e,"%")}})]})}s(3787),s(1465);let q=e=>{let{onClick:t}=e;return(0,a.jsxs)("div",{className:"lineplot-tab",onClick:t,children:[(0,a.jsx)("div",{className:"plottab-line"}),(0,a.jsx)("div",{className:"plottab-line"}),(0,a.jsx)("div",{className:"plottab-line"})]})};var ee=s(7791);s(406);var et=s(5749);function es(e){let{delayDuration:t=0,...s}=e;return(0,a.jsx)(et.Kq,{"data-slot":"tooltip-provider",delayDuration:t,...s})}function ea(e){let{...t}=e;return(0,a.jsx)(es,{children:(0,a.jsx)(et.bL,{"data-slot":"tooltip",...t})})}function er(e){let{...t}=e;return(0,a.jsx)(et.l9,{"data-slot":"tooltip-trigger",...t})}function en(e){let{className:t,sideOffset:s=0,children:r,...n}=e;return(0,a.jsx)(et.ZL,{children:(0,a.jsxs)(et.UC,{"data-slot":"tooltip-content",sideOffset:s,className:(0,p.cn)("bg-popover text-popover-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",t),...n,children:[r,(0,a.jsx)(et.i3,{className:"bg-popover fill-popover z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}let ei=()=>{let{selectTS:e,resetAnim:t,animate:s,setSelectTS:r,setResetAnim:n}=(0,h.Ws)((0,u.k)(e=>({selectTS:e.selectTS,resetAnim:e.resetAnim,animate:e.animate,setSelectTS:e.setSelectTS,setResetAnim:e.setResetAnim})));return(0,a.jsx)("div",{className:"selectTS",style:{display:s?"none":""},onClick:()=>{n(!t),r(!e)},children:(0,a.jsxs)(ea,{children:[(0,a.jsx)(er,{asChild:!0,children:(0,a.jsx)(ee.Psu,{size:32,style:{color:e?"gold":"grey",filter:e?"drop-shadow(0px 0px 10px gold)":"",cursor:"pointer"}})}),(0,a.jsx)(en,{side:"right",align:"start",children:(0,a.jsx)("p",{style:{maxWidth:220},children:"While active, click the volume to view 1D transects through the given dimension."})})]})})};var el=s(3098),eo=s(2135);s(6709);var ec=s(8804);let ed=e=>{let{units:t,valueScales:s}=e,{colormap:n}=(0,h.on)((0,u.k)(e=>({colormap:e.colormap}))),{cScale:i,cOffset:l,setCScale:o,setCOffset:c}=(0,h.Ws)((0,u.k)(e=>({cScale:e.cScale,cOffset:e.cOffset,setCScale:e.setCScale,setCOffset:e.setCOffset}))),d=(0,r.useRef)(null),m=(0,r.useRef)(!1),x=(0,r.useRef)({x:null,y:null}),[p,g]=(0,r.useState)(5),f=(0,r.useMemo)(()=>{let e=[],t=n.source.data.data;for(let s=0;s<t.length/4;s++){let a=4*s,r="rgba(".concat(t[a],", ").concat(t[a+1],", ").concat(t[a+2],", ").concat(t[a+3]," )");e.push(r)}return e},[n]),[v,j]=(0,r.useMemo)(()=>[(0,ec.mT)(0,100,p),(0,ec.mT)(s.minVal,s.maxVal,p)],[s,p]),b=e=>{if(!m.current)return;(null===x.current.x||null===x.current.y)&&(x.current.x=e.clientX,x.current.y=e.clientY);let t=x.current.x-e.clientX,s=x.current.y-e.clientY;c(l-t/100),o(i+s/100)},w=()=>{m.current=!1,x.current={x:null,y:null},document.removeEventListener("mousemove",b),document.removeEventListener("mouseup",w)};return(0,r.useEffect)(()=>()=>{document.removeEventListener("mousemove",b),document.removeEventListener("mouseup",w)},[]),(0,r.useEffect)(()=>{if(d.current){let e=d.current.getContext("2d");e&&f.forEach((t,s)=>{e.fillStyle=t,e.fillRect(2*s,0,2,24)})}},[f]),(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"colorbar",children:[Array.from({length:p}).map((e,t)=>(0,a.jsx)("p",{style:{left:"".concat(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return Math.max(Math.min(e,s),t)}((v[t]-50)*i+50+100*l),"%"),top:"100%",position:"absolute",transform:"translateX(-50%)",opacity:function(e){return e>100?1-(e-100)*6/100:e<0?1-6*Math.abs(e)/100:1}((v[t]-50)*i+50+100*l)},children:j[t].toFixed(2)},t)),(0,a.jsx)("canvas",{ref:d,width:512,height:24,onMouseDown:()=>{m.current=!0,document.addEventListener("mousemove",b),document.addEventListener("mouseup",w)}}),(0,a.jsx)("p",{style:{position:"absolute",top:"-24px",left:"50%",transform:"translateX(-50%)"},children:t}),(1!=i||0!=l)&&(0,a.jsx)(el.kmZ,{size:25,style:{position:"absolute",top:"-25px",cursor:"pointer"},onClick:()=>{o(1),c(0)}}),(0,a.jsxs)("div",{style:{position:"absolute",right:"0%",bottom:"100%",display:"flex",width:"10%",justifyContent:"space-around"},children:[(0,a.jsx)(eo.iu5,{className:"cursor-pointer",onClick:()=>g(Math.max(p-1,2))}),(0,a.jsx)(eo.OiG,{className:"cursor-pointer",onClick:()=>g(Math.min(p+1,10))})]})]})})};var eu=s(2105),eh=s(970);function em(e){let{className:t,type:s,...r}=e;return(0,a.jsx)("input",{type:s,"data-slot":"input",className:(0,p.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...r})}var ex=s(6150);async function ep(e,t){var s;let a=e.length,r=[],n={};for(let t=0;t<a;t++){let s=e[t];if(".zarray"===s.name||".zattrs"===s.name){let e=s.webkitRelativePath,t=e.split("/");t.shift(),e=t.join("/"),r.push("/"+e)}}for(let e of r){let s=await t.get(e);n[e.slice(1)]=(0,ex.eg)(s)}let i={};for(let[e,t]of Object.entries({metadata:n,zarr_consolidated_format:1}.metadata))i["/".concat(e)]=t;return{async get(e,s){if(i[e])return(0,ex.kj)(i[e]);let a=await t.get(e,s);if((e.endsWith(".zarray")||e.endsWith(".zgroup")||e.endsWith(".zattrs")||e.endsWith("zarr.json"))&&a){let t=(0,ex.eg)(a);i[e]=t}return a},getRange:null==(s=t.getRange)?void 0:s.bind(t),contents(){let e=[];for(let[t,s]of Object.entries(i)){let a=t.split("/"),r=a.pop(),n=a.join("/")||"/";".zarray"===r&&e.push({path:n,kind:"array"}),".zgroup"===r&&e.push({path:n,kind:"group"}),"zarr_format"in s&&3===s.zarr_format&&e.push({path:n,kind:s.node_type})}return e}}}let eg=e=>{let{setShowLocal:t}=e,s=(0,h.SZ)(e=>e.setCurrentStore),r=(0,h.on)(e=>e.setVariable),n=async e=>{let a=e.target.files;if(!a||0===a.length)return;let n=new Map,i=a[0].webkitRelativePath.split("/")[0];for(let e=0;e<a.length;e++){let t=a[e],s=t.webkitRelativePath.substring(i.length+1);s&&n.set("/"+s,t.arrayBuffer())}let l={async get(e){let t=await n.get(e);return t?new Uint8Array(t):void 0}};try{let e=await eu.x(l);"contents"in e||(e=await ep(a,l)),eh.h(e,{kind:"group"}).then(e=>{s(e)}),r("Default"),t(!1)}catch(e){e instanceof Error?console.log("Error opening Zarr store: ".concat(e.message)):console.log("An unknown error occurred when opening the Zarr store.")}};return(0,a.jsx)("div",{children:(0,a.jsx)(em,{type:"file",id:"filepicker",className:"hover:drop-shadow-md hover:scale-[110%]",style:{width:"200px",cursor:"pointer"},directory:"",webkitdirectory:"true",onChange:n})})};function ef(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"card",className:(0,p.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...s})}function ev(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"card-content",className:(0,p.cn)("px-6",t),...s})}s(5896),s(3316);let ej=()=>{let{analysisMode:e,setAnalysisMode:t}=(0,h.r2)((0,u.k)(e=>({analysisMode:e.analysisMode,setAnalysisMode:e.setAnalysisMode})));return(0,a.jsxs)(ef,{className:"panel-container",children:[(0,a.jsx)(eU,{}),(0,a.jsx)(eD,{}),(0,a.jsx)(eS,{}),(0,a.jsx)(eM,{}),(0,a.jsx)(eO,{}),(0,a.jsx)(eY,{}),(0,a.jsx)(te,{})]})};var eb=s(789),ew=s(6438);let ey=["volume","point-cloud","sphere","flat"],eA={volume:(0,a.jsx)(eb.rxA,{className:"panel-item"}),"point-cloud":(0,a.jsx)(ew.n37,{className:"panel-item"}),sphere:(0,a.jsx)(eb.sXn,{className:"panel-item"}),flat:(0,a.jsx)(g.rtt,{className:"panel-item"})},eS=()=>{let{plotType:e,setPlotType:t}=(0,h.Ws)((0,u.k)(e=>({plotType:e.plotType,setPlotType:e.setPlotType}))),s=(0,h.on)(e=>e.isFlat),[n,i]=(0,r.useState)("left");return(0,r.useEffect)(()=>{let e=()=>{i(window.innerWidth<768?"top":"left")};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,a.jsxs)(P,{children:[(0,a.jsx)(U,{asChild:!0,children:(0,a.jsx)("div",{role:"button",className:"panel-item",style:{transform:"scale(1)"},tabIndex:0,"aria-label":"Select plot type",children:eA[e]})}),(0,a.jsx)(V,{side:n,className:"flex flex-col items-center min-w-[48px] max-w-[72px] w-[56px] p-2 mb-1",children:ey.map((r,n)=>n<2&&s?null:(0,a.jsx)(x.$,{variant:e===r?"default":"ghost",className:"mb-2 w-12 h-12 flex items-center cursor-pointer justify-center transform transition-transform duration-100 ease-out hover:scale-90",onClick:()=>{t(r)},"aria-label":"Select ".concat(r),children:eA[r]},r))})]})};var eN=s(4354),ek=s(1813);function eC(e){let{className:t,orientation:s="horizontal",decorative:r=!0,...n}=e;return(0,a.jsx)(ek.b,{"data-slot":"separator",decorative:r,orientation:s,className:(0,p.cn)("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",t),...n})}var eE=s(4593);let ez=e=>{let{meta:t,setShowMeta:s}=e,{is4D:n,idx4D:i,variable:l,setIs4D:o,setIdx4D:c,setVariable:d}=(0,h.on)((0,u.k)(e=>({is4D:e.is4D,idx4D:e.idx4D,variable:e.variable,setIs4D:e.setIs4D,setIdx4D:e.setIdx4D,setVariable:e.setVariable}))),{slice:m,reFetch:p,setSlice:g,setReFetch:f}=(0,h.SZ)((0,u.k)(e=>({reFetch:e.reFetch,slice:e.slice,setSlice:e.setSlice,setReFetch:e.setReFetch}))),v=(0,r.useMemo)(()=>t.totalSize?t.totalSize:0,[t]),j=(0,r.useMemo)(()=>t.shape?4==t.shape.length?t.shape[1]:t.shape[0]:0,[t]),b=(0,r.useMemo)(()=>!!t.shape&&3==t.shape.length,[t]),w=n?t.shape[1]/t.chunks[1]>1:t.shape[0]/t.chunks[0]>1,y=(0,r.useMemo)(()=>{if(b){let e=m[0]?m[0]:0,s=m[1]?m[1]:j,a=t.shape[2]/t.chunks[2]*(t.shape[1]/t.chunks[1])*t.chunkSize;return Math.ceil((s-e)/(t.chunks?t.chunks[0]:1))*a}if(!n)return 0;{let e=m[0]?m[0]:0,s=m[1]?m[1]:j,a=t.shape[3]/t.chunks[3]*(t.shape[2]/t.chunks[2])*t.chunkSize;return Math.ceil((s-e)/(t.chunks?t.chunks[1]:1))*a}},[t,m]);return(0,r.useEffect)(()=>{o(4==t.shape.length)}),(0,r.useEffect)(()=>{g([0,null]),c(null)},[t]),(0,a.jsxs)(ef,{className:"meta-container max-w-sm md:max-w-md p-4 mb-4 border border-muted select-none",children:[(0,a.jsxs)("div",{className:"meta-info",children:[(0,a.jsx)("b",{children:"Long Name"})," ",(0,a.jsx)("br",{}),"".concat(t.long_name),(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),(0,a.jsx)("b",{children:"Shape"}),(0,a.jsx)("br",{}),"[".concat((e=>"string"==typeof e?e:Array.isArray(e)?e.join(", "):String(e))(t.shape),"]"),(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),n&&(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{children:["This is Four-Dimensional Dataset. You must select an index along the first dimension. ",(0,a.jsx)("br",{}),"Please select an index from ",(0,a.jsx)("b",{children:"0"})," to ",(0,a.jsx)("b",{children:t.shape[0]-1})]}),(0,a.jsx)(em,{type:"number",min:0,max:t.shape[0]-1,value:String(i),onChange:e=>c(parseInt(e.target.value))})]})}),(b||null!=i)&&(0,a.jsxs)(a.Fragment,{children:[v>1e8&&w&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsx)("b",{children:"Select Data Range"})}),(0,a.jsxs)("div",{className:"w-full flex flex-col justify-between",children:[(0,a.jsx)(eE.A,{range:!0,min:0,max:j,value:[m[0]?m[0]:0,m[1]?m[1]:j],step:1,onChange:e=>g(e)}),(0,a.jsxs)("div",{className:"flex justify-between text-xs mt-4",children:[(0,a.jsxs)("span",{children:["Min: ",(0,a.jsx)("br",{})," ",(0,a.jsx)("input",{className:"w-[50px]",type:"number",value:m[0],onChange:e=>g([parseInt(e.target.value),m[1]])})]}),(0,a.jsxs)("span",{children:["Max: ",(0,a.jsx)("br",{})," ",(0,a.jsx)("input",{className:"w-[50px] text-right",type:"number",value:m[1]?m[1]:j,onChange:e=>g([m[0],parseInt(e.target.value)])})]})]})]})]}),(0,a.jsx)("b",{children:"Total Size: "}),(e=>{if(0===e)return"0 Bytes";let t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB","TB"][t]})(y),(0,a.jsx)("br",{}),y<1e8&&(0,a.jsx)("span",{className:"bg-green-500 rounded px-2 py-1",children:"Selected data will fit in memory"}),y>1e8&&y<2e8&&(0,a.jsx)("span",{className:"bg-yellow-500 rounded px-2 py-1",children:"Data may not fit in memory"}),y>2e8&&(0,a.jsx)("span",{className:"bg-red-400 rounded px-2 py-1",children:"Data will not fit in memory"})]})]}),(0,a.jsx)(x.$,{variant:"destructive",className:"cursor-pointer hover:scale-[1.05]",disabled:n&&null==i,onClick:()=>{l==t.name?f(!p):d(t.name),s(!1)},children:"Plot"})]})},eD=()=>{let[e,t]=(0,r.useState)("left"),[s,n]=(0,r.useState)(!1),{variables:i,zMeta:l}=(0,h.on)((0,u.k)(e=>({variables:e.variables,zMeta:e.zMeta}))),[o,c]=(0,r.useState)(null),[d,m]=(0,r.useState)(null);return(0,r.useEffect)(()=>{if(i&&l&&o){let e=i[o];m(l.find(t=>t.name===e))}},[o,i]),(0,r.useEffect)(()=>{let e=()=>{t(window.innerWidth<768?"top":"left")};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,a.jsxs)(P,{children:[(0,a.jsx)(U,{children:(0,a.jsx)(eN.T45,{className:"panel-item"})}),(0,a.jsxs)(V,{side:e,className:"colormaps",children:[i.map((e,t)=>(0,a.jsxs)(r.Fragment,{children:[(0,a.jsx)("div",{className:"cursor-pointer pl-2 py-1 text-sm hover:bg-muted rounded",style:{background:t==o?"#d6d6d6ff":""},onClick:()=>{c(t),n(!0)},children:e}),t!=i.length-1&&(0,a.jsx)(eC,{className:"my-1"})]},t)),s&&d&&(0,a.jsx)("div",{className:"meta-options w-[300px]",children:(0,a.jsx)(ez,{meta:d,setShowMeta:n})})]})]})},eM=()=>{let[e,t]=(0,r.useState)("Spectral"),[s,i]=(0,r.useState)(!1),[l,o]=(0,r.useState)(null),{colormap:c,setColormap:d}=(0,h.on)((0,u.k)(e=>({setColormap:e.setColormap,colormap:e.colormap}))),[x,p]=(0,r.useState)("left");return(0,r.useEffect)(()=>{d((0,m.v6)(c,"Default"===(l||e)?"Spectral":l||e,1,"#000000",0,s))},[e,s,l]),(0,r.useEffect)(()=>{let e=()=>{p(window.innerWidth<768?"top":"left")};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,a.jsx)("div",{className:"relative",children:(0,a.jsxs)(P,{children:[(0,a.jsx)(U,{children:(0,a.jsx)("div",{className:"panel-item",style:{backgroundImage:"url(./colormap_icons/".concat(e,".webp)"),backgroundSize:"100%",transform:s?"scaleX(-1)":""}})}),(0,a.jsxs)(V,{side:x,className:"colormaps",children:[m.dl.map(e=>(0,a.jsx)(n.default,{className:"cmap ".concat(s?"flipped":""),src:"./colormap_icons/".concat(e,".webp"),alt:e,height:100,width:256,onMouseEnter:()=>o(e),onMouseLeave:()=>o(null),onClick:()=>{t(e),o(null)}},e)),(0,a.jsx)(g.QkK,{className:"flipper",style:{position:"absolute",top:"-2rem",right:"80%",bottom:"90%",height:"50px",width:"50px",cursor:"pointer",transform:"".concat(s?"rotate(270deg)":"rotate(90deg)"),transition:".25s"},onClick:()=>i(e=>!e)})]})]})})};var eR=s(1397);let eL=r.memo(function(e){var t,s;let{range:r,setRange:n,valueScales:i,min:l=-1,array:o}=e,{minVal:c,maxVal:d}=i;c=Number(c),d=Number(d);let[u,h]=[l,1];if(o){let e=o.length,t=Math.round((r[0]-l)/(1-l)*e),s=Math.round((r[1]-l)/(1-l)*e);u=o[t],h=o[s-1]}else u=Math.round(100*(r[0]*(d-(t=c))+t))/100,h=Math.round(100*(r[1]*(d-(s=c))+s))/100;return(0,a.jsxs)("div",{className:"w-full flex justify-between flex-col",children:[(0,a.jsx)(eE.A,{range:!0,min:l,max:1,defaultValue:r,step:.01,onChange:e=>n(e)}),(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",fontSize:12,marginTop:18},children:[(0,a.jsxs)("span",{children:["Min: ",u]}),(0,a.jsxs)("span",{children:["Max: ",h]})]})]})}),eF=()=>{let{valueRange:e,xRange:t,yRange:s,zRange:r,setValueRange:n,setXRange:i,setYRange:l,setZRange:o}=(0,h.Ws)((0,u.k)(e=>({valueRange:e.valueRange,xRange:e.xRange,yRange:e.yRange,zRange:e.zRange,setValueRange:e.setValueRange,setXRange:e.setXRange,setYRange:e.setYRange,setZRange:e.setZRange}))),c={minVal:0,maxVal:0},{valueScales:d,dimArrays:m}=(0,h.on)((0,u.k)(e=>({valueScales:e.valueScales,dimArrays:e.dimArrays,isFlat:e.isFlat})));return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex-column text-center w-[200px]",children:[(0,a.jsx)("b",{children:"Value Cropping"}),(0,a.jsx)(eL,{range:e,setRange:n,valueScales:d,min:0})]}),(0,a.jsxs)("div",{className:"flex-column text-center",children:[(0,a.jsx)("b",{children:"Spatial Cropping"}),(0,a.jsx)(eL,{range:t,setRange:i,valueScales:c,array:m[2]}),(0,a.jsx)(eL,{range:s,setRange:l,valueScales:c,array:m[1]}),(0,a.jsx)(eL,{range:r,setRange:o,valueScales:c,array:m[0]})]})]})},eB=()=>{let{useFragOpt:e,quality:t,transparency:s,nanTransparency:r,nanColor:n,setQuality:i,setUseFragOpt:l,setTransparency:o,setNanTransparency:c,setNanColor:d}=(0,h.Ws)((0,u.k)(e=>({useFragOpt:e.useFragOpt,quality:e.quality,transparency:e.transparency,nanTransparency:e.nanTransparency,nanColor:e.nanColor,setQuality:e.setQuality,setUseFragOpt:e.setUseFragOpt,setTransparency:e.setTransparency,setNanTransparency:e.setNanTransparency,setNanColor:e.setNanColor})));return(0,a.jsxs)("div",{className:"grid gap-y-[5px] items-center w-50 text-center",children:[(0,a.jsx)("b",{children:"Quality"}),(0,a.jsxs)("div",{className:"w-full flex justify-between text-xs",children:["Worse",(0,a.jsx)("input",{type:"range",min:50,max:1e3,step:50,value:t,onChange:e=>i(parseInt(e.target.value))}),"Better"]}),(0,a.jsx)(x.$,{variant:"destructive",className:"w-[100%] h-[20px] cursor-[pointer]",onClick:()=>l(!e),children:e?"Revert to Normal":"Use Optimized Shader"}),(0,a.jsx)("b",{children:"Transparency"}),(0,a.jsx)("input",{type:"range",min:0,max:10,step:.2,value:s,onChange:e=>o(parseFloat(e.target.value))}),(0,a.jsx)("b",{children:"NaN Transparency"}),(0,a.jsx)("input",{type:"range",min:0,max:1,step:.05,value:r,onChange:e=>c(parseFloat(e.target.value))}),(0,a.jsx)("b",{children:"NaN Color"}),(0,a.jsx)("input",{type:"color",className:"w-[100%] cursor-pointer",value:n,onChange:e=>d(e.target.value)})]})},eT=()=>{let{setPointSize:e,setScaleIntensity:t,setScalePoints:s,setTimeScale:r}=(0,h.Ws)((0,u.k)(e=>({setPointSize:e.setPointSize,setScaleIntensity:e.setScaleIntensity,setScalePoints:e.setScalePoints,setTimeScale:e.setTimeScale}))),{scalePoints:n,scaleIntensity:i,pointSize:l,timeScale:o}=(0,h.Ws)((0,u.k)(e=>({scalePoints:e.scalePoints,scaleIntensity:e.scaleIntensity,pointSize:e.pointSize,timeScale:e.timeScale})));return(0,a.jsxs)("div",{className:"flex-column items-center w-50 text-center",children:[(0,a.jsx)("b",{children:"Point Size"}),(0,a.jsx)("input",{type:"range",className:"w-full",min:1,max:50,step:1,defaultValue:l,onChange:t=>e(parseInt(t.target.value))}),(0,a.jsx)(x.$,{variant:"destructive",className:"w-[100%] h-[20px] cursor-[pointer]",onClick:()=>s(!n),children:n?"Remove Scaling":"Scale By Value"}),n&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("b",{children:"Scale Intensity"}),(0,a.jsx)("input",{type:"range",className:"w-full",min:1,max:100,step:1,defaultValue:i,onChange:e=>t(parseInt(e.target.value))})]}),(0,a.jsx)("b",{children:"Resize Time Dimension"}),(0,a.jsx)("input",{type:"range",className:"w-full",min:.05,max:5,step:.05,defaultValue:o,onChange:e=>r(parseFloat(e.target.value))})]})},eI=()=>{let{dimArrays:e,dimUnits:t}=(0,h.on)((0,u.k)(e=>({dimArrays:e.dimArrays,dimUnits:e.dimUnits}))),{lonExtent:s,latExtent:r,lonResolution:n,latResolution:i,setLonExtent:l,setLatExtent:o,setLonResolution:c,setLatResolution:d}=(0,h.Ws)((0,u.k)(e=>({lonExtent:e.lonExtent,latExtent:e.latExtent,lonResolution:e.lonResolution,latResolution:e.latResolution,setLonExtent:e.setLonExtent,setLatExtent:e.setLatExtent,setLonResolution:e.setLonResolution,setLatResolution:e.setLatResolution})));return(0,a.jsxs)("div",{className:"grid gap-2 mb-4 justify-items-center ",children:[(0,a.jsx)("h1",{children:"Spatial Extent"}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsxs)("div",{className:"flex-col justify-items-center",children:[(0,a.jsx)("h2",{children:"Min Lon"}),(0,a.jsx)(em,{value:s[0],onChange:e=>l([parseFloat(e.target.value),s[1]]),type:"number"})]}),(0,a.jsxs)("div",{className:"flex-col justify-items-center",children:[(0,a.jsx)("h2",{children:"Max Lon"}),(0,a.jsx)(em,{value:s[1],onChange:e=>l([s[0],parseFloat(e.target.value)]),type:"number"})]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsxs)("div",{className:"flex-col justify-items-center",children:[(0,a.jsx)("h2",{children:"Min Lat"}),(0,a.jsx)(em,{value:r[0],onChange:e=>o([parseFloat(e.target.value),r[1]]),type:"number"})]}),(0,a.jsxs)("div",{className:"flex-col justify-items-center",children:[(0,a.jsx)("h2",{children:"Min Lat"}),(0,a.jsx)(em,{value:r[1],onChange:e=>o([r[0],parseFloat(e.target.value)]),type:"number"})]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsxs)("div",{className:"flex-col justify-items-center",children:[(0,a.jsx)("h2",{children:"Lon Resolution"}),(0,a.jsx)(em,{value:n,onChange:e=>c(parseFloat(e.target.value)),type:"number"})]}),(0,a.jsxs)("div",{className:"flex-col justify-items-center",children:[(0,a.jsx)("h2",{children:"Lat Resolution"}),(0,a.jsx)(em,{value:i,onChange:e=>d(parseFloat(e.target.value)),type:"number"})]})]})]})},e_=()=>{let{showBorders:e,borderColor:t,setShowBorders:s,setBorderColor:r}=(0,h.Ws)((0,u.k)(e=>({showBorders:e.showBorders,borderColor:e.borderColor,setShowBorders:e.setShowBorders,setBorderColor:e.setBorderColor})));return(0,a.jsxs)("div",{className:"grid gap-y-[5px] items-center w-50 text-center",children:[(0,a.jsx)(x.$,{variant:"destructive",className:"w-[100%] h-[20px] cursor-[pointer]",onClick:()=>s(!e),children:e?"Hide Borders":"Show Borders"}),e&&(0,a.jsxs)("div",{children:[(0,a.jsx)("b",{children:"Border Color"}),(0,a.jsx)("input",{type:"color",className:"w-[100%] cursor-pointer",value:t,onChange:e=>r(e.target.value)})]})]})},eO=()=>{let[e,t]=(0,r.useState)(!1),{plotOn:s}=(0,h.on)((0,u.k)(e=>({plotOn:e.plotOn}))),{plotType:n}=(0,h.Ws)((0,u.k)(e=>({plotType:e.plotType})));return(0,r.useEffect)(()=>{let e=()=>{t(window.innerWidth<=768)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,a.jsxs)(P,{children:[(0,a.jsx)(U,{disabled:!s,children:(0,a.jsx)(eR.xPd,{color:s?"":"var(--text-disabled)",style:{cursor:s?"pointer":"auto",transform:s?"":"scale(1)"},className:"panel-item"})}),(0,a.jsx)(V,{side:e?"top":"left",className:"".concat(e?"overflow-y-scroll overflow-x-hidden w-[calc(100vw-24px)] mb-1":"w-[242px]"),style:{height:"fit-content"},children:(0,a.jsxs)("div",{className:"px-2 py-2",children:["volume"===n&&(0,a.jsx)(eB,{}),"point-cloud"===n&&(0,a.jsx)(eT,{}),("volume"===n||"point-cloud"===n)&&(0,a.jsx)(eF,{}),"sphere"===n&&(0,a.jsx)(eI,{}),(0,a.jsx)(e_,{})]})})]})},eP={ESDC:"https://s3.bgc-jena.mpg.de:9000/esdl-esdc-v3.0.2/esdc-16d-2.5deg-46x72x1440-3.0.2.zarr",SEASFIRE:"https://s3.bgc-jena.mpg.de:9000/misc/seasfire_rechunked.zarr"},eU=()=>{let[e,t]=(0,r.useState)(!1),[s,n]=(0,r.useState)(!1),[i,l]=(0,r.useState)("left"),[o,c]=(0,r.useState)("ESDC"),{setInitStore:d,setVariable:m}=(0,h.on)((0,u.k)(e=>({setInitStore:e.setInitStore,setVariable:e.setVariable})));return(0,r.useEffect)(()=>{let e=()=>{l(window.innerWidth<768?"top":"left")};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,a.jsxs)(P,{children:[(0,a.jsx)(U,{asChild:!0,children:(0,a.jsx)("div",{role:"button",tabIndex:0,"aria-label":"Select dataset",children:(0,a.jsx)(eN.Gn0,{className:"panel-item"})})}),(0,a.jsxs)(V,{side:i,className:"flex flex-col items-start max-w-[220px] p-3 gap-3 w-auto mb-1",children:[(0,a.jsx)(x.$,{variant:"ESDC"===o?"default":"ghost",className:"cursor-pointer",onClick:()=>{t(!1),n(!1),m("Default"),c("ESDC"),d(eP.ESDC)},children:"ESDC"}),(0,a.jsx)(x.$,{variant:"seasfire"===o?"default":"ghost",className:"cursor-pointer",onClick:()=>{t(!1),n(!1),m("Default"),c("seasfire"),d(eP.SEASFIRE)},children:"Seasfire"}),(0,a.jsxs)("div",{children:[(0,a.jsx)(x.$,{variant:"remote"===o?"default":"ghost",className:"cursor-pointer",onClick:()=>{n(!1),c("remote"),t(e=>!e)},children:"Remote"}),e&&(0,a.jsxs)("form",{className:"mt-2 flex items-center gap-2",onSubmit:e=>{e.preventDefault(),d(e.currentTarget.elements[0].value),m("Default")},children:[(0,a.jsx)(em,{className:"w-[100px]",placeholder:"Store URL"}),(0,a.jsx)(x.$,{type:"submit",variant:"outline",children:"Fetch"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(x.$,{variant:"local"===o?"default":"ghost",className:"cursor-pointer",onClick:()=>{n(e=>!e),t(!1),c("local"),d("local")},children:"Local"}),s&&(0,a.jsx)("div",{className:"mt-2",children:(0,a.jsx)(eg,{setShowLocal:n})})]})]})]})};var eV=s(9259);let eW=[1,2,4,6,8,12,16,24,36,48,54,60,80,120],eG=e=>{let{visible:t}=e,{animate:s,animProg:n,setAnimate:i,setAnimProg:l}=(0,h.Ws)((0,u.k)(e=>({animate:e.animate,animProg:e.animProg,setAnimate:e.setAnimate,setAnimProg:e.setAnimProg}))),{dimArrays:o,dimNames:c,dimUnits:d}=(0,h.on)((0,u.k)(e=>({dimArrays:e.dimArrays,dimNames:e.dimNames,dimUnits:e.dimUnits}))),m=(0,r.useMemo)(()=>o[0].length,[o]),p=(0,r.useRef)(null),g=(0,r.useRef)(0),[f,v]=(0,r.useState)(5),j=(0,r.useRef)(5);(0,r.useEffect)(()=>{if(s){j.current!=f&&p.current&&(clearInterval(p.current),p.current=null),j.current=f;let e=1e3/eW[f];g.current=Math.round(n*m),p.current=setInterval(()=>{g.current+=1,l((g.current+1)%m/m)},e)}else p.current&&(clearInterval(p.current),p.current=null);return()=>{p.current&&clearInterval(p.current)}},[s,f]);let b=(0,ec.SB)(o[0][Math.min(Math.round(n*m),m-1)],d[0],!0),w=(0,ec.SB)(o[0][0],d[0],!0),y=(0,ec.SB)(o[0][m-1],d[0],!0);return(0,a.jsx)("div",{style:{display:t?"":"none"},children:(0,a.jsx)(ef,{className:"play-interface",children:(0,a.jsxs)(ev,{className:"flex flex-col gap-2 w-full h-full",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-2 w-full",children:[(0,a.jsx)("div",{className:"text-xs sm:text-sm text-center",children:b}),(0,a.jsxs)("div",{className:"flex items-center gap-2 w-full",children:[(0,a.jsx)("span",{className:"text-xs",children:w}),(0,a.jsx)("input",{type:"range",className:"flex-1 cursor-pointer",value:n*m,min:0,max:m,step:1,onChange:e=>l(parseInt(e.target.value)/m)}),(0,a.jsx)("span",{className:"text-xs",children:y})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-3 items-center w-full",children:[(0,a.jsx)("div",{className:"justify-self-start",children:(0,a.jsx)(x.$,{variant:"secondary",size:"sm",className:"cursor-pointer",disabled:f<=0,onClick:()=>v(e=>Math.max(0,e-1)),children:"Slower"})}),(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center gap-1 w-full",children:[(0,a.jsx)(x.$,{variant:"default",size:"sm",className:"cursor-pointer",onClick:()=>i(!s),"aria-label":s?"Pause":"Play",title:s?"Pause":"Play",children:s?(0,a.jsx)(eV.kwt,{}):(0,a.jsx)(eV.gSK,{})}),(0,a.jsxs)("div",{className:"text-[11px] leading-none",children:[(0,a.jsx)("b",{children:eW[f]})," FPS"]})]}),(0,a.jsx)("div",{className:"justify-self-end",children:(0,a.jsx)(x.$,{variant:"secondary",size:"sm",className:"cursor-pointer",disabled:f>=eW.length-1,onClick:()=>v(e=>Math.min(eW.length-1,e+1)),children:"Faster"})})]})]})})})},eY=()=>{let{isFlat:e,plotOn:t}=(0,h.on)((0,u.k)(e=>({isFlat:e.isFlat,plotOn:e.plotOn}))),[s,n]=(0,r.useState)(!1),i=(0,r.useMemo)(()=>!e&&t,[e,t]),l=!e&&t;return(0,a.jsxs)("div",{children:[(0,a.jsx)(eb.BXV,{className:"panel-item",color:l?"":"var(--text-disabled)",onClick:e=>{i&&n(e=>!e)},style:{transform:l?"":"scale(1)",cursor:l?"pointer":"auto"}}),(0,a.jsx)(eG,{visible:s})]})};s(2537);let eX=()=>{let{zarrFetch:e,cors:t,oom:s,setZarrFetch:r,setCors:n,setOom:i}=(0,h.$U)((0,u.k)(e=>({zarrFetch:e.zarrFetch,cors:e.cors,oom:e.oom,setZarrFetch:e.setZarrFetch,setCors:e.setCors,setOom:e.setOom}))),l=[e,t,s],o=[r,n,i],c=l.includes(!0);return(0,a.jsx)(a.Fragment,{children:c&&(0,a.jsx)("div",{className:"error-background",children:(0,a.jsxs)("div",{className:"error-container",children:[(0,a.jsx)("div",{className:"text-[48px] font-bold text-center mb-[10px]",children:"Error"}),(0,a.jsxs)("div",{className:"error-message",children:[e&&(0,a.jsxs)("div",{children:["Failed to fetch data from the store.",(0,a.jsx)("br",{}),"If this store has worked beforehand then this is likely a temporary issue. Try again"]}),t&&(0,a.jsxs)("div",{children:["This dataset is hosted on a different website and your browser is blocking it for security reasons. It's called a \"CORS\" issue (Cross-Origin Resource Sharing). The server you're trying to access hasn't given permission for browsers to fetch data from other websites like this one. ",(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),"If you access it through code outside a browser (i.e., in Python), it works fine - because those environments don't follow browser security rules. ",(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),'To fix this, the dataset\'s hosting server needs to allow access by adding headers that tell your browser "this is safe." If you control the server, you can add those CORS headers. Otherwise, reach out to whoever manages the data and ask them to enable CORS for browser access.']}),s&&(0,a.jsxs)("div",{children:["Whoa there! ",(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),"If you're reading this you've just tried to plot a ridiculous amount of points. Your browser ran out of memory allocating the arrays necessary to dictate their positions in space. Stick to the volumetric view if you need to view the entire dataset."]})]}),(0,a.jsx)("div",{className:"flex justify-center mt-[10px]",children:(0,a.jsx)(x.$,{className:"cursor-pointer hover:scale-[1.1]",onClick:e=>(()=>{for(let e=0;e<l.length;e++)l[e]&&(0,o[e])(!1)})(),children:"Okay"})})]})})})};var eK=s(5048),eH=s(5490),eZ=s(9588),eQ=s(6966),eJ=s(5605);function e$(e){let{...t}=e;return(0,a.jsx)(eH.bL,{"data-slot":"select",...t})}function eq(e){let{...t}=e;return(0,a.jsx)(eH.YJ,{"data-slot":"select-group",...t})}function e0(e){let{...t}=e;return(0,a.jsx)(eH.WT,{"data-slot":"select-value",...t})}function e1(e){let{className:t,size:s="default",children:r,...n}=e;return(0,a.jsxs)(eH.l9,{"data-slot":"select-trigger","data-size":s,className:(0,p.cn)("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...n,children:[r,(0,a.jsx)(eH.In,{asChild:!0,children:(0,a.jsx)(eZ.A,{className:"size-4 opacity-50"})})]})}function e2(e){let{className:t,children:s,position:r="popper",...n}=e;return(0,a.jsx)(eH.ZL,{children:(0,a.jsxs)(eH.UC,{"data-slot":"select-content",className:(0,p.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===r&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[(0,a.jsx)(e3,{}),(0,a.jsx)(eH.LM,{className:(0,p.cn)("p-1","popper"===r&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:s}),(0,a.jsx)(e8,{})]})})}function e5(e){let{className:t,...s}=e;return(0,a.jsx)(eH.JU,{"data-slot":"select-label",className:(0,p.cn)("text-muted-foreground px-2 py-1.5 text-xs",t),...s})}function e4(e){let{className:t,children:s,...r}=e;return(0,a.jsxs)(eH.q7,{"data-slot":"select-item",className:(0,p.cn)("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...r,children:[(0,a.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,a.jsx)(eH.VF,{children:(0,a.jsx)(eQ.A,{className:"size-4"})})}),(0,a.jsx)(eH.p4,{children:s})]})}function e3(e){let{className:t,...s}=e;return(0,a.jsx)(eH.PP,{"data-slot":"select-scroll-up-button",className:(0,p.cn)("flex cursor-default items-center justify-center py-1",t),...s,children:(0,a.jsx)(eJ.A,{className:"size-4"})})}function e8(e){let{className:t,...s}=e;return(0,a.jsx)(eH.wn,{"data-slot":"select-scroll-down-button",className:(0,p.cn)("flex cursor-default items-center justify-center py-1",t),...s,children:(0,a.jsx)(eZ.A,{className:"size-4"})})}let e6=["Mean","Min","Max","StDev"],e9=["Mean","Min","Max","StDev"],e7=(0,a.jsxs)("div",{className:"m-0 p-5 font-sans flex-column justify-center items-center",children:[(0,a.jsx)("span",{className:"text-5xl mb-4 block self-center",children:"⚠️"}),(0,a.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"WebGPU Not Available"}),(0,a.jsx)("p",{className:"text-base leading-relaxed mb-1 opacity-95",children:"WebGPU is not supported or enabled in your current browser. This feature is required for GPU-accelerated computing."}),(0,a.jsxs)("div",{className:"bg-white bg-opacity-15 rounded-xl border border-white border-opacity-20",children:[(0,a.jsx)("h3",{className:"m-0 mb-4 text-lg font-semibold",children:"Try These Solutions:"}),(0,a.jsxs)("ul",{className:"suggestion-list",children:[(0,a.jsx)("li",{children:"Switch to a Chrome-based browser (Chrome, Edge, Brave)"}),(0,a.jsx)("li",{children:"Use Safari on macOS (version 14.1 or later)"}),(0,a.jsx)("li",{children:"Enable WebGPU in your browser's experimental features"}),(0,a.jsx)("li",{children:"Update your browser to the latest version"})]})]})]}),te=()=>{let{plotOn:e,variable:t}=(0,h.on)((0,u.k)(e=>({plotOn:e.plotOn,variable:e.variable}))),{execute:s,operation:n,useTwo:i,kernelSize:l,kernelDepth:o,kernelOperation:c,axis:d,variable2:m,analysisMode:p,setExecute:g,setAxis:f,setOperation:v,setUseTwo:j,setVariable2:b,setKernelSize:w,setKernelDepth:y,setKernelOperation:A,setAnalysisMode:S}=(0,h.r2)((0,u.k)(e=>({execute:e.execute,operation:e.operation,useTwo:e.useTwo,kernelSize:e.kernelSize,kernelDepth:e.kernelDepth,kernelOperation:e.kernelOperation,axis:e.axis,variable2:e.variable2,analysisMode:e.analysisMode,setExecute:e.setExecute,setAxis:e.setAxis,setOperation:e.setOperation,setUseTwo:e.setUseTwo,setVariable2:e.setVariable2,setKernelSize:e.setKernelSize,setKernelDepth:e.setKernelDepth,setKernelOperation:e.setKernelOperation,setAnalysisMode:e.setAnalysisMode}))),{variables:N,dimNames:k}=(0,h.on)((0,u.k)(e=>({variables:e.variables,dimNames:e.dimNames}))),{reFetch:C,setReFetch:E}=(0,h.SZ)((0,u.k)(e=>({reFetch:e.reFetch,setReFetch:e.setReFetch}))),[z,D]=(0,r.useState)(!1);(0,r.useEffect)(()=>{(async()=>{if(!navigator.gpu)return D(!0);try{await navigator.gpu.requestAdapter(),D(!1)}catch(e){D(!0)}})()},[e]);let[M,R]=(0,r.useState)("left");function L(e){let t=parseInt(e);return t%2==0?Math.max(1,t-1):t}return(0,r.useEffect)(()=>{let e=()=>{R(window.innerWidth<768?"top":"left")};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,a.jsxs)(P,{children:[(0,a.jsx)(U,{disabled:!e,children:(0,a.jsx)(eb.x6X,{color:e?"":"var(--text-disabled)",style:{cursor:e?"pointer":"auto",transform:e?"":"scale(1)"},className:"panel-item"})}),(0,a.jsx)(V,{side:M,className:"analysis-info select-none",children:z?e7:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(x.$,{className:"cursor-pointer active:scale-[0.95]",onClick:()=>{j(!i),v("Default")},children:i?"Use One \n Variable":"Use Two Variables"}),(0,a.jsx)("table",{style:{textAlign:"right"},children:(0,a.jsxs)("tbody",{children:[(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{children:"Current Variable"}),(0,a.jsx)("td",{className:"text-center w-[100%] align-middle justify-center content-center",children:(0,a.jsxs)("button",{className:"rounded-[6px] self-center w-[80%] mx-auto relative border border-gray-150 py-[5px] ".concat(p?"hover:scale-[0.95]":""," transition-[0.2s]"),style:{cursor:p?"pointer":"",background:p?"#b6d1ddff":"#f8f8f8"},disabled:!p,onClick:e=>{E(!C),S(!1)},children:[p&&(0,a.jsx)(eK.fc4,{size:20,style:{position:"absolute",left:"0%",top:"10%"}}),t]})})]}),i&&(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{children:"Second Variable"}),(0,a.jsx)("td",{children:(0,a.jsxs)(e$,{onValueChange:b,children:[(0,a.jsx)(e1,{style:{width:"175px",marginLeft:"10px"},children:(0,a.jsx)(e0,{placeholder:"Default"==m?"Select...":m})}),(0,a.jsx)(e2,{children:N.map((e,s)=>e==t?null:(0,a.jsx)(e4,{value:e,children:e},s))})]})})]})}),(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{children:"Operation"}),!i&&(0,a.jsx)("td",{children:(0,a.jsxs)(e$,{onValueChange:v,children:[(0,a.jsx)(e1,{style:{width:"175px",marginLeft:"10px"},children:(0,a.jsx)(e0,{placeholder:"Default"===n?"Select...":n})}),(0,a.jsxs)(e2,{children:[(0,a.jsxs)(eq,{children:[(0,a.jsx)(e5,{children:"Dimension Reduction"}),e6.map((e,t)=>(0,a.jsx)(e4,{value:e,children:e},t))]}),(0,a.jsxs)(eq,{children:[(0,a.jsx)(e5,{children:"Three Dimensional"}),(0,a.jsx)(e4,{value:"Convolution",children:"Convolution"})]})]})]})}),i&&(0,a.jsx)("td",{children:(0,a.jsxs)(e$,{onValueChange:v,children:[(0,a.jsx)(e1,{style:{width:"175px",marginLeft:"10px"},children:(0,a.jsx)(e0,{placeholder:"Default"===n?"Select...":n})}),(0,a.jsxs)(e2,{children:[(0,a.jsxs)(eq,{children:[(0,a.jsx)(e5,{children:"Dimension Reduction"}),(0,a.jsx)(e4,{value:"Correlation2D",children:"Correlation"})]}),(0,a.jsxs)(eq,{children:[(0,a.jsx)(e5,{children:"Three Dimensional"}),(0,a.jsx)(e4,{value:"Correlation3D",children:"Correlation"})]})]})]})})]}),"Convolution"!==n&&"Correlation3D"!==n&&"Default"!==n&&(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{children:"Axis"}),(0,a.jsx)("td",{children:(0,a.jsxs)(e$,{onValueChange:e=>f(parseInt(e)),children:[(0,a.jsx)(e1,{style:{width:"175px",marginLeft:"10px"},children:(0,a.jsx)(e0,{placeholder:k[d]})}),(0,a.jsx)(e2,{children:k.map((e,t)=>(0,a.jsx)(e4,{value:String(t),children:e},t))})]})})]}),("Convolution"===n||"Correlation3D"===n)&&(0,a.jsxs)(a.Fragment,{children:["Convolution"===n&&(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{children:"Kernel Op."}),(0,a.jsx)("td",{children:(0,a.jsxs)(e$,{onValueChange:A,children:[(0,a.jsx)(e1,{style:{width:"175px",marginLeft:"10px"},children:(0,a.jsx)(e0,{placeholder:"Default"===c?"Select...":c})}),(0,a.jsx)(e2,{children:e9.map((e,t)=>(0,a.jsx)(e4,{value:e,children:e},t))})]})})]}),(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{style:{padding:"0px 12px"},children:"Kernel Size"}),(0,a.jsx)("td",{children:(0,a.jsx)("table",{style:{width:"100%",tableLayout:"fixed"},children:(0,a.jsxs)("tbody",{children:[(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{style:{textAlign:"center"},children:"Size"}),(0,a.jsx)("td",{style:{textAlign:"center"},children:"Depth"})]}),(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{style:{textAlign:"center",padding:"0px 12px"},children:(0,a.jsx)(em,{type:"number",min:"1",step:"2",value:String(l),onChange:e=>w(L(e.target.value))})}),(0,a.jsx)("td",{style:{textAlign:"center",padding:"0px 12px"},children:(0,a.jsx)(em,{type:"number",min:"1",step:"2",value:String(o),onChange:e=>y(L(e.target.value))})})]})]})})})]}),(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{}),(0,a.jsx)("th",{children:(0,a.jsx)(tt,{size:Math.min(l,15),depth:Math.min(o,15)})})]})]})]})}),(0,a.jsx)(x.$,{className:"cursor-pointer active:scale-[0.95]",disabled:"Default"===n||"Convolution"===n&&"Default"===c||i&&"Default"===m,onClick:()=>{g(!s),S(!0)},children:"Execute"})]})})]})},tt=e=>{let{size:t,depth:s}=e,n=(0,r.useRef)(null);return(0,r.useEffect)(()=>{let e=n.current;if(!e)return;let a=e.getContext("2d");if(!a)return;e.width=150,e.height=150;let r=(110-6*Math.max(0,s-1))/t;a.clearRect(0,0,150,150);for(let e=s-1;e>=0;e--){let n=6*e,i=6*e/1.5;for(let l=0;l<t;l++)for(let o=0;o<t;o++){a.fillStyle=l===Math.floor(t/2)&&o===Math.floor(t/2)||e==Math.floor(s/2)&&1!=s?"#da5d5dff":"rgba(255, 255, 255, 1)",a.strokeStyle="#334155",a.lineWidth=1;let c=20+n+o*r,d=20+i+l*r;a.beginPath(),a.rect(c,d,r,r),a.fill(),a.stroke()}}},[t,s]),(0,a.jsx)("canvas",{ref:n})}},2537:()=>{},3316:()=>{},3787:()=>{},3964:(e,t,s)=>{"use strict";s.d(t,{cn:()=>n});var a=s(6144),r=s(4480);function n(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.QP)((0,a.$)(t))}},3984:()=>{},4408:()=>{},4882:()=>{},4884:()=>{},6431:(e,t,s)=>{"use strict";s.d(t,{Bi:()=>d,Tk:()=>l,_z:()=>o,tz:()=>u});var a=s(970);function r(e){let t=["bytes","KB","MB","GB","TB","PB"],s=e,a=0;for(;s>=1024&&a<t.length-1;)s/=1024,a++;return"".concat(s.toFixed(2)," ").concat(t[a])}function n(e){return({int8:1,uint8:1,int16:2,uint16:2,int32:4,uint32:4,int64:8,uint64:8,float32:4,float64:8,bool:1})[e]||4}function i(e){return e.reduce((e,t)=>e*t,1)}async function l(e){let t=await e,s="contents"in t.store?t.store.contents():[],l=[];for(let e of s)if(e.path&&e.path.length>1&&"array"===e.kind){let s=await a.h(t.resolve(e.path.substring(1)),{kind:"array"}),o=n(s.dtype),c=i(s.shape),d=function(e,t){return e.reduce((e,s,a)=>e*Math.ceil(s/t[a]),1)}(s.shape,s.chunks),u=i(s.chunks),h=c*o,m=u*o;l.push({name:e.path.substring(1),long_name:s.attrs.long_name,shape:s.shape,chunks:s.chunks,dtype:s.dtype,totalSize:h,totalSizeFormatted:r(h),chunkCount:d,chunkSize:m,chunkSizeFormatted:r(m)})}return l}function o(e){let t=n(e.dtype),s=i(e.shape);return[s*t,i(e.chunks)*t,e.chunks]}let c=["longitude","latitude","lat","lon","time","depth","height","altitude","x","y","z","t","level"];async function d(e){return(await e).filter(e=>!function(e){let t=e.toLowerCase();return c.some(e=>t===e)}(e.name)).map(e=>e.name).sort((e,t)=>e.localeCompare(t))}async function u(e){let t=await e,s="attrs"in t&&"description"in t.attrs?String(t.attrs.description):"";return{title:"attrs"in t&&"title"in t.attrs?String(t.attrs.title):"",description:s}}},6709:()=>{},8247:()=>{},8688:(e,t,s)=>{"use strict";s.d(t,{$U:()=>u,SZ:()=>d,Ws:()=>o,on:()=>l,r2:()=>c});var a=s(4758),r=s(7510),n=s(21),i=s(9901);let l=(0,a.v)((e,t)=>({dataShape:[1,1,1],shape:new r.Pq0(2,2,2),valueScales:{maxVal:1,minVal:-1},colormap:(0,n.v6)(),timeSeries:{},strides:[10368,144,1],showLoading:!1,metadata:null,zMeta:[{}],dataArray:new Uint8Array(1),dimArrays:[[0],[0],[0]],dimNames:["Default"],dimUnits:["Default"],dimCoords:{},plotDim:0,flipY:!1,initStore:"https://s3.bgc-jena.mpg.de:9000/esdl-esdc-v3.0.2/esdc-16d-2.5deg-46x72x1440-3.0.2.zarr",variable:"Default",variables:[],plotOn:!1,isFlat:!1,progress:0,downloading:!1,is4D:!1,idx4D:null,setDataShape:t=>e({dataShape:t}),setShape:t=>e({shape:t}),setValueScales:t=>e({valueScales:t}),setColormap:t=>e({colormap:t}),setTimeSeries:t=>e({timeSeries:t}),updateTimeSeries:s=>{e({timeSeries:Object.fromEntries(Object.entries({...s,...t().timeSeries}).slice(0,10))})},setStrides:t=>e({strides:t}),setShowLoading:t=>e({showLoading:t}),setMetadata:t=>e({metadata:t}),setZMeta:t=>e({zMeta:t}),setDataArray:t=>e({dataArray:t}),setDimArrays:t=>e({dimArrays:t}),setDimNames:t=>e({dimNames:t}),setDimUnits:t=>e({dimUnits:t}),setDimCoords:t=>e({dimCoords:t}),updateDimCoords:s=>{e({dimCoords:Object.fromEntries(Object.entries({...s,...t().dimCoords}).slice(0,10))})},setPlotDim:t=>e({plotDim:t}),setFlipY:t=>e({flipY:t}),setInitStore:t=>e({initStore:t}),setVariable:t=>e({variable:t}),setVariables:t=>e({variables:t}),setPlotOn:t=>e({plotOn:t}),setIsFlat:t=>e({isFlat:t}),setProgress:t=>e({progress:t}),setDownloading:t=>e({downloading:t}),setIs4D:t=>e({is4D:t}),setIdx4D:t=>e({idx4D:t})})),o=(0,a.v)(e=>({plotType:"sphere",pointSize:5,scalePoints:!1,scaleIntensity:1,quality:200,timeScale:1,valueRange:[0,1],xRange:[-1,1],yRange:[-1,1],zRange:[-1,1],selectTS:!1,showPoints:!1,linePointSize:2,lineWidth:1.25,lineColor:"#111111",pointColor:"#EA8686",useLineColor:!1,lineResolution:3,animate:!1,resetAnim:!1,animProg:0,cOffset:0,cScale:1,useFragOpt:!1,resetCamera:!1,useCustomColor:!1,useCustomPointColor:!1,transparency:0,nanTransparency:1,nanColor:"#000000",showBorders:!1,borderColor:"#000000",lonExtent:[-180,180],latExtent:[-90,90],lonResolution:1,latResolution:1,setQuality:t=>e({quality:t}),setTimeScale:t=>e({timeScale:t}),setValueRange:t=>e({valueRange:t}),setXRange:t=>e({xRange:t}),setYRange:t=>e({yRange:t}),setZRange:t=>e({zRange:t}),setPointSize:t=>e({pointSize:t}),setScalePoints:t=>e({scalePoints:t}),setScaleIntensity:t=>e({scaleIntensity:t}),setPlotType:t=>e({plotType:t}),setSelectTS:t=>e({selectTS:t}),setShowPoints:t=>e({showPoints:t}),setLinePointSize:t=>e({linePointSize:t}),setLineWidth:t=>e({lineWidth:t}),setLineColor:t=>e({lineColor:t}),setPointColor:t=>e({pointColor:t}),setUseLineColor:t=>e({useLineColor:t}),setLineResolution:t=>e({lineResolution:t}),setAnimate:t=>e({animate:t}),setResetAnim:t=>e({resetAnim:t}),setAnimProg:t=>e({animProg:t}),setCOffset:t=>e({cOffset:t}),setCScale:t=>e({cScale:t}),setUseFragOpt:t=>e({useFragOpt:t}),setResetCamera:t=>e({resetCamera:t}),setUseCustomColor:t=>e({useCustomColor:t}),setUseCustomPointColor:t=>e({useCustomPointColor:t}),setTransparency:t=>e({transparency:t}),setNanTransparency:t=>e({nanTransparency:t}),setNanColor:t=>e({nanColor:t}),setShowBorders:t=>e({showBorders:t}),setBorderColor:t=>e({borderColor:t}),setLonExtent:t=>e({lonExtent:t}),setLatExtent:t=>e({latExtent:t}),setLonResolution:t=>e({lonResolution:t}),setLatResolution:t=>e({latResolution:t})})),c=(0,a.v)(e=>({analysisMode:!1,axis:0,operation:"Default",execute:!1,useTwo:!1,variable2:"Default",valueScalesOrig:null,kernelSize:3,kernelDepth:3,kernelOperation:"Default",analysisArray:new Uint8Array(1),setAnalysisMode:t=>e({analysisMode:t}),setAxis:t=>e({axis:t}),setOperation:t=>e({operation:t}),setExecute:t=>e({execute:t}),setUseTwo:t=>e({useTwo:t}),setVariable2:t=>e({variable2:t}),setValueScalesOrig:t=>e({valueScalesOrig:t}),setKernelSize:t=>e({kernelSize:t}),setKernelDepth:t=>e({kernelDepth:t}),setKernelOperation:t=>e({kernelOperation:t}),setAnalysisArray:t=>e({analysisArray:t})})),d=(0,a.v)(e=>({slice:[0,null],compress:!1,currentStore:(0,i.Oe)("https://s3.bgc-jena.mpg.de:9000/esdl-esdc-v3.0.2/esdc-16d-2.5deg-46x72x1440-3.0.2.zarr"),reFetch:!1,setSlice:t=>e({slice:t}),setCompress:t=>e({compress:t}),setCurrentStore:t=>e({currentStore:t}),setReFetch:t=>e({reFetch:t})})),u=(0,a.v)(e=>({zarrFetch:!1,cors:!1,oom:!1,setZarrFetch:t=>e({zarrFetch:t}),setCors:t=>e({cors:t}),setOom:t=>e({oom:t})}))},8804:(e,t,s)=>{"use strict";s.d(t,{QB:()=>u,Qt:()=>c,SB:()=>i,_8:()=>o,jT:()=>l,lt:()=>r,mT:()=>d});var a=s(8688);function r(e){if("Default"===e||!e||"string"!=typeof e||""===e.trim())return 1;let t=e.match(/^(\w+)\s+since\s+(.+)$/i);if(!t)throw Error('Invalid time unit format: expected "<unit> since <date>", got "'.concat(e,'"'));let[s,a,r]=t,n=a.toLowerCase(),i={millisecond:1,milliseconds:1,second:1e3,seconds:1e3,minute:6e4,minutes:6e4,hour:36e5,hours:36e5,day:864e5,days:864e5},l=n.endsWith("s")?n.slice(0,-1):n,o=void 0!==i[n]?n:l;if(!(o in i))throw Error('Unsupported time unit: "'.concat(a,'". Supported units: ').concat(Object.keys(i).join(", ")));return i[o]}let n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function i(e,t){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!t)return e;if("bigint"==typeof e){if(!t)return Number(e);try{let a=r(t),i=Number(e)*a,l=new Date(i);if(s)return"".concat(l.getDate()," ").concat(n[l.getMonth()]," ").concat(l.getFullYear());{let e=l.getDate(),t=l.getMonth()+1,s=l.getFullYear();return"".concat(String(e).padStart(2,"0"),"-").concat(String(t).padStart(2,"0"),"-").concat(s)}}catch(t){return e}}return t.match(/(degree|degrees|deg|°)/i)?"".concat(e.toFixed(2),"\xb0"):e.toFixed(2)}function l(e){let{normal:t,uv:s}=e,r=a.on.getState().flipY;switch(!0){case 1===t.z:return[null,r?1-s.y:s.y,s.x];case -1===t.z:return[null,r?1-s.y:s.y,1-s.x];case 1===t.x:return[1-s.x,r?1-s.y:s.y,null];case -1===t.x:return[s.x,r?1-s.y:s.y,null];case 1===t.y:return[1-s.y,null,s.x];default:return[0,0,0]}}function o(e){return 1===Math.abs(e.x)?2:1===Math.abs(e.y)?1:1===Math.abs(e.z)?0:null}function c(e){let t=1/0,s=-1/0;for(let a=0;a<e.length;a++)t=e[a]<t?e[a]:t,s=e[a]>s?e[a]:s;return[t,s]}function d(e,t,s){let a=(t-e)/(s-1);return Array.from({length:s},(t,s)=>e+a*s)}function u(e,t){let s=a.Ws.getState().setLonExtent,r=a.Ws.getState().setLatExtent,n=a.Ws.getState().setLonResolution,i=a.Ws.getState().setLatResolution,l=e.length>2?e.slice(1):e,o=!1;for(let e of l)if(e.match(/(degree|degrees|deg|°)/i)){o=!0;break}if(o){let e=t.length>2?t.slice(1):t,a=e[0][0],l=e[0][e[0].length-1],o=e[1][0],c=e[1][e[1].length-1];s([o=o>180?o-360:o,c=c>180?c-360:c]),r([a,l]);let d=Math.abs(e[0][1]-e[0][0]);n(Math.abs(e[1][1]-e[1][0])),i(d)}else s([-180,180]),r([-90,90])}},9901:(e,t,s)=>{"use strict";s.d(t,{Oe:()=>m,Y5:()=>x});var a=s(2105),r=s(4123),n=s(970),i=s(7974),l=s(7603),o=s(6116),c=s(8804),d=s(6431),u=s(8688);class h extends Error{constructor(e,t){super(e),this.cause=t,this.name="ZarrError"}}async function m(e){try{await fetch(e,{method:"HEAD",mode:"cors"})}catch(t){if(t instanceof TypeError)throw new h("CORS check failed for ".concat(e,". The server may not allow cross-origin requests from this site."),t)}try{let t=a.x(new r.A(e));return await t.then(e=>n.h(e,{kind:"group"}))}catch(t){throw new h("Failed to initialize store at ".concat(e),t)}}class x{async GetArray(e,t){let s=u.on.getState().setProgress,a=u.on.getState().setStrides,r=u.on.getState().setDownloading,o=u.SZ.getState().compress,c=u.on.getState().is4D,h=u.on.getState().idx4D;if(this.variable=e,this.cache.has(c?"".concat(h,"_").concat(e):e))return this.cache.get(e);let m=await this.groupStore,x=await n.h(m.resolve(e),{kind:"array"}),[p,g,f]=(0,d._z)(x);c&&(p/=x.shape[0],f=f.slice(1),x.shape[0]);let v=c?x.shape[1]/f[0]>1:x.shape[0]/f[0]>1;if(x.is("number")||x.is("bigint")){let n,d,u;if(this.chunkIDs=[],p<1e8||!v){if(r(!0),n=c?await i.Jt(x,[h,null,null,null]):await i.Jt(x),u=c?x.shape.slice(1):x.shape,a(n.stride),n.data instanceof BigInt64Array||n.data instanceof BigUint64Array)throw Error("BigInt arrays are not supported for conversion to Float32Array.");d=new Float32Array(n.data),this.cache.set(c?"".concat(h,"_").concat(e):e,n),r(!1)}else{r(!0),s(0);let m=Math.floor(t[0]/f[0]),p=t[1]?Math.ceil(t[1]/f[0]):c?Math.ceil(x.shape[1]/f[0]):Math.ceil(x.shape[0]/f[0]),g=p-m,v=c?x.shape[2]*x.shape[3]:x.shape[1]*x.shape[2],j=(p-m)*f[0]*v;u=c?[(p-m)*f[0],x.shape[2],x.shape[3]]:[(p-m)*f[0],x.shape[1],x.shape[2]],d=o?new Uint8Array(j):new Float32Array(j);let b=0,w=1;for(let t=m;t<p;t++){let r=c?"".concat(h,"_").concat(e,"_chunk_").concat(t):"".concat(e,"_chunk_").concat(t);if(this.chunkIDs.push(t),this.cache.has(r))a((n=this.cache.get(r)).stride),d.set(n.data,b),s(Math.round(w/g*100)),b+=n.data.length,w++;else{if((n=await i.Jt(x,c?[h,l.di(t*f[0],(t+1)*f[0]),null,null]:[l.di(t*f[0],(t+1)*f[0]),null,null])).data instanceof BigInt64Array||n.data instanceof BigUint64Array)throw Error("BigInt arrays are not supported for conversion to Float32Array.");d.set(n.data,b),this.cache.set(r,n),b+=n.data.length,a(n.stride),s(Math.round(w/g*100)),w++}}r(!1)}return{data:d,shape:u,dtype:x.dtype}}throw Error("Unsupported data type: Only numeric arrays are supported. Got: ".concat(x.dtype))}async GetAttributes(e){let t="".concat(e,"_meta");if(this.cache.has(t))return this.cache.get(t);let s=await this.groupStore,a=(await n.h(s.resolve(e),{kind:"array"})).attrs;this.cache.set(t,a);let r=[];for(let e of a._ARRAY_DIMENSIONS){if(!this.cache.has(e)){let t=await n.h(s.resolve(e),{kind:"array"}).then(e=>i.Jt(e)),a=await n.h(s.resolve(e),{kind:"array"}).then(e=>e.attrs);this.cache.set(e,t.data),this.cache.set("".concat(e,"_meta"),a)}r.push(e)}return this.dimNames=r,a}GetDimArrays(){let e=[],t=[];for(let s of this.dimNames)e.push(this.cache.get(s)),t.push(this.cache.get("".concat(s,"_meta")));return[e,t,this.dimNames]}GetTimeSeries(e){let t,s,a,{uv:r,normal:n}=e;if(!this.cache.has(this.variable)&&0==this.chunkIDs.length)return[0];if(this.chunkIDs.length>0){let e=[];for(let t of this.chunkIDs)e.push(this.cache.get("".concat(this.variable,"_chunk_").concat(t)));({shape:s,stride:a}=e[0]),t=new Float32Array(e.reduce((e,t)=>e+t.data.length,0));let r=0;for(let s of e)t.set(s.data,r),r+=s.data.length}else({data:t,shape:s,stride:a}=this.cache.get(this.variable));let i=(0,c.jT)({normal:n,uv:r}).map((e,t)=>null===e||null===s[t]?null:Math.round(e*s[t]-.5)),l=i.indexOf(null),o=a[l],d=null==i[0]?0:a[0]*i[0],u=null==i[1]?0:a[1]*i[1],h=null==i[2]?0:a[2]*i[2],m=[];for(let e=0;e<s[l];e++){let s=e*o+d+u+h;m.push(t[s])}return m}constructor(e){this.groupStore=e,this.variable="Default",this.cache=new o.A({maxSize:2e3}),this.dimNames=["","",""],this.chunkIDs=[]}}}}]);