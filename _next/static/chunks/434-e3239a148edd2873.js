(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[434],{21:(e,t,a)=>{"use strict";a.d(t,{oW:()=>o,v6:()=>l,dl:()=>n});var s=a(7510),r=a(1252);let n=["magma","inferno","plasma","viridis","cividis","twilight","twilight_shifted","turbo","Blues","BrBG","BuGn","BuPu","CMRmap","GnBu","Greens","Greys","OrRd","Oranges","PRGn","PiYG","PuBu","PuBuGn","PuOr","PuRd","Purples","RdBu","RdGy","RdPu","RdYlBu","RdYlGn","Reds","Spectral","Wistia","YlGn","YlGnBu","YlOrBr","YlOrRd","afmhot","autumn","binary","bone","brg","bwr","cool","coolwarm","copper","cubehelix","flag","gist_earth","gist_gray","gist_heat","gist_ncar","gist_rainbow","gist_stern","gist_yarg","gnuplot","gnuplot2","gray","hot","hsv","jet","nipy_spectral","ocean","pink","prism","rainbow","seismic","spring","summer","terrain","winter","Accent","Dark2","Paired","Pastel1","Pastel2","Set1","Set2","Set3","tab10","tab20","tab20b","tab20c"];function l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Spectral",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"#000000",l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],o=Array.from({length:255},(e,t)=>t/254),c=(o=i?o.reverse():o).map(e=>(0,r.md)(e,t,!1)),d=new Uint8Array((c.length+1)*4);for(let e=0;e<c.length;e++){let[t,s,r]=c[e];d[4*e]=t,d[4*e+1]=s,d[4*e+2]=r,d[4*e+3]=a}let u=function(e){let t=parseInt(e=e.replace(/^#/,""),16);return[t>>16&255,t>>8&255,255&t]}(n),h=4*c.length;d[h]=u[0],d[h+1]=u[1],d[h+2]=u[2],d[h+3]=l,e&&e.dispose();let m=new s.GYF(d,c.length+1,1,s.GWd);return m.needsUpdate=!0,m}var i=a(8804);function o(e){let[t,a]=3==e.shape.length?function(e){let t=e.shape,a=e.data,[r,n,l]=t,[o,c]=(0,i.Qt)(a),d=new Uint8Array(a.map(e=>(e-o)/(c-o)).map(e=>isNaN(e)?255:254*e)),u=new s.dYF(d,l,n,r);return u.format=s.VT0,u.minFilter=s.hxR,u.magFilter=s.hxR,u.needsUpdate=!0,[u,{maxVal:c,minVal:o}]}(e):function(e){let t=e.shape,a=e.data,r=t[1],n=t[0],[l,o]=(0,i.Qt)(a),c=new Uint8Array(a.map(e=>(e-l)/(o-l)).map(e=>isNaN(e)?255:254*e)),d=new s.GYF(c,r,n,s.VT0,s.OUM);return d.needsUpdate=!0,[d,{maxVal:o,minVal:l}]}(e);return[t,a]}},355:(e,t,a)=>{"use strict";a.d(t,{Cf:()=>u,L3:()=>m,c7:()=>h,lG:()=>i,rr:()=>x,zM:()=>o});var s=a(9564);a(7776);var r=a(434),n=a(8822),l=a(3964);function i(e){let{...t}=e;return(0,s.jsx)(r.bL,{"data-slot":"dialog",...t})}function o(e){let{...t}=e;return(0,s.jsx)(r.l9,{"data-slot":"dialog-trigger",...t})}function c(e){let{...t}=e;return(0,s.jsx)(r.ZL,{"data-slot":"dialog-portal",...t})}function d(e){let{className:t,...a}=e;return(0,s.jsx)(r.hJ,{"data-slot":"dialog-overlay",className:(0,l.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...a})}function u(e){let{className:t,children:a,showCloseButton:i=!0,...o}=e;return(0,s.jsxs)(c,{"data-slot":"dialog-portal",children:[(0,s.jsx)(d,{}),(0,s.jsxs)(r.UC,{"data-slot":"dialog-content",className:(0,l.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...o,children:[a,i&&(0,s.jsxs)(r.bm,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,s.jsx)(n.A,{}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function h(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"dialog-header",className:(0,l.cn)("flex flex-col gap-2 text-center sm:text-left",t),...a})}function m(e){let{className:t,...a}=e;return(0,s.jsx)(r.hE,{"data-slot":"dialog-title",className:(0,l.cn)("text-lg leading-none font-semibold",t),...a})}function x(e){let{className:t,...a}=e;return(0,s.jsx)(r.VY,{"data-slot":"dialog-description",className:(0,l.cn)("text-muted-foreground text-sm",t),...a})}},406:()=>{},489:(e,t,a)=>{"use strict";a.d(t,{p:()=>n});var s=a(9564);a(7776);var r=a(3964);function n(e){let{className:t,type:a,...n}=e;return(0,s.jsx)("input",{type:a,"data-slot":"input",className:(0,r.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...n})}},655:(e,t,a)=>{"use strict";a.d(t,{R:()=>i});var s=a(9564),r=a(7776),n=a(8970),l=a(3964);let i=r.forwardRef((e,t)=>{let{className:a,defaultValue:i,value:o,min:c=0,max:d=100,step:u=1,minStepsBetweenThumbs:h=1,...m}=e,x=r.useMemo(()=>Array.isArray(o)?o:Array.isArray(i)?i:[c,d],[o,i,c,d]);return(0,s.jsxs)(n.bL,{ref:t,value:o,defaultValue:i,min:c,max:d,step:u,minStepsBetweenThumbs:h,className:(0,l.cn)("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",a),...m,children:[(0,s.jsx)(n.CC,{"data-slot":"slider-track",className:"bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-1.5 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5",children:(0,s.jsx)(n.Q6,{"data-slot":"slider-range",className:"bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full"})}),x.map((e,t)=>(0,s.jsx)(n.zi,{"data-slot":"slider-thumb",className:"border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},t))]})});i.displayName="SliderThumbs"},919:()=>{},1056:(e,t,a)=>{"use strict";a.d(t,{ZI:()=>c,k$:()=>o,m_:()=>i});var s=a(9564);a(7776);var r=a(5380),n=a(3964);function l(e){let{delayDuration:t=0,...a}=e;return(0,s.jsx)(r.Kq,{"data-slot":"tooltip-provider",delayDuration:t,...a})}function i(e){let{...t}=e;return(0,s.jsx)(l,{children:(0,s.jsx)(r.bL,{"data-slot":"tooltip",...t})})}function o(e){let{...t}=e;return(0,s.jsx)(r.l9,{"data-slot":"tooltip-trigger",...t})}function c(e){let{className:t,sideOffset:a=0,children:l,...i}=e;return(0,s.jsx)(r.ZL,{children:(0,s.jsxs)(r.UC,{"data-slot":"tooltip-content",sideOffset:a,className:(0,n.cn)("bg-popover text-popover-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",t),...i,children:[l,(0,s.jsx)(r.i3,{className:"bg-popover fill-popover z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}},1279:(e,t,a)=>{"use strict";a.d(t,{$:()=>c});var s=a(9564),r=a(7776),n=a(1758),l=a(978),i=a(3964);let o=(0,l.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive relative overflow-hidden",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline",pink:"bg-linear-to-tr from-pink-500 to-yellow-500 text-white shadow-lg"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function c(e){let{className:t,variant:a,size:l,asChild:c=!1,disabled:u,onPointerDown:h,children:m,disableRipple:x,...p}=e,g=c?n.DX:"button",[f,j]=r.useState([]),v=e=>{j(t=>t.filter(t=>t.key!==e))};return(0,s.jsxs)(g,{"data-slot":"button",className:(0,i.cn)(o({variant:a,size:l,className:t})),onPointerDown:e=>{if(null==h||h(e),x||u||2===e.button)return;let t=e.currentTarget.getBoundingClientRect(),a=2*Math.max(t.width,t.height),s=e.clientX-t.left-a/2,r=e.clientY-t.top-a/2,n=Date.now()+Math.random();j(e=>[...e,{key:n,x:s,y:r,size:a}])},disabled:u,...p,children:[!x&&(0,s.jsx)("span",{"aria-hidden":!0,className:"pointer-events-none absolute inset-0 z-0",children:f.map(e=>(0,s.jsx)(d,{info:e,onDone:v},e.key))}),(0,s.jsx)("span",{className:"relative z-10 inline-flex items-center gap-2",children:m})]})}function d(e){let{info:t,onDone:a}=e,{x:n,y:l,size:i,key:o}=t,[c,d]=r.useState(!1);return r.useEffect(()=>{let e=requestAnimationFrame(()=>d(!0));return()=>cancelAnimationFrame(e)},[]),(0,s.jsx)("span",{className:"absolute rounded-full",style:{left:n,top:l,width:i,height:i,backgroundColor:"currentColor",opacity:.25*!c,transform:c?"scale(2)":"scale(0)",transition:"transform 450ms ease-out, opacity 600ms ease-out"},onTransitionEnd:()=>a(o)})}},1465:()=>{},1950:(e,t,a)=>{"use strict";a.d(t,{A:()=>p});var s=a(9564),r=a(7776),n=a(8688),l=a(2911),i=a(655),o=a(9341),c=a(1279),d=a(489),u=a(2537),h=a(1056);let m=e=>"string"==typeof e?e:Array.isArray(e)?e.join(", "):String(e),x=e=>{if(0===e)return"0 Bytes";let t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB","TB"][t]},p=e=>{let{meta:t,setShowMeta:a,noCard:p=!1}=e,{is4D:g,idx4D:f,variable:j,initStore:v,setIs4D:b,setIdx4D:y,setVariable:w}=(0,n.on)((0,l.k)(e=>({is4D:e.is4D,idx4D:e.idx4D,variable:e.variable,initStore:e.initStore,setIs4D:e.setIs4D,setIdx4D:e.setIdx4D,setVariable:e.setVariable}))),{slice:N,reFetch:A,compress:S,setSlice:C,setReFetch:k,setCompress:z}=(0,n.SZ)((0,l.k)(e=>({reFetch:e.reFetch,slice:e.slice,compress:e.compress,setSlice:e.setSlice,setReFetch:e.setReFetch,setCompress:e.setCompress}))),D=(0,n.FT)(e=>e.cache),{maxTextureSize:E}=(0,n.Ws)((0,l.k)(e=>({maxTextureSize:e.maxTextureSize}))),[R,M]=(0,r.useState)(!1),[L,F]=(0,r.useState)(!1),_=(0,r.useMemo)(()=>t.totalSize?t.totalSize:0,[t]),I=(0,r.useMemo)(()=>t.shape?4==t.shape.length?t.shape[1]:t.shape[0]:0,[t]),T=(0,r.useMemo)(()=>!!t.shape&&3==t.shape.length,[t]),B=g?t.shape[1]/t.chunks[1]>1:t.shape[0]/t.chunks[0]>1,V=(0,r.useMemo)(()=>{if(T){let e=N[0]?N[0]:0,a=N[1]?N[1]:I,s=t.shape[2]/t.chunks[2]*(t.shape[1]/t.chunks[1])*t.chunkSize;return Math.ceil((a-e)/(t.chunks?t.chunks[0]:1))*s}if(!g)return 0;{let e=N[0]?N[0]:0,a=N[1]?N[1]:I,s=t.shape[3]/t.chunks[3]*(t.shape[2]/t.chunks[2])*t.chunkSize;return Math.ceil((a-e)/(t.chunks?t.chunks[1]:1))*s}},[t,N]);return(0,r.useEffect)(()=>{b(4==t.shape.length)}),(0,r.useEffect)(()=>{if(C([0,null]),z(!1),y(null),D.has("".concat(v,"_").concat(t.name)))return void F(!0);F(!1);let e=t.shape[t.shape.length-1],a=t.shape[t.shape.length-2];e>E||a>E?M(!0):M(!1)},[t,E]),(0,s.jsx)(s.Fragment,{children:p?(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-foreground",children:"Variable Information"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Detailed metadata and configuration options"})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("h4",{className:"text-sm font-medium text-foreground",children:"Long Name"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground bg-muted/50 px-3 py-2 rounded-md",children:t.long_name})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("h4",{className:"text-sm font-medium text-foreground",children:"Shape"}),(0,s.jsxs)("p",{className:"text-sm text-muted-foreground bg-muted/50 px-3 py-2 rounded-md font-mono",children:["[",m(t.shape),"]"]})]})]}),R&&(0,s.jsxs)("div",{className:"flex items-center gap-2 p-2 bg-red-50 dark:bg-red-950/30 rounded-md border border-red-200 dark:border-red-800",children:[(0,s.jsx)("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),(0,s.jsxs)("span",{className:"text-xs font-medium text-red-800 dark:text-red-200",children:["One or more of the dimensions in your dataset exceed this browsers maximum texture size: ",(0,s.jsx)("b",{children:E})]})]}),!R&&(0,s.jsxs)(s.Fragment,{children:[g&&(0,s.jsxs)("div",{className:"space-y-3 p-4 bg-blue-50 dark:bg-blue-950/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[(0,s.jsx)("h4",{className:"text-sm font-medium text-blue-900 dark:text-blue-100",children:"4D Dataset Configuration"}),(0,s.jsx)("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:"This is a Four-Dimensional Dataset. You must select an index along the first dimension."}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("label",{className:"text-xs font-medium text-blue-700 dark:text-blue-300",children:["Select index (",(0,s.jsx)("b",{children:"0"})," to ",(0,s.jsx)("b",{children:t.shape[0]-1}),"):"]}),(0,s.jsx)(d.p,{type:"number",min:0,max:t.shape[0]-1,value:String(f),onChange:e=>y(parseInt(e.target.value)),className:"max-w-32"})]})]}),(T||null!=f)&&!L&&(0,s.jsxs)("div",{className:"space-y-4",children:[_>1e8&&B&&(0,s.jsxs)("div",{className:"space-y-3 p-4 bg-muted/30 rounded-lg border border-orange-200 dark:border-orange-800",children:[(0,s.jsx)("h4",{className:"text-sm font-medium text-orange-900 dark:text-orange-100",children:"Data Range Selection"}),(0,s.jsx)("p",{className:"text-xs text-orange-800 dark:text-orange-200",children:"Large dataset detected. Select a time range to reduce memory usage."}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)(i.R,{min:0,max:I,value:[N[0]?N[0]:0,N[1]?N[1]:I],step:1,onValueChange:e=>C([e[0],e[1]])}),(0,s.jsxs)("div",{className:"flex justify-between items-center text-xs",children:[(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("label",{className:"font-medium",children:" Min: "}),(0,s.jsx)("input",{className:"w-16 px-2 py-1 rounded border border-orange-300 dark:border-orange-600 bg-background text-foreground",type:"number",value:N[0],onChange:e=>C([parseInt(e.target.value),N[1]])})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("label",{className:"font-medium",children:" Max: "}),(0,s.jsx)("input",{className:"w-16 px-2 py-1 rounded border border-orange-300 dark:border-orange-600 bg-background text-foreground text-right",type:"number",value:N[1]?N[1]:I,onChange:e=>C([N[0],parseInt(e.target.value)])})]})]})]})]}),(0,s.jsxs)("div",{className:"space-y-3 p-4 bg-muted/30 rounded-lg border border-border",children:[(0,s.jsx)("h4",{className:"text-sm font-medium text-foreground",children:"Memory Usage"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("span",{className:"text-sm text-muted-foreground",children:"Total Size:"}),(0,s.jsx)("span",{className:"text-sm font-medium",children:x(V)})]}),(0,s.jsxs)("div",{className:"mt-3",children:[V<1e8&&(0,s.jsxs)("div",{className:"flex items-center gap-2 p-2 bg-emerald-50 dark:bg-emerald-950/30 rounded-md border border-emerald-200 dark:border-emerald-800",children:[(0,s.jsx)("div",{className:"w-2 h-2 bg-emerald-500 rounded-full"}),(0,s.jsx)("span",{className:"text-xs font-medium text-emerald-800 dark:text-emerald-200",children:"Selected data will fit in memory"})]}),V>1e8&&V<2e8&&(0,s.jsxs)("div",{className:"flex items-center gap-2 p-2 bg-orange-50 dark:bg-orange-950/30 rounded-md border border-orange-200 dark:border-orange-800",children:[(0,s.jsx)("div",{className:"w-2 h-2 bg-orange-500 rounded-full"}),(0,s.jsx)("span",{className:"text-xs font-medium text-orange-800 dark:text-orange-200",children:"Data may not fit in memory"})]}),V>2e8&&(0,s.jsxs)("div",{className:"flex items-center gap-2 p-2 bg-red-50 dark:bg-red-950/30 rounded-md border border-red-200 dark:border-red-800",children:[(0,s.jsx)("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),(0,s.jsx)("span",{className:"text-xs font-medium text-red-800 dark:text-red-200",children:"Data will not fit in memory"})]})]})]})]})]}),L&&(0,s.jsx)("div",{children:"This variable is already cached."}),(0,s.jsx)("div",{className:"flex justify-end pt-4 border-t border-border",children:(0,s.jsx)(c.$,{variant:"pink",size:"sm",className:"cursor-pointer hover:scale-[1.02] transition-transform",disabled:g&&null==f,onClick:()=>{j==t.name||w(t.name),k(!A),a(!1)},children:"Plot Variable"})})]})]}):(0,s.jsxs)(o.Zp,{className:"meta-container max-w-sm md:max-w-md p-4 mb-4 border border-muted select-none",children:[(0,s.jsxs)("div",{className:"meta-info",children:[(0,s.jsx)("b",{children:"Long Name"})," ",(0,s.jsx)("br",{}),"".concat(t.long_name),(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),(0,s.jsx)("b",{children:"Shape"}),(0,s.jsx)("br",{}),"[".concat(m(t.shape),"]"),(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),R&&(0,s.jsx)("div",{className:"bg-[#FFBEB388] rounded-md p-1",children:(0,s.jsxs)("span",{className:"text-xs font-medium text-red-800 dark:text-red-200",children:["One or more of the dimensions in your dataset exceed this browsers maximum texture size: ",(0,s.jsx)("b",{children:E})]})}),!R&&(0,s.jsxs)(s.Fragment,{children:[g&&(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{children:[(0,s.jsxs)("p",{children:["This is Four-Dimensional Dataset. You must select an index along the first dimension. ",(0,s.jsx)("br",{}),"Please select an index from ",(0,s.jsx)("b",{children:"0"})," to ",(0,s.jsx)("b",{children:t.shape[0]-1})]}),(0,s.jsx)(d.p,{type:"number",min:0,max:t.shape[0]-1,value:String(f),onChange:e=>y(parseInt(e.target.value))})]})}),(T||null!=f)&&!L&&(0,s.jsxs)(s.Fragment,{children:[_>1e8&&B&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"flex justify-center",children:(0,s.jsx)("b",{children:"Select Data Range"})}),(0,s.jsxs)("div",{className:"w-full flex flex-col justify-between",children:[(0,s.jsx)(i.R,{min:0,max:I,value:[N[0]?N[0]:0,N[1]?N[1]:I],step:1,onValueChange:e=>C([e[0],e[1]])}),(0,s.jsxs)("div",{className:"flex justify-between text-xs mt-4",children:[(0,s.jsxs)("span",{children:["Min: ",(0,s.jsx)("br",{})," ",(0,s.jsx)("input",{className:"w-[50px]",type:"number",value:N[0],onChange:e=>C([parseInt(e.target.value),N[1]])})]}),(0,s.jsxs)("span",{children:["Max: ",(0,s.jsx)("br",{})," ",(0,s.jsx)("input",{className:"w-[50px] text-right",type:"number",value:N[1]?N[1]:I,onChange:e=>C([N[0],parseInt(e.target.value)])})]})]})]})]}),(0,s.jsx)("b",{children:"Total Size: "}),x(V),(0,s.jsx)("br",{}),V<1e8&&(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"flex items-center gap-2 p-2 bg-emerald-50 dark:bg-emerald-950/30 rounded-md border border-emerald-200 dark:border-emerald-800",children:[(0,s.jsx)("div",{className:"w-2 h-2 bg-emerald-500 rounded-full"}),(0,s.jsx)("span",{className:"text-xs font-medium text-emerald-800 dark:text-emerald-200",children:"Selected data will fit in memory"})]})}),V>1e8&&V<2e8&&(0,s.jsxs)("div",{className:"flex items-center gap-2 p-2 bg-orange-50 dark:bg-orange-950/30 rounded-md border border-orange-200 dark:border-orange-800",children:[(0,s.jsx)("div",{className:"w-2 h-2 bg-orange-500 rounded-full"}),(0,s.jsx)("span",{className:"text-xs font-medium text-orange-800 dark:text-orange-200",children:"Data may not fit in memory"})]}),V>2e8&&(0,s.jsxs)("div",{className:"flex items-center gap-2 p-2 bg-red-50 dark:bg-red-950/30 rounded-md border border-red-200 dark:border-red-800",children:[(0,s.jsx)("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),(0,s.jsx)("span",{className:"text-xs font-medium text-red-800 dark:text-red-200",children:"Data will not fit in memory"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-[auto_40%] items-center gap-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"compress-data",children:"Compress Data "}),(0,s.jsxs)(h.m_,{children:[(0,s.jsx)(h.k$,{children:(0,s.jsx)(u.kAG,{})}),(0,s.jsx)(h.ZI,{children:"Compress data to preserve memory at the expense of slightly longer load times"})]})]}),(0,s.jsx)(d.p,{className:"w-[50px]",type:"checkbox",id:"compress-data",checked:S,onChange:e=>z(e.target.checked)})]})]})]})]}),L&&(0,s.jsx)("div",{children:(0,s.jsx)("b",{children:"This data is already cached. "})}),(0,s.jsx)(c.$,{variant:"pink",size:"sm",className:"cursor-pointer hover:scale-[1.05]",disabled:g&&null==f||R,onClick:()=>{j==t.name||w(t.name),k(!A),a(!1)},children:"Plot"})]})})}},3316:()=>{},3656:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});var s=a(9564),r=a(7776),n=a(8970),l=a(3964);function i(e){let{className:t,defaultValue:a,value:i,min:o=0,max:c=100,...d}=e,u=r.useMemo(()=>Array.isArray(i)?i:Array.isArray(a)?a:[o,c],[i,a,o,c]);return(0,s.jsxs)(n.bL,{"data-slot":"slider",defaultValue:a,value:i,min:o,max:c,className:(0,l.cn)("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",t),...d,children:[(0,s.jsx)(n.CC,{"data-slot":"slider-track",className:(0,l.cn)("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-1.5 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:(0,s.jsx)(n.Q6,{"data-slot":"slider-range",className:(0,l.cn)("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:u.length},(e,t)=>(0,s.jsx)(n.zi,{"data-slot":"slider-thumb",className:"border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},t))]})}},3787:()=>{},3964:(e,t,a)=>{"use strict";a.d(t,{cn:()=>n});var s=a(6144),r=a(4480);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.QP)((0,s.$)(t))}},4408:()=>{},4434:(e,t,a)=>{"use strict";a.d(t,{zd:()=>ef,pH:()=>eO,PL:()=>T,hv:()=>ei,jG:()=>ev,wC:()=>e5,$D:()=>eS,f3:()=>eZ,wi:()=>b,It:()=>e$,Rh:()=>D,rm:()=>e1,oU:()=>Z,OS:()=>S,Fp:()=>p,DM:()=>eN,Yp:()=>L,M:()=>ee,A:()=>C,de:()=>R,ut:()=>en,LC:()=>z,gj:()=>k,$m:()=>E});var s=a(9564),r=a(7776),n=a(6613),l=a(2537),i=a(1279),o=a(1056);let c=()=>{let[e,t]=(0,r.useState)(!1),{theme:a,setTheme:c,resolvedTheme:d}=(0,n.D)();(0,r.useEffect)(()=>{t(!0)},[]);let u=e?null!=a?a:d:void 0;return(0,s.jsxs)(o.m_,{delayDuration:500,children:[(0,s.jsx)(o.k$,{asChild:!0,children:(0,s.jsx)(i.$,{variant:"ghost",size:"icon",className:"size-10 cursor-pointer",onClick:()=>{"dark"===a?c("light"):c("dark")},children:e&&"dark"===u?(0,s.jsx)(l.PhE,{className:"size-6"}):(0,s.jsx)(l.DNQ,{className:"size-6"})})}),(0,s.jsx)(o.ZI,{side:"right",align:"start",children:"dark"===u?(0,s.jsx)("span",{children:"Switch to Light Mode"}):(0,s.jsx)("span",{children:"Switch to Dark Mode"})})]})};a(919);var d=a(2911),u=a(8688),h=a(3964),m=a(1779);let x=e=>{let{className:t}=e;return(0,s.jsxs)("svg",{viewBox:"0 0 100 100",className:t,"aria-hidden":"true",focusable:"false",children:[(0,s.jsx)("circle",{cx:"50",cy:"20",r:"12",fill:"#9CA3AF"}),(0,s.jsx)("circle",{cx:"78.53",cy:"40.73",r:"12",fill:"#EF4444"}),(0,s.jsx)("circle",{cx:"67.63",cy:"74.27",r:"12",fill:"#10B981"}),(0,s.jsx)("circle",{cx:"32.37",cy:"74.27",r:"12",fill:"#F59E0B"}),(0,s.jsx)("circle",{cx:"21.47",cy:"40.73",r:"12",fill:"#EC4899"})]})},p=r.memo(function(){let{isFlat:e,plotOn:t}=(0,u.on)((0,d.k)(e=>({isFlat:e.isFlat,plotOn:e.plotOn}))),{resetCamera:a,setResetCamera:n}=(0,u.Ws)((0,d.k)(e=>({resetCamera:e.resetCamera,setResetCamera:e.setResetCamera}))),[l,p]=(0,r.useState)(!0),g=(0,r.useRef)(null);return(0,s.jsxs)("nav",{className:"navbar",ref:g,children:[(0,s.jsxs)(o.m_,{delayDuration:500,children:[(0,s.jsx)(o.k$,{asChild:!0,children:(0,s.jsx)(i.$,{variant:"ghost",size:"icon",className:"navbar-trigger size-10","aria-expanded":l,onClick:()=>p(e=>!e),children:(0,s.jsx)(x,{className:"navbar-trigger-icon rotating size-6"})})}),(0,s.jsx)(o.ZI,{side:"right",align:"start",children:l?"Close navigation":"Open navigation"})]}),(0,s.jsxs)("div",{className:(0,h.cn)("navbar-content",l?"open":"closed"),children:[(0,s.jsx)(e1,{}),(0,s.jsxs)("div",{className:"navbar-left",children:[t&&(0,s.jsxs)(o.m_,{delayDuration:500,children:[(0,s.jsx)(o.k$,{asChild:!0,children:(0,s.jsx)(i.$,{variant:"ghost",size:"icon",className:"size-10 cursor-pointer",tabIndex:0,onClick:()=>n(!a),children:(0,s.jsx)(m.vRP,{className:"size-8"})})}),(0,s.jsx)(o.ZI,{side:"right",align:"start",children:(0,s.jsx)("span",{children:"Reset camera view"})})]}),t&&!e&&(0,s.jsx)(L,{}),t&&(0,s.jsx)(eZ,{}),(0,s.jsx)(c,{})]})]})]})});var g=a(6341);let f={src:"/_next/static/media/logo_bgc_mpi.811f35c6.png",height:335,width:1901,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAABCAMAAADU3h9xAAAACVBMVEX///////////+OSuX+AAAAA3RSTlMdMnkqIWkUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAEUlEQVR4nGNgYGBgYGRiZAQAABYABhAF/EgAAAAASUVORK5CYII=",blurWidth:8,blurHeight:1},j={src:"/_next/static/media/logo_bgc.2186f7da.png",height:324,width:324,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAM1BMVEX///////////////////////////9MaXH////////////////////////////+/v7///9noLCvAAAAEHRSTlMVaEuDyyA0AAn4qpuOw9jiFXZvNwAAAAlwSFlzAAALEwAACxMBAJqcGAAAADtJREFUeJwFwQkCwCAIA7CiQMFj9v+vXQLmPmZB5E2yRmANVrESHigCA6+1rHWx1VJrIj5JcoA47hP8AUH+AfDeLlYAAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8},v={src:"/_next/static/media/logo_mpi.60f96703.png",height:335,width:335,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAG1BMVEX///////////////////////////////9MaXHtBtUtAAAACXRSTlMVIF5RcjsnRQDMSZBbAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAM0lEQVR4nBXJyREAMAwCscXgo/+KM/lKHG03By7Hgq6ZFKJWSfEnWX7FK6RPNRo4eru5BxsqAMT2mkYXAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8};a(4408);let b=()=>(0,s.jsxs)("div",{className:"footer",children:[(0,s.jsx)("div",{className:"large-screen-logo",children:(0,s.jsx)("a",{href:"https://www.bgc-jena.mpg.de/en/bgi/mdi",target:"_blank",rel:"noreferrer",children:(0,s.jsx)(g.default,{src:f,alt:"logoMPI",height:32})})}),(0,s.jsx)("div",{className:"small-screen-logo",children:(0,s.jsx)("a",{href:"https://www.bgc-jena.mpg.de/en/bgi/mdi",target:"_blank",rel:"noreferrer",children:(0,s.jsx)(g.default,{src:j,alt:"logoBGC",height:32})})}),(0,s.jsx)("div",{className:"expandable-text",children:(0,s.jsxs)("span",{children:["Ⓒ ",(0,s.jsx)("a",{href:"https://www.bgc-jena.mpg.de/person/jpoehls/2206",target:"_blank",rel:"noreferrer",children:"Jeran Poehls"}),"&",(0,s.jsx)("a",{href:"https://lazarusa.github.io/",target:"_blank",rel:"noreferrer",children:"Lazaro Alonso"})]})}),(0,s.jsx)("div",{className:"small-screen-logo",children:(0,s.jsx)("a",{href:"https://www.bgc-jena.mpg.de/en/bgi/home",target:"_blank",rel:"noreferrer",children:(0,s.jsx)(g.default,{src:v,alt:"logoMPI",className:"small-screen-logo",height:32})})})]}),y=()=>(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{children:"Browzarr"}),"builds on the lessons learned from the visualization prototype from the SeasFire project.",(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),(0,s.jsx)("p",{children:"The ESA-funded SeasFire project is exploring the potential of spatio-temporal asynchronous links happening between pre-occurring and non-overlapping atmospheric conditions and European fire regimes to predict the seasonal burned areas sizes in Europe by leveraging two major advancements of our time:"}),(0,s.jsxs)("ul",{children:[(0,s.jsx)("li",{children:"the availability of a huge amount of satellite data with a good spatio-temporal resolution, which will be used as fire drivers called the Earth system variables, and"}),(0,s.jsx)("li",{children:"the progress in Deep Learning (DL) and especially in graph and image based modelling frameworks, finding methods capable of capturing the spatio-temporal interactions of the Earth System variables."})]}),(0,s.jsx)("a",{href:"https://seasfire.hua.gr/",target:"_blank",rel:"noreferrer",children:"https://seasfire.hua.gr/"}),(0,s.jsx)("br",{}),(0,s.jsx)("a",{href:"https://zenodo.org/records/8055879",target:"_blank",rel:"noreferrer",children:"zenodo"}),(0,s.jsxs)("p",{children:[(0,s.jsx)("br",{}),(0,s.jsx)("strong",{children:"Citation: "})," ",(0,s.jsx)("br",{}),"Alonso, L., Gans, F., Karasante, I., Ahuja, A., Prapas, I., Kondylatos, S., Papoutsis, I., Panagiotou, E., Mihail, D., Cremer, F., Weber, U., & Carvalhais, N. (2023). SeasFire Cube: A Global Dataset for Seasonal Fire Modeling in the Earth System (0.3) [Data set]. Zenodo. https://doi.org/10.5281/zenodo.8055879"]}),(0,s.jsx)("br",{}),(0,s.jsxs)("p",{children:[" ",(0,s.jsx)("strong",{children:" Contact :"})]}),(0,s.jsx)("div",{children:(0,s.jsxs)("span",{children:[(0,s.jsx)("a",{href:"https://lazarusa.github.io/",target:"_blank",rel:"noreferrer",children:(0,s.jsx)("strong",{children:"Lazaro Alonso"})})," &",(0,s.jsx)("a",{href:"https://www.bgc-jena.mpg.de/person/jpoehls/2206",target:"_blank",rel:"noreferrer",children:(0,s.jsx)("strong",{children:" Jeran Poehls"})})]})}),(0,s.jsx)("br",{}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Max-Planck Institute for Biogeochemistry"}),(0,s.jsx)("br",{}),"Hans-Kn\xf6ll Str. 10",(0,s.jsx)("br",{}),"07745 Jena"]}),(0,s.jsx)("br",{}),(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,s.jsx)("a",{href:"https://www.bgc-jena.mpg.de/en/bgi/home",target:"_blank",rel:"noreferrer",children:(0,s.jsx)(g.default,{src:v,alt:"logoMPI",height:32})}),(0,s.jsx)("a",{href:"https://www.bgc-jena.mpg.de/en/bgi/mdi",target:"_blank",rel:"noreferrer",children:(0,s.jsx)(g.default,{src:j,alt:"logoBGC",height:32})})]}),(0,s.jsx)("br",{}),(0,s.jsxs)("p",{children:["Ⓒ ",(0,s.jsx)("a",{href:"https://github.com/EarthyScience/FireSight?tab=Apache-2.0-1-ov-file#readme",target:"_blank",rel:"noreferrer",children:"Apache License, Version 2.0"})]})]});var w=a(5581);a(4882);var N=a(355);let A=["long_name","description","units","_ARRAY_DIMENSIONS"],S=e=>{let{data:t}=e;return(0,s.jsx)("div",{className:"metadata-container",children:(0,s.jsxs)(N.lG,{children:[(0,s.jsxs)(o.m_,{delayDuration:500,children:[(0,s.jsx)(o.k$,{asChild:!0,children:(0,s.jsx)(N.zM,{asChild:!0,children:(0,s.jsx)("div",{children:(0,s.jsx)(i.$,{variant:"ghost",size:"icon",className:"size-6 cursor-pointer",tabIndex:0,children:(0,s.jsx)(w._AI,{className:"size-6"})})})})}),(0,s.jsx)(o.ZI,{side:"bottom",align:"start",children:(0,s.jsx)("span",{children:"Show Variable Metadata"})})]}),(0,s.jsxs)(N.Cf,{"aria-describedby":"Metadata Information for variable",className:"metadata-dialog",children:[(0,s.jsxs)(N.c7,{children:[(0,s.jsx)(N.L3,{children:"Variable Metadata"}),(0,s.jsx)(N.rr,{children:"Detailed information about the selected variable"})]}),(0,s.jsxs)("div",{className:"metadata-content",children:[A.map(e=>t[e]&&(0,s.jsxs)("p",{children:[(0,s.jsxs)("strong",{children:[e,": "]}),String(t[e])]},e)),Object.entries(t).map(e=>{let[t,a]=e;return!A.includes(t)&&(0,s.jsxs)("p",{children:[(0,s.jsxs)("strong",{children:[t,":"]})," ",String(a)]},t)})]})]})]})})};a(8247);let C=e=>{let{height:t,setHeight:a}=e,[n,l]=(0,r.useState)(!1),[i,o]=(0,r.useState)(window.innerHeight-50);(0,r.useEffect)(()=>{let e=()=>{o(window.innerHeight-100)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let c=(0,r.useCallback)(e=>{requestAnimationFrame(()=>{a(e)})},[a,i]),d=(0,r.useCallback)(e=>{switch(e.key){case"ArrowUp":e.preventDefault(),c(t-10);break;case"ArrowDown":e.preventDefault(),c(t+10);break;case"Home":e.preventDefault(),c(50);break;case"End":e.preventDefault(),c(i)}},[t,i,c]),u=e=>{e.preventDefault(),l(!0)},h=(0,r.useCallback)(e=>{n&&(e.preventDefault(),c("touches"in e?e.touches[0].clientY:e.clientY))},[n,c]),m=(0,r.useCallback)(()=>{l(!1)},[]),x=(0,r.useCallback)(()=>{n&&l(!1)},[n]);return(0,r.useEffect)(()=>(n&&(document.addEventListener("mousemove",h),document.addEventListener("mouseup",m),document.addEventListener("touchmove",h,{passive:!1}),document.addEventListener("touchend",m),document.addEventListener("touchcancel",m),window.addEventListener("resize",x)),()=>{document.removeEventListener("mousemove",h),document.removeEventListener("mouseup",m),document.removeEventListener("touchmove",h),document.removeEventListener("touchend",m),document.removeEventListener("touchcancel",m),window.removeEventListener("resize",x)}),[n,h,m,x]),(0,s.jsx)("div",{className:"resize-bar",onMouseDown:u,onTouchStart:u,onKeyDown:d,style:{top:"".concat(t,"px")},role:"slider","aria-label":"Resize plot height","aria-valuemin":50,"aria-valuemax":i,"aria-valuenow":t,tabIndex:0})};a(4884);let k=e=>{let{scale:t,setScale:a}=e,[n,l]=(0,r.useState)(!1),i=(0,r.useRef)(null),o=e=>{n&&(e.preventDefault(),a(Math.min(Math.max(t+(i.current?(i.current-e.clientY)/100:0),.1),10)))},c=()=>{l(!1)};return(0,r.useEffect)(()=>(n&&(document.addEventListener("mousemove",o),document.addEventListener("mouseup",c)),()=>{document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",c)}),[n]),(0,s.jsx)("div",{className:"yScaler",onMouseDown:e=>{e.preventDefault(),l(!0),i.current=e.clientY},onMouseUp:c})},z=e=>{let{scale:t,setScale:a}=e,[n,l]=(0,r.useState)(!1),i=(0,r.useRef)(null),o=e=>{n&&(e.preventDefault(),a(Math.min(Math.max(t+(i.current?(i.current-e.clientX)/1e3:0),.1),2)))},c=()=>{l(!1)};return(0,r.useEffect)(()=>(n&&(document.addEventListener("mousemove",o),document.addEventListener("mouseup",c)),()=>{document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",c)}),[n]),(0,s.jsx)("div",{className:"xScaler",onMouseDown:e=>{e.preventDefault(),l(!0),i.current=e.clientX},onMouseUp:c})};function D(){let{progress:e,showLoading:t,downloading:a}=(0,u.on)((0,d.k)(e=>({progress:e.progress,showLoading:e.showLoading,downloading:e.downloading})));return t&&(0,s.jsxs)("div",{className:"loading-container",children:[(0,s.jsx)("div",{className:"loading",children:a?"Downloading":"Building"}),(0,s.jsx)("div",{className:"progress-bar",style:{width:"".concat(e,"%")}})]})}a(3787);let E=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",[a,s]=(0,r.useState)(t);return(0,r.useEffect)(()=>{let r=()=>getComputedStyle(document.documentElement).getPropertyValue(e).trim(),n=()=>{let e=r();(e||!a)&&s(e||t)};n(),r()||setTimeout(n,100);let l=new MutationObserver(e=>{for(let t of e)"data-theme"===t.attributeName&&n()});return l.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>l.disconnect()},[e,t]),a};a(1465);let R=e=>{let{onClick:t}=e;return(0,s.jsxs)("div",{className:"lineplot-tab",onClick:t,children:[(0,s.jsx)("div",{className:"plottab-line"}),(0,s.jsx)("div",{className:"plottab-line"}),(0,s.jsx)("div",{className:"plottab-line"})]})};var M=a(172);a(406);let L=()=>{let{selectTS:e,resetAnim:t,animate:a,setSelectTS:r,setResetAnim:n}=(0,u.Ws)((0,d.k)(e=>({selectTS:e.selectTS,resetAnim:e.resetAnim,animate:e.animate,setSelectTS:e.setSelectTS,setResetAnim:e.setResetAnim})));return(0,s.jsx)("div",{className:"selectTS",style:{display:a?"none":""},children:(0,s.jsxs)(o.m_,{delayDuration:500,children:[(0,s.jsx)(o.k$,{asChild:!0,children:(0,s.jsx)(i.$,{variant:"ghost",size:"icon",className:"size-10 cursor-pointer",onClick:()=>{n(!t),r(!e)},children:(0,s.jsx)(M.Psu,{className:"size-6",style:{color:e?"gold":"grey",filter:e?"drop-shadow(0px 0px 10px gold)":""}})})}),(0,s.jsx)(o.ZI,{side:"right",align:"start",children:(0,s.jsx)("p",{style:{maxWidth:220},children:"While active, click the volume to view 1D transects through the given dimension."})})]})})};var F=a(3098),_=a(2135);a(6709);var I=a(8804);let T=e=>{let{units:t,valueScales:a}=e,{colormap:n,variable:l}=(0,u.on)((0,d.k)(e=>({colormap:e.colormap,variable:e.variable}))),{cScale:i,cOffset:o,setCScale:c,setCOffset:h}=(0,u.Ws)((0,d.k)(e=>({cScale:e.cScale,cOffset:e.cOffset,setCScale:e.setCScale,setCOffset:e.setCOffset}))),m=(0,r.useRef)(null),x=(0,r.useRef)(!1),p=(0,r.useRef)({x:null,y:null}),g=(0,r.useMemo)(()=>a.maxVal-a.minVal,[a]),f=(0,r.useMemo)(()=>(a.maxVal+a.minVal)/2,[a]),[j,v]=(0,r.useState)(5),[b,y]=(0,r.useState)(Math.round(100*a.minVal)/100),[w,N]=(0,r.useState)(Math.round(100*a.maxVal)/100),A=(0,r.useRef)({min:null,max:null}),S=(0,r.useMemo)(()=>{let e=[],t=n.source.data.data;for(let a=0;a<t.length/4;a++){let s=4*a,r="rgba(".concat(t[s],", ").concat(t[s+1],", ").concat(t[s+2],", ").concat(t[s+3]," )");e.push(r)}return e},[n]),[C,k]=(0,r.useMemo)(()=>[(0,I.mT)(0,100,j),(0,I.mT)(b,w,j)],[j,b,w]),z=e=>{if(!x.current)return;(null===p.current.x||null===p.current.y)&&(p.current.x=e.clientX,p.current.y=e.clientY),(null===A.current.min||null===A.current.max)&&(A.current.min=b,A.current.max=w);let t=(p.current.x-e.clientX)/100,a=A.current.min,s=A.current.max;y(a+g*t),N(s+g*t)},D=()=>{x.current=!1,p.current={x:null,y:null},A.current={min:null,max:null},document.removeEventListener("mousemove",z),document.removeEventListener("mouseup",D)};return(0,r.useEffect)(()=>()=>{document.removeEventListener("mousemove",z),document.removeEventListener("mouseup",D)},[]),(0,r.useEffect)(()=>{let e=(w+b)/2,t=w-b;h((f-e)/g),c(t/g)},[b,w]),(0,r.useEffect)(()=>{y(a.minVal),N(a.maxVal)},[a]),(0,r.useEffect)(()=>{if(m.current){let e=m.current.getContext("2d");e&&S.forEach((t,a)=>{e.fillStyle=t,e.fillRect(2*a,0,2,24)})}},[S]),(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"colorbar",children:[(0,s.jsx)("input",{type:"number",className:"text-[14px] font-semibold",style:{left:"0%",top:"100%",position:"absolute",width:"45px",transform:"translateX(-50%)"},value:b,onChange:e=>y(parseFloat(e.target.value))}),Array.from({length:j}).map((e,t)=>0==t||t==j-1?null:(0,s.jsx)("p",{style:{left:"".concat(C[t],"%"),top:"100%",position:"absolute",transform:"translateX(-50%)"},children:k[t].toFixed(2)},t)),(0,s.jsx)("input",{type:"number",className:"text-[14px] font-semibold",style:{left:"100%",top:"100%",position:"absolute",width:"45px",transform:"translateX(-50%)"},value:w,onChange:e=>N(parseFloat(e.target.value))}),(0,s.jsx)("canvas",{id:"colorbar-canvas",ref:m,width:512,height:24,onMouseDown:()=>{x.current=!0,document.addEventListener("mousemove",z),document.addEventListener("mouseup",D)}}),(0,s.jsx)("p",{className:"colorbar-title",style:{position:"absolute",top:"-24px",left:"50%",transform:"translateX(-50%)"},children:"".concat(l," [ ").concat(t," ]")}),(1!=i||0!=o)&&(0,s.jsx)(F.kmZ,{size:25,style:{position:"absolute",top:"-25px",cursor:"pointer"},onClick:()=>{y(a.minVal),N(a.maxVal)}}),(0,s.jsxs)("div",{style:{position:"absolute",right:"0%",bottom:"100%",display:"flex",width:"10%",justifyContent:"space-around"},children:[(0,s.jsx)(_.iu5,{className:"cursor-pointer",onClick:()=>v(Math.max(j-1,2))}),(0,s.jsx)(_.OiG,{className:"cursor-pointer",onClick:()=>v(Math.min(j+1,10))})]})]})})};var B=a(2105),V=a(970),U=a(489),P=a(6150);async function O(e,t){var a;let s=e.length,r=[],n={};for(let t=0;t<s;t++){let a=e[t];if(".zarray"===a.name||".zattrs"===a.name){let e=a.webkitRelativePath,t=e.split("/");t.shift(),e=t.join("/"),r.push("/"+e)}}for(let e of r){let a=await t.get(e);n[e.slice(1)]=(0,P.eg)(a)}let l={};for(let[e,t]of Object.entries({metadata:n,zarr_consolidated_format:1}.metadata))l["/".concat(e)]=t;return{async get(e,a){if(l[e])return(0,P.kj)(l[e]);let s=await t.get(e,a);if((e.endsWith(".zarray")||e.endsWith(".zgroup")||e.endsWith(".zattrs")||e.endsWith("zarr.json"))&&s){let t=(0,P.eg)(s);l[e]=t}return s},getRange:null==(a=t.getRange)?void 0:a.bind(t),contents(){let e=[];for(let[t,a]of Object.entries(l)){let s=t.split("/"),r=s.pop(),n=s.join("/")||"/";".zarray"===r&&e.push({path:n,kind:"array"}),".zgroup"===r&&e.push({path:n,kind:"group"}),"zarr_format"in a&&3===a.zarr_format&&e.push({path:n,kind:a.node_type})}return e}}}let $=e=>{let{setShowLocal:t,setOpenVariables:a,setInitStore:r}=e,n=(0,u.SZ)(e=>e.setCurrentStore),l=async e=>{let s=e.target.files;if(!s||0===s.length)return;s.length;let l=new Map,i=s[0].webkitRelativePath.split("/")[0];for(let e=0;e<s.length;e++){let t=s[e],a=t.webkitRelativePath.substring(i.length+1);a&&l.set("/"+a,t.arrayBuffer())}let o={async get(e){let t=await l.get(e);return t?new Uint8Array(t):void 0}};try{let e=await B.x(o);"contents"in e||(e=await O(s,o)),V.h(e,{kind:"group"}).then(e=>{n(e)}),t(!1),a(!0),r("local_$".concat(i))}catch(e){e instanceof Error?console.log("Error opening Zarr store: ".concat(e.message)):console.log("An unknown error occurred when opening the Zarr store.")}};return(0,s.jsx)("div",{children:(0,s.jsx)(U.p,{type:"file",id:"filepicker",className:"hover:drop-shadow-md hover:scale-[110%]",style:{width:"200px",cursor:"pointer"},directory:"",webkitdirectory:"true",onChange:l})})};a(3316);var W=a(9341);let Z=()=>{let[e,t]=(0,r.useState)(!1);return(0,s.jsxs)(W.Zp,{className:"panel-container",children:[(0,s.jsx)(ev,{setOpenVariables:t}),(0,s.jsx)(en,{openVariables:e,setOpenVariables:t}),(0,s.jsx)(ee,{}),(0,s.jsx)(ei,{}),(0,s.jsx)(ef,{}),(0,s.jsx)(eN,{}),(0,s.jsx)(eO,{})]})};var G=a(789),Y=a(6438),X=a(5816);function H(e){let{...t}=e;return(0,s.jsx)(X.bL,{"data-slot":"popover",...t})}function Q(e){let{...t}=e;return(0,s.jsx)(X.l9,{"data-slot":"popover-trigger",...t})}function K(e){let{className:t,align:a="center",sideOffset:r=4,...n}=e;return(0,s.jsx)(X.ZL,{children:(0,s.jsx)(X.UC,{"data-slot":"popover-content",align:a,sideOffset:r,className:(0,h.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",t),...n})})}let J=["volume","point-cloud","sphere","flat"],q={volume:(0,s.jsx)(G.rxA,{className:"size-8"}),"point-cloud":(0,s.jsx)(Y.n37,{className:"size-8"}),sphere:(0,s.jsx)(G.sXn,{className:"size-8"}),flat:(0,s.jsx)(m.rtt,{className:"size-8"})},ee=()=>{let{plotType:e,setPlotType:t}=(0,u.Ws)((0,d.k)(e=>({plotType:e.plotType,setPlotType:e.setPlotType}))),a=(0,u.on)(e=>e.isFlat),[n,l]=(0,r.useState)("left");return(0,r.useEffect)(()=>{let e=()=>{l(window.innerWidth<768?"top":"left")};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,s.jsxs)(H,{children:[(0,s.jsx)(Q,{asChild:!0,children:(0,s.jsx)("div",{children:(0,s.jsxs)(o.m_,{delayDuration:500,children:[(0,s.jsx)(o.k$,{asChild:!0,children:(0,s.jsx)("div",{children:(0,s.jsx)(i.$,{variant:"ghost",size:"icon",className:"cursor-pointer hover:scale-90 transition-transform duration-100 ease-out",tabIndex:0,"aria-label":"Select plot type",children:q[e]})})}),"left"===n?(0,s.jsx)(o.ZI,{side:"left",align:"start",children:(0,s.jsx)("span",{children:"Change plot type"})}):(0,s.jsx)(o.ZI,{side:"top",align:"center",children:(0,s.jsx)("span",{children:"Change plot type"})})]})})}),(0,s.jsx)(K,{side:n,className:"flex flex-col items-center min-w-[48px] max-w-[72px] w-[56px] p-2 mb-1",children:J.map((r,n)=>n<2&&a?null:(0,s.jsx)(i.$,{variant:e===r?"default":"ghost",className:"mb-2 w-12 h-12 flex items-center cursor-pointer justify-center transform transition-transform duration-100 ease-out hover:scale-90",onClick:()=>{t(r)},"aria-label":"Select ".concat(r),children:q[r]},r))})]})};var et=a(4354),ea=a(5080);function es(e){let{className:t,orientation:a="horizontal",decorative:r=!0,...n}=e;return(0,s.jsx)(ea.b,{"data-slot":"separator",decorative:r,orientation:a,className:(0,h.cn)("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",t),...n})}var er=a(1950);let en=e=>{let{openVariables:t,setOpenVariables:a}=e,[n,l]=(0,r.useState)("left"),[c,h]=(0,r.useState)(!1),{variables:m,zMeta:x}=(0,u.on)((0,d.k)(e=>({variables:e.variables,zMeta:e.zMeta}))),[p,g]=(0,r.useState)(null),[f,j]=(0,r.useState)(null),[v,b]=(0,r.useState)(null),[y,w]=(0,r.useState)(""),A=(0,r.useMemo)(()=>{let e=y.toLowerCase().trim();return e?m.filter(t=>t.toLowerCase().includes(e)):m},[y,m]);(0,r.useEffect)(()=>{m&&x&&f&&b(x.find(e=>e.name===f))},[f,m,x]),(0,r.useEffect)(()=>{let e=()=>{l(window.innerWidth<768?"top":"left")};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let S=(0,s.jsx)("div",{className:"overflow-y-auto flex-1 [&::-webkit-scrollbar]:hidden",children:A.length>0?A.map((e,t)=>(0,s.jsxs)(r.Fragment,{children:[(0,s.jsx)("div",{className:"cursor-pointer pl-2 py-1 text-sm hover:bg-muted rounded",style:{background:t===p?"var(--muted-foreground)":""},onClick:()=>{g(t),j(e),h(!0)},children:e}),t!==A.length-1&&(0,s.jsx)(es,{className:"my-1"})]},t)):(0,s.jsx)("div",{className:"text-center text-muted-foreground py-2",children:y?"No variables found matching your search.":"No variables available."})});return(0,s.jsxs)(H,{open:t,onOpenChange:a,children:[(0,s.jsx)(Q,{asChild:!0,children:(0,s.jsx)("div",{children:(0,s.jsxs)(o.m_,{delayDuration:500,children:[(0,s.jsx)(o.k$,{asChild:!0,children:(0,s.jsx)("div",{children:(0,s.jsx)(i.$,{variant:"ghost",size:"icon",className:"cursor-pointer hover:scale-90 transition-transform duration-100 ease-out",tabIndex:0,"aria-label":"Select variable",children:(0,s.jsx)(et.T45,{className:"size-8"})})})}),"left"===n?(0,s.jsx)(o.ZI,{side:"left",align:"start",children:(0,s.jsx)("span",{children:"Select Variable"})}):(0,s.jsx)(o.ZI,{side:"top",align:"center",children:(0,s.jsx)("span",{children:"Select Variable"})})]})})}),(0,s.jsxs)(K,{side:n,className:"max-h-[50vh] overflow-hidden flex flex-col",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-4 justify-center max-w-[240px] md:max-w-sm mx-auto flex-shrink-0",children:[(0,s.jsx)(U.p,{placeholder:"Search variable...",value:y,onChange:e=>w(e.target.value),className:"flex-1"}),(0,s.jsx)(i.$,{variant:"secondary",onClick:()=>w(""),children:"Clear"})]}),S,"left"===n&&c&&v&&(0,s.jsx)("div",{className:"meta-options w-[300px]",children:(0,s.jsx)(er.A,{meta:v,setShowMeta:h})})]}),"top"===n&&(0,s.jsx)(N.lG,{open:c,onOpenChange:h,children:(0,s.jsxs)(N.Cf,{className:"max-w-[85%] md:max-w-2xl max-h-[80vh] overflow-y-auto",children:[(0,s.jsx)(N.L3,{className:"text-center text-lg font-semibold",children:f}),(0,s.jsx)("div",{className:"mt-4",children:v&&(0,s.jsx)(er.A,{meta:v,setShowMeta:h,noCard:!0})})]})})]})};var el=a(21);let ei=()=>{let[e,t]=(0,r.useState)("Spectral"),[a,n]=(0,r.useState)(!1),[l,c]=(0,r.useState)(null),{colormap:h,setColormap:x}=(0,u.on)((0,d.k)(e=>({setColormap:e.setColormap,colormap:e.colormap}))),[p,f]=(0,r.useState)("left");return(0,r.useEffect)(()=>{x((0,el.v6)(h,"Default"===(l||e)?"Spectral":l||e,1,"#000000",0,a))},[e,a,l]),(0,r.useEffect)(()=>{let e=()=>{f(window.innerWidth<768?"top":"left")};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,s.jsx)("div",{className:"relative",children:(0,s.jsxs)(H,{children:[(0,s.jsx)(Q,{asChild:!0,children:(0,s.jsx)("div",{children:(0,s.jsxs)(o.m_,{delayDuration:500,children:[(0,s.jsx)(o.k$,{asChild:!0,children:(0,s.jsx)("div",{children:(0,s.jsx)(i.$,{size:"icon",className:"cursor-pointer hover:scale-90 transition-transform duration-100 ease-out rounded-full",style:{backgroundImage:"url(./colormap_icons/".concat(e,".webp)"),backgroundSize:"100%",transform:a?"scaleX(-1)":"",width:"32px",height:"32px"}})})}),"left"===p?(0,s.jsx)(o.ZI,{side:"left",align:"start",children:(0,s.jsx)("span",{children:"Change Colormap"})}):(0,s.jsx)(o.ZI,{side:"top",align:"center",children:(0,s.jsx)("span",{children:"Change Colormap"})})]})})}),(0,s.jsxs)(K,{side:p,className:"colormaps",children:[el.dl.map(e=>(0,s.jsx)(g.default,{className:"cmap ".concat(a?"flipped":""),src:"./colormap_icons/".concat(e,".webp"),alt:e,height:100,width:256,onMouseEnter:()=>c(e),onMouseLeave:()=>c(null),onClick:()=>{t(e),c(null)}},e)),(0,s.jsx)(m.QkK,{className:"flipper",style:{position:"absolute",top:"-2rem",right:"80%",bottom:"90%",height:"50px",width:"50px",cursor:"pointer",transform:"".concat(a?"rotate(270deg)":"rotate(90deg)"),transition:".25s"},onClick:()=>n(e=>!e)})]})]})})};var eo=a(3656),ec=a(655),ed=a(1397);let eu=r.memo(function(e){var t,a;let{range:r,setRange:n,valueScales:l,min:i=-1,array:o}=e,{minVal:c,maxVal:d}=l;c=Number(c),d=Number(d);let[u,h]=[i,1];if(o){let e=o.length,t=Math.round((r[0]-i)/(1-i)*e),a=Math.round((r[1]-i)/(1-i)*e);u=o[t],h=o[a-1]}else u=Math.round(100*(r[0]*(d-(t=c))+t))/100,h=Math.round(100*(r[1]*(d-(a=c))+a))/100;return(0,s.jsxs)("div",{className:"w-full flex justify-between flex-col",children:[(0,s.jsx)(ec.R,{min:i,max:1,value:r,step:.01,onValueChange:e=>n(e)}),(0,s.jsxs)("div",{className:"flex justify-between text-xs mt-2 mb-2",children:[(0,s.jsxs)("span",{children:["Min: ",u]}),(0,s.jsxs)("span",{children:["Max: ",h]})]})]})}),eh=()=>{let{valueRange:e,xRange:t,yRange:a,zRange:r,setValueRange:n,setXRange:l,setYRange:i,setZRange:o}=(0,u.Ws)((0,d.k)(e=>({valueRange:e.valueRange,xRange:e.xRange,yRange:e.yRange,zRange:e.zRange,setValueRange:e.setValueRange,setXRange:e.setXRange,setYRange:e.setYRange,setZRange:e.setZRange}))),c={minVal:0,maxVal:0},{valueScales:h,dimArrays:m}=(0,u.on)((0,d.k)(e=>({valueScales:e.valueScales,dimArrays:e.dimArrays,isFlat:e.isFlat})));return(0,s.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,s.jsxs)("div",{className:"flex flex-col items-center w-[200px] gap-4",children:[(0,s.jsx)("b",{children:"Value Cropping"}),(0,s.jsx)(eu,{range:e,setRange:n,valueScales:h,min:0})]}),(0,s.jsxs)("div",{className:"flex flex-col items-center w-[200px] gap-4 -mt-4",children:[(0,s.jsx)("b",{children:"Spatial Cropping"}),(0,s.jsx)(eu,{range:t,setRange:l,valueScales:c,array:m[2]}),(0,s.jsx)(eu,{range:a,setRange:i,valueScales:c,array:m[1]}),(0,s.jsx)(eu,{range:r,setRange:o,valueScales:c,array:m[0]})]})]})},em=()=>{let{useFragOpt:e,quality:t,transparency:a,nanTransparency:r,nanColor:n,setQuality:l,setUseFragOpt:o,setTransparency:c,setNanTransparency:h,setNanColor:m}=(0,u.Ws)((0,d.k)(e=>({useFragOpt:e.useFragOpt,quality:e.quality,transparency:e.transparency,nanTransparency:e.nanTransparency,nanColor:e.nanColor,setQuality:e.setQuality,setUseFragOpt:e.setUseFragOpt,setTransparency:e.setTransparency,setNanTransparency:e.setNanTransparency,setNanColor:e.setNanColor})));return(0,s.jsxs)("div",{className:"grid gap-y-[5px] items-center w-50 text-center",children:[(0,s.jsx)("b",{children:"Quality"}),(0,s.jsxs)("div",{className:"w-full flex justify-between text-xs items-center gap-2",children:["Worse",(0,s.jsx)(eo.A,{min:50,max:1e3,step:50,value:[t],className:"flex-1 mb-2",onValueChange:e=>l(e[0])}),"Better"]}),(0,s.jsx)(i.$,{variant:"pink",size:"sm",className:"w-[100%] cursor-[pointer] mb-2 mt-2",onClick:()=>o(!e),children:e?"Revert to Normal":"Use Optimized Shader"}),(0,s.jsx)("b",{children:"Transparency"}),(0,s.jsx)(eo.A,{min:0,max:10,step:.2,value:[a],className:"w-full mb-2",onValueChange:e=>c(e[0])})]})},ex=()=>{let{setPointSize:e,setScaleIntensity:t,setScalePoints:a,setTimeScale:r}=(0,u.Ws)((0,d.k)(e=>({setPointSize:e.setPointSize,setScaleIntensity:e.setScaleIntensity,setScalePoints:e.setScalePoints,setTimeScale:e.setTimeScale}))),{scalePoints:n,scaleIntensity:l,pointSize:o,timeScale:c}=(0,u.Ws)((0,d.k)(e=>({scalePoints:e.scalePoints,scaleIntensity:e.scaleIntensity,pointSize:e.pointSize,timeScale:e.timeScale})));return(0,s.jsxs)("div",{className:"flex-column items-center w-50 text-center",children:[(0,s.jsx)("b",{children:"Point Size"}),(0,s.jsx)(eo.A,{className:"w-full mb-4 mt-2",min:1,max:50,step:1,value:[o],onValueChange:t=>e(t[0])}),(0,s.jsx)(i.$,{variant:"pink",size:"sm",className:"w-[100%] cursor-[pointer] mb-2 mt-2",onClick:()=>a(!n),children:n?"Remove Scaling":"Scale By Value"}),n&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("b",{children:"Scale Intensity"}),(0,s.jsx)(eo.A,{className:"w-full mb-2 mt-2",min:1,max:100,step:1,value:[l],onValueChange:e=>t(e[0])})]}),(0,s.jsx)("b",{children:"Resize Time Dimension"}),(0,s.jsx)(eo.A,{className:"w-full mb-2 mt-2",min:.05,max:5,step:.05,value:[c],onValueChange:e=>r(e[0])})]})},ep=()=>{let{lonExtent:e,latExtent:t,lonResolution:a,latResolution:r,setLonExtent:n,setLatExtent:l,setLonResolution:i,setLatResolution:o}=(0,u.Ws)((0,d.k)(e=>({lonExtent:e.lonExtent,latExtent:e.latExtent,lonResolution:e.lonResolution,latResolution:e.latResolution,setLonExtent:e.setLonExtent,setLatExtent:e.setLatExtent,setLonResolution:e.setLonResolution,setLatResolution:e.setLatResolution})));return(0,s.jsxs)("div",{className:"grid gap-2 mb-4 justify-items-center ",children:[(0,s.jsx)("h1",{children:"Spatial Extent"}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsxs)("div",{className:"flex-col justify-items-center",children:[(0,s.jsx)("h2",{children:"Min Lon"}),(0,s.jsx)(U.p,{value:e[0],onChange:t=>n([parseFloat(t.target.value),e[1]]),type:"number"})]}),(0,s.jsxs)("div",{className:"flex-col justify-items-center",children:[(0,s.jsx)("h2",{children:"Max Lon"}),(0,s.jsx)(U.p,{value:e[1],onChange:t=>n([e[0],parseFloat(t.target.value)]),type:"number"})]})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsxs)("div",{className:"flex-col justify-items-center",children:[(0,s.jsx)("h2",{children:"Min Lat"}),(0,s.jsx)(U.p,{value:t[0],onChange:e=>l([parseFloat(e.target.value),t[1]]),type:"number"})]}),(0,s.jsxs)("div",{className:"flex-col justify-items-center",children:[(0,s.jsx)("h2",{children:"Min Lat"}),(0,s.jsx)(U.p,{value:t[1],onChange:e=>l([t[0],parseFloat(e.target.value)]),type:"number"})]})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsxs)("div",{className:"flex-col justify-items-center",children:[(0,s.jsx)("h2",{children:"Lon Resolution"}),(0,s.jsx)(U.p,{value:a,onChange:e=>i(parseFloat(e.target.value)),type:"number"})]}),(0,s.jsxs)("div",{className:"flex-col justify-items-center",children:[(0,s.jsx)("h2",{children:"Lat Resolution"}),(0,s.jsx)(U.p,{value:r,onChange:e=>o(parseFloat(e.target.value)),type:"number"})]})]})]})},eg=()=>{let{showBorders:e,borderColor:t,nanColor:a,nanTransparency:r,setShowBorders:n,setBorderColor:l,setNanColor:o,setNanTransparency:c}=(0,u.Ws)((0,d.k)(e=>({showBorders:e.showBorders,borderColor:e.borderColor,nanColor:e.nanColor,nanTransparency:e.nanTransparency,setShowBorders:e.setShowBorders,setBorderColor:e.setBorderColor,setNanColor:e.setNanColor,setNanTransparency:e.setNanTransparency})));return(0,s.jsxs)("div",{className:"grid gap-y-[5px] items-center w-50 text-center",children:[(0,s.jsx)("b",{children:"NaN Transparency"}),(0,s.jsx)(eo.A,{min:0,max:1,step:.05,value:[r],className:"w-full mb-2",onValueChange:e=>c(e[0])}),(0,s.jsx)("b",{children:"NaN Color"}),(0,s.jsx)("input",{type:"color",className:"w-[100%] cursor-pointer",value:a,onChange:e=>o(e.target.value)}),(0,s.jsx)(i.$,{variant:"pink",size:"sm",className:"w-[100%] cursor-[pointer] mb-2 mt-2",onClick:()=>n(!e),children:e?"Hide Borders":"Show Borders"}),e&&(0,s.jsxs)("div",{children:[(0,s.jsx)("b",{children:"Border Color"}),(0,s.jsx)("input",{type:"color",className:"w-[100%] cursor-pointer",value:t,onChange:e=>l(e.target.value)})]}),(0,s.jsxs)(H,{children:[(0,s.jsx)(Q,{asChild:!0,children:(0,s.jsx)(i.$,{variant:"pink",size:"sm",className:"w-[100%] cursor-pointer mb-2",children:"Adjust Extent"})}),(0,s.jsx)(K,{className:"overflow-y-auto p-2 w-[280px] max-h-[70vh]",children:(0,s.jsx)(ep,{})})]})]})},ef=()=>{let[e,t]=(0,r.useState)(!1),{plotOn:a}=(0,u.on)((0,d.k)(e=>({plotOn:e.plotOn}))),{plotType:n}=(0,u.Ws)((0,d.k)(e=>({plotType:e.plotType})));return(0,r.useEffect)(()=>{let e=()=>{t(window.innerWidth<=768)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,s.jsx)(s.Fragment,{children:a?(0,s.jsxs)(H,{children:[(0,s.jsx)(Q,{asChild:!0,children:(0,s.jsx)("div",{children:(0,s.jsxs)(o.m_,{delayDuration:500,children:[(0,s.jsx)(o.k$,{asChild:!0,children:(0,s.jsx)("div",{children:(0,s.jsx)(i.$,{variant:"ghost",size:"icon",className:"size-10 cursor-pointer hover:scale-90 transition-transform duration-100 ease-out",children:(0,s.jsx)(ed.xPd,{className:"size-8"})})})}),(0,s.jsx)(o.ZI,{side:"left",align:"start",children:(0,s.jsx)("span",{children:"Plot Settings"})})]})})}),(0,s.jsxs)(K,{side:e?"top":"left",className:"overflow-y-auto w-[240px] mt-2 mr-1 ".concat(e?"max-h-[80vh] mb-1":"max-h-[70vh]"),children:["volume"===n&&(0,s.jsx)(em,{}),"point-cloud"===n&&(0,s.jsx)(ex,{}),("volume"===n||"point-cloud"===n)&&(0,s.jsx)(eh,{}),"point-cloud"!=n&&(0,s.jsx)(eg,{})]})]}):(0,s.jsx)(i.$,{variant:"ghost",size:"icon",className:"size-10",disabled:!0,style:{color:"var(--text-disabled)",transform:"scale(1)"},children:(0,s.jsx)(ed.xPd,{className:"size-8"})})})},ej={ESDC:"https://s3.bgc-jena.mpg.de:9000/esdl-esdc-v3.0.2/esdc-16d-2.5deg-46x72x1440-3.0.2.zarr",SEASFIRE:"https://s3.bgc-jena.mpg.de:9000/misc/seasfire_rechunked.zarr"},ev=e=>{let{setOpenVariables:t}=e,[a,n]=(0,r.useState)(!1),[l,c]=(0,r.useState)(!1),[h,m]=(0,r.useState)("left"),[x,p]=(0,r.useState)("ESDC"),{setInitStore:g,setVariable:f}=(0,u.on)((0,d.k)(e=>({setInitStore:e.setInitStore,setVariable:e.setVariable})));return(0,r.useEffect)(()=>{let e=()=>{m(window.innerWidth<768?"top":"left")};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,s.jsxs)(H,{children:[(0,s.jsx)(Q,{asChild:!0,children:(0,s.jsx)("div",{children:(0,s.jsxs)(o.m_,{delayDuration:500,children:[(0,s.jsx)(o.k$,{asChild:!0,children:(0,s.jsx)("div",{children:(0,s.jsx)(i.$,{tabIndex:0,variant:"ghost",size:"icon",className:"cursor-pointer hover:scale-90 transition-transform duration-100 ease-out","aria-label":"Select dataset",children:(0,s.jsx)(et.Gn0,{className:"size-8"})})})}),"left"===h?(0,s.jsx)(o.ZI,{side:"left",align:"start",children:(0,s.jsx)("span",{children:"Select dataset"})}):(0,s.jsx)(o.ZI,{side:"top",align:"center",children:(0,s.jsx)("span",{children:"Select dataset"})})]})})}),(0,s.jsxs)(K,{side:h,className:"flex flex-col items-start max-w-[220px] p-3 gap-3 w-auto mb-1",children:[(0,s.jsx)("p",{children:"Curated"}),(0,s.jsx)(i.$,{variant:"ESDC"===x?"default":"ghost",className:"cursor-pointer mt-[-20px]",onClick:()=>{n(!1),c(!1),p("ESDC"),g(ej.ESDC),t(!0)},children:"ESDC"}),(0,s.jsx)(i.$,{variant:"seasfire"===x?"default":"ghost",className:"cursor-pointer",onClick:()=>{n(!1),c(!1),p("seasfire"),g(ej.SEASFIRE),t(!0)},children:"Seasfire"}),(0,s.jsx)("div",{className:"w-full h-px bg-gray-300"}),(0,s.jsx)("p",{children:"Personal"}),(0,s.jsxs)("div",{children:[(0,s.jsx)(i.$,{variant:"remote"===x?"default":"ghost",className:"cursor-pointer mt-[-20px]",onClick:()=>{c(!1),p("remote"),n(e=>!e)},children:"Remote"}),a&&(0,s.jsxs)("form",{className:"mt-2 flex items-center gap-2",onSubmit:e=>{e.preventDefault(),g(e.currentTarget.elements[0].value),t(!0)},children:[(0,s.jsx)(U.p,{className:"w-[100px]",placeholder:"Store URL"}),(0,s.jsx)(i.$,{type:"submit",variant:"outline",children:"Fetch"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(i.$,{variant:"local"===x?"default":"ghost",className:"cursor-pointer",onClick:()=>{c(e=>!e),n(!1),p("local")},children:"Local"}),l&&(0,s.jsx)("div",{className:"mt-2",children:(0,s.jsx)($,{setShowLocal:c,setOpenVariables:t,setInitStore:g})})]})]})]})};var eb=a(9259);let ey=[1,2,4,6,8,12,16,24,36,48,54,60,80,120],ew=e=>{let{visible:t}=e,{animate:a,animProg:n,setAnimate:l,setAnimProg:o}=(0,u.Ws)((0,d.k)(e=>({animate:e.animate,animProg:e.animProg,setAnimate:e.setAnimate,setAnimProg:e.setAnimProg}))),{dimArrays:c,dimNames:h,dimUnits:m}=(0,u.on)((0,d.k)(e=>({dimArrays:e.dimArrays,dimNames:e.dimNames,dimUnits:e.dimUnits}))),x=(0,r.useMemo)(()=>c[0].length,[c]),[p,g]=(0,r.useState)(0),f=(0,r.useRef)(null),j=(0,r.useRef)(0),[v,b]=(0,r.useState)(5),y=(0,r.useRef)(5);(0,r.useEffect)(()=>{if(a){y.current!=v&&f.current&&(clearInterval(f.current),f.current=null),y.current=v;let e=1e3/ey[v];j.current=Math.round(n*x),f.current=setInterval(()=>{j.current+=1,o((j.current+1)%x/x)},e)}else f.current&&(clearInterval(f.current),f.current=null);return()=>{f.current&&clearInterval(f.current)}},[a,v]);let w=(0,I.SB)(c[0][p],m[0],!0),N=(0,I.SB)(c[0][0],m[0],!0),A=(0,I.SB)(c[0][x-1],m[0],!0);return(0,s.jsx)("div",{style:{display:t?"":"none"},children:(0,s.jsx)(W.Zp,{className:"play-interface py-1",children:(0,s.jsxs)(W.Wu,{className:"flex flex-col gap-1 w-full h-full px-1 py-1",children:[(0,s.jsx)("div",{className:"text-xs sm:text-sm text-center",children:w}),(0,s.jsxs)("div",{className:"flex items-center gap-1 w-full",children:[(0,s.jsx)("span",{className:"text-xs",children:N}),(0,s.jsx)(eo.A,{value:[Math.round(n*x)],min:0,max:x-1,step:1,className:"flex-1",onValueChange:e=>{let t=Array.isArray(e)?e[0]:0;g(t),o(t/(x-1))}}),(0,s.jsx)("span",{className:"text-xs",children:A})]}),(0,s.jsxs)("div",{className:"grid grid-cols-3 items-center w-full",children:[(0,s.jsx)("div",{className:"justify-self-start",children:(0,s.jsx)(i.$,{variant:"secondary",size:"sm",className:"cursor-pointer",disabled:v<=0,onClick:()=>b(e=>Math.max(0,e-1)),children:"Slower"})}),(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center gap-1 w-full",children:[(0,s.jsx)(i.$,{variant:"default",size:"sm",className:"cursor-pointer",onClick:()=>l(!a),"aria-label":a?"Pause":"Play",title:a?"Pause":"Play",children:a?(0,s.jsx)(eb.kwt,{}):(0,s.jsx)(eb.gSK,{})}),(0,s.jsxs)("div",{className:"text-[11px] leading-none",children:[(0,s.jsx)("b",{children:ey[v]})," FPS"]})]}),(0,s.jsx)("div",{className:"justify-self-end",children:(0,s.jsx)(i.$,{variant:"secondary",size:"sm",className:"cursor-pointer",disabled:v>=ey.length-1,onClick:()=>b(e=>Math.min(ey.length-1,e+1)),children:"Faster"})})]})]})})})},eN=()=>{let{isFlat:e,plotOn:t}=(0,u.on)((0,d.k)(e=>({isFlat:e.isFlat,plotOn:e.plotOn}))),[a,n]=(0,r.useState)(!1),l=(0,r.useMemo)(()=>!e&&t,[e,t]),c=!e&&t;return(0,s.jsxs)("div",{children:[c?(0,s.jsxs)(o.m_,{delayDuration:500,children:[(0,s.jsx)(o.k$,{asChild:!0,children:(0,s.jsx)("div",{children:(0,s.jsx)(i.$,{variant:"ghost",size:"icon",className:"size-10 cursor-pointer hover:scale-90 transition-transform duration-100 ease-out",onClick:()=>{l&&n(e=>!e)},children:(0,s.jsx)(G.BXV,{className:"size-8"})})})}),(0,s.jsx)(o.ZI,{side:"left",align:"start",className:"flex flex-col",children:(0,s.jsx)("span",{children:"Animation controls"})})]}):(0,s.jsx)(i.$,{variant:"ghost",size:"icon",className:"size-10",disabled:!0,style:{color:"var(--text-disabled)",transform:"scale(1)"},children:(0,s.jsx)(G.BXV,{className:"size-8"})}),(0,s.jsx)(ew,{visible:a})]})};a(4918);let eA={oom:{title:"Out of Memory",description:"The application has run out of memory. Please try closing other applications or restarting your device."},cors:{title:"CORS Error",description:"There was a Cross-Origin Resource Sharing (CORS) error. Please check your network settings or try again later."},404:{title:"Resource Not Found",description:"The requested resource could not be found. Please check the URL or try again later."},zarrFetch:{title:"Failed to Fetch Zarr Store",description:"There was an error fetching the Zarr store. Please check the store path and your network connection."}},eS=()=>{let{error:e,setError:t}=(0,u.$U)((0,d.k)(e=>({error:e.error,setError:e.setError})));return(0,s.jsx)(s.Fragment,{children:e&&(0,s.jsx)(N.lG,{open:!0,children:(0,s.jsxs)(N.Cf,{"aria-describedby":"Error Message",children:[(0,s.jsxs)(N.L3,{className:"text-center text-lg font-semibold",children:["Error: ",eA[e].title]}),(0,s.jsx)("div",{className:"error-message",children:eA[e].description}),(0,s.jsx)("div",{className:"flex justify-center mt-[10px]",children:(0,s.jsx)(i.$,{variant:"pink",className:"cursor-pointer hover:scale-[1.1]",onClick:e=>t(null),children:"Okay"})})]})})})};var eC=a(5048),ek=a(7647),ez=a(9588),eD=a(6966),eE=a(5605);function eR(e){let{...t}=e;return(0,s.jsx)(ek.bL,{"data-slot":"select",...t})}function eM(e){let{...t}=e;return(0,s.jsx)(ek.YJ,{"data-slot":"select-group",...t})}function eL(e){let{...t}=e;return(0,s.jsx)(ek.WT,{"data-slot":"select-value",...t})}function eF(e){let{className:t,size:a="default",children:r,...n}=e;return(0,s.jsxs)(ek.l9,{"data-slot":"select-trigger","data-size":a,className:(0,h.cn)("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...n,children:[r,(0,s.jsx)(ek.In,{asChild:!0,children:(0,s.jsx)(ez.A,{className:"size-4 opacity-50"})})]})}function e_(e){let{className:t,children:a,position:r="popper",...n}=e;return(0,s.jsx)(ek.ZL,{children:(0,s.jsxs)(ek.UC,{"data-slot":"select-content",className:(0,h.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===r&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[(0,s.jsx)(eB,{}),(0,s.jsx)(ek.LM,{className:(0,h.cn)("p-1","popper"===r&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:a}),(0,s.jsx)(eV,{})]})})}function eI(e){let{className:t,...a}=e;return(0,s.jsx)(ek.JU,{"data-slot":"select-label",className:(0,h.cn)("text-muted-foreground px-2 py-1.5 text-xs",t),...a})}function eT(e){let{className:t,children:a,...r}=e;return(0,s.jsxs)(ek.q7,{"data-slot":"select-item",className:(0,h.cn)("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...r,children:[(0,s.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,s.jsx)(ek.VF,{children:(0,s.jsx)(eD.A,{className:"size-4"})})}),(0,s.jsx)(ek.p4,{children:a})]})}function eB(e){let{className:t,...a}=e;return(0,s.jsx)(ek.PP,{"data-slot":"select-scroll-up-button",className:(0,h.cn)("flex cursor-default items-center justify-center py-1",t),...a,children:(0,s.jsx)(eE.A,{className:"size-4"})})}function eV(e){let{className:t,...a}=e;return(0,s.jsx)(ek.wn,{"data-slot":"select-scroll-down-button",className:(0,h.cn)("flex cursor-default items-center justify-center py-1",t),...a,children:(0,s.jsx)(ez.A,{className:"size-4"})})}let eU=["Mean","Min","Max","StDev","CUMSUM","LinearSlope"],eP=(0,s.jsxs)("div",{className:"m-0 p-5 font-sans flex-column justify-center items-center",children:[(0,s.jsx)("span",{className:"text-5xl mb-4 block self-center",children:"⚠️"}),(0,s.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"WebGPU Not Available"}),(0,s.jsx)("p",{className:"text-base leading-relaxed mb-1 opacity-95",children:"WebGPU is not supported or enabled in your current browser. This feature is required for GPU-accelerated computing."}),(0,s.jsxs)("div",{className:"bg-white bg-opacity-15 rounded-xl border border-white border-opacity-20",children:[(0,s.jsx)("h3",{className:"m-0 mb-4 text-lg font-semibold",children:"Try These Solutions:"}),(0,s.jsxs)("ul",{className:"suggestion-list",children:[(0,s.jsx)("li",{children:"Switch to a Chrome-based browser (Chrome, Edge, Brave)"}),(0,s.jsx)("li",{children:"Use Safari on macOS (version 14.1 or later)"}),(0,s.jsx)("li",{children:"Enable WebGPU in your browser's experimental features"}),(0,s.jsx)("li",{children:"Update your browser to the latest version"})]})]})]}),eO=()=>{let{plotOn:e,variable:t,variables:a,dimNames:n,initStore:l,isFlat:c,setTimeSeries:h}=(0,u.on)((0,d.k)(e=>({plotOn:e.plotOn,variable:e.variable,variables:e.variables,dimNames:e.dimNames,initStore:e.initStore,isFlat:e.isFlat,setTimeSeries:e.setTimeSeries}))),m=(0,r.useRef)(l),[x,p]=(0,r.useState)(!1),{execute:g,operation:f,useTwo:j,kernelSize:v,kernelDepth:b,kernelOperation:y,axis:w,variable2:N,analysisMode:A,reverseDirection:S,setExecute:C,setAxis:k,setOperation:z,setUseTwo:D,setVariable2:E,setKernelSize:R,setKernelDepth:M,setKernelOperation:L,setAnalysisMode:F,setReverseDirection:_,setAnalysisStore:I}=(0,u.r2)((0,d.k)(e=>({execute:e.execute,operation:e.operation,useTwo:e.useTwo,kernelSize:e.kernelSize,kernelDepth:e.kernelDepth,kernelOperation:e.kernelOperation,axis:e.axis,variable2:e.variable2,analysisMode:e.analysisMode,reverseDirection:e.reverseDirection,setExecute:e.setExecute,setAxis:e.setAxis,setOperation:e.setOperation,setUseTwo:e.setUseTwo,setVariable2:e.setVariable2,setKernelSize:e.setKernelSize,setKernelDepth:e.setKernelDepth,setKernelOperation:e.setKernelOperation,setAnalysisMode:e.setAnalysisMode,setReverseDirection:e.setReverseDirection,setAnalysisStore:e.setAnalysisStore}))),{reFetch:T,setReFetch:B}=(0,u.SZ)((0,d.k)(e=>({reFetch:e.reFetch,setReFetch:e.setReFetch}))),[V,P]=(0,r.useState)(!1);(0,r.useEffect)(()=>{(async()=>{if(!navigator.gpu)return P(!0);try{await navigator.gpu.requestAdapter(),P(!1)}catch(e){P(!0)}})()},[e]),(0,r.useEffect)(()=>{l!=m.current?p(!0):p(!1)},[l]),(0,r.useEffect)(()=>{p(!1),m.current=l,I(l)},[T]),(0,r.useEffect)(()=>{c?M(1):M(3)},[c]);let[O,$]=(0,r.useState)("left");function W(e){let t=parseInt(e);return t%2==0?Math.max(1,t-1):t}return(0,r.useEffect)(()=>{let e=()=>{$(window.innerWidth<768?"top":"left")};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,s.jsx)(s.Fragment,{children:e?(0,s.jsxs)(H,{children:[(0,s.jsx)(Q,{asChild:!0,children:(0,s.jsx)("div",{children:(0,s.jsxs)(o.m_,{delayDuration:500,children:[(0,s.jsx)(o.k$,{asChild:!0,children:(0,s.jsx)("div",{children:(0,s.jsx)(i.$,{variant:"ghost",size:"icon",className:"size-10 cursor-pointer hover:scale-90 transition-transform duration-100 ease-out",children:(0,s.jsx)(G.x6X,{className:"size-8"})})})}),"left"===O?(0,s.jsx)(o.ZI,{side:"left",align:"start",children:(0,s.jsx)("span",{children:"Apply operations"})}):(0,s.jsx)(o.ZI,{side:"top",align:"center",children:(0,s.jsx)("span",{children:"Apply operations"})})]})})}),(0,s.jsx)(K,{side:O,className:"analysis-info select-none",children:V?eP:(0,s.jsxs)(s.Fragment,{children:[!c&&(0,s.jsx)(i.$,{className:"cursor-pointer active:scale-[0.95]",disabled:x,onClick:()=>{D(!j),z("Default")},children:j?"Use One \n Variable":"Use Two Variables"}),(0,s.jsx)("table",{style:{textAlign:"right"},children:(0,s.jsxs)("tbody",{children:[(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Current Variable"}),(0,s.jsx)("td",{className:"text-center w-[100%] align-middle justify-center content-center",children:(0,s.jsxs)("button",{className:"rounded-[6px] self-center w-[80%] mx-auto relative border border-gray-150 py-[5px] ".concat(A?"hover:scale-[0.95]":""," transition-[0.2s]"),style:{cursor:A?"pointer":"",background:A?"#b6d1ddff":"#f8f8f8"},disabled:!A,onClick:e=>{B(!T),F(!1)},children:[A&&(0,s.jsx)(eC.fc4,{size:20,style:{position:"absolute",left:"0%",top:"10%"}}),t]})})]}),j&&(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Second Variable"}),(0,s.jsx)("td",{children:(0,s.jsxs)(eR,{onValueChange:E,children:[(0,s.jsx)(eF,{style:{width:"175px",marginLeft:"10px"},children:(0,s.jsx)(eL,{placeholder:"Default"==N?"Select...":N})}),(0,s.jsx)(e_,{children:a.map((e,a)=>e==t?null:(0,s.jsx)(eT,{value:e,children:e},a))})]})})]})}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Operation"}),!j&&(0,s.jsx)("td",{children:(0,s.jsxs)(eR,{onValueChange:z,children:[(0,s.jsx)(eF,{style:{width:"175px",marginLeft:"10px"},children:(0,s.jsx)(eL,{placeholder:"Default"===f?"Select...":f})}),(0,s.jsxs)(e_,{children:[!c&&(0,s.jsxs)(eM,{children:[(0,s.jsx)(eI,{children:"Dimension Reduction"}),eU.map((e,t)=>(0,s.jsx)(eT,{value:e,children:e},t))]}),(0,s.jsxs)(eM,{children:[(0,s.jsx)(eI,{children:c?"":"Three Dimensional"}),(0,s.jsx)(eT,{value:"Convolution",children:"Convolution"}),!c&&(0,s.jsx)(eT,{value:"CUMSUM3D",children:"CUMSUM"})]})]})]})}),j&&(0,s.jsx)("td",{children:(0,s.jsxs)(eR,{onValueChange:z,children:[(0,s.jsx)(eF,{style:{width:"175px",marginLeft:"10px"},children:(0,s.jsx)(eL,{placeholder:"Default"===f?"Select...":f})}),(0,s.jsxs)(e_,{children:[(0,s.jsxs)(eM,{children:[(0,s.jsx)(eI,{children:"Dimension Reduction"}),(0,s.jsx)(eT,{value:"Correlation2D",children:"Correlation"}),(0,s.jsx)(eT,{value:"TwoVarLinearSlope2D",children:"Linear Slope"}),(0,s.jsx)(eT,{value:"Covariance2D",children:"Covariance"})]}),(0,s.jsxs)(eM,{children:[(0,s.jsx)(eI,{children:"Three Dimensional"}),(0,s.jsx)(eT,{value:"Correlation3D",children:"Correlation"}),(0,s.jsx)(eT,{value:"TwoVarLinearSlope3D",children:"Linear Slope"}),(0,s.jsx)(eT,{value:"Covariance3D",children:"Covariance"})]})]})]})})]}),!["Convolution","Correlation3D","Default","Covariance3D","TwoVarLinearSlope3D"].includes(f)&&(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Axis"}),(0,s.jsxs)("td",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[(0,s.jsxs)(eR,{onValueChange:e=>k(parseInt(e)),children:[(0,s.jsx)(eF,{style:{width:["CUMSUM3D","LinearSlope"].includes(f)?"50%":"175px",marginLeft:"10px"},children:(0,s.jsx)(eL,{placeholder:n[w]})}),(0,s.jsx)(e_,{children:n.map((e,t)=>(0,s.jsx)(eT,{value:String(t),children:e},t))})]}),["CUMSUM3D"].includes(f)&&(0,s.jsxs)(o.m_,{delayDuration:300,children:[(0,s.jsx)(o.k$,{asChild:!0,children:(0,s.jsxs)("div",{style:{width:"50%",display:"flex",alignItems:"center"},children:[(0,s.jsx)("label",{htmlFor:"reverse-axis",style:{textAlign:"left",marginRight:"-20px",marginLeft:"-10px"},children:"Rev."}),(0,s.jsx)(U.p,{id:"reverse-axis",type:"checkbox",checked:1==S,onChange:e=>{_(+!!e.target.checked)}})]})}),(0,s.jsx)(o.ZI,{side:"bottom",children:"Reverse the direction of the operation along the axis"})]})]})]}),["Convolution","Correlation3D","Covariance3D","TwoVarLinearSlope3D"].includes(f)&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{style:{padding:"0px 12px"},children:"Kernel Size"}),(0,s.jsx)("td",{children:(0,s.jsx)("table",{style:{width:"100%",tableLayout:"fixed"},children:(0,s.jsxs)("tbody",{children:[!c&&(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{style:{textAlign:"center"},children:"Size"}),(0,s.jsx)("td",{style:{textAlign:"center"},children:"Depth"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{style:{textAlign:"center",padding:"0px 12px"},children:(0,s.jsx)(U.p,{type:"number",min:"1",step:"2",value:String(v),onChange:e=>R(parseInt(e.target.value)),onBlur:e=>R(W(e.target.value))})}),!c&&(0,s.jsx)("td",{style:{textAlign:"center",padding:"0px 12px"},children:(0,s.jsx)(U.p,{type:"number",min:"1",step:"2",value:String(b),onChange:e=>M(parseInt(e.target.value)),onBlur:e=>M(W(e.target.value))})})]})]})})})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{}),(0,s.jsx)("th",{children:(0,s.jsx)(e$,{size:Math.min(v,15),depth:Math.min(b,15)})})]})]})]})}),(0,s.jsx)(i.$,{className:"cursor-pointer active:scale-[0.95]",disabled:"Default"===f||"Convolution"===f&&"Default"===y||j&&"Default"===N,onClick:()=>{C(!g),F(!0),h({})},children:"Execute"})]})})]}):(0,s.jsx)(i.$,{variant:"ghost",size:"icon",className:"size-10",disabled:!0,style:{color:"var(--text-disabled)",transform:"scale(1)"},children:(0,s.jsx)(G.x6X,{className:"size-8"})})})},e$=e=>{let{size:t,depth:a}=e,n=(0,r.useRef)(null);return(0,r.useEffect)(()=>{let e=n.current;if(!e)return;let s=e.getContext("2d");if(!s)return;e.width=150,e.height=150;let r=(110-6*Math.max(0,a-1))/t;s.clearRect(0,0,150,150);for(let e=a-1;e>=0;e--){let n=6*e,l=6*e/1.5;for(let i=0;i<t;i++)for(let o=0;o<t;o++){s.fillStyle=i===Math.floor(t/2)&&o===Math.floor(t/2)||e==Math.floor(a/2)&&1!=a?"#da5d5dff":"rgba(255, 255, 255, 1)",s.strokeStyle="#334155",s.lineWidth=1;let c=20+n+o*r,d=20+l+i*r;s.beginPath(),s.rect(c,d,r,r),s.fill(),s.stroke()}}},[t,a]),(0,s.jsx)("canvas",{ref:n})};var eW=a(9797);let eZ=()=>{let{includeBackground:e,includeColorbar:t,doubleSize:a,cbarLoc:r,cbarNum:n,useCustomRes:l,customRes:c,includeAxis:h,ExportImg:m,setIncludeBackground:x,setIncludeColorbar:p,setDoubleSize:g,setCbarLoc:f,setCbarNum:j,setUseCustomRes:v,setCustomRes:b,setIncludeAxis:y,setHideAxis:w,setHideAxisControls:N}=(0,u.qi)((0,d.k)(e=>({includeBackground:e.includeBackground,includeColorbar:e.includeColorbar,doubleSize:e.doubleSize,cbarLoc:e.cbarLoc,cbarNum:e.cbarNum,useCustomRes:e.useCustomRes,customRes:e.customRes,includeAxis:e.includeAxis,ExportImg:e.ExportImg,setIncludeBackground:e.setIncludeBackground,setIncludeColorbar:e.setIncludeColorbar,setDoubleSize:e.setDoubleSize,setCbarLoc:e.setCbarLoc,setCbarNum:e.setCbarNum,setUseCustomRes:e.setUseCustomRes,setCustomRes:e.setCustomRes,setIncludeAxis:e.setIncludeAxis,setHideAxis:e.setHideAxis,setHideAxisControls:e.setHideAxisControls}))),{plotType:A}=(0,u.Ws)((0,d.k)(e=>({plotType:e.plotType})));return(0,s.jsxs)(H,{children:[(0,s.jsx)(Q,{asChild:!0,children:(0,s.jsx)("div",{children:(0,s.jsxs)(o.m_,{delayDuration:500,children:[(0,s.jsx)(o.k$,{asChild:!0,children:(0,s.jsx)(i.$,{variant:"ghost",size:"icon",className:"cursor-pointer",children:(0,s.jsx)(eW.qlq,{className:"size-8"})})}),(0,s.jsx)(o.ZI,{side:"right",align:"start",children:"Export view as Image"})]})})}),(0,s.jsx)(K,{side:"right",className:"w-[200px] select-none",children:(0,s.jsxs)("div",{className:"grid grid-cols-[auto_60px] items-center gap-2",children:[(0,s.jsx)("label",{htmlFor:"includeBG",children:"Include Background"}),(0,s.jsx)(U.p,{id:"includeBG",type:"checkbox",checked:e,onChange:e=>x(e.target.checked)}),"sphere"!=A&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("label",{htmlFor:"includeBG",children:"Include Axis"}),(0,s.jsx)(U.p,{id:"includeBG",type:"checkbox",checked:h,onChange:e=>y(e.target.checked)})]}),(0,s.jsx)("label",{htmlFor:"includeCbar",children:"Include Colorbar"}),(0,s.jsx)(U.p,{id:"includeCbar",type:"checkbox",checked:t,onChange:e=>p(e.target.checked)}),t&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"col-span-2 flex justify-between",children:[(0,s.jsxs)("label",{htmlFor:"colorbar-loc ",children:["Colorbar ",(0,s.jsx)("br",{})," Location"]}),(0,s.jsx)("div",{id:"colorbar-loc",children:(0,s.jsxs)(eR,{value:r,onValueChange:e=>f(e),children:[(0,s.jsx)(eF,{children:(0,s.jsx)(eL,{placeholder:r})}),(0,s.jsx)(e_,{children:["left","right","top","bottom"].map(e=>(0,s.jsx)(eT,{value:e,children:(e=>e.charAt(0).toUpperCase()+e.slice(1))(e)},e))})]})})]}),(0,s.jsx)("label",{htmlFor:"cbarNum",children:"Number of Ticks"}),(0,s.jsx)(U.p,{id:"cbarNum",type:"number",min:0,max:20,step:1,value:n,onChange:e=>j(parseInt(e.target.value))})]}),(0,s.jsx)("label",{htmlFor:"useCustomRes",children:"Set Resolution"}),(0,s.jsx)(U.p,{id:"useCustomRes",type:"checkbox",checked:l,onChange:e=>v(e.target.checked)}),l&&(0,s.jsxs)("div",{className:"grid grid-cols-[50%_50%] col-span-2 ",children:[(0,s.jsxs)("div",{className:"flex flex-col items-center",children:[(0,s.jsx)("h1",{children:"Width"}),(0,s.jsx)(U.p,{id:"cbarNum",type:"number",value:c[0],onChange:e=>b([parseInt(e.target.value),c[1]])})]}),(0,s.jsxs)("div",{className:"flex flex-col items-center",children:[(0,s.jsx)("h1",{children:"Height"}),(0,s.jsx)(U.p,{id:"cbarNum",type:"number",value:c[1],onChange:e=>b([c[0],parseInt(e.target.value)])})]})]}),!l&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("label",{htmlFor:"includeCbar",children:"Double Resolution"}),(0,s.jsx)(U.p,{id:"includeCbar",type:"checkbox",checked:a,onChange:e=>g(e.target.checked)})]}),(0,s.jsx)(i.$,{className:"col-span-2",variant:"pink",onClick:e=>{m(),N(!0),w(!h)},children:"Export"})]})})]})};var eG=a(8593);function eY(e){let{...t}=e;return(0,s.jsx)(eG._s.Root,{"data-slot":"drawer",...t})}function eX(e){let{...t}=e;return(0,s.jsx)(eG._s.Trigger,{"data-slot":"drawer-trigger",...t})}function eH(e){let{...t}=e;return(0,s.jsx)(eG._s.Portal,{"data-slot":"drawer-portal",...t})}function eQ(e){let{className:t,...a}=e;return(0,s.jsx)(eG._s.Overlay,{"data-slot":"drawer-overlay",className:(0,h.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...a})}function eK(e){let{className:t,children:a,...r}=e;return(0,s.jsxs)(eH,{"data-slot":"drawer-portal",children:[(0,s.jsx)(eQ,{}),(0,s.jsxs)(eG._s.Content,{"data-slot":"drawer-content",className:(0,h.cn)("group/drawer-content bg-background fixed z-50 flex h-auto flex-col","data-[vaul-drawer-direction=top]:inset-x-0 data-[vaul-drawer-direction=top]:top-0 data-[vaul-drawer-direction=top]:mb-24 data-[vaul-drawer-direction=top]:max-h-[80vh] data-[vaul-drawer-direction=top]:rounded-b-lg data-[vaul-drawer-direction=top]:border-b","data-[vaul-drawer-direction=bottom]:inset-x-0 data-[vaul-drawer-direction=bottom]:bottom-0 data-[vaul-drawer-direction=bottom]:mt-24 data-[vaul-drawer-direction=bottom]:max-h-[80vh] data-[vaul-drawer-direction=bottom]:rounded-t-lg data-[vaul-drawer-direction=bottom]:border-t","data-[vaul-drawer-direction=right]:inset-y-0 data-[vaul-drawer-direction=right]:right-0 data-[vaul-drawer-direction=right]:w-3/4 data-[vaul-drawer-direction=right]:border-l data-[vaul-drawer-direction=right]:sm:max-w-sm","data-[vaul-drawer-direction=left]:inset-y-0 data-[vaul-drawer-direction=left]:left-0 data-[vaul-drawer-direction=left]:w-3/4 data-[vaul-drawer-direction=left]:border-r data-[vaul-drawer-direction=left]:sm:max-w-sm",t),...r,children:[(0,s.jsx)("div",{className:"bg-muted mx-auto mt-4 hidden h-2 w-[100px] shrink-0 rounded-full group-data-[vaul-drawer-direction=bottom]/drawer-content:block"}),a]})]})}function eJ(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"drawer-header",className:(0,h.cn)("flex flex-col gap-0.5 p-4 group-data-[vaul-drawer-direction=bottom]/drawer-content:text-center group-data-[vaul-drawer-direction=top]/drawer-content:text-center md:gap-1.5 md:text-left",t),...a})}function eq(e){let{className:t,...a}=e;return(0,s.jsx)(eG._s.Title,{"data-slot":"drawer-title",className:(0,h.cn)("text-foreground font-semibold",t),...a})}let e0={src:"/_next/static/media/logo.d9323308.png",height:1e3,width:1e3,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAYFBMVEVMaXH5xyb60jLzyNjzZ6d/VTLYx8zw4VrRS4LBN3nlYJ7eZJfel1W0ijz7zzyRNiT90Dqew6/17/Xj1M749N/LyI3ha37R3v/3z2v90TvcrzLBV37/2DL/4oHcwLv+//8HdHKGAAAAHHRSTlMAefb+9wpSBWI3T09v0FAq1lr29NTo+j7+kvP2lbyMGQAAAAlwSFlzAAAdhwAAHYcBj+XxZQAAAEBJREFUeJwVxUcSgCAQAMEhLpgQzIr6/19a9qUBXHKADMd49h2I0rVqJbDN975kwJf3mTwQL2NsBAirDf/QNsAHWeQCQebHKVQAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8};function e1(){return(0,s.jsxs)(eY,{children:[(0,s.jsx)(eX,{asChild:!0,children:(0,s.jsx)("div",{className:"left-4 z-2 py-2",children:(0,s.jsxs)(o.m_,{delayDuration:500,children:[(0,s.jsx)(o.k$,{asChild:!0,children:(0,s.jsx)(i.$,{variant:"ghost",size:"icon",className:"cursor-pointer",tabIndex:0,title:"About Browzarr",children:(0,s.jsx)(g.default,{src:e0,alt:"browzarr",width:32,height:32})})}),(0,s.jsx)(o.ZI,{side:"right",align:"start",children:(0,s.jsx)("span",{children:"About BrowZarr"})})]})})}),(0,s.jsxs)(eK,{className:"max-w-md mx-auto",children:[(0,s.jsx)(eJ,{children:(0,s.jsx)(eq,{children:"About"})}),(0,s.jsx)("div",{className:"flex-1 overflow-y-auto px-4 pb-4",children:(0,s.jsx)(y,{})})]})]})}var e2=a(7215);let e5=function(){let{titleDescription:e}=(0,u.on)((0,d.k)(e=>({titleDescription:e.titleDescription})));return(0,r.useEffect)(()=>{(null==e?void 0:e.title)&&(e.title,(0,e2.oR)(e.title,{description:e.description||"",action:{label:"Dismiss",onClick:()=>null}}))},[e]),null}},4882:()=>{},4884:()=>{},4918:()=>{},6431:(e,t,a)=>{"use strict";a.d(t,{Bi:()=>d,Tk:()=>i,_z:()=>o,tz:()=>u});var s=a(970);function r(e){let t=["bytes","KB","MB","GB","TB","PB"],a=e,s=0;for(;a>=1024&&s<t.length-1;)a/=1024,s++;return"".concat(a.toFixed(2)," ").concat(t[s])}function n(e){return({int8:1,uint8:1,int16:2,uint16:2,int32:4,uint32:4,int64:8,uint64:8,float32:4,float64:8,bool:1})[e]||4}function l(e){return e.reduce((e,t)=>e*t,1)}async function i(e){let t=await e,a="contents"in t.store?t.store.contents():[],i=[];for(let e of a)if(e.path&&e.path.length>1&&"array"===e.kind){let a=await s.h(t.resolve(e.path.substring(1)),{kind:"array"}),o=n(a.dtype),c=l(a.shape),d=function(e,t){return e.reduce((e,a,s)=>e*Math.ceil(a/t[s]),1)}(a.shape,a.chunks),u=l(a.chunks),h=c*o,m=u*o;i.push({name:e.path.substring(1),long_name:a.attrs.long_name,shape:a.shape,chunks:a.chunks,dtype:a.dtype,totalSize:h,totalSizeFormatted:r(h),chunkCount:d,chunkSize:m,chunkSizeFormatted:r(m)})}return i}function o(e){let t=n(e.dtype),a=l(e.shape);return[a*t,l(e.chunks)*t,e.chunks]}let c=["longitude","latitude","lat","lon","time","depth","height","altitude","x","y","z","t","level"];async function d(e){return(await e).filter(e=>!function(e){let t=e.toLowerCase();return c.some(e=>t===e)}(e.name)).map(e=>e.name).sort((e,t)=>e.localeCompare(t))}async function u(e,t){let a=await e,s="attrs"in a&&"description"in a.attrs?String(a.attrs.description):"",r="attrs"in a&&"title"in a.attrs?String(a.attrs.title):"";return r||s?{title:r,description:s}:{title:t,description:""}}},6709:()=>{},8247:()=>{},8688:(e,t,a)=>{"use strict";a.d(t,{$U:()=>x,FT:()=>m,SZ:()=>h,Ws:()=>d,on:()=>c,qi:()=>p,r2:()=>u});var s=a(3204),r=a(7510),n=a(21),l=a(9901),i=a(7595);let o="https://s3.bgc-jena.mpg.de:9000/esdl-esdc-v3.0.2/esdc-16d-2.5deg-46x72x1440-3.0.2.zarr",c=(0,s.v)((e,t)=>({dataShape:[1,1,1],shape:new r.Pq0(2,2,2),valueScales:{maxVal:1,minVal:-1},colormap:(0,n.v6)(),timeSeries:{},strides:[10368,144,1],showLoading:!1,metadata:null,zMeta:[{}],dimArrays:[[0],[0],[0]],dimNames:["Default"],dimUnits:["Default"],dimCoords:{},plotDim:0,flipY:!1,initStore:o,variable:"Default",variables:[],plotOn:!1,isFlat:!1,progress:0,downloading:!1,is4D:!1,idx4D:null,titleDescription:{},setDataShape:t=>e({dataShape:t}),setShape:t=>e({shape:t}),setValueScales:t=>e({valueScales:t}),setColormap:t=>e({colormap:t}),setTimeSeries:t=>e({timeSeries:t}),updateTimeSeries:a=>{e({timeSeries:Object.fromEntries(Object.entries({...a,...t().timeSeries}).slice(0,10))})},setStrides:t=>e({strides:t}),setShowLoading:t=>e({showLoading:t}),setMetadata:t=>e({metadata:t}),setZMeta:t=>e({zMeta:t}),setDimArrays:t=>e({dimArrays:t}),setDimNames:t=>e({dimNames:t}),setDimUnits:t=>e({dimUnits:t}),setDimCoords:t=>e({dimCoords:t}),updateDimCoords:a=>{e({dimCoords:Object.fromEntries(Object.entries({...a,...t().dimCoords}).slice(0,10))})},setPlotDim:t=>e({plotDim:t}),setFlipY:t=>e({flipY:t}),setInitStore:t=>e({initStore:t}),setVariable:t=>e({variable:t}),setVariables:t=>e({variables:t}),setPlotOn:t=>e({plotOn:t}),setIsFlat:t=>e({isFlat:t}),setProgress:t=>e({progress:t}),setDownloading:t=>e({downloading:t}),setIs4D:t=>e({is4D:t}),setIdx4D:t=>e({idx4D:t}),setTitleDescription:t=>e({titleDescription:t})})),d=(0,s.v)((e,t)=>({plotType:"sphere",pointSize:5,scalePoints:!1,scaleIntensity:1,quality:200,timeScale:1,valueRange:[0,1],xRange:[-1,1],yRange:[-1,1],zRange:[-1,1],selectTS:!1,showPoints:!1,linePointSize:2,lineWidth:1.25,lineColor:"#111111",pointColor:"#EA8686",useLineColor:!1,lineResolution:3,animate:!1,resetAnim:!1,animProg:0,cOffset:0,cScale:1,useFragOpt:!1,resetCamera:!1,useCustomColor:!1,useCustomPointColor:!1,transparency:0,nanTransparency:1,nanColor:"#000000",showBorders:!1,borderColor:"#000000",lonExtent:[-180,180],latExtent:[-90,90],lonResolution:1,latResolution:1,colorIdx:0,maxTextureSize:2048,setQuality:t=>e({quality:t}),setTimeScale:t=>e({timeScale:t}),setValueRange:t=>e({valueRange:t}),setXRange:t=>e({xRange:t}),setYRange:t=>e({yRange:t}),setZRange:t=>e({zRange:t}),setPointSize:t=>e({pointSize:t}),setScalePoints:t=>e({scalePoints:t}),setScaleIntensity:t=>e({scaleIntensity:t}),setPlotType:t=>e({plotType:t}),setSelectTS:t=>e({selectTS:t}),setShowPoints:t=>e({showPoints:t}),setLinePointSize:t=>e({linePointSize:t}),setLineWidth:t=>e({lineWidth:t}),setLineColor:t=>e({lineColor:t}),setPointColor:t=>e({pointColor:t}),setUseLineColor:t=>e({useLineColor:t}),setLineResolution:t=>e({lineResolution:t}),setAnimate:t=>e({animate:t}),setResetAnim:t=>e({resetAnim:t}),setAnimProg:t=>e({animProg:t}),setCOffset:t=>e({cOffset:t}),setCScale:t=>e({cScale:t}),setUseFragOpt:t=>e({useFragOpt:t}),setResetCamera:t=>e({resetCamera:t}),setUseCustomColor:t=>e({useCustomColor:t}),setUseCustomPointColor:t=>e({useCustomPointColor:t}),setTransparency:t=>e({transparency:t}),setNanTransparency:t=>e({nanTransparency:t}),setNanColor:t=>e({nanColor:t}),setShowBorders:t=>e({showBorders:t}),setBorderColor:t=>e({borderColor:t}),setLonExtent:t=>e({lonExtent:t}),setLatExtent:t=>e({latExtent:t}),setLonResolution:t=>e({lonResolution:t}),setLatResolution:t=>e({latResolution:t}),incrementColorIdx:()=>e(e=>({colorIdx:(e.colorIdx+1)%10})),getColorIdx:()=>t().colorIdx,setMaxTextureSize:t=>e({maxTextureSize:t})})),u=(0,s.v)(e=>({analysisMode:!1,axis:0,operation:"Default",execute:!1,useTwo:!1,variable2:"Default",valueScalesOrig:null,kernelSize:3,kernelDepth:3,kernelOperation:"Default",analysisArray:new Uint8Array(1),reverseDirection:0,analysisStore:o,setAnalysisMode:t=>e({analysisMode:t}),setAxis:t=>e({axis:t}),setOperation:t=>e({operation:t}),setExecute:t=>e({execute:t}),setUseTwo:t=>e({useTwo:t}),setVariable2:t=>e({variable2:t}),setValueScalesOrig:t=>e({valueScalesOrig:t}),setKernelSize:t=>e({kernelSize:t}),setKernelDepth:t=>e({kernelDepth:t}),setKernelOperation:t=>e({kernelOperation:t}),setAnalysisArray:t=>e({analysisArray:t}),setReverseDirection:t=>e({reverseDirection:t}),setAnalysisStore:t=>e({analysisStore:t})})),h=(0,s.v)((e,t)=>({slice:[0,null],compress:!1,currentStore:(0,l.Oe)(o),reFetch:!1,currentChunks:[],arraySize:0,setSlice:t=>e({slice:t}),setCompress:t=>e({compress:t}),setCurrentStore:t=>e({currentStore:t}),setReFetch:t=>e({reFetch:t}),setCurrentChunks:t=>e({currentChunks:t}),setArraySize:t=>e({arraySize:t})})),m=(0,s.v)((e,t)=>({cache:new i.A({maxSize:2e3}),clearCache:()=>{let{cache:e}=t();e.clear()}})),x=(0,s.v)(e=>({error:null,setError:t=>e({error:t})})),p=(0,s.v)((e,t)=>({exportImg:!1,includeBackground:!1,includeColorbar:!0,doubleSize:!1,cbarLoc:"bottom",cbarNum:5,useCustomRes:!1,customRes:[1920,1080],includeAxis:!0,hideAxisControls:!1,hideAxis:!1,ExportImg:()=>e({exportImg:!t().exportImg}),setIncludeBackground:t=>e({includeBackground:t}),setIncludeColorbar:t=>e({includeColorbar:t}),setDoubleSize:t=>e({doubleSize:t}),setCbarLoc:t=>e({cbarLoc:t}),getCbarLoc:()=>t().cbarLoc,setCbarNum:t=>e({cbarNum:t}),getCbarNum:()=>t().cbarNum,setUseCustomRes:t=>e({useCustomRes:t}),setCustomRes:t=>e({customRes:t}),getCustomRes:()=>t().customRes,setIncludeAxis:t=>e({includeAxis:t}),getIncludeAxis:()=>t().includeAxis,setHideAxisControls:t=>e({hideAxisControls:t}),getHideAxisControls:()=>t().hideAxisControls,setHideAxis:t=>e({hideAxis:t})}))},8804:(e,t,a)=>{"use strict";a.d(t,{PE:()=>h,QB:()=>u,Qt:()=>c,SB:()=>l,Td:()=>m,_8:()=>o,jT:()=>i,lt:()=>r,mT:()=>d});var s=a(8688);function r(e){if("Default"===e||!e||"string"!=typeof e||""===e.trim())return 1;let t=e.match(/^(\w+)\s+since\s+(.+)$/i);if(!t)throw Error('Invalid time unit format: expected "<unit> since <date>", got "'.concat(e,'"'));let[a,s,r]=t,n=s.toLowerCase(),l={millisecond:1,milliseconds:1,second:1e3,seconds:1e3,minute:6e4,minutes:6e4,hour:36e5,hours:36e5,day:864e5,days:864e5},i=n.endsWith("s")?n.slice(0,-1):n,o=void 0!==l[n]?n:i;if(!(o in l))throw Error('Unsupported time unit: "'.concat(s,'". Supported units: ').concat(Object.keys(l).join(", ")));return l[o]}let n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function l(e,t){let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!t)return e;if("bigint"==typeof e){if(!t)return Number(e);try{let s=r(t),l=Number(e)*s,i=new Date(l);if(a)return"".concat(i.getDate()," ").concat(n[i.getMonth()]," ").concat(i.getFullYear());{let e=i.getDate(),t=i.getMonth()+1,a=i.getFullYear();return"".concat(String(e).padStart(2,"0"),"-").concat(String(t).padStart(2,"0"),"-").concat(a)}}catch(t){return e}}return t.match(/(degree|degrees|deg|°)/i)?"".concat(e.toFixed(2),"\xb0"):e.toFixed(2)}function i(e){let{normal:t,uv:a}=e,r=s.on.getState().flipY;switch(!0){case 1===t.z:return[null,r?1-a.y:a.y,a.x];case -1===t.z:return[null,r?1-a.y:a.y,1-a.x];case 1===t.x:return[1-a.x,r?1-a.y:a.y,null];case -1===t.x:return[a.x,r?1-a.y:a.y,null];case 1===t.y:return[1-a.y,null,a.x];default:return[0,0,0]}}function o(e){return 1===Math.abs(e.x)?2:1===Math.abs(e.y)?1:1===Math.abs(e.z)?0:null}function c(e){let t=1/0,a=-1/0;for(let s=0;s<e.length;s++)t=e[s]<t?e[s]:t,a=e[s]>a?e[s]:a;return[t,a]}function d(e,t,a){let s=(t-e)/(a-1);return Array.from({length:a},(t,a)=>e+s*a)}function u(e,t){let a=s.Ws.getState().setLonExtent,r=s.Ws.getState().setLatExtent,n=s.Ws.getState().setLonResolution,l=s.Ws.getState().setLatResolution,i=e.length>2?e.slice(1):e,o=!1;for(let e of i)if(e.match(/(degree|degrees|deg|°)/i)){o=!0;break}if(o){let e=t.length>2?t.slice(1):t,s=e[0][0],i=e[0][e[0].length-1],o=e[1][0],c=e[1][e[1].length-1];a([o=o>180?o-360:o,c=c>180?c-360:c]),r([s,i]);let d=Math.abs(e[0][1]-e[0][0]);n(Math.abs(e[1][1]-e[1][0])),l(d)}else a([-180,180]),r([-90,90])}function h(e,t){let{uv:a,normal:s}=t,{data:r,shape:n,stride:l}=e,o=i({normal:s,uv:a}).map((e,t)=>null===e||null===n[t]?null:Math.round(e*n[t]-.5)),c=o.indexOf(null),d=l[c],u=null==o[0]?0:l[0]*o[0],h=null==o[1]?0:l[1]*o[1],m=null==o[2]?0:l[2]*o[2],x=[];for(let e=0;e<n[c];e++){let t=e*d+u+h+m;x.push(r[t])}return x}function m(e){let{variable:t,is4D:a,idx4D:r,initStore:n}=s.on.getState(),{arraySize:l,currentChunks:i}=s.SZ.getState(),{cache:o}=s.FT.getState(),c=e||n;if(o.has(a?"".concat(c,"_").concat(r,"_").concat(t):"".concat(c,"_").concat(t)))return o.get(a?"".concat(c,"_").concat(r,"_").concat(t):"".concat(c,"_").concat(t)).data;{let e=new Float32Array(l),s=0;for(let n of i){let l=a?"".concat(c,"_").concat(r,"_").concat(t,"_chunk_").concat(n):"".concat(c,"_").concat(t,"_chunk_").concat(n),i=o.get(l);e.set(i.data,s),s+=i.data.length}return e}}},9341:(e,t,a)=>{"use strict";a.d(t,{Wu:()=>i,Zp:()=>n,aR:()=>l});var s=a(9564);a(7776);var r=a(3964);function n(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"card",className:(0,r.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...a})}function l(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"card-header",className:(0,r.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...a})}function i(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"card-content",className:(0,r.cn)("px-6",t),...a})}},9901:(e,t,a)=>{"use strict";a.d(t,{Oe:()=>m,Y5:()=>g});var s=a(2105),r=a(4123),n=a(970),l=a(7974),i=a(7603),o=a(8804),c=a(6431),d=a(8688),u=a(2360);class h extends Error{constructor(e,t){super(e),this.cause=t,this.name="ZarrError"}}async function m(e){try{let t=s.x(new r.A(e));return await t.then(e=>n.h(e,{kind:"group"}))}catch(t){throw"local"!=e.slice(0,5)&&(d.$U.getState().setError("zarrFetch"),d.on.getState().setShowLoading(!1)),new h("Failed to initialize store at ".concat(e),t)}}function x(e,t){let a=new Uint8Array(e.buffer);return(0,u.u3)(a,{level:t})}function p(e){return new Float16Array((0,u.Rq)(e).buffer)}class g{async GetArray(e,t){let{is4D:a,idx4D:s,initStore:r,setProgress:u,setStrides:h,setDownloading:m}=d.on.getState(),{compress:g,setCurrentChunks:f,setArraySize:j}=d.SZ.getState(),{cache:v}=d.FT.getState();if(this.variable=e,v.has(a?"".concat(r,"_").concat(s,"_").concat(e):"".concat(r,"_").concat(e))){let t=v.get(a?"".concat(r,"_").concat(s,"_").concat(e):"".concat(r,"_").concat(e));return t.compressed&&(t.data=p(t.data)),t}let b=await this.groupStore,y=await n.h(b.resolve(e),{kind:"array"}),[w,N,A]=(0,c._z)(y);a&&(w/=y.shape[0],A=A.slice(1),y.shape[0]);let S=a?y.shape[1]/A[0]>1:y.shape[0]/A[0]>1;if(y.is("number")||y.is("bigint")){let n,c,d,b=null;if(w<1e8||!S){if(m(!0),n=a?await l.Jt(y,[s,null,null,null]):await l.Jt(y),d=a?y.shape.slice(1):y.shape,h(n.stride),n.data instanceof BigInt64Array||n.data instanceof BigUint64Array)throw Error("BigInt arrays are not supported for conversion to Float32Array.");{c=new Float32Array(n.data);let[t,l]=(0,o.Qt)(c);if(l<=65504&&t>=-65504)c=new Float16Array(n.data);else{b=Math.ceil(Math.log10(l/65504));for(let e=0;e<c.length;e++)c[e]/=Math.pow(10,b);c=new Float16Array(c)}let i={data:g?x(c,6):c,shape:n.shape,stride:n.stride,scaling:b,compressed:g};v.set(a?"".concat(r,"_").concat(s,"_").concat(e):"".concat(r,"_").concat(e),i)}m(!1)}else{m(!0),u(0);let w=Math.floor(t[0]/A[0]),N=t[1]?Math.ceil(t[1]/A[0]):a?Math.ceil(y.shape[1]/A[0]):Math.ceil(y.shape[0]/A[0]),S=N-w,C=a?y.shape[2]*y.shape[3]:y.shape[1]*y.shape[2],k=(N-w)*A[0]*C;j(k),d=a?[(N-w)*A[0],y.shape[2],y.shape[3]]:[(N-w)*A[0],y.shape[1],y.shape[2]],c=new Float32Array(k);let z=0,D=1,E=[],R=[];for(let t=w;t<N;t++){let o=a?"".concat(r,"_").concat(s,"_").concat(e,"_chunk_").concat(t):"".concat(r,"_").concat(e,"_chunk_").concat(t);if(E.push(t),this.cache.has(o)){h((n=v.get(o)).stride);let e=n.compressed?p(n.data):n.data;c.set(e,z),u(Math.round(D/S*100)),z+=n.data.length,D++}else{if(R.push(t),(n=await l.Jt(y,a?[s,i.di(t*A[0],(t+1)*A[0]),null,null]:[i.di(t*A[0],(t+1)*A[0]),null,null])).data instanceof BigInt64Array||n.data instanceof BigUint64Array)throw Error("BigInt arrays are not supported for conversion to Float32Array.");c.set(n.data,z),v.set(o,n),z+=n.data.length,h(n.stride),u(Math.round(D/S*100)),D++}}let[M,L]=(0,o.Qt)(c);if(L<=65504&&M>=-65504)c=new Float16Array(c);else{b=Math.ceil(Math.log10(L/65504));for(let e=0;e<c.length;e++)c[e]/=Math.pow(10,b);c=new Float16Array(c)}for(let t of R){let l=a?"".concat(r,"_").concat(s,"_").concat(e,"_chunk_").concat(t):"".concat(r,"_").concat(e,"_chunk_").concat(t);if(b){let e=new Float32Array((n=v.get(l)).data.length);for(let t=0;t<n.data.length;t++)e[t]=n.data[t]/Math.pow(10,b);let t=new Float16Array(e),a={data:g?x(t,6):t,shape:n.shape,stride:n.stride,scaling:b,compressed:g};v.set(l,a)}else{let e=new Float16Array((n=v.get(l)).data),t={data:g?x(e,6):e,shape:n.shape,stride:n.stride,scaling:null};v.set(l,t)}}f(E),m(!1),u(0)}return{data:c,shape:d,dtype:y.dtype,scalingFactor:b}}throw Error("Unsupported data type: Only numeric arrays are supported. Got: ".concat(y.dtype))}async GetAttributes(e){let{cache:t}=d.FT.getState(),{initStore:a}=d.on.getState(),s="".concat(a,"_").concat(e,"_meta");if(t.has(s)){let e=t.get(s);return this.dimNames=e._ARRAY_DIMENSIONS,e}let r=await this.groupStore,i=(await n.h(r.resolve(e),{kind:"array"})).attrs;t.set(s,i);let o=[];for(let e of i._ARRAY_DIMENSIONS){if(!t.has(e)){let s=await n.h(r.resolve(e),{kind:"array"}).then(e=>l.Jt(e)),i=await n.h(r.resolve(e),{kind:"array"}).then(e=>e.attrs);t.set("".concat(a,"_").concat(e),s.data),t.set("".concat(a,"_").concat(e,"_meta"),i)}o.push(e)}return this.dimNames=o,i}GetDimArrays(){let{initStore:e}=d.on.getState(),{cache:t}=d.FT.getState(),a=[],s=[];for(let r of this.dimNames)a.push(t.get("".concat(e,"_").concat(r))),s.push(t.get("".concat(e,"_").concat(r,"_meta")));return[a,s,this.dimNames]}GetTimeSeries(e){let t,a,s,{uv:r,normal:n}=e;if(!this.cache.has(this.variable)&&0==this.chunkIDs.length)return[0];if(this.chunkIDs.length>0){let e=[];for(let t of this.chunkIDs)e.push(this.cache.get("".concat(this.variable,"_chunk_").concat(t)));({shape:a,stride:s}=e[0]),t=new Float32Array(e.reduce((e,t)=>e+t.data.length,0));let r=0;for(let a of e)t.set(a.data,r),r+=a.data.length}else({data:t,shape:a,stride:s}=this.cache.get(this.variable));let l=(0,o.jT)({normal:n,uv:r}).map((e,t)=>null===e||null===a[t]?null:Math.round(e*a[t]-.5)),i=l.indexOf(null),c=s[i],d=null==l[0]?0:s[0]*l[0],u=null==l[1]?0:s[1]*l[1],h=null==l[2]?0:s[2]*l[2],m=[];for(let e=0;e<a[i];e++){let a=e*c+d+u+h;m.push(t[a])}return m}constructor(e){this.groupStore=e,this.variable="Default",this.cache=d.FT.getState().cache,this.dimNames=["","",""],this.chunkIDs=[]}}}}]);