(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[351],{140:(e,t,a)=>{"use strict";a.d(t,{default:()=>n});var s=a(9440);a(3420);var r=a(8108);let n=e=>{let{scale:t,setScale:a}=e,[n,l]=(0,r.useState)(!1),i=(0,r.useRef)(null),o=e=>{n&&(e.preventDefault(),a(Math.min(Math.max(t+(i.current?(i.current-e.clientY)/100:0),.1),10)))},c=()=>{l(!1)};return(0,r.useEffect)(()=>(n&&(document.addEventListener("mousemove",o),document.addEventListener("mouseup",c)),()=>{document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",c)}),[n]),(0,s.jsx)("div",{className:"yScaler",onMouseDown:e=>{e.preventDefault(),l(!0),i.current=e.clientY},onMouseUp:c})}},268:()=>{},820:(e,t,a)=>{"use strict";a.d(t,{$U:()=>u,SZ:()=>d,Ws:()=>o,on:()=>i,r2:()=>c});var s=a(8449),r=a(2314),n=a(2251),l=a(9113);let i=(0,s.v)((e,t)=>({shape:new r.Pq0(2,2,2),valueScales:{maxVal:1,minVal:-1},colormap:(0,n.v6)(),timeSeries:{},strides:[10368,144,1],showLoading:!1,metadata:null,zMeta:[{}],dataArray:null,dimArrays:[[0],[0],[0]],dimNames:["Default"],dimUnits:["Default"],dimCoords:{},plotDim:0,flipY:!1,initStore:"https://s3.bgc-jena.mpg.de:9000/esdl-esdc-v3.0.2/esdc-16d-2.5deg-46x72x1440-3.0.2.zarr",variable:"Default",variables:[],plotOn:!1,isFlat:!1,progress:0,setShape:t=>e({shape:t}),setValueScales:t=>e({valueScales:t}),setColormap:t=>e({colormap:t}),setTimeSeries:t=>e({timeSeries:t}),updateTimeSeries:a=>{e({timeSeries:Object.fromEntries(Object.entries({...a,...t().timeSeries}).slice(0,10))})},setStrides:t=>e({strides:t}),setShowLoading:t=>e({showLoading:t}),setMetadata:t=>e({metadata:t}),setZMeta:t=>e({zMeta:t}),setDataArray:t=>e({dataArray:t}),setDimArrays:t=>e({dimArrays:t}),setDimNames:t=>e({dimNames:t}),setDimUnits:t=>e({dimUnits:t}),setDimCoords:t=>e({dimCoords:t}),updateDimCoords:a=>{e({dimCoords:Object.fromEntries(Object.entries({...a,...t().dimCoords}).slice(0,10))})},setPlotDim:t=>e({plotDim:t}),setFlipY:t=>e({flipY:t}),setInitStore:t=>e({initStore:t}),setVariable:t=>e({variable:t}),setVariables:t=>e({variables:t}),setPlotOn:t=>e({plotOn:t}),setIsFlat:t=>e({isFlat:t}),setProgress:t=>e({progress:t})})),o=(0,s.v)(e=>({plotType:"sphere",pointSize:5,scalePoints:!1,scaleIntensity:1,quality:200,timeScale:1,valueRange:[0,1],xRange:[-1,1],yRange:[-1,1],zRange:[-1,1],selectTS:!1,showPoints:!1,linePointSize:2,lineWidth:1.25,lineColor:"#111111",pointColor:"#EA8686",useLineColor:!1,lineResolution:3,animate:!1,resetAnim:!1,animProg:0,cOffset:0,cScale:1,useFragOpt:!1,resetCamera:!1,useCustomColor:!1,useCustomPointColor:!1,setQuality:t=>e({quality:t}),setTimeScale:t=>e({timeScale:t}),setValueRange:t=>e({valueRange:t}),setXRange:t=>e({xRange:t}),setYRange:t=>e({yRange:t}),setZRange:t=>e({zRange:t}),setPointSize:t=>e({pointSize:t}),setScalePoints:t=>e({scalePoints:t}),setScaleIntensity:t=>e({scaleIntensity:t}),setPlotType:t=>e({plotType:t}),setSelectTS:t=>e({selectTS:t}),setShowPoints:t=>e({showPoints:t}),setLinePointSize:t=>e({linePointSize:t}),setLineWidth:t=>e({lineWidth:t}),setLineColor:t=>e({lineColor:t}),setPointColor:t=>e({pointColor:t}),setUseLineColor:t=>e({useLineColor:t}),setLineResolution:t=>e({lineResolution:t}),setAnimate:t=>e({animate:t}),setResetAnim:t=>e({resetAnim:t}),setAnimProg:t=>e({animProg:t}),setCOffset:t=>e({cOffset:t}),setCScale:t=>e({cScale:t}),setUseFragOpt:t=>e({useFragOpt:t}),setResetCamera:t=>e({resetCamera:t}),setUseCustomColor:t=>e({useCustomColor:t}),setUseCustomPointColor:t=>e({useCustomPointColor:t})})),c=(0,s.v)(e=>({axis:0,operation:"Mean",execute:!1,variable1:"Default",variable2:"Default",setAxis:t=>e({axis:t}),setOperation:t=>e({operation:t}),setExecute:t=>e({execute:t}),setVariable1:t=>e({variable1:t}),setVariable2:t=>e({variable2:t})})),d=(0,s.v)(e=>({slice:[0,null],compress:!1,currentStore:(0,l.Oe)("https://s3.bgc-jena.mpg.de:9000/esdl-esdc-v3.0.2/esdc-16d-2.5deg-46x72x1440-3.0.2.zarr"),setSlice:t=>e({slice:t}),setCompress:t=>e({compress:t}),setCurrentStore:t=>e({currentStore:t})})),u=(0,s.v)(e=>({zarrFetch:!1,cors:!1,oom:!1,setZarrFetch:t=>e({zarrFetch:t}),setCors:t=>e({cors:t}),setOom:t=>e({oom:t})}))},1051:(e,t,a)=>{"use strict";a.d(t,{$:()=>o});var s=a(9440);a(8108);var r=a(8932),n=a(1822),l=a(5304);let i=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function o(e){let{className:t,variant:a,size:n,asChild:o=!1,...c}=e,d=o?r.DX:"button";return(0,s.jsx)(d,{"data-slot":"button",className:(0,l.cn)(i({variant:a,size:n,className:t})),...c})}},1106:(e,t,a)=>{"use strict";a.d(t,{default:()=>n});var s=a(9440),r=a(8108);a(5580);let n=e=>{let{height:t,setHeight:a}=e,[n,l]=(0,r.useState)(!1),[i,o]=(0,r.useState)(window.innerHeight-50);(0,r.useEffect)(()=>{let e=()=>{o(window.innerHeight-100)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let c=(0,r.useCallback)(e=>{requestAnimationFrame(()=>{a(e)})},[a,i]),d=(0,r.useCallback)(e=>{switch(e.key){case"ArrowUp":e.preventDefault(),c(t-10);break;case"ArrowDown":e.preventDefault(),c(t+10);break;case"Home":e.preventDefault(),c(50);break;case"End":e.preventDefault(),c(i)}},[t,i,c]),u=e=>{e.preventDefault(),l(!0)},m=(0,r.useCallback)(e=>{n&&(e.preventDefault(),c("touches"in e?e.touches[0].clientY:e.clientY))},[n,c]),h=(0,r.useCallback)(()=>{l(!1)},[]),p=(0,r.useCallback)(()=>{n&&l(!1)},[n]);return(0,r.useEffect)(()=>(n&&(document.addEventListener("mousemove",m),document.addEventListener("mouseup",h),document.addEventListener("touchmove",m,{passive:!1}),document.addEventListener("touchend",h),document.addEventListener("touchcancel",h),window.addEventListener("resize",p)),()=>{document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",h),document.removeEventListener("touchmove",m),document.removeEventListener("touchend",h),document.removeEventListener("touchcancel",h),window.removeEventListener("resize",p)}),[n,m,h,p]),(0,s.jsx)("div",{className:"resize-bar",onMouseDown:u,onTouchStart:u,onKeyDown:d,style:{top:"".concat(t,"px")},role:"slider","aria-label":"Resize plot height","aria-valuemin":50,"aria-valuemax":i,"aria-valuenow":t,tabIndex:0})}},1680:(e,t,a)=>{"use strict";a.d(t,{default:()=>o});var s=a(9440),r=a(2189),n=a(333),l=a(8108),i=a(3351);let o=()=>{let e=(0,n.useAtomValue)(i.eN),[t,a]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{a(!0)},[]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{id:"overlays"}),t&&(0,r.createPortal)((0,s.jsx)(s.Fragment,{children:e.modal&&(0,s.jsx)(i.VT,{})}),document.getElementById("overlays"))]})}},1772:()=>{},1850:(e,t,a)=>{"use strict";a.d(t,{AM:()=>l,Wv:()=>i,hl:()=>o});var s=a(9440);a(8108);var r=a(8285),n=a(5304);function l(e){let{...t}=e;return(0,s.jsx)(r.Root,{"data-slot":"popover",...t})}function i(e){let{...t}=e;return(0,s.jsx)(r.Trigger,{"data-slot":"popover-trigger",...t})}function o(e){let{className:t,align:a="center",sideOffset:l=4,...i}=e;return(0,s.jsx)(r.Portal,{children:(0,s.jsx)(r.Content,{"data-slot":"popover-content",align:a,sideOffset:l,className:(0,n.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",t),...i})})}},1889:(e,t,a)=>{"use strict";a.d(t,{ContextTweaker:()=>p});var s=a(9440),r=a(8108),n=a(820),l=a(1051),i=a(796),o=a(9462);a(6940);var c=a(2472),d=a(6484);let u=r.memo(function(e){var t,a;let{range:r,setRange:n,valueScales:l,min:o=-1,array:c}=e,{minVal:d,maxVal:u}=l;d=Number(d),u=Number(u);let[m,h]=[o,1];if(c){let e=c.length,t=Math.round((r[0]-o)/(1-o)*e),a=Math.round((r[1]-o)/(1-o)*e);m=c[t],h=c[a-1]}else m=Math.round(100*(r[0]*(u-(t=d))+t))/100,h=Math.round(100*(r[1]*(u-(a=d))+a))/100;return(0,s.jsxs)("div",{className:"w-full flex justify-between flex-col",children:[(0,s.jsx)(i.A,{range:!0,min:o,max:1,defaultValue:r,step:.01,onChange:e=>n(e)}),(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",fontSize:12,marginTop:18},children:[(0,s.jsxs)("span",{children:["Min: ",m]}),(0,s.jsxs)("span",{children:["Max: ",h]})]})]})}),m=r.memo(function(e){let{loc:t}=e,{valueRange:a,xRange:i,yRange:m,zRange:h,useFragOpt:p,quality:x,setValueRange:f,setXRange:g,setYRange:v,setZRange:j,setQuality:A,setPlotType:b,setUseFragOpt:y}=(0,n.Ws)((0,o.k)(e=>({valueRange:e.valueRange,xRange:e.xRange,yRange:e.yRange,zRange:e.zRange,useFragOpt:e.useFragOpt,quality:e.quality,setValueRange:e.setValueRange,setXRange:e.setXRange,setYRange:e.setYRange,setZRange:e.setZRange,setQuality:e.setQuality,setPlotType:e.setPlotType,setUseFragOpt:e.setUseFragOpt}))),[w,S]=(0,r.useState)({minVal:0,maxVal:0}),[N,C]=(0,r.useState)({minVal:0,maxVal:0}),[k,R]=(0,r.useState)({minVal:0,maxVal:0}),{valueScales:E,dimArrays:M}=(0,n.on)((0,o.k)(e=>({valueScales:e.valueScales,dimArrays:e.dimArrays,isFlat:e.isFlat})));(0,r.useEffect)(()=>{if(3===M.length){let[e,t]=(0,c.ArrayMinMax)(M[2]),[a,s]=(0,c.ArrayMinMax)(M[1]),[r,n]=(0,c.ArrayMinMax)(M[0]);S({minVal:e,maxVal:t}),C({minVal:a,maxVal:s}),R({minVal:r,maxVal:n})}},[M]);let[z,V]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{V(!0)},[t]),(0,s.jsx)("div",{className:"nav-dropdown",children:(0,s.jsxs)(d.rI,{open:z,onOpenChange:V,children:[(0,s.jsx)(d.ty,{}),(0,s.jsxs)(d.SQ,{className:"w-56",align:"start",children:[(0,s.jsx)(d.lp,{children:"Plot Quality"}),(0,s.jsx)(d._2,{onSelect:e=>e.preventDefault(),children:(0,s.jsxs)("div",{className:"w-full flex justify-between",children:["Worse",(0,s.jsx)("input",{type:"range",min:50,max:1e3,step:50,defaultValue:200,value:x,onChange:e=>A(parseInt(e.target.value))}),"Better"]})}),(0,s.jsx)(d._2,{children:(0,s.jsx)(l.$,{variant:"destructive",className:"w-[100%] h-[20px] cursor-[pointer]",onClick:()=>y(!p),children:p?"Revert to Normal":"Use Optimized Shader"})}),(0,s.jsx)(d.mB,{}),(0,s.jsxs)(d.I,{children:[(0,s.jsx)(d.lp,{children:"Value Cropping"}),(0,s.jsx)(d._2,{onSelect:e=>e.preventDefault(),children:(0,s.jsx)(u,{range:a,setRange:f,valueScales:E,min:0})})]}),(0,s.jsx)(d.mB,{}),(0,s.jsxs)(d.I,{onSelect:e=>e.preventDefault(),children:[(0,s.jsx)(d.lp,{children:"Spatial Cropping"}),(0,s.jsxs)(d.I,{children:[(0,s.jsx)(d._2,{onSelect:e=>e.preventDefault(),children:(0,s.jsx)(u,{range:i,setRange:g,valueScales:w,array:M[2]})}),(0,s.jsx)(d._2,{onSelect:e=>e.preventDefault(),children:(0,s.jsx)(u,{range:m,setRange:v,valueScales:N,array:M[1]})}),(0,s.jsx)(d._2,{onSelect:e=>e.preventDefault(),children:(0,s.jsx)(u,{range:h,setRange:j,valueScales:k,array:M[0]})})]})]}),(0,s.jsx)(d._2,{onSelect:e=>e.preventDefault(),children:(0,s.jsx)(l.$,{variant:"destructive",className:"w-[100%] h-[20px] cursor-[pointer]",onClick:()=>b("point-cloud"),children:"Change to Points"})})]})]})})}),h=r.memo(function(e){let{loc:t}=e,{setPointSize:a,setScaleIntensity:i,setScalePoints:c,setPlotType:m,setValueRange:h,setTimeScale:p}=(0,n.Ws)((0,o.k)(e=>({setPointSize:e.setPointSize,setScaleIntensity:e.setScaleIntensity,setScalePoints:e.setScalePoints,setPlotType:e.setPlotType,setValueRange:e.setValueRange,setTimeScale:e.setTimeScale}))),{scalePoints:x,scaleIntensity:f,pointSize:g,valueRange:v,timeScale:j}=(0,n.Ws)((0,o.k)(e=>({scalePoints:e.scalePoints,scaleIntensity:e.scaleIntensity,pointSize:e.pointSize,valueRange:e.valueRange,timeScale:e.timeScale}))),A=(0,n.on)((0,o.k)(e=>e.valueScales)),[b,y]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{y(!0)},[t]),(0,s.jsx)("div",{className:"nav-dropdown",children:(0,s.jsxs)(d.rI,{open:b,onOpenChange:y,children:[(0,s.jsx)(d.ty,{}),(0,s.jsxs)(d.SQ,{className:"w-56",align:"start",children:[(0,s.jsxs)(d.I,{children:[(0,s.jsx)(d._2,{onSelect:e=>e.preventDefault(),children:(0,s.jsxs)("div",{className:"w-full flex justify-between flex-col items-center",children:[(0,s.jsx)("b",{children:"Point Size"}),(0,s.jsx)("input",{type:"range",className:"w-full",min:1,max:50,step:1,defaultValue:g,onChange:e=>a(parseInt(e.target.value))})]})}),(0,s.jsx)(d._2,{onSelect:e=>e.preventDefault(),children:(0,s.jsx)(l.$,{variant:"destructive",className:"w-[100%] h-[20px] cursor-[pointer]",onClick:()=>c(!x),children:x?"Remove Scaling":"Scale By Value"})}),(0,s.jsx)(d._2,{onSelect:e=>e.preventDefault(),children:(0,s.jsxs)("div",{className:"w-full flex justify-between flex-col items-center",children:[(0,s.jsx)("b",{children:"Scale Intensity"}),(0,s.jsx)("input",{type:"range",className:"w-full",min:1,max:100,step:1,defaultValue:f,onChange:e=>i(parseInt(e.target.value))})]})})]}),(0,s.jsxs)(d.I,{children:[(0,s.jsx)(d.lp,{children:"Value Cropping"}),(0,s.jsx)(d._2,{onSelect:e=>e.preventDefault(),children:(0,s.jsx)(u,{range:v,setRange:h,valueScales:A,min:0})}),(0,s.jsx)(d._2,{onSelect:e=>e.preventDefault(),children:(0,s.jsxs)("div",{className:"w-full flex justify-between flex-col items-center",children:[(0,s.jsx)("b",{children:"Resize Time Dimension"}),(0,s.jsx)("input",{type:"range",className:"w-full",min:.05,max:5,step:.05,defaultValue:j,onChange:e=>p(parseFloat(e.target.value))})]})})]}),(0,s.jsx)(d._2,{onSelect:e=>e.preventDefault(),children:(0,s.jsx)(l.$,{variant:"destructive",className:"w-[100%] h-[20px] cursor-[pointer]",onClick:()=>m("volume"),children:"Change to Volume"})})]})]})})}),p=r.memo(function(e){let{loc:t}=e,a=(0,n.Ws)(e=>e.plotType);return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{style:{position:"fixed",left:t[0],top:t[1]},children:["volume"===a&&(0,s.jsx)(m,{loc:t}),"point-cloud"===a&&(0,s.jsx)(h,{loc:t})]})})})},1897:(e,t,a)=>{"use strict";a.d(t,{default:()=>n});var s=a(9440);a(3420);var r=a(8108);let n=e=>{let{scale:t,setScale:a}=e,[n,l]=(0,r.useState)(!1),i=(0,r.useRef)(null),o=e=>{n&&(e.preventDefault(),a(Math.min(Math.max(t+(i.current?(i.current-e.clientX)/1e3:0),.1),2)))},c=()=>{l(!1)};return(0,r.useEffect)(()=>(n&&(document.addEventListener("mousemove",o),document.addEventListener("mouseup",c)),()=>{document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",c)}),[n]),(0,s.jsx)("div",{className:"xScaler",onMouseDown:e=>{e.preventDefault(),l(!0),i.current=e.clientX},onMouseUp:c})}},1969:()=>{},2047:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});let s={src:"/Browzarr/_next/static/media/logo_mpi.60f96703.png",height:335,width:335,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAG1BMVEX///////////////////////////////9MaXHtBtUtAAAACXRSTlMVIF5RcjsnRQDMSZBbAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAM0lEQVR4nBXJyREAMAwCscXgo/+KM/lKHG03By7Hgq6ZFKJWSfEnWX7FK6RPNRo4eru5BxsqAMT2mkYXAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8}},2251:(e,t,a)=>{"use strict";a.d(t,{oW:()=>o,v6:()=>l,dl:()=>n});var s=a(2314),r=a(1952);let n=["magma","inferno","plasma","viridis","cividis","twilight","twilight_shifted","turbo","Blues","BrBG","BuGn","BuPu","CMRmap","GnBu","Greens","Greys","OrRd","Oranges","PRGn","PiYG","PuBu","PuBuGn","PuOr","PuRd","Purples","RdBu","RdGy","RdPu","RdYlBu","RdYlGn","Reds","Spectral","Wistia","YlGn","YlGnBu","YlOrBr","YlOrRd","afmhot","autumn","binary","bone","brg","bwr","cool","coolwarm","copper","cubehelix","flag","gist_earth","gist_gray","gist_heat","gist_ncar","gist_rainbow","gist_stern","gist_yarg","gnuplot","gnuplot2","gray","hot","hsv","jet","nipy_spectral","ocean","pink","prism","rainbow","seismic","spring","summer","terrain","winter","Accent","Dark2","Paired","Pastel1","Pastel2","Set1","Set2","Set3","tab10","tab20","tab20b","tab20c"];function l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Spectral",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"#000000",l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],o=Array.from({length:255},(e,t)=>t/254),c=(o=i?o.reverse():o).map(e=>(0,r.md)(e,t,!1)),d=new Uint8Array((c.length+1)*4);for(let e=0;e<c.length;e++){let[t,s,r]=c[e];d[4*e]=t,d[4*e+1]=s,d[4*e+2]=r,d[4*e+3]=a}let u=function(e){let t=parseInt(e=e.replace(/^#/,""),16);return[t>>16&255,t>>8&255,255&t]}(n),m=4*c.length;d[m]=u[0],d[m+1]=u[1],d[m+2]=u[2],d[m+3]=l,e&&e.dispose();let h=new s.GYF(d,c.length+1,1,s.GWd);return h.needsUpdate=!0,h}var i=a(2472);function o(e){let[t,a]=3==e.shape.length?function(e){let t=e.shape,a=e.data,[r,n,l]=t,[o,c]=(0,i.ArrayMinMax)(a),d=new Uint8Array(a.map(e=>(e-o)/(c-o)).map(e=>isNaN(e)?255:254*e)),u=new s.dYF(d,l,n,r);return u.format=s.VT0,u.minFilter=s.hxR,u.magFilter=s.hxR,u.needsUpdate=!0,[u,{maxVal:c,minVal:o}]}(e):function(e){let t=e.shape,a=e.data,r=t[1],n=t[0],[l,o]=(0,i.ArrayMinMax)(a),c=new Uint8Array(a.map(e=>(e-l)/(o-l)).map(e=>255*e)),d=new s.GYF(c,r,n,s.VT0,s.OUM);return d.needsUpdate=!0,[d,{maxVal:o,minVal:l}]}(e);return[t,a]}},2253:()=>{},2472:(e,t,a)=>{"use strict";a.r(t),a.d(t,{ArrayMinMax:()=>o,getUnitAxis:()=>i,getVariablesOptions:()=>c,linspace:()=>d,parseLoc:()=>n,parseTimeUnit:()=>r,parseUVCoords:()=>l});var s=a(820);function r(e){if("Default"===e||!e||"string"!=typeof e||""===e.trim())return 1;let t=e.match(/^(\w+)\s+since\s+(.+)$/i);if(!t)throw Error('Invalid time unit format: expected "<unit> since <date>", got "'.concat(e,'"'));let[a,s,r]=t,n=s.toLowerCase(),l={millisecond:1,milliseconds:1,second:1e3,seconds:1e3,minute:6e4,minutes:6e4,hour:36e5,hours:36e5,day:864e5,days:864e5},i=n.endsWith("s")?n.slice(0,-1):n,o=void 0!==l[n]?n:i;if(!(o in l))throw Error('Unsupported time unit: "'.concat(s,'". Supported units: ').concat(Object.keys(l).join(", ")));return l[o]}function n(e,t){if(!t)return e;if("bigint"==typeof e)try{let a=r(t),s=Number(e)*a;return new Date(s).toDateString()}catch(t){return e}return t.match(/(degree|degrees|deg|°)/i)?"".concat(e.toFixed(2),"\xb0"):e.toFixed(2)}function l(e){let{normal:t,uv:a}=e,r=s.on.getState().flipY;switch(!0){case 1===t.z:return[null,r?1-a.y:a.y,a.x];case -1===t.z:return[null,r?1-a.y:a.y,1-a.x];case 1===t.x:return[1-a.x,r?1-a.y:a.y,null];case -1===t.x:return[a.x,r?1-a.y:a.y,null];case 1===t.y:return[1-a.y,null,a.x];default:return[0,0,0]}}function i(e){return 1===Math.abs(e.x)?2:1===Math.abs(e.y)?1:1===Math.abs(e.z)?0:null}function o(e){let t=1/0,a=-1/0;for(let s=0;s<e.length;s++)t=e[s]<t?e[s]:t,a=e[s]>a?e[s]:a;return[t,a]}async function c(e){if(!e)return[{text:"Default",value:"Default"}];try{let t=await e;if(!Array.isArray(t))return[{text:"Default",value:"Default"}];return[{text:"Default",value:"Default"},...t.map(e=>({text:e,value:e}))]}catch(e){return console.error("Error getting variables:",e),[{text:"Default",value:"Default"}]}}function d(e,t,a){let s=(t-e)/(a-1);return Array.from({length:a},(t,a)=>e+s*a)}},2648:(e,t,a)=>{"use strict";a.d(t,{default:()=>l});var s=a(9440),r=a(8108);a(7274);let n=["long_name","description","units","_ARRAY_DIMENSIONS"],l=e=>{let{data:t}=e,[a,l]=(0,r.useState)(!1),[i,o]=(0,r.useState)(!1),c=(0,r.useRef)(null);return(0,r.useEffect)(()=>{let e=e=>{c.current&&!c.current.contains(e.target)&&o(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),(0,s.jsxs)("div",{className:"metadata-container",ref:c,children:[(0,s.jsx)("div",{className:"metadata-icon",onMouseEnter:()=>o(!0),onClick:e=>{e.stopPropagation(),o(!i)},children:"?"}),i&&(0,s.jsxs)("div",{className:"metadata",onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:[n.map(e=>t[e]&&(0,s.jsxs)("p",{children:[(0,s.jsxs)("strong",{children:[e,": "]}),String(t[e])]},e)),a&&(0,s.jsx)(s.Fragment,{children:Object.entries(t).map(e=>{let[t,a]=e;return!n.includes(t)&&(0,s.jsxs)("p",{children:[(0,s.jsxs)("strong",{children:[t,":"]})," ",String(a)]},t)})}),(0,s.jsxs)("button",{className:"button",onClick:()=>l(e=>!e),children:[a?"Hide":"Show"," Extra "]})]})]})}},2822:(e,t,a)=>{"use strict";a.d(t,{default:()=>C});var s=a(9440);a(6319);var r=a(8108),n=a(820),l=a(9462),i=a(1051),o=a(9526),c=a(4159),d=a(6267),u=a(7622),m=a(5304);function h(e){let{...t}=e;return(0,s.jsx)(o.Root,{"data-slot":"select",...t})}function p(e){let{...t}=e;return(0,s.jsx)(o.Group,{"data-slot":"select-group",...t})}function x(e){let{...t}=e;return(0,s.jsx)(o.Value,{"data-slot":"select-value",...t})}function f(e){let{className:t,size:a="default",children:r,...n}=e;return(0,s.jsxs)(o.Trigger,{"data-slot":"select-trigger","data-size":a,className:(0,m.cn)("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...n,children:[r,(0,s.jsx)(o.Icon,{asChild:!0,children:(0,s.jsx)(c.A,{className:"size-4 opacity-50"})})]})}function g(e){let{className:t,children:a,position:r="popper",...n}=e;return(0,s.jsx)(o.Portal,{children:(0,s.jsxs)(o.Content,{"data-slot":"select-content",className:(0,m.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===r&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[(0,s.jsx)(A,{}),(0,s.jsx)(o.Viewport,{className:(0,m.cn)("p-1","popper"===r&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:a}),(0,s.jsx)(b,{})]})})}function v(e){let{className:t,...a}=e;return(0,s.jsx)(o.Label,{"data-slot":"select-label",className:(0,m.cn)("text-muted-foreground px-2 py-1.5 text-xs",t),...a})}function j(e){let{className:t,children:a,...r}=e;return(0,s.jsxs)(o.Item,{"data-slot":"select-item",className:(0,m.cn)("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...r,children:[(0,s.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,s.jsx)(o.ItemIndicator,{children:(0,s.jsx)(d.A,{className:"size-4"})})}),(0,s.jsx)(o.ItemText,{children:a})]})}function A(e){let{className:t,...a}=e;return(0,s.jsx)(o.ScrollUpButton,{"data-slot":"select-scroll-up-button",className:(0,m.cn)("flex cursor-default items-center justify-center py-1",t),...a,children:(0,s.jsx)(u.A,{className:"size-4"})})}function b(e){let{className:t,...a}=e;return(0,s.jsx)(o.ScrollDownButton,{"data-slot":"select-scroll-down-button",className:(0,m.cn)("flex cursor-default items-center justify-center py-1",t),...a,children:(0,s.jsx)(c.A,{className:"size-4"})})}var y=a(6484);let w=["Mean","Min","Max","StDev"],S=["Correlation"],N=[0,1,2],C=r.memo(function(){let{setAxis:e,setVariable1:t,setVariable2:a,setOperation:o,variable1:c,variable2:d,operation:u,axis:m}=(0,n.r2)((0,l.k)(e=>({setAxis:e.setAxis,setVariable1:e.setVariable1,setVariable2:e.setVariable2,setOperation:e.setOperation,setExecute:e.setExecute,execute:e.execute,variable1:e.variable1,variable2:e.variable2,operation:e.operation,axis:e.axis}))),{variables:A,zMeta:b}=(0,n.on)((0,l.k)(e=>({variables:e.variables,zMeta:e.zMeta}))),[C,k]=(0,r.useState)(!1),[R,E]=(0,r.useState)(w),[M,z]=(0,r.useState)([]);function V(e){let{variable:t,setVariable:a}=e;return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(h,{onValueChange:e=>a(e),children:[(0,s.jsx)(f,{className:"w-[180px]",children:(0,s.jsx)(x,{placeholder:"Default"===t?"Select a variable":t})}),(0,s.jsx)(g,{children:(0,s.jsxs)(p,{children:[(0,s.jsx)(v,{children:"Variables"}),M.map((e,t)=>(0,s.jsx)(j,{value:e,children:e},t))]})})]})})}return(0,r.useEffect)(()=>{z(b.filter(e=>e.shape.length>=3).map(e=>e.name))},[]),(0,r.useEffect)(()=>{C?(E(S),o("Correlation")):(a("Default"),E(w),o("Mean"))},[C]),(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:"analysis-options",style:{top:"Default"===c?"49%":"1%"},children:(0,s.jsxs)(y.rI,{children:[(0,s.jsx)(y.ty,{asChild:!0,children:(0,s.jsx)(i.$,{className:" cursor-pointer",variant:"outline",children:"Analyze"})}),(0,s.jsxs)(y.SQ,{className:"w-60 items-center",align:"center",children:[(0,s.jsx)(y.lp,{children:"Variable"}),(0,s.jsxs)(y.I,{onClick:e=>e.preventDefault(),children:[(0,s.jsx)(y._2,{children:(0,s.jsx)(V,{variable:c,setVariable:t})}),(0,s.jsx)(y._2,{children:C&&(0,s.jsx)(V,{variable:d,setVariable:a})}),(0,s.jsx)(y._2,{children:(0,s.jsx)(i.$,{variant:"outline",onClick:e=>{e.preventDefault(),k(!C)},children:C?"Use One Variable":"Use Two Variables"})})]}),(0,s.jsx)(y.mB,{}),(0,s.jsxs)(y.I,{onClick:e=>e.preventDefault(),children:[(0,s.jsx)(y._2,{children:(0,s.jsxs)(h,{onValueChange:e=>o(e),children:[(0,s.jsxs)(f,{className:"w-[180px]",children:[(0,s.jsx)("label",{htmlFor:"",children:"Operation"}),(0,s.jsx)(x,{placeholder:u})]}),(0,s.jsx)(g,{children:(0,s.jsxs)(p,{children:[(0,s.jsx)(v,{children:"Operation"}),R.map((e,t)=>(0,s.jsx)(j,{value:e,children:e},t))]})})]})}),(0,s.jsx)(y._2,{children:(0,s.jsxs)(h,{onValueChange:t=>e(parseInt(t)),children:[(0,s.jsxs)(f,{className:"w-[180px]",children:[(0,s.jsx)("label",{htmlFor:"",children:"Axis"}),(0,s.jsx)(x,{placeholder:String(m)})]}),(0,s.jsx)(g,{children:(0,s.jsxs)(p,{children:[(0,s.jsx)(v,{children:"Axis"}),N.map((e,t)=>(0,s.jsx)(j,{value:String(e),children:e},t))]})})]})})]})]})]})})})})},3259:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});let s={src:"/Browzarr/_next/static/media/logo_bgc.2186f7da.png",height:324,width:324,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAM1BMVEX///////////////////////////9MaXH////////////////////////////+/v7///9noLCvAAAAEHRSTlMVaEuDyyA0AAn4qpuOw9jiFXZvNwAAAAlwSFlzAAALEwAACxMBAJqcGAAAADtJREFUeJwFwQkCwCAIA7CiQMFj9v+vXQLmPmZB5E2yRmANVrESHigCA6+1rHWx1VJrIj5JcoA47hP8AUH+AfDeLlYAAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8}},3351:(e,t,a)=>{"use strict";a.d(t,{YK:()=>o.default,VT:()=>u,zd:()=>M.default,pH:()=>y.default,PL:()=>S.default,hv:()=>E.default,jG:()=>z.default,$D:()=>F,Rh:()=>j,oU:()=>C.default,OS:()=>m.default,t2:()=>f.MiddleSlider,Fp:()=>s.default,DM:()=>V.default,Yp:()=>w.default,Fy:()=>b.PlotTweaker,M:()=>k.default,A:()=>h.default,kW:()=>g,de:()=>A,h7:()=>N,ut:()=>R.default,LC:()=>x.default,gj:()=>p.default,eN:()=>c});var s=a(4345),r=a(9440),n=a(7813);a(9165),a(6726),a(5041),a(6986);var l=a(3259),i=a(2047);a(7635);var o=a(6962);let c=(0,a(626).eU)({modal:!1,stats:!1});var d=a(333);a(9267);let u=()=>{let e=(0,d.useSetAtom)(c),t=()=>{e(e=>({...e,modal:!1}))};return(0,r.jsx)("div",{className:"modal",onClick:e=>{e.target===e.currentTarget&&t()},children:(0,r.jsxs)("div",{className:"modal-content",children:[(0,r.jsx)("button",{className:"close-btn",onClick:t,children:"\xd7"}),(0,r.jsx)("h1",{children:"Browzarr"}),"builds on the lessons learned from the visualization prototype from the SeasFire project.",(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),(0,r.jsx)("p",{children:"The ESA-funded SeasFire project is exploring the potential of spatio-temporal asynchronous links happening between pre-occurring and non-overlapping atmospheric conditions and European fire regimes to predict the seasonal burned areas sizes in Europe by leveraging two major advancements of our time:"}),(0,r.jsxs)("ul",{children:[(0,r.jsx)("li",{children:"the availability of a huge amount of satellite data with a good spatio-temporal resolution, which will be used as fire drivers called the Earth system variables, and"}),(0,r.jsx)("li",{children:"the progress in Deep Learning (DL) and especially in graph and image based modelling frameworks, finding methods capable of capturing the spatio-temporal interactions of the Earth System variables."})]}),(0,r.jsx)("a",{href:"https://seasfire.hua.gr/",children:"https://seasfire.hua.gr/"}),(0,r.jsx)("br",{}),(0,r.jsx)("a",{href:"https://zenodo.org/records/8055879",children:"zenodo"}),(0,r.jsxs)("p",{children:[(0,r.jsx)("br",{}),(0,r.jsx)("strong",{children:"Citation: "})," ",(0,r.jsx)("br",{}),"Alonso, L., Gans, F., Karasante, I., Ahuja, A., Prapas, I., Kondylatos, S., Papoutsis, I., Panagiotou, E., Mihail, D., Cremer, F., Weber, U., & Carvalhais, N. (2023). SeasFire Cube: A Global Dataset for Seasonal Fire Modeling in the Earth System (0.3) [Data set]. Zenodo. https://doi.org/10.5281/zenodo.8055879"]}),(0,r.jsx)("br",{}),(0,r.jsxs)("p",{children:[" ",(0,r.jsx)("strong",{children:" Contact :"})]}),(0,r.jsx)("div",{children:(0,r.jsxs)("span",{children:[" ",(0,r.jsx)("a",{href:"https://lazarusa.github.io/",target:"_blank",rel:"noreferrer",children:(0,r.jsx)("strong",{children:"Lazaro Alonso"})})," &",(0,r.jsx)("a",{href:"https://www.bgc-jena.mpg.de/person/jpoehls/2206",target:"_blank",rel:"noreferrer",children:(0,r.jsx)("strong",{children:" Jeran Poehls"})})]})}),(0,r.jsx)("br",{}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Max-Planck Institute for Biogeochemistry"}),(0,r.jsx)("br",{}),"Hans-Kn\xf6ll Str. 10",(0,r.jsx)("br",{}),"07745 Jena"]}),(0,r.jsx)("br",{}),(0,r.jsxs)("div",{className:"logo-container",children:[(0,r.jsx)("a",{href:"https://www.bgc-jena.mpg.de/en/bgi/home",target:"_blank",rel:"noreferrer",children:(0,r.jsx)(n.default,{src:i.default,alt:"logoMPI",height:32})}),(0,r.jsx)("a",{href:"https://www.bgc-jena.mpg.de/en/bgi/mdi",target:"_blank",rel:"noreferrer",children:(0,r.jsx)(n.default,{src:l.default,alt:"logoBGC",height:32})})]}),(0,r.jsx)("br",{}),(0,r.jsxs)("p",{children:["Ⓒ ",(0,r.jsx)("a",{href:"https://github.com/EarthyScience/FireSight?tab=Apache-2.0-1-ov-file#readme",target:"_blank",rel:"noreferrer",children:"Apache License, Version 2.0"})]})]})})};a(1680);var m=a(2648),h=a(1106),p=a(140),x=a(1897),f=a(4339);a(8174),a(8108),a(9284);let g=e=>{let{onClick:t}=e;return(0,r.jsxs)("div",{className:"analysis-tab",onClick:t,children:[(0,r.jsx)("div",{className:"tab-line"}),(0,r.jsx)("div",{className:"tab-line"}),(0,r.jsx)("div",{className:"tab-line"})]})};var v=a(820);function j(e){let{showLoading:t}=e,a=(0,v.on)(e=>e.progress);return t&&(0,r.jsxs)("div",{className:"loading-container",children:[(0,r.jsx)("div",{className:"loading",children:"Loading"}),(0,r.jsx)("div",{className:"progress-bar",style:{width:"".concat(a,"%")}})]})}a(3843),a(5741),a(6305);let A=e=>{let{onClick:t}=e;return(0,r.jsxs)("div",{className:"lineplot-tab",onClick:t,children:[(0,r.jsx)("div",{className:"plottab-line"}),(0,r.jsx)("div",{className:"plottab-line"}),(0,r.jsx)("div",{className:"plottab-line"})]})};var b=a(8863),y=a(2822),w=a(6568);a(1889);var S=a(4451);let N=e=>{let{onClick:t}=e;return(0,r.jsxs)("div",{className:"plot-tab",onClick:t,children:[(0,r.jsx)("div",{className:"tab-line"}),(0,r.jsx)("div",{className:"tab-line"}),(0,r.jsx)("div",{className:"tab-line"})]})};a(8651);var C=a(8982),k=a(4450),R=a(4188),E=a(7121),M=a(7459),z=a(8037),V=a(8049);a(1969);var D=a(9462),I=a(1051);let F=()=>{let{zarrFetch:e,cors:t,oom:a,setZarrFetch:s,setCors:n,setOom:l}=(0,v.$U)((0,D.k)(e=>({zarrFetch:e.zarrFetch,cors:e.cors,oom:e.oom,setZarrFetch:e.setZarrFetch,setCors:e.setCors,setOom:e.setOom}))),i=[e,t,a],o=[s,n,l],c=i.includes(!0);return(0,r.jsx)(r.Fragment,{children:c&&(0,r.jsx)("div",{className:"error-background",children:(0,r.jsxs)("div",{className:"error-container",children:[(0,r.jsx)("div",{className:"text-[48px] font-bold text-center mb-[10px]",children:"Error"}),(0,r.jsxs)("div",{className:"error-message",children:[e&&(0,r.jsxs)("div",{children:["Failed to fetch data from the store.",(0,r.jsx)("br",{}),"If this store has worked beforehand then this is likely a temporary issue. Try again"]}),t&&(0,r.jsxs)("div",{children:["This dataset is hosted on a different website and your browser is blocking it for security reasons. It's called a \"CORS\" issue (Cross-Origin Resource Sharing). The server you're trying to access hasn't given permission for browsers to fetch data from other websites like this one. ",(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),"If you access it through code outside a browser (i.e., in Python), it works fine - because those environments don't follow browser security rules. ",(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),'To fix this, the dataset\'s hosting server needs to allow access by adding headers that tell your browser "this is safe." If you control the server, you can add those CORS headers. Otherwise, reach out to whoever manages the data and ask them to enable CORS for browser access.']}),a&&(0,r.jsxs)("div",{children:["Whoa there! ",(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),"If you're reading this you've just tried to plot a ridiculous amount of points. Your browser ran out of memory allocating the arrays necessary to dictate their positions in space. Stick to the volumetric view if you need to view the entire dataset."]})]}),(0,r.jsx)("div",{className:"flex justify-center mt-[10px]",children:(0,r.jsx)(I.$,{className:"cursor-pointer hover:scale-[1.1]",onClick:e=>(()=>{for(let e=0;e<i.length;e++)i[e]&&(0,o[e])(!1)})(),children:"Okay"})})]})})})}},3420:()=>{},3843:()=>{},4188:(e,t,a)=>{"use strict";a.d(t,{default:()=>v});var s=a(9440),r=a(8108),n=a(6699),l=a(820),i=a(9462),o=a(1473),c=a(5304);function d(e){let{className:t,children:a,...r}=e;return(0,s.jsxs)(o.Root,{"data-slot":"scroll-area",className:(0,c.cn)("relative",t),...r,children:[(0,s.jsx)(o.Viewport,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:a}),(0,s.jsx)(u,{}),(0,s.jsx)(o.Corner,{})]})}function u(e){let{className:t,orientation:a="vertical",...r}=e;return(0,s.jsx)(o.ScrollAreaScrollbar,{"data-slot":"scroll-area-scrollbar",orientation:a,className:(0,c.cn)("flex touch-none p-px transition-colors select-none","vertical"===a&&"h-full w-2.5 border-l border-l-transparent","horizontal"===a&&"h-2.5 flex-col border-t border-t-transparent",t),...r,children:(0,s.jsx)(o.ScrollAreaThumb,{"data-slot":"scroll-area-thumb",className:"hidden bg-border relative flex-1 rounded-full"})})}var m=a(6339);function h(e){let{className:t,orientation:a="horizontal",decorative:r=!0,...n}=e;return(0,s.jsx)(m.b,{"data-slot":"separator",decorative:r,orientation:a,className:(0,c.cn)("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",t),...n})}var p=a(796),x=a(4793),f=a(1051);let g=e=>{let{meta:t,setters:a}=e,{setShowMeta:n,setShowOptions:o}=a,c=(0,l.on)((0,i.k)(e=>e.setVariable)),{slice:d,setSlice:u}=(0,l.SZ)((0,i.k)(e=>({slice:e.slice,setSlice:e.setSlice}))),[m,h]=(0,r.useState)(!1),g=(0,r.useMemo)(()=>t.totalSize?t.totalSize:0,[t]),v=(0,r.useMemo)(()=>t.shape?t.shape[0]:0,[t]),j=(0,r.useMemo)(()=>!!t.shape&&t.shape.length>2,[t]),A=(0,r.useMemo)(()=>{if(!j)return 0;let e=d[0]?d[0]:0,a=d[1]?d[1]:v,s=t.shape[2]/t.chunks[2]*(t.shape[1]/t.chunks[1])*t.chunkSize;return Math.ceil((a-e)/(t.chunks?t.chunks[0]:1))*s},[t,d]);return(0,r.useEffect)(()=>{h(A>1e8)},[A]),(0,s.jsxs)(x.Zp,{className:"meta-container max-w-sm md:max-w-md p-4 mb-4 border border-muted",children:[(0,s.jsxs)("div",{className:"meta-info",children:[Object.entries(t).map(e=>{let[t,a]=e;return(0,s.jsxs)("div",{className:"mb-2 break-words",children:[(0,s.jsxs)("b",{children:[t.replace(/_/g," "),":"]})," ",Array.isArray(a)?"[".concat((e=>"string"==typeof e?e:Array.isArray(e)?e.join(", "):String(e))(a),"]"):"object"==typeof a&&null!==a?JSON.stringify(a):String(a)]},t)}),j&&(0,s.jsxs)(s.Fragment,{children:[g>1e8&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"flex justify-center",children:(0,s.jsx)("b",{children:"Select Data Range"})}),(0,s.jsxs)("div",{className:"w-full flex flex-col justify-between",children:[(0,s.jsx)(p.A,{range:!0,min:0,max:v,value:[d[0]?d[0]:0,d[1]?d[1]:v],step:1,onChange:e=>u(e)}),(0,s.jsxs)("div",{className:"flex justify-between text-xs mt-4",children:[(0,s.jsxs)("span",{children:["Min: ",(0,s.jsx)("br",{})," ",d[0]?d[0]:0]}),(0,s.jsxs)("span",{children:["Max: ",(0,s.jsx)("br",{})," ",d[1]?d[1]:v]})]})]})]}),(0,s.jsx)("b",{children:"Total Size: "}),(e=>{if(0===e)return"0 Bytes";let t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB","TB"][t]})(A),(0,s.jsx)("br",{}),A<1e8&&(0,s.jsx)("span",{className:"bg-green-500 rounded px-2 py-1",children:"Selected data will fit in memory"}),A>1e8&&A<2e8&&(0,s.jsx)("span",{className:"bg-yellow-500 rounded px-2 py-1",children:"Data may not fit in memory"}),A>2e8&&(0,s.jsx)("span",{className:"bg-red-400 rounded px-2 py-1",children:"Data will not fit in memory"})]})]}),(0,s.jsx)(f.$,{variant:"destructive",onClick:()=>{c(t.name),n(!1),o(!1)},children:"Plot"})]})},v=e=>{let{currentOpen:t,setOpen:a}=e,[o,c]=(0,r.useState)(!1),[u,m]=(0,r.useState)(!1),{variables:p,zMeta:x,setVariable:f}=(0,l.on)((0,i.k)(e=>({variables:e.variables,zMeta:e.zMeta,setVariable:e.setVariable}))),[v,j]=(0,r.useState)(0),[A,b]=(0,r.useState)(null);return(0,r.useEffect)(()=>{if(p&&x){let e=p[v];b(x.find(t=>t.name===e))}},[v,p]),(0,r.useEffect)(()=>{"variables"!==t&&(c(!1),m(!1))},[t]),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{onClick:()=>{c(e=>!e),m(!1),a("variables")},children:(0,s.jsx)(n.T45,{className:"panel-item"})}),o&&(0,s.jsxs)("div",{className:"panel-popup-left",children:[(0,s.jsx)(d,{className:"max-h-[50vh] w-[200px] pr-2",children:p.map((e,t)=>(0,s.jsxs)(r.Fragment,{children:[(0,s.jsx)("div",{className:"variable-item cursor-pointer px-2 py-1 text-sm hover:bg-muted rounded",onClick:()=>{j(t),m(!0)},children:e}),(0,s.jsx)(h,{className:"my-1"})]},t))}),u&&A&&(0,s.jsx)("div",{className:"meta-options w-[300px]",children:(0,s.jsx)(g,{meta:A,setters:{setShowMeta:m,setShowOptions:c}})})]})]})}},4271:()=>{},4339:(e,t,a)=>{"use strict";a.d(t,{MiddleSlider:()=>n});var s=a(9440),r=a(8108);a(8245);let n=e=>{let{canvasWidth:t,setCanvasWidth:a}=e,[n,l]=(0,r.useState)(0),[i,o]=(0,r.useState)(!1);(0,r.useEffect)(()=>{l(window.innerWidth)},[]);let c=e=>{e.preventDefault(),o(!0)},d=e=>{i&&(e.preventDefault(),a("touches"in e?e.touches[0].clientX:e.clientX))},u=()=>{t<.25*n&&a(0),t>.85*n&&a(n),o(!1)};return(0,r.useEffect)(()=>(i&&(document.addEventListener("mousemove",d),document.addEventListener("mouseup",u),document.addEventListener("touchmove",d),document.addEventListener("touchend",u)),()=>{document.removeEventListener("mousemove",d),document.removeEventListener("mouseup",u),document.removeEventListener("touchmove",d),document.removeEventListener("touchend",u)}),[i]),(0,s.jsx)("div",{className:"middle-slider",onMouseDown:c,onTouchStart:c,style:{left:"".concat(t,"px")}})}},4345:(e,t,a)=>{"use strict";a.d(t,{default:()=>h});var s=a(9440),r=a(8108),n=a(7813),l=a(3351),i=a(8174);let o={src:"/Browzarr/_next/static/media/logo.d9323308.png",height:1e3,width:1e3,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAYFBMVEVMaXH5xyb60jLzyNjzZ6d/VTLYx8zw4VrRS4LBN3nlYJ7eZJfel1W0ijz7zzyRNiT90Dqew6/17/Xj1M749N/LyI3ha37R3v/3z2v90TvcrzLBV37/2DL/4oHcwLv+//8HdHKGAAAAHHRSTlMAefb+9wpSBWI3T09v0FAq1lr29NTo+j7+kvP2lbyMGQAAAAlwSFlzAAAdhwAAHYcBj+XxZQAAAEBJREFUeJwVxUcSgCAQAMEhLpgQzIr6/19a9qUBXHKADMd49h2I0rVqJbDN975kwJf3mTwQL2NsBAirDf/QNsAHWeQCQebHKVQAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8};a(4271);var c=a(9462),d=a(820),u=a(2251);a(1051);var m=a(5806);a(1850);let h=r.memo(function(){let{setInitStore:e,setVariable:t,setColormap:a,setTimeSeries:h,setDimCoords:p,isFlat:x,plotOn:f,variables:g,variable:v}=(0,d.on)((0,c.k)(e=>({setInitStore:e.setInitStore,setVariable:e.setVariable,setColormap:e.setColormap,setTimeSeries:e.setTimeSeries,setDimCoords:e.setDimCoords,isFlat:e.isFlat,plotOn:e.plotOn,variables:e.variables,variable:e.variable}))),{setPlotType:j,plotType:A,resetCamera:b,setAnimate:y,setResetCamera:w}=(0,d.Ws)((0,c.k)(e=>({setPlotType:e.setPlotType,plotType:e.plotType,resetCamera:e.resetCamera,setAnimate:e.setAnimate,setResetCamera:e.setResetCamera}))),[S,N]=(0,r.useState)(!1),[C,k]=(0,r.useState)(!1),[R,E]=(0,r.useState)("Default"),[M,z]=(0,r.useState)(!1),V=(0,d.on)((0,c.k)(e=>e.colormap));return(0,r.useEffect)(()=>{a((0,u.v6)(V,"Default"===R?"Spectral":R,1,"#000000",0,M))},[R,M]),(0,r.useMemo)(()=>(0,s.jsx)(l.Fy,{}),[]),(0,s.jsxs)("nav",{className:"navbar",children:[(0,s.jsxs)("div",{className:"navbar-left",children:[(0,s.jsx)("a",{href:"https://github.com/EarthyScience/Browzarr/",target:"_blank",rel:"noopener noreferrer",children:(0,s.jsx)(n.default,{src:o,alt:"browzarr"})}),f&&(0,s.jsx)("div",{role:"button",tabIndex:0,"aria-label":"Reset camera view",title:"Reset camera view",onClick:()=>w(!b),className:"w-[32px] h-[32px] cursor-pointer flex items-center justify-center transition-transform hover:shadow-white/40 transition-shadow hover:scale-90 hover:shadow-lg",children:(0,s.jsx)(m.vRP,{className:"w-full h-full"})}),f&&!x&&(0,s.jsx)(l.Yp,{})]}),(0,s.jsx)(i.default,{}),(0,s.jsx)(l.YK,{})]})})},4450:(e,t,a)=>{"use strict";a.d(t,{default:()=>p});var s=a(9440),r=a(8108);a(268);var n=a(820),l=a(9462),i=a(6916),o=a(6911),c=a(5806),d=a(1850),u=a(1051);let m=["volume","point-cloud","sphere","flat"],h={volume:(0,s.jsx)(i.rxA,{className:"panel-item"}),"point-cloud":(0,s.jsx)(o.n37,{className:"panel-item"}),sphere:(0,s.jsx)(i.sXn,{className:"panel-item"}),flat:(0,s.jsx)(c.rtt,{className:"panel-item"})},p=e=>{let{currentOpen:t,setOpen:a}=e,{plotType:i,setPlotType:o}=(0,n.Ws)((0,l.k)(e=>({plotType:e.plotType,setPlotType:e.setPlotType}))),[c,p]=(0,r.useState)("left");return(0,r.useEffect)(()=>{let e=()=>{p(window.innerWidth<768?"top":"left")};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,s.jsxs)(d.AM,{children:[(0,s.jsx)(d.Wv,{asChild:!0,children:(0,s.jsx)("div",{role:"button",className:"panel-item",style:{transform:"scale(1)"},tabIndex:0,"aria-label":"Select plot type",onClick:()=>a("plot-type"),onKeyDown:e=>{("Enter"===e.key||" "===e.key)&&a("plot-type")},children:h[i]})}),(0,s.jsx)(d.hl,{side:c,className:"flex flex-col items-center min-w-[48px] max-w-[72px] w-[56px] p-2 mb-1",children:m.map(e=>(0,s.jsx)(u.$,{variant:i===e?"default":"ghost",className:"mb-2 w-12 h-12 flex items-center cursor-pointer justify-center transform transition-transform duration-100 ease-out hover:scale-90",onClick:()=>{o(e),a("default")},"aria-label":"Select ".concat(e),children:h[e]},e))})]})}},4451:(e,t,a)=>{"use strict";a.d(t,{default:()=>d});var s=a(9440),r=a(87),n=a(1834),l=a(8108),i=a(820),o=a(9462);a(2253);var c=a(2472);let d=e=>{let{units:t,valueScales:a}=e,{colormap:d}=(0,i.on)((0,o.k)(e=>({colormap:e.colormap}))),{cScale:u,cOffset:m,setCScale:h,setCOffset:p}=(0,i.Ws)((0,o.k)(e=>({cScale:e.cScale,cOffset:e.cOffset,setCScale:e.setCScale,setCOffset:e.setCOffset}))),x=(0,l.useRef)(null),f=(0,l.useRef)(!1),g=(0,l.useRef)({x:null,y:null}),[v,j]=(0,l.useState)(5),A=(0,l.useMemo)(()=>{let e=[],t=d.source.data.data;for(let a=0;a<t.length/4;a++){let s=4*a,r="rgba(".concat(t[s],", ").concat(t[s+1],", ").concat(t[s+2],", ").concat(t[s+3]," )");e.push(r)}return e},[d]),[b,y]=(0,l.useMemo)(()=>[(0,c.linspace)(0,100,v),(0,c.linspace)(a.minVal,a.maxVal,v)],[a,v]),w=e=>{if(!f.current)return;(null===g.current.x||null===g.current.y)&&(g.current.x=e.clientX,g.current.y=e.clientY);let t=g.current.x-e.clientX,a=g.current.y-e.clientY;p(m-t/100),h(u+a/100)},S=()=>{f.current=!1,g.current={x:null,y:null},document.removeEventListener("mousemove",w),document.removeEventListener("mouseup",S)};return(0,l.useEffect)(()=>()=>{document.removeEventListener("mousemove",w),document.removeEventListener("mouseup",S)},[]),(0,l.useEffect)(()=>{if(x.current){let e=x.current.getContext("2d");e&&A.forEach((t,a)=>{e.fillStyle=t,e.fillRect(2*a,0,2,24)})}},[A]),(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"colorbar",children:[Array.from({length:v}).map((e,t)=>(0,s.jsx)("p",{style:{left:"".concat(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return Math.max(Math.min(e,a),t)}((b[t]-50)*u+50+100*m),"%"),top:"100%",position:"absolute",transform:"translateX(-50%)",opacity:function(e){return e>100?1-(e-100)*6/100:e<0?1-6*Math.abs(e)/100:1}((b[t]-50)*u+50+100*m)},children:y[t].toFixed(2)},t)),(0,s.jsx)("canvas",{ref:x,width:512,height:24,onMouseDown:()=>{f.current=!0,document.addEventListener("mousemove",w),document.addEventListener("mouseup",S)}}),(0,s.jsx)("p",{style:{position:"absolute",top:"-25px",left:"50%",transform:"translateX(-50%)"},children:t}),(1!=u||0!=m)&&(0,s.jsx)(r.kmZ,{size:25,style:{position:"absolute",top:"-25px",cursor:"pointer"},onClick:()=>{h(1),p(0)}}),(0,s.jsxs)("div",{style:{position:"absolute",right:"0%",bottom:"100%",display:"flex",width:"10%",justifyContent:"space-around"},children:[(0,s.jsx)(n.iu5,{className:"cursor-pointer",onClick:()=>j(Math.max(v-1,2))}),(0,s.jsx)(n.OiG,{className:"cursor-pointer",onClick:()=>j(Math.min(v+1,10))})]})]})})}},4793:(e,t,a)=>{"use strict";a.d(t,{Zp:()=>n});var s=a(9440);a(8108);var r=a(5304);function n(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"card",className:(0,r.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...a})}},5041:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});let s={src:"/Browzarr/_next/static/media/logo.0318aecd.png",height:200,width:200,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAGFBMVEVMaXGQAACTCgSRAQDMdEXGZj+lMBx/AAA9OMhxAAAACHRSTlMAKTxQNyQ1Arjuq00AAAAJcEhZcwAACxMAAAsTAQCanBgAAAAnSURBVHicY2CAA3YohgNGJkZGJjZWVgZGZmZmJjYWFiQ5dnYUpQwAC2UAVah+qBUAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8}},5102:()=>{},5240:()=>{},5304:(e,t,a)=>{"use strict";a.d(t,{cn:()=>n});var s=a(7980),r=a(4844);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.QP)((0,s.$)(t))}},5580:()=>{},5741:(e,t,a)=>{"use strict";a.d(t,{default:()=>r});var s=a(8108);let r=e=>{let[t,a]=(0,s.useState)("");return(0,s.useEffect)(()=>{let t=()=>a(getComputedStyle(document.documentElement).getPropertyValue(e).trim());t();let s=new MutationObserver(e=>{for(let a of e)"data-theme"===a.attributeName&&t()});return s.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>s.disconnect()},[e]),t}},6305:()=>{},6319:()=>{},6484:(e,t,a)=>{"use strict";a.d(t,{I:()=>c,SQ:()=>o,_2:()=>d,lp:()=>u,mB:()=>m,rI:()=>l,ty:()=>i});var s=a(9440);a(8108);var r=a(1734),n=a(5304);function l(e){let{...t}=e;return(0,s.jsx)(r.Root,{"data-slot":"dropdown-menu",...t})}function i(e){let{...t}=e;return(0,s.jsx)(r.Trigger,{"data-slot":"dropdown-menu-trigger",...t})}function o(e){let{className:t,sideOffset:a=4,...l}=e;return(0,s.jsx)(r.Portal,{children:(0,s.jsx)(r.Content,{"data-slot":"dropdown-menu-content",sideOffset:a,className:(0,n.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",t),...l})})}function c(e){let{...t}=e;return(0,s.jsx)(r.Group,{"data-slot":"dropdown-menu-group",...t})}function d(e){let{className:t,inset:a,variant:l="default",...i}=e;return(0,s.jsx)(r.Item,{"data-slot":"dropdown-menu-item","data-inset":a,"data-variant":l,className:(0,n.cn)("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...i})}function u(e){let{className:t,inset:a,...l}=e;return(0,s.jsx)(r.Label,{"data-slot":"dropdown-menu-label","data-inset":a,className:(0,n.cn)("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",t),...l})}function m(e){let{className:t,...a}=e;return(0,s.jsx)(r.Separator,{"data-slot":"dropdown-menu-separator",className:(0,n.cn)("bg-border -mx-1 my-1 h-px",t),...a})}},6568:(e,t,a)=>{"use strict";a.d(t,{default:()=>c});var s=a(9440),r=a(8108),n=a(7665),l=a(7527),i=a(820),o=a(9462);a(5102);let c=()=>{let{selectTS:e,resetAnim:t,animate:a,setSelectTS:c,setResetAnim:d}=(0,i.Ws)((0,o.k)(e=>({selectTS:e.selectTS,resetAnim:e.resetAnim,animate:e.animate,setSelectTS:e.setSelectTS,setResetAnim:e.setResetAnim}))),[u,m]=(0,r.useState)(!1);return(0,s.jsxs)("div",{className:"selectTS",style:{display:a?"none":""},onClick:()=>{d(!t),c(!e)},children:[(0,s.jsx)(l.Psu,{size:32,style:{color:e?"gold":"grey",filter:e?"drop-shadow(0px 0px 10px gold)":"",cursor:"pointer"}}),(0,s.jsx)(n.Q9E,{size:15,style:{height:"30px",position:"absolute",right:"-10px",bottom:"0",zIndex:"3"},onPointerEnter:e=>m(!0),onPointerLeave:e=>m(!1)}),(0,s.jsx)("div",{style:{position:"absolute",width:"100px",top:"100%",left:"100%",borderRadius:"10px",border:"1px solid var(--accent-2)",display:u?"":"none",backgroundImage:"linear-gradient(-125deg, var(--background) 0%, var(--background-modal) 100%)",padding:"2px"},children:"While active, Click the volume to view 1D transects through the given dimension"})]})}},6726:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});let s={src:"/Browzarr/_next/static/media/SeasFire-logo.0515b793.png",height:97,width:500,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAACCAMAAABSSm3fAAAAFVBMVEX////////5/P////95xtf+/v6i29LUn6vQAAAAB3RSTlMVAh8PiAeKOpNe/gAAAAlwSFlzAAAOxAAADsQBlSsOGwAAABpJREFUeJxjYGNgYmJlZGRkYGFmYmBgYGAGAAFYAB/e/M0IAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:2}},6962:(e,t,a)=>{"use strict";a.d(t,{default:()=>l});var s=a(9440),r=a(333),n=a(3351);a(1772);let l=()=>{let e=(0,r.useSetAtom)(n.eN);return(0,s.jsx)("button",{className:"button-about",onClick:()=>e(e=>({...e,modal:!0})),children:(0,s.jsx)("a",{children:"About"})})}},6986:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});let s={src:"/Browzarr/_next/static/media/logo_bgc_mpi.811f35c6.png",height:335,width:1901,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAABCAMAAADU3h9xAAAACVBMVEX///////////+OSuX+AAAAA3RSTlMdMnkqIWkUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAEUlEQVR4nGNgYGBgYGRiZAQAABYABhAF/EgAAAAASUVORK5CYII=",blurWidth:8,blurHeight:1}},7121:(e,t,a)=>{"use strict";a.d(t,{default:()=>u});var s=a(9440),r=a(8108),n=a(2251),l=a(820),i=a(9462),o=a(5806),c=a(1850),d=a(7813);let u=e=>{let{currentOpen:t,setOpen:a}=e,[u,m]=(0,r.useState)(!1),[h,p]=(0,r.useState)("Spectral"),[x,f]=(0,r.useState)(!1),[g,v]=(0,r.useState)(null),{colormap:j,setColormap:A}=(0,l.on)((0,i.k)(e=>({setColormap:e.setColormap,colormap:e.colormap})));return(0,r.useEffect)(()=>{A((0,n.v6)(j,"Default"===(g||h)?"Spectral":g||h,1,"#000000",0,x))},[h,x,g]),(0,r.useEffect)(()=>{"colormaps"!==t&&m(!1)},[t]),(0,s.jsx)("div",{className:"relative",children:(0,s.jsxs)(c.AM,{children:[(0,s.jsx)(c.Wv,{children:(0,s.jsx)("div",{onClick:()=>{m(e=>!e),a("colormaps")},children:(0,s.jsx)("div",{className:"panel-item",style:{backgroundImage:"url(./colormap_icons/".concat(h,".webp)"),backgroundSize:"100%",transform:x?"scaleX(-1)":""}})})}),(0,s.jsxs)(c.hl,{side:"left",className:"colormaps",children:[n.dl.map(e=>(0,s.jsx)(d.default,{className:"cmap ".concat(x?"flipped":""),src:"./colormap_icons/".concat(e,".webp"),alt:e,height:100,width:256,onMouseEnter:()=>v(e),onMouseLeave:()=>v(null),onClick:()=>{p(e),v(null),m(!1)}},e)),(0,s.jsx)(o.QkK,{className:"flipper",style:{position:"absolute",top:"-2rem",right:"80%",bottom:"90%",height:"50px",width:"50px",cursor:"pointer",transform:"".concat(x?"rotate(270deg)":"rotate(90deg)"),transition:".25s"},onClick:()=>f(e=>!e)})]})]})})}},7235:(e,t,a)=>{"use strict";a.d(t,{Bi:()=>d,Tk:()=>i,_z:()=>o,tz:()=>u});var s=a(2707);function r(e){let t=["bytes","KB","MB","GB","TB","PB"],a=e,s=0;for(;a>=1024&&s<t.length-1;)a/=1024,s++;return"".concat(a.toFixed(2)," ").concat(t[s])}function n(e){return({int8:1,uint8:1,int16:2,uint16:2,int32:4,uint32:4,int64:8,uint64:8,float32:4,float64:8,bool:1})[e]||4}function l(e){return e.reduce((e,t)=>e*t,1)}async function i(e){let t=await e,a="contents"in t.store?t.store.contents():[],i=[];for(let e of a)if(e.path&&e.path.length>1&&"array"===e.kind){let a=await s.h(t.resolve(e.path.substring(1)),{kind:"array"}),o=n(a.dtype),c=l(a.shape),d=function(e,t){return e.reduce((e,a,s)=>e*Math.ceil(a/t[s]),1)}(a.shape,a.chunks),u=l(a.chunks),m=c*o,h=u*o;i.push({name:e.path.substring(1),long_name:a.attrs.long_name,shape:a.shape,chunks:a.chunks,dtype:a.dtype,totalSize:m,totalSizeFormatted:r(m),chunkCount:d,chunkSize:h,chunkSizeFormatted:r(h)})}return i}function o(e){let t=n(e.dtype),a=l(e.shape);return[a*t,l(e.chunks)*t,e.chunks]}let c=["longitude","latitude","lat","lon","time","depth","height","altitude","x","y","z","t","level"];async function d(e){return(await e).filter(e=>!function(e){let t=e.toLowerCase();return c.some(e=>t===e)}(e.name)).map(e=>e.name).sort((e,t)=>e.localeCompare(t))}async function u(e){let t=await e,a="attrs"in t&&"description"in t.attrs?String(t.attrs.description):"";return{title:"attrs"in t&&"title"in t.attrs?String(t.attrs.title):"",description:a}}},7274:()=>{},7459:(e,t,a)=>{"use strict";a.d(t,{default:()=>x});var s=a(9440),r=a(8108),n=a(820);a(268);var l=a(9462),i=a(796),o=a(1051),c=a(4540),d=a(4793);let u=r.memo(function(e){var t,a;let{range:r,setRange:n,valueScales:l,min:o=-1,array:c}=e,{minVal:d,maxVal:u}=l;d=Number(d),u=Number(u);let[m,h]=[o,1];if(c){let e=c.length,t=Math.round((r[0]-o)/(1-o)*e),a=Math.round((r[1]-o)/(1-o)*e);m=c[t],h=c[a-1]}else m=Math.round(100*(r[0]*(u-(t=d))+t))/100,h=Math.round(100*(r[1]*(u-(a=d))+a))/100;return(0,s.jsxs)("div",{className:"w-full flex justify-between flex-col",children:[(0,s.jsx)(i.A,{range:!0,min:o,max:1,defaultValue:r,step:.01,onChange:e=>n(e)}),(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",fontSize:12,marginTop:18},children:[(0,s.jsxs)("span",{children:["Min: ",m]}),(0,s.jsxs)("span",{children:["Max: ",h]})]})]})}),m=()=>{let{valueRange:e,xRange:t,yRange:a,zRange:i,setValueRange:o,setXRange:c,setYRange:d,setZRange:m}=(0,n.Ws)((0,l.k)(e=>({valueRange:e.valueRange,xRange:e.xRange,yRange:e.yRange,zRange:e.zRange,setValueRange:e.setValueRange,setXRange:e.setXRange,setYRange:e.setYRange,setZRange:e.setZRange}))),[h,p]=(0,r.useState)({minVal:0,maxVal:0}),[x,f]=(0,r.useState)({minVal:0,maxVal:0}),[g,v]=(0,r.useState)({minVal:0,maxVal:0}),{valueScales:j,dimArrays:A}=(0,n.on)((0,l.k)(e=>({valueScales:e.valueScales,dimArrays:e.dimArrays,isFlat:e.isFlat})));return(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex-column text-center w-[200px]",children:[(0,s.jsx)("b",{children:"Value Cropping"}),(0,s.jsx)(u,{range:e,setRange:o,valueScales:j,min:0})]}),(0,s.jsxs)("div",{className:"flex-column text-center",children:[(0,s.jsx)("b",{children:"Spatial Cropping"}),(0,s.jsx)(u,{range:t,setRange:c,valueScales:h,array:A[2]}),(0,s.jsx)(u,{range:a,setRange:d,valueScales:x,array:A[1]}),(0,s.jsx)(u,{range:i,setRange:m,valueScales:g,array:A[0]})]})]})},h=()=>{let{useFragOpt:e,quality:t,setQuality:a,setUseFragOpt:r}=(0,n.Ws)((0,l.k)(e=>({useFragOpt:e.useFragOpt,quality:e.quality,setQuality:e.setQuality,setUseFragOpt:e.setUseFragOpt})));return(0,s.jsxs)("div",{className:"flex-column items-center w-50 text-center",children:[(0,s.jsx)("b",{children:"Set Quality"}),(0,s.jsxs)("div",{className:"w-full flex justify-between text-xs",children:["Worse",(0,s.jsx)("input",{type:"range",min:50,max:1e3,step:50,value:t,onChange:e=>a(parseInt(e.target.value))}),"Better"]}),(0,s.jsx)(o.$,{variant:"destructive",className:"w-[100%] h-[20px] cursor-[pointer]",onClick:()=>r(!e),children:e?"Revert to Normal":"Use Optimized Shader"})]})},p=()=>{let{setPointSize:e,setScaleIntensity:t,setScalePoints:a,setTimeScale:r}=(0,n.Ws)((0,l.k)(e=>({setPointSize:e.setPointSize,setScaleIntensity:e.setScaleIntensity,setScalePoints:e.setScalePoints,setTimeScale:e.setTimeScale}))),{scalePoints:i,scaleIntensity:c,pointSize:d,timeScale:u}=(0,n.Ws)((0,l.k)(e=>({scalePoints:e.scalePoints,scaleIntensity:e.scaleIntensity,pointSize:e.pointSize,timeScale:e.timeScale})));return(0,s.jsxs)("div",{className:"flex-column items-center w-50 text-center",children:[(0,s.jsx)("b",{children:"Point Size"}),(0,s.jsx)("input",{type:"range",className:"w-full",min:1,max:50,step:1,defaultValue:d,onChange:t=>e(parseInt(t.target.value))}),(0,s.jsx)(o.$,{variant:"destructive",className:"w-[100%] h-[20px] cursor-[pointer]",onClick:()=>a(!i),children:i?"Remove Scaling":"Scale By Value"}),i&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("b",{children:"Scale Intensity"}),(0,s.jsx)("input",{type:"range",className:"w-full",min:1,max:100,step:1,defaultValue:c,onChange:e=>t(parseInt(e.target.value))})]}),(0,s.jsx)("b",{children:"Resize Time Dimension"}),(0,s.jsx)("input",{type:"range",className:"w-full",min:.05,max:5,step:.05,defaultValue:u,onChange:e=>r(parseFloat(e.target.value))})]})},x=e=>{let{currentOpen:t,setOpen:a}=e,[i,o]=(0,r.useState)(!1),[u,x]=(0,r.useState)(!1),{isFlat:f,plotOn:g}=(0,n.on)((0,l.k)(e=>({isFlat:e.isFlat,plotOn:e.plotOn}))),{plotType:v}=(0,n.Ws)((0,l.k)(e=>({plotType:e.plotType})));(0,r.useEffect)(()=>{"settings"!=t&&o(!1)},[t]),(0,r.useEffect)(()=>{let e=()=>{x(window.innerWidth<=768)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let j=g&&"sphere"!=v&&"flat"!=v;return(0,s.jsxs)("div",{style:{position:"relative"},children:[(0,s.jsx)(c.xPd,{color:j?"var(--text-paragraph)":"var(--text-disabled)",style:{cursor:j?"pointer":"auto",transform:j?"":"scale(1)"},onClick:e=>{j&&(o(e=>!e),a("settings"))},className:"panel-item"}),(0,s.jsx)(d.Zp,{className:"panel-settings ".concat(u?"left-0 top-[-250px] m-[12px] overflow-y-scroll overflow-x-hidden":"left-[-242px] top-1/2"),style:{transform:i&&u?"scale(1) translateY(-40%) translateX(-50%)":i?"scale(1) translateY(-50%)":"scale(0)",height:"fit-content"},children:(0,s.jsxs)("div",{className:"px-2 py-2",children:["volume"==v&&(0,s.jsx)(h,{}),"point-cloud"==v&&(0,s.jsx)(p,{}),("volume"==v||"point-cloud"==v)&&(0,s.jsx)(m,{})]})})]})}},7635:()=>{},7885:(e,t,a)=>{"use strict";a.d(t,{p:()=>n});var s=a(9440);a(8108);var r=a(5304);function n(e){let{className:t,type:a,...n}=e;return(0,s.jsx)("input",{type:a,"data-slot":"input",className:(0,r.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...n})}},8037:(e,t,a)=>{"use strict";a.d(t,{default:()=>h});var s=a(9440),r=a(8108),n=a(820),l=a(9462),i=a(7885),o=a(1051),c=a(6699),d=a(8651),u=a(1850);let m={ESDC:"https://s3.bgc-jena.mpg.de:9000/esdl-esdc-v3.0.2/esdc-16d-2.5deg-46x72x1440-3.0.2.zarr",SEASFIRE:"https://s3.bgc-jena.mpg.de:9000/misc/seasfire_rechunked.zarr"},h=e=>{let{currentOpen:t,setOpen:a}=e,[h,p]=(0,r.useState)(!1),[x,f]=(0,r.useState)(!1),[g,v]=(0,r.useState)("left"),[j,A]=(0,r.useState)(!1),[b,y]=(0,r.useState)("ESDC"),{setInitStore:w,setVariable:S}=(0,n.on)((0,l.k)(e=>({setInitStore:e.setInitStore,setVariable:e.setVariable})));return(0,r.useEffect)(()=>{let e=()=>{v(window.innerWidth<768?"top":"left")};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,s.jsxs)(u.AM,{children:[(0,s.jsx)(u.Wv,{asChild:!0,children:(0,s.jsx)("div",{role:"button",tabIndex:0,"aria-label":"Select dataset",onClick:()=>{j&&a("datasets")},onKeyDown:e=>{("Enter"===e.key||" "===e.key)&&j&&a("datasets")},children:(0,s.jsx)(c.Gn0,{className:"panel-item"})})}),(0,s.jsxs)(u.hl,{side:g,className:"flex flex-col items-start max-w-[220px] p-3 gap-3 w-auto mb-1",children:[(0,s.jsx)(o.$,{variant:"ESDC"===b?"default":"ghost",className:"cursor-pointer",onClick:()=>{p(!1),f(!1),S("Default"),y("ESDC"),w(m.ESDC),a("default")},children:"ESDC"}),(0,s.jsx)(o.$,{variant:"seasfire"===b?"default":"ghost",className:"cursor-pointer",onClick:()=>{p(!1),f(!1),S("Default"),y("seasfire"),w(m.SEASFIRE),a("default")},children:"Seasfire"}),(0,s.jsxs)("div",{children:[(0,s.jsx)(o.$,{variant:"remote"===b?"default":"ghost",className:"cursor-pointer",onClick:()=>{f(!1),y("remote"),p(e=>!e)},children:"Remote"}),h&&(0,s.jsxs)("form",{className:"mt-2 flex items-center gap-2",onSubmit:e=>{e.preventDefault(),w(e.currentTarget.elements[0].value),S("Default"),a("default")},children:[(0,s.jsx)(i.p,{className:"w-[100px]",placeholder:"Store URL"}),(0,s.jsx)(o.$,{type:"submit",variant:"outline",children:"Fetch"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(o.$,{variant:"local"===b?"default":"ghost",className:"cursor-pointer",onClick:()=>{f(e=>!e),p(!1),y("local")},children:"Local"}),x&&(0,s.jsx)("div",{className:"mt-2",children:(0,s.jsx)(d.default,{setShowLocal:f})})]})]})]})}},8049:(e,t,a)=>{"use strict";a.d(t,{default:()=>u});var s=a(9440),r=a(820),n=a(8108),l=a(9462);a(268);var i=a(6916),o=a(4668),c=a(2472);let d=()=>{let{animate:e,animProg:t,setAnimate:a,setResetAnim:i,setAnimProg:d}=(0,r.Ws)((0,l.k)(e=>({animate:e.animate,animProg:e.animProg,setAnimate:e.setAnimate,setResetAnim:e.setResetAnim,setAnimProg:e.setAnimProg}))),{dimArrays:u,dimNames:m,dimUnits:h}=(0,r.on)((0,l.k)(e=>({dimArrays:e.dimArrays,dimNames:e.dimNames,dimUnits:e.dimUnits}))),p=(0,n.useMemo)(()=>u[0].length,[u]),x=(0,n.useRef)(null),f=(0,n.useRef)(0),[g,v]=(0,n.useState)(5),j=(0,n.useRef)(5);return(0,n.useEffect)(()=>{if(e){j.current!=g&&x.current&&(clearInterval(x.current),x.current=null),j.current=g;f.current=Math.round(t*p),x.current=setInterval(()=>{f.current+=1,d((f.current+1)%p/p)},100*g/p)}else x.current&&(clearInterval(x.current),x.current=null)},[e,g]),(0,s.jsxs)("div",{className:"play-interface",children:[(0,c.parseLoc)(u[0][Math.min(Math.round(t*p),p-1)],h[0]),(0,s.jsxs)("div",{children:[(0,c.parseLoc)(u[0][0],h[0]),(0,s.jsx)("input",{type:"range",className:"w-[300px]",value:t*p,min:0,max:p,step:1,onChange:e=>d(parseInt(e.target.value)/p)}),(0,c.parseLoc)(u[0][p-1],h[0])]}),(0,s.jsxs)("div",{className:"flex items-center justify-between w-100",children:[(0,s.jsxs)("div",{className:"cursor-pointer hover:scale-[115%]",onClick:e=>v(e=>1.25*e),children:[" ",(0,s.jsx)("b",{children:"Slower"})]}),e?(0,s.jsx)(o.kwt,{className:"cursor-pointer hover:scale-[115%]",onClick:e=>a(!1)}):(0,s.jsx)(o.gSK,{className:"cursor-pointer hover:scale-[115%]",onClick:e=>a(!0)}),(0,s.jsx)("div",{className:"cursor-pointer hover:scale-[115%]",onClick:e=>v(e=>.8*e),children:(0,s.jsx)("b",{children:"Faster"})})]})]})},u=()=>{let{isFlat:e,plotOn:t}=(0,r.on)((0,l.k)(e=>({isFlat:e.isFlat,plotOn:e.plotOn}))),[a,o]=(0,n.useState)(!1),c=(0,n.useMemo)(()=>!e&&t,[e,t]),u=!e&&t;return(0,s.jsxs)("div",{children:[(0,s.jsx)(i.BXV,{className:"panel-item",color:u?"var(--text-paragraph)":"var(--text-disabled)",onClick:e=>{c&&o(e=>!e)},style:{transform:u?"":"scale(1)",cursor:u?"pointer":"auto"}}),a&&(0,s.jsx)(d,{})]})}},8174:(e,t,a)=>{"use strict";a.d(t,{default:()=>o});var s=a(9440),r=a(8108),n=a(4738),l=a(16),i=a(1061);a(5240);let o=()=>{let[e,t]=(0,r.useState)(!1),{theme:a,setTheme:o}=(0,n.D)();return((0,r.useEffect)(()=>{t(!0)},[]),e)?(0,s.jsx)("button",{onClick:()=>{"dark"===a?o("light"):o("dark")},className:"toggle",children:"dark"===a?(0,s.jsx)(l.A,{}):(0,s.jsx)(i.A,{})}):null}},8245:()=>{},8651:(e,t,a)=>{"use strict";a.d(t,{default:()=>o});var s=a(9440);a(8108);var r=a(4980),n=a(2707),l=a(820),i=a(7885);let o=e=>{let{setShowLocal:t}=e,a=(0,l.SZ)(e=>e.setCurrentStore),o=(0,l.on)(e=>e.setVariable),c=async e=>{let s=e.target.files;if(!s||0===s.length)return;let l=new Map,i=s[0].webkitRelativePath.split("/")[0];for(let e=0;e<s.length;e++){let t=s[e],a=t.webkitRelativePath.substring(i.length+1);a&&l.set("/"+a,t.arrayBuffer())}try{let e=await r.x({async get(e){let t=await l.get(e);return t?new Uint8Array(t):void 0}});if(!("contents"in e))for(let e=0;e<s.length;e++){let t=s[e].webkitRelativePath.substring(i.length+1);console.log(t)}n.h(e,{kind:"group"}).then(e=>{a(e)}),o("Default"),t(!1)}catch(e){e instanceof Error?console.log("Error opening Zarr store: ".concat(e.message)):console.log("An unknown error occurred when opening the Zarr store.")}};return(0,s.jsx)("div",{children:(0,s.jsx)(i.p,{type:"file",id:"filepicker",className:"hover:drop-shadow-md hover:scale-[110%]",style:{width:"200px",cursor:"pointer"},directory:"",webkitdirectory:"true",onChange:c})})}},8863:(e,t,a)=>{"use strict";a.d(t,{PlotTweaker:()=>f});var s=a(9440),r=a(8108),n=a(820),l=a(1051),i=a(796),o=a(9462);a(6940);var c=a(2472),d=a(6484);let u=r.memo(function(e){var t,a;let{range:r,setRange:n,valueScales:l,min:o=-1,array:c}=e,{minVal:d,maxVal:u}=l;d=Number(d),u=Number(u);let[m,h]=[o,1];if(c){let e=c.length,t=Math.round((r[0]-o)/(1-o)*e),a=Math.round((r[1]-o)/(1-o)*e);m=c[t],h=c[a-1]}else m=Math.round(100*(r[0]*(u-(t=d))+t))/100,h=Math.round(100*(r[1]*(u-(a=d))+a))/100;return(0,s.jsxs)("div",{className:"w-full flex justify-between flex-col",children:[(0,s.jsx)(i.A,{range:!0,min:o,max:1,defaultValue:r,step:.01,onChange:e=>n(e)}),(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",fontSize:12,marginTop:18},children:[(0,s.jsxs)("span",{children:["Min: ",m]}),(0,s.jsxs)("span",{children:["Max: ",h]})]})]})}),m=r.memo(function(){let{valueRange:e,xRange:t,yRange:a,zRange:i,animate:m,resetAnim:h,useFragOpt:p,quality:x,setValueRange:f,setXRange:g,setYRange:v,setZRange:j,setQuality:A,setAnimate:b,setResetAnim:y,setUseFragOpt:w}=(0,n.Ws)((0,o.k)(e=>({valueRange:e.valueRange,xRange:e.xRange,yRange:e.yRange,zRange:e.zRange,animate:e.animate,resetAnim:e.resetAnim,useFragOpt:e.useFragOpt,quality:e.quality,setValueRange:e.setValueRange,setXRange:e.setXRange,setYRange:e.setYRange,setZRange:e.setZRange,setQuality:e.setQuality,setAnimate:e.setAnimate,setResetAnim:e.setResetAnim,setUseFragOpt:e.setUseFragOpt}))),[S,N]=(0,r.useState)({minVal:0,maxVal:0}),[C,k]=(0,r.useState)({minVal:0,maxVal:0}),[R,E]=(0,r.useState)({minVal:0,maxVal:0}),{valueScales:M,dimArrays:z}=(0,n.on)((0,o.k)(e=>({valueScales:e.valueScales,dimArrays:e.dimArrays,isFlat:e.isFlat})));return(0,r.useEffect)(()=>{if(3===z.length){let[e,t]=(0,c.ArrayMinMax)(z[2]),[a,s]=(0,c.ArrayMinMax)(z[1]),[r,n]=(0,c.ArrayMinMax)(z[0]);N({minVal:e,maxVal:t}),k({minVal:a,maxVal:s}),E({minVal:r,maxVal:n})}},[z]),(0,s.jsx)("div",{className:"nav-dropdown",children:(0,s.jsxs)(d.rI,{children:[(0,s.jsx)(d.ty,{asChild:!0,children:(0,s.jsx)(l.$,{variant:"outline",className:"md:static md:transform-none absolute right-0 top-10 z-10 w-full max-w-[35vw] md:w-auto md:max-w-none",children:"Adjust Volume"})}),(0,s.jsxs)(d.SQ,{className:"w-56",align:"start",children:[(0,s.jsx)(d.lp,{children:"Plot Quality"}),(0,s.jsx)(d._2,{onSelect:e=>e.preventDefault(),children:(0,s.jsxs)("div",{className:"w-full flex justify-between",children:["Worse",(0,s.jsx)("input",{type:"range",min:50,max:1e3,step:50,defaultValue:200,value:x,onChange:e=>A(parseInt(e.target.value))}),"Better"]})}),(0,s.jsx)(d._2,{children:(0,s.jsx)(l.$,{variant:"destructive",className:"w-[100%] h-[20px] cursor-[pointer]",onClick:()=>w(!p),children:p?"Revert to Normal":"Use Optimized Shader"})}),(0,s.jsx)(d.mB,{}),(0,s.jsxs)(d.I,{children:[(0,s.jsx)(d.lp,{children:"Value Cropping"}),(0,s.jsx)(d._2,{onSelect:e=>e.preventDefault(),children:(0,s.jsx)(u,{range:e,setRange:f,valueScales:M,min:0})})]}),(0,s.jsx)(d.mB,{}),(0,s.jsxs)(d.I,{onSelect:e=>e.preventDefault(),children:[(0,s.jsx)(d.lp,{children:"Spatial Cropping"}),(0,s.jsxs)(d.I,{children:[(0,s.jsx)(d._2,{onSelect:e=>e.preventDefault(),children:(0,s.jsx)(u,{range:t,setRange:g,valueScales:S,array:z[2]})}),(0,s.jsx)(d._2,{onSelect:e=>e.preventDefault(),children:(0,s.jsx)(u,{range:a,setRange:v,valueScales:C,array:z[1]})}),(0,s.jsx)(d._2,{onSelect:e=>e.preventDefault(),children:(0,s.jsx)(u,{range:i,setRange:j,valueScales:R,array:z[0]})})]})]}),(0,s.jsxs)(d.I,{children:[(0,s.jsx)(d.lp,{children:"Animate Time"}),(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-around"},children:[(0,s.jsx)(l.$,{style:{background:m?"red":""},variant:"outline",onClick:()=>b(!m),children:m?"Pause":"Start"}),(0,s.jsx)(l.$,{variant:"outline",onClick:()=>y(!h),children:"Reset"})]})]})]})]})})}),h=r.memo(function(){let{setPointSize:e,setScaleIntensity:t,setScalePoints:a,setValueRange:i,setTimeScale:c,setResetAnim:m,setAnimate:h,setXRange:p,setYRange:x,setZRange:f}=(0,n.Ws)((0,o.k)(e=>({setPointSize:e.setPointSize,setScaleIntensity:e.setScaleIntensity,setScalePoints:e.setScalePoints,setValueRange:e.setValueRange,setTimeScale:e.setTimeScale,setResetAnim:e.setResetAnim,setAnimate:e.setAnimate,setXRange:e.setXRange,setYRange:e.setYRange,setZRange:e.setZRange}))),{scalePoints:g,scaleIntensity:v,pointSize:j,valueRange:A,timeScale:b,animate:y,resetAnim:w,xRange:S,yRange:N,zRange:C}=(0,n.Ws)((0,o.k)(e=>({scalePoints:e.scalePoints,scaleIntensity:e.scaleIntensity,pointSize:e.pointSize,valueRange:e.valueRange,timeScale:e.timeScale,animate:e.animate,resetAnim:e.resetAnim,xRange:e.xRange,yRange:e.yRange,zRange:e.zRange}))),[k,R]=(0,r.useState)({minVal:0,maxVal:0}),[E,M]=(0,r.useState)({minVal:0,maxVal:0}),[z,V]=(0,r.useState)({minVal:0,maxVal:0}),{valueScales:D,dimArrays:I}=(0,n.on)((0,o.k)(e=>({valueScales:e.valueScales,dimArrays:e.dimArrays,isFlat:e.isFlat})));return(0,s.jsx)("div",{className:"nav-dropdown",children:(0,s.jsxs)(d.rI,{children:[(0,s.jsx)(d.ty,{asChild:!0,children:(0,s.jsx)(l.$,{variant:"outline",className:"md:static md:transform-none absolute right-0 top-10 z-10 w-full max-w-[35vw] md:w-auto md:max-w-none",children:"Adjust Points"})}),(0,s.jsxs)(d.SQ,{className:"w-56",align:"start",children:[(0,s.jsxs)(d.I,{children:[(0,s.jsx)(d._2,{onSelect:e=>e.preventDefault(),children:(0,s.jsxs)("div",{className:"w-full flex justify-between flex-col items-center",children:[(0,s.jsx)("b",{children:"Point Size"}),(0,s.jsx)("input",{type:"range",className:"w-full",min:1,max:50,step:1,defaultValue:j,onChange:t=>e(parseInt(t.target.value))})]})}),(0,s.jsx)(d._2,{onSelect:e=>e.preventDefault(),children:(0,s.jsx)(l.$,{variant:"destructive",className:"w-[100%] h-[20px] cursor-[pointer]",onClick:()=>a(!g),children:g?"Remove Scaling":"Scale By Value"})}),(0,s.jsx)(d._2,{onSelect:e=>e.preventDefault(),children:(0,s.jsxs)("div",{className:"w-full flex justify-between flex-col items-center",children:[(0,s.jsx)("b",{children:"Scale Intensity"}),(0,s.jsx)("input",{type:"range",className:"w-full",min:1,max:100,step:1,defaultValue:v,onChange:e=>t(parseInt(e.target.value))})]})})]}),(0,s.jsxs)(d.I,{children:[(0,s.jsx)(d.lp,{children:"Value Cropping"}),(0,s.jsx)(d._2,{onSelect:e=>e.preventDefault(),children:(0,s.jsx)(u,{range:A,setRange:i,valueScales:D,min:0})}),(0,s.jsx)(d._2,{onSelect:e=>e.preventDefault(),children:(0,s.jsxs)("div",{className:"w-full flex justify-between flex-col items-center",children:[(0,s.jsx)("b",{children:"Resize Time Dimension"}),(0,s.jsx)("input",{type:"range",className:"w-full",min:.05,max:5,step:.05,defaultValue:b,onChange:e=>c(parseFloat(e.target.value))})]})})]}),(0,s.jsxs)(d.I,{onSelect:e=>e.preventDefault(),children:[(0,s.jsx)(d.lp,{children:"Spatial Cropping"}),(0,s.jsxs)(d.I,{children:[(0,s.jsx)(d._2,{onSelect:e=>e.preventDefault(),children:(0,s.jsx)(u,{range:S,setRange:p,valueScales:k,array:I[2]})}),(0,s.jsx)(d._2,{onSelect:e=>e.preventDefault(),children:(0,s.jsx)(u,{range:N,setRange:x,valueScales:E,array:I[1]})}),(0,s.jsx)(d._2,{onSelect:e=>e.preventDefault(),children:(0,s.jsx)(u,{range:C,setRange:f,valueScales:z,array:I[0]})})]})]}),(0,s.jsxs)(d.I,{children:[(0,s.jsx)(d.lp,{children:"Animate Time"}),(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-around"},children:[(0,s.jsx)(l.$,{style:{background:y?"red":""},variant:"outline",onClick:()=>h(!y),children:y?"Pause":"Start"}),(0,s.jsx)(l.$,{variant:"outline",onClick:()=>m(!w),children:"Reset"})]})]})]})]})})}),p=r.memo(function(){let{animate:e,resetAnim:t,setAnimate:a,setResetAnim:r}=(0,n.Ws)((0,o.k)(e=>({animate:e.animate,resetAnim:e.resetAnim,setAnimate:e.setAnimate,setResetAnim:e.setResetAnim})));return(0,s.jsx)("div",{className:"nav-dropdown",children:(0,s.jsxs)(d.rI,{children:[(0,s.jsx)(d.ty,{asChild:!0,children:(0,s.jsx)(l.$,{variant:"outline",className:"md:static md:transform-none absolute right-0 top-10 z-10 w-full max-w-[35vw] md:w-auto md:max-w-none",children:"Adjust Sphere"})}),(0,s.jsx)(d.SQ,{className:"w-56",align:"start",children:(0,s.jsxs)(d.I,{children:[(0,s.jsx)(d.lp,{children:"Animate Time"}),(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-around"},children:[(0,s.jsx)(l.$,{style:{background:e?"red":""},variant:"outline",onClick:()=>a(!e),children:e?"Pause":"Start"}),(0,s.jsx)(l.$,{variant:"outline",onClick:()=>r(!t),children:"Reset"})]})]})})]})})}),x=r.memo(function(){let{animate:e,resetAnim:t,setAnimate:a,setResetAnim:r}=(0,n.Ws)((0,o.k)(e=>({animate:e.animate,resetAnim:e.resetAnim,setAnimate:e.setAnimate,setResetAnim:e.setResetAnim})));return(0,s.jsx)("div",{className:"nav-dropdown",children:(0,s.jsxs)(d.rI,{children:[(0,s.jsx)(d.ty,{asChild:!0,children:(0,s.jsx)(l.$,{variant:"outline",className:"md:static md:transform-none absolute right-0 top-10 z-10 w-full max-w-[35vw] md:w-auto md:max-w-none",children:"Adjust Map"})}),(0,s.jsx)(d.SQ,{className:"w-56",align:"start",children:(0,s.jsxs)(d.I,{children:[(0,s.jsx)(d.lp,{children:"Animate Time"}),(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-around"},children:[(0,s.jsx)(l.$,{style:{background:e?"red":""},variant:"outline",onClick:()=>a(!e),children:e?"Pause":"Start"}),(0,s.jsx)(l.$,{variant:"outline",onClick:()=>r(!t),children:"Reset"})]})]})})]})})}),f=r.memo(function(){let e=(0,n.Ws)(e=>e.plotType),t=(0,n.on)(e=>e.isFlat);return(0,s.jsxs)(s.Fragment,{children:["volume"===e&&(0,s.jsx)(m,{}),"point-cloud"===e&&(0,s.jsx)(h,{}),"sphere"===e&&(0,s.jsx)(p,{}),"flat"===e&&!t&&(0,s.jsx)(x,{})]})})},8982:(e,t,a)=>{"use strict";a.d(t,{default:()=>i});var s=a(9440),r=a(8108);a(268);var n=a(3351),l=a(4793);let i=()=>{let[e,t]=(0,r.useState)("Default");return(0,r.useEffect)(()=>{let e=e=>{"canvas"==e.target.localName&&t("default)")};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),(0,s.jsxs)(l.Zp,{className:"panel-container",children:[(0,s.jsx)(n.M,{currentOpen:e,setOpen:t}),(0,s.jsx)(n.ut,{currentOpen:e,setOpen:t}),(0,s.jsx)(n.hv,{currentOpen:e,setOpen:t}),(0,s.jsx)(n.zd,{currentOpen:e,setOpen:t}),(0,s.jsx)(n.jG,{currentOpen:e,setOpen:t}),(0,s.jsx)(n.DM,{})]})}},9113:(e,t,a)=>{"use strict";a.d(t,{Oe:()=>h,Y5:()=>p});var s=a(4980),r=a(5926),n=a(2707),l=a(4677),i=a(52),o=a(6624),c=a(2472),d=a(7235),u=a(820);class m extends Error{constructor(e,t){super(e),this.cause=t,this.name="ZarrError"}}async function h(e){let t=u.$U.getState().setZarrFetch,a=u.$U.getState().setCors;try{await fetch(e,{method:"HEAD",mode:"cors"})}catch(t){if(t instanceof TypeError)throw a(!0),new m("CORS check failed for ".concat(e,". The server may not allow cross-origin requests from this site."),t)}try{let t=s.x(new r.A(e));return await t.then(e=>n.h(e,{kind:"group"}))}catch(a){throw t(!0),new m("Failed to initialize store at ".concat(e),a)}}class p{async GetArray(e,t){let a=u.on.getState().setProgress,s=u.on.getState().setStrides,r=u.SZ.getState().compress;if(this.variable=e,this.cache.has(e))return this.cache.get(e);let o=await this.groupStore,c=await n.h(o.resolve(e),{kind:"array"}),[m,h,p]=(0,d._z)(c);if(c.is("number")||c.is("bigint")){let n,o,d;if(this.chunkIDs=[],m<1e8){if(d=(n=await l.Jt(c)).shape,s(n.stride),n.data instanceof BigInt64Array||n.data instanceof BigUint64Array)throw Error("BigInt arrays are not supported for conversion to Float32Array.");o=new Float32Array(n.data),this.cache.set(e,n)}else{a(0);let u=Math.floor(t[0]/p[0]),m=t[1]?Math.ceil(t[1]/p[0]):Math.ceil(c.shape[0]/p[0]),h=m-u,x=c.shape[1]*c.shape[2],f=(m-u+1)*p[0]*x;d=[(m-u)*p[0],c.shape[1],c.shape[2]],o=r?new Uint8Array(f):new Float32Array(f);let g=0,v=1;for(let t=u;t<m;t++){let r="".concat(e,"_chunk_").concat(t);if(this.chunkIDs.push(t),this.cache.has(r))s((n=this.cache.get(r)).stride),o.set(n.data,g),a(Math.round(v/h*100)),g+=n.data.length,v++;else{if((n=await l.Jt(c,[i.di(t*p[0],(t+1)*p[0]),null,null])).data instanceof BigInt64Array||n.data instanceof BigUint64Array)throw Error("BigInt arrays are not supported for conversion to Float32Array.");o.set(n.data,g),this.cache.set(r,n),g+=n.data.length,s(n.stride),a(Math.round(v/h*100)),v++}}}return{data:o,shape:d,dtype:c.dtype}}throw Error("Unsupported data type: Only numeric arrays are supported. Got: ".concat(c.dtype))}async GetAttributes(e){let t="".concat(e,"_meta");if(this.cache.has(t))return this.cache.get(t);let a=await this.groupStore,s=(await n.h(a.resolve(e),{kind:"array"})).attrs;this.cache.set(t,s);let r=[];for(let e of s._ARRAY_DIMENSIONS){if(!this.cache.has(e)){let t=await n.h(a.resolve(e),{kind:"array"}).then(e=>l.Jt(e)),s=await n.h(a.resolve(e),{kind:"array"}).then(e=>e.attrs);this.cache.set(e,t.data),this.cache.set("".concat(e,"_meta"),s)}r.push(e)}return this.dimNames=r,s}GetDimArrays(){let e=[],t=[];for(let a of this.dimNames)e.push(this.cache.get(a)),t.push(this.cache.get("".concat(a,"_meta")));return[e,t,this.dimNames]}GetTimeSeries(e){let t,a,s,{uv:r,normal:n}=e;if(!this.cache.has(this.variable)&&0==this.chunkIDs.length)return[0];if(this.chunkIDs.length>0){let e=[];for(let t of this.chunkIDs)e.push(this.cache.get("".concat(this.variable,"_chunk_").concat(t)));({shape:a,stride:s}=e[0]),t=new Float32Array(e.reduce((e,t)=>e+t.data.length,0));let r=0;for(let a of e)t.set(a.data,r),r+=a.data.length}else({data:t,shape:a,stride:s}=this.cache.get(this.variable));let l=(0,c.parseUVCoords)({normal:n,uv:r}).map((e,t)=>null===e||null===a[t]?null:Math.round(e*a[t]-.5)),i=l.indexOf(null),o=s[i],d=null==l[0]?0:s[0]*l[0],u=null==l[1]?0:s[1]*l[1],m=null==l[2]?0:s[2]*l[2],h=[];for(let e=0;e<a[i];e++){let a=e*o+d+u+m;h.push(t[a])}return h}constructor(e){this.groupStore=e,this.variable="Default",this.cache=new o.A({maxSize:2e3}),this.dimNames=["","",""],this.chunkIDs=[]}}},9165:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});let s={src:"/Browzarr/_next/static/media/logoS.e942f3c9.png",height:96,width:104,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAHCAMAAAACh/xsAAAAUVBMVEVMaXFxw96M2s5swu2u4tZ41NnG5dTkvMSX2sVojLtwt+mk29Xd8edbrOaMtd1syuNpYWGZ1eFiteJktuNZsuFjp9dnvuTF7eB/x81p0viG4uZWWiJxAAAAGHRSTlMAxf07LP34CfgugU+Dmib9Ipr3HPbeo/iE+UM/AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAOklEQVR4nBXKSRbAEBBAwU/QjZDZkPsfNC+1LgDnBOAyGlZA2quhZxAzrNoDKNP7bQHqc5/pz+wxCnwwDAGgz+SY+gAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:7}},9267:()=>{},9284:()=>{}}]);