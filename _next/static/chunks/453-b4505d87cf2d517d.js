(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[453],{21:(e,t,a)=>{"use strict";a.d(t,{oW:()=>o,v6:()=>i,dl:()=>n});var r=a(7510),s=a(1252);let n=["magma","inferno","plasma","viridis","cividis","twilight","twilight_shifted","turbo","Blues","BrBG","BuGn","BuPu","CMRmap","GnBu","Greens","Greys","OrRd","Oranges","PRGn","PiYG","PuBu","PuBuGn","PuOr","PuRd","Purples","RdBu","RdGy","RdPu","RdYlBu","RdYlGn","Reds","Spectral","Wistia","YlGn","YlGnBu","YlOrBr","YlOrRd","afmhot","autumn","binary","bone","brg","bwr","cool","coolwarm","copper","cubehelix","flag","gist_earth","gist_gray","gist_heat","gist_ncar","gist_rainbow","gist_stern","gist_yarg","gnuplot","gnuplot2","gray","hot","hsv","jet","nipy_spectral","ocean","pink","prism","rainbow","seismic","spring","summer","terrain","winter","Accent","Dark2","Paired","Pastel1","Pastel2","Set1","Set2","Set3","tab10","tab20","tab20b","tab20c"];function i(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Spectral",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"#000000",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,l=arguments.length>5&&void 0!==arguments[5]&&arguments[5],o=Array.from({length:255},(e,t)=>t/254),c=(o=l?o.reverse():o).map(e=>(0,s.md)(e,t,!1)),d=new Uint8Array((c.length+1)*4);for(let e=0;e<c.length;e++){let[t,r,s]=c[e];d[4*e]=t,d[4*e+1]=r,d[4*e+2]=s,d[4*e+3]=a}let u=function(e){let t=parseInt(e=e.replace(/^#/,""),16);return[t>>16&255,t>>8&255,255&t]}(n),h=4*c.length;d[h]=u[0],d[h+1]=u[1],d[h+2]=u[2],d[h+3]=i,e&&e.dispose();let m=new r.GYF(d,c.length+1,1,r.GWd);return m.needsUpdate=!0,m}var l=a(8804);function o(e){let[t,a]=3==e.shape.length?function(e){let t=e.shape,a=e.data,[s,n,i]=t,[o,c]=(0,l.ArrayMinMax)(a),d=new Uint8Array(a.map(e=>(e-o)/(c-o)).map(e=>isNaN(e)?255:254*e)),u=new r.dYF(d,i,n,s);return u.format=r.VT0,u.minFilter=r.hxR,u.magFilter=r.hxR,u.needsUpdate=!0,[u,{maxVal:c,minVal:o}]}(e):function(e){let t=e.shape,a=e.data,s=t[1],n=t[0],[i,o]=(0,l.ArrayMinMax)(a),c=new Uint8Array(a.map(e=>(e-i)/(o-i)).map(e=>255*e)),d=new r.GYF(c,s,n,r.VT0,r.OUM);return d.needsUpdate=!0,[d,{maxVal:o,minVal:i}]}(e);return[t,a]}},355:(e,t,a)=>{"use strict";a.d(t,{Cf:()=>u,L3:()=>m,c7:()=>h,lG:()=>l,rr:()=>p,zM:()=>o});var r=a(9564);a(7776);var s=a(182),n=a(8822),i=a(3964);function l(e){let{...t}=e;return(0,r.jsx)(s.Root,{"data-slot":"dialog",...t})}function o(e){let{...t}=e;return(0,r.jsx)(s.Trigger,{"data-slot":"dialog-trigger",...t})}function c(e){let{...t}=e;return(0,r.jsx)(s.Portal,{"data-slot":"dialog-portal",...t})}function d(e){let{className:t,...a}=e;return(0,r.jsx)(s.Overlay,{"data-slot":"dialog-overlay",className:(0,i.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...a})}function u(e){let{className:t,children:a,showCloseButton:l=!0,...o}=e;return(0,r.jsxs)(c,{"data-slot":"dialog-portal",children:[(0,r.jsx)(d,{}),(0,r.jsxs)(s.Content,{"data-slot":"dialog-content",className:(0,i.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...o,children:[a,l&&(0,r.jsxs)(s.Close,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,r.jsx)(n.A,{}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function h(e){let{className:t,...a}=e;return(0,r.jsx)("div",{"data-slot":"dialog-header",className:(0,i.cn)("flex flex-col gap-2 text-center sm:text-left",t),...a})}function m(e){let{className:t,...a}=e;return(0,r.jsx)(s.Title,{"data-slot":"dialog-title",className:(0,i.cn)("text-lg leading-none font-semibold",t),...a})}function p(e){let{className:t,...a}=e;return(0,r.jsx)(s.Description,{"data-slot":"dialog-description",className:(0,i.cn)("text-muted-foreground text-sm",t),...a})}},406:()=>{},459:(e,t,a)=>{"use strict";a.d(t,{default:()=>u});var r=a(9564),s=a(7776),n=a(21),i=a(8688),l=a(3277),o=a(1779),c=a(9566),d=a(6341);let u=()=>{let[e,t]=(0,s.useState)("Spectral"),[a,u]=(0,s.useState)(!1),[h,m]=(0,s.useState)(null),{colormap:p,setColormap:x}=(0,i.on)((0,l.k)(e=>({setColormap:e.setColormap,colormap:e.colormap}))),[g,f]=(0,s.useState)("left");return(0,s.useEffect)(()=>{x((0,n.v6)(p,"Default"===(h||e)?"Spectral":h||e,1,"#000000",0,a))},[e,a,h]),(0,s.useEffect)(()=>{let e=()=>{f(window.innerWidth<768?"top":"left")};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,r.jsx)("div",{className:"relative",children:(0,r.jsxs)(c.AM,{children:[(0,r.jsx)(c.Wv,{children:(0,r.jsx)("div",{className:"panel-item",style:{backgroundImage:"url(./colormap_icons/".concat(e,".webp)"),backgroundSize:"100%",transform:a?"scaleX(-1)":""}})}),(0,r.jsxs)(c.hl,{side:g,className:"colormaps",children:[n.dl.map(e=>(0,r.jsx)(d.default,{className:"cmap ".concat(a?"flipped":""),src:"./colormap_icons/".concat(e,".webp"),alt:e,height:100,width:256,onMouseEnter:()=>m(e),onMouseLeave:()=>m(null),onClick:()=>{t(e),m(null)}},e)),(0,r.jsx)(o.QkK,{className:"flipper",style:{position:"absolute",top:"-2rem",right:"80%",bottom:"90%",height:"50px",width:"50px",cursor:"pointer",transform:"".concat(a?"rotate(270deg)":"rotate(90deg)"),transition:".25s"},onClick:()=>u(e=>!e)})]})]})})}},489:(e,t,a)=>{"use strict";a.d(t,{p:()=>n});var r=a(9564);a(7776);var s=a(3964);function n(e){let{className:t,type:a,...n}=e;return(0,r.jsx)("input",{type:a,"data-slot":"input",className:(0,s.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...n})}},919:()=>{},961:(e,t,a)=>{"use strict";a.d(t,{default:()=>s});var r=a(7776);let s=e=>{let[t,a]=(0,r.useState)("");return(0,r.useEffect)(()=>{let t=()=>a(getComputedStyle(document.documentElement).getPropertyValue(e).trim());t();let r=new MutationObserver(e=>{for(let a of e)"data-theme"===a.attributeName&&t()});return r.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>r.disconnect()},[e]),t}},1279:(e,t,a)=>{"use strict";a.d(t,{$:()=>o});var r=a(9564);a(7776);var s=a(5536),n=a(978),i=a(3964);let l=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function o(e){let{className:t,variant:a,size:n,asChild:o=!1,...c}=e,d=o?s.DX:"button";return(0,r.jsx)(d,{"data-slot":"button",className:(0,i.cn)(l({variant:a,size:n,className:t})),...c})}},1465:()=>{},1527:(e,t,a)=>{"use strict";a.d(t,{default:()=>d});var r=a(9564),s=a(3098),n=a(2135),i=a(7776),l=a(8688),o=a(3277);a(6709);var c=a(8804);let d=e=>{let{units:t,valueScales:a}=e,{colormap:d}=(0,l.on)((0,o.k)(e=>({colormap:e.colormap}))),{cScale:u,cOffset:h,setCScale:m,setCOffset:p}=(0,l.Ws)((0,o.k)(e=>({cScale:e.cScale,cOffset:e.cOffset,setCScale:e.setCScale,setCOffset:e.setCOffset}))),x=(0,i.useRef)(null),g=(0,i.useRef)(!1),f=(0,i.useRef)({x:null,y:null}),[v,j]=(0,i.useState)(5),b=(0,i.useMemo)(()=>{let e=[],t=d.source.data.data;for(let a=0;a<t.length/4;a++){let r=4*a,s="rgba(".concat(t[r],", ").concat(t[r+1],", ").concat(t[r+2],", ").concat(t[r+3]," )");e.push(s)}return e},[d]),[A,w]=(0,i.useMemo)(()=>[(0,c.linspace)(0,100,v),(0,c.linspace)(a.minVal,a.maxVal,v)],[a,v]),y=e=>{if(!g.current)return;(null===f.current.x||null===f.current.y)&&(f.current.x=e.clientX,f.current.y=e.clientY);let t=f.current.x-e.clientX,a=f.current.y-e.clientY;p(h-t/100),m(u+a/100)},S=()=>{g.current=!1,f.current={x:null,y:null},document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",S)};return(0,i.useEffect)(()=>()=>{document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",S)},[]),(0,i.useEffect)(()=>{if(x.current){let e=x.current.getContext("2d");e&&b.forEach((t,a)=>{e.fillStyle=t,e.fillRect(2*a,0,2,24)})}},[b]),(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"colorbar",children:[Array.from({length:v}).map((e,t)=>(0,r.jsx)("p",{style:{left:"".concat(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return Math.max(Math.min(e,a),t)}((A[t]-50)*u+50+100*h),"%"),top:"100%",position:"absolute",transform:"translateX(-50%)",opacity:function(e){return e>100?1-(e-100)*6/100:e<0?1-6*Math.abs(e)/100:1}((A[t]-50)*u+50+100*h)},children:w[t].toFixed(2)},t)),(0,r.jsx)("canvas",{ref:x,width:512,height:24,onMouseDown:()=>{g.current=!0,document.addEventListener("mousemove",y),document.addEventListener("mouseup",S)}}),(0,r.jsx)("p",{style:{position:"absolute",top:"-24px",left:"50%",transform:"translateX(-50%)"},children:t}),(1!=u||0!=h)&&(0,r.jsx)(s.kmZ,{size:25,style:{position:"absolute",top:"-25px",cursor:"pointer"},onClick:()=>{m(1),p(0)}}),(0,r.jsxs)("div",{style:{position:"absolute",right:"0%",bottom:"100%",display:"flex",width:"10%",justifyContent:"space-around"},children:[(0,r.jsx)(n.iu5,{className:"cursor-pointer",onClick:()=>j(Math.max(v-1,2))}),(0,r.jsx)(n.OiG,{className:"cursor-pointer",onClick:()=>j(Math.min(v+1,10))})]})]})})}},1966:(e,t,a)=>{"use strict";a.d(t,{default:()=>i});var r=a(9564),s=a(6341),n=a(2921);let i=()=>(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{children:"Browzarr"}),"builds on the lessons learned from the visualization prototype from the SeasFire project.",(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),(0,r.jsx)("p",{children:"The ESA-funded SeasFire project is exploring the potential of spatio-temporal asynchronous links happening between pre-occurring and non-overlapping atmospheric conditions and European fire regimes to predict the seasonal burned areas sizes in Europe by leveraging two major advancements of our time:"}),(0,r.jsxs)("ul",{children:[(0,r.jsx)("li",{children:"the availability of a huge amount of satellite data with a good spatio-temporal resolution, which will be used as fire drivers called the Earth system variables, and"}),(0,r.jsx)("li",{children:"the progress in Deep Learning (DL) and especially in graph and image based modelling frameworks, finding methods capable of capturing the spatio-temporal interactions of the Earth System variables."})]}),(0,r.jsx)("a",{href:"https://seasfire.hua.gr/",target:"_blank",rel:"noreferrer",children:"https://seasfire.hua.gr/"}),(0,r.jsx)("br",{}),(0,r.jsx)("a",{href:"https://zenodo.org/records/8055879",target:"_blank",rel:"noreferrer",children:"zenodo"}),(0,r.jsxs)("p",{children:[(0,r.jsx)("br",{}),(0,r.jsx)("strong",{children:"Citation: "})," ",(0,r.jsx)("br",{}),"Alonso, L., Gans, F., Karasante, I., Ahuja, A., Prapas, I., Kondylatos, S., Papoutsis, I., Panagiotou, E., Mihail, D., Cremer, F., Weber, U., & Carvalhais, N. (2023). SeasFire Cube: A Global Dataset for Seasonal Fire Modeling in the Earth System (0.3) [Data set]. Zenodo. https://doi.org/10.5281/zenodo.8055879"]}),(0,r.jsx)("br",{}),(0,r.jsxs)("p",{children:[" ",(0,r.jsx)("strong",{children:" Contact :"})]}),(0,r.jsx)("div",{children:(0,r.jsxs)("span",{children:[(0,r.jsx)("a",{href:"https://lazarusa.github.io/",target:"_blank",rel:"noreferrer",children:(0,r.jsx)("strong",{children:"Lazaro Alonso"})})," &",(0,r.jsx)("a",{href:"https://www.bgc-jena.mpg.de/person/jpoehls/2206",target:"_blank",rel:"noreferrer",children:(0,r.jsx)("strong",{children:" Jeran Poehls"})})]})}),(0,r.jsx)("br",{}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Max-Planck Institute for Biogeochemistry"}),(0,r.jsx)("br",{}),"Hans-Kn\xf6ll Str. 10",(0,r.jsx)("br",{}),"07745 Jena"]}),(0,r.jsx)("br",{}),(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,r.jsx)("a",{href:"https://www.bgc-jena.mpg.de/en/bgi/home",target:"_blank",rel:"noreferrer",children:(0,r.jsx)(s.default,{src:n.Cx,alt:"logoMPI",height:32})}),(0,r.jsx)("a",{href:"https://www.bgc-jena.mpg.de/en/bgi/mdi",target:"_blank",rel:"noreferrer",children:(0,r.jsx)(s.default,{src:n.kU,alt:"logoBGC",height:32})})]}),(0,r.jsx)("br",{}),(0,r.jsxs)("p",{children:["Ⓒ ",(0,r.jsx)("a",{href:"https://github.com/EarthyScience/FireSight?tab=Apache-2.0-1-ov-file#readme",target:"_blank",rel:"noreferrer",children:"Apache License, Version 2.0"})]})]})},2032:(e,t,a)=>{"use strict";a.d(t,{default:()=>S});var r=a(9564),s=a(7776),n=a(6341),i=a(5453),l=a(2898);let o={src:"/Browzarr/_next/static/media/logo.d9323308.png",height:1e3,width:1e3,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAYFBMVEVMaXH5xyb60jLzyNjzZ6d/VTLYx8zw4VrRS4LBN3nlYJ7eZJfel1W0ijz7zzyRNiT90Dqew6/17/Xj1M749N/LyI3ha37R3v/3z2v90TvcrzLBV37/2DL/4oHcwLv+//8HdHKGAAAAHHRSTlMAefb+9wpSBWI3T09v0FAq1lr29NTo+j7+kvP2lbyMGQAAAAlwSFlzAAAdhwAAHYcBj+XxZQAAAEBJREFUeJwVxUcSgCAQAMEhLpgQzIr6/19a9qUBXHKADMd49h2I0rVqJbDN975kwJf3mTwQL2NsBAirDf/QNsAHWeQCQebHKVQAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8};a(919);var c=a(3277),d=a(8688),u=a(21);a(1279);var h=a(3964),m=a(1779),p=a(1381);function x(e){let{...t}=e;return(0,r.jsx)(p._s.Root,{"data-slot":"drawer",...t})}function g(e){let{...t}=e;return(0,r.jsx)(p._s.Trigger,{"data-slot":"drawer-trigger",...t})}function f(e){let{...t}=e;return(0,r.jsx)(p._s.Portal,{"data-slot":"drawer-portal",...t})}function v(e){let{className:t,...a}=e;return(0,r.jsx)(p._s.Overlay,{"data-slot":"drawer-overlay",className:(0,h.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...a})}function j(e){let{className:t,children:a,...s}=e;return(0,r.jsxs)(f,{"data-slot":"drawer-portal",children:[(0,r.jsx)(v,{}),(0,r.jsxs)(p._s.Content,{"data-slot":"drawer-content",className:(0,h.cn)("group/drawer-content bg-background fixed z-50 flex h-auto flex-col","data-[vaul-drawer-direction=top]:inset-x-0 data-[vaul-drawer-direction=top]:top-0 data-[vaul-drawer-direction=top]:mb-24 data-[vaul-drawer-direction=top]:max-h-[80vh] data-[vaul-drawer-direction=top]:rounded-b-lg data-[vaul-drawer-direction=top]:border-b","data-[vaul-drawer-direction=bottom]:inset-x-0 data-[vaul-drawer-direction=bottom]:bottom-0 data-[vaul-drawer-direction=bottom]:mt-24 data-[vaul-drawer-direction=bottom]:max-h-[80vh] data-[vaul-drawer-direction=bottom]:rounded-t-lg data-[vaul-drawer-direction=bottom]:border-t","data-[vaul-drawer-direction=right]:inset-y-0 data-[vaul-drawer-direction=right]:right-0 data-[vaul-drawer-direction=right]:w-3/4 data-[vaul-drawer-direction=right]:border-l data-[vaul-drawer-direction=right]:sm:max-w-sm","data-[vaul-drawer-direction=left]:inset-y-0 data-[vaul-drawer-direction=left]:left-0 data-[vaul-drawer-direction=left]:w-3/4 data-[vaul-drawer-direction=left]:border-r data-[vaul-drawer-direction=left]:sm:max-w-sm",t),...s,children:[(0,r.jsx)("div",{className:"bg-muted mx-auto mt-4 hidden h-2 w-[100px] shrink-0 rounded-full group-data-[vaul-drawer-direction=bottom]/drawer-content:block"}),a]})]})}function b(e){let{className:t,...a}=e;return(0,r.jsx)("div",{"data-slot":"drawer-header",className:(0,h.cn)("flex flex-col gap-0.5 p-4 group-data-[vaul-drawer-direction=bottom]/drawer-content:text-center group-data-[vaul-drawer-direction=top]/drawer-content:text-center md:gap-1.5 md:text-left",t),...a})}function A(e){let{className:t,...a}=e;return(0,r.jsx)(p._s.Title,{"data-slot":"drawer-title",className:(0,h.cn)("text-foreground font-semibold",t),...a})}var w=a(1966);a(355),a(9566);let y=e=>{let{className:t}=e;return(0,r.jsxs)("svg",{viewBox:"0 0 100 100",className:t,"aria-hidden":"true",focusable:"false",children:[(0,r.jsx)("circle",{cx:"50",cy:"20",r:"12",fill:"#9CA3AF"}),(0,r.jsx)("circle",{cx:"78.53",cy:"40.73",r:"12",fill:"#EF4444"}),(0,r.jsx)("circle",{cx:"67.63",cy:"74.27",r:"12",fill:"#10B981"}),(0,r.jsx)("circle",{cx:"32.37",cy:"74.27",r:"12",fill:"#F59E0B"}),(0,r.jsx)("circle",{cx:"21.47",cy:"40.73",r:"12",fill:"#EC4899"})]})},S=s.memo(function(){let{setInitStore:e,setVariable:t,setColormap:a,setTimeSeries:p,setDimCoords:f,isFlat:v,plotOn:S,variables:C,variable:k}=(0,d.on)((0,c.k)(e=>({setInitStore:e.setInitStore,setVariable:e.setVariable,setColormap:e.setColormap,setTimeSeries:e.setTimeSeries,setDimCoords:e.setDimCoords,isFlat:e.isFlat,plotOn:e.plotOn,variables:e.variables,variable:e.variable}))),{setPlotType:N,plotType:M,resetCamera:z,setAnimate:E,setResetCamera:D}=(0,d.Ws)((0,c.k)(e=>({setPlotType:e.setPlotType,plotType:e.plotType,resetCamera:e.resetCamera,setAnimate:e.setAnimate,setResetCamera:e.setResetCamera}))),[R,B]=(0,s.useState)(!1),[F,L]=(0,s.useState)(!1),[T,U]=(0,s.useState)("Default"),[O,I]=(0,s.useState)(!1),V=(0,d.on)((0,c.k)(e=>e.colormap)),[P,_]=(0,s.useState)(!1),G=(0,s.useRef)(null);return(0,s.useEffect)(()=>{a((0,u.v6)(V,"Default"===T?"Spectral":T,1,"#000000",0,O))},[T,O]),(0,s.useEffect)(()=>{function e(e){if(!P)return;let t=e.target;G.current&&t&&!G.current.contains(t)&&_(!1)}function t(e){P&&"Escape"===e.key&&_(!1)}return document.addEventListener("mousedown",e),document.addEventListener("touchstart",e,{passive:!0}),document.addEventListener("keydown",t),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("touchstart",e),document.removeEventListener("keydown",t)}},[P]),(0,r.jsxs)("nav",{className:"navbar",ref:G,children:[(0,r.jsx)("button",{type:"button",className:"navbar-trigger","aria-expanded":P,"aria-label":P?"Close navigation":"Open navigation",title:P?"Close navigation":"Open navigation",onClick:()=>_(e=>!e),children:(0,r.jsx)(y,{className:"navbar-trigger-icon rotating"})}),(0,r.jsxs)("div",{className:(0,h.cn)("navbar-content",P?"open":"closed"),children:[(0,r.jsxs)("div",{className:"navbar-left",children:[(0,r.jsxs)(x,{children:[(0,r.jsx)(g,{asChild:!0,children:(0,r.jsx)("div",{role:"button ",className:"cursor-pointer",tabIndex:0,"aria-label":"About Browzarr",title:"About Browzarr",children:(0,r.jsx)(n.default,{src:o,alt:"browzarr"})})}),(0,r.jsxs)(j,{className:"max-w-md mx-auto",children:[(0,r.jsx)(b,{children:(0,r.jsx)(A,{children:"About"})}),(0,r.jsx)("div",{className:"flex-1 overflow-y-auto px-4 pb-4",children:(0,r.jsx)(w.default,{})})]})]}),S&&(0,r.jsx)("div",{role:"button",tabIndex:0,"aria-label":"Reset camera view",title:"Reset camera view",onClick:()=>D(!z),className:"w-[32px] h-[32px] cursor-pointer flex items-center justify-center transition-transform hover:shadow-white/40 transition-shadow hover:scale-90 hover:shadow-lg",children:(0,r.jsx)(m.vRP,{className:"w-full h-full"})}),S&&!v&&(0,r.jsx)(i.Yp,{})]}),(0,r.jsx)(l.default,{})]})]})})},2235:(e,t,a)=>{"use strict";a.d(t,{default:()=>n});var r=a(9564);a(4884);var s=a(7776);let n=e=>{let{scale:t,setScale:a}=e,[n,i]=(0,s.useState)(!1),l=(0,s.useRef)(null),o=e=>{n&&(e.preventDefault(),a(Math.min(Math.max(t+(l.current?(l.current-e.clientY)/100:0),.1),10)))},c=()=>{i(!1)};return(0,s.useEffect)(()=>(n&&(document.addEventListener("mousemove",o),document.addEventListener("mouseup",c)),()=>{document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",c)}),[n]),(0,r.jsx)("div",{className:"yScaler",onMouseDown:e=>{e.preventDefault(),i(!0),l.current=e.clientY},onMouseUp:c})}},2324:(e,t,a)=>{"use strict";a.d(t,{default:()=>o});var r=a(9564);a(5896),a(7776),a(3316);var s=a(5453),n=a(9341),i=a(8688),l=a(3277);let o=()=>{let{analysisMode:e,setAnalysisMode:t}=(0,i.r2)((0,l.k)(e=>({analysisMode:e.analysisMode,setAnalysisMode:e.setAnalysisMode})));return(0,r.jsxs)(n.Zp,{className:"panel-container",children:[(0,r.jsx)(s.jG,{}),(0,r.jsx)(s.ut,{}),(0,r.jsx)(s.M,{}),(0,r.jsx)(s.hv,{}),(0,r.jsx)(s.zd,{}),(0,r.jsx)(s.DM,{}),(0,r.jsx)(s.pH,{})]})}},2537:()=>{},2821:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});let r={src:"/Browzarr/_next/static/media/SeasFire-logo.0515b793.png",height:97,width:500,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAACCAMAAABSSm3fAAAAFVBMVEX////////5/P////95xtf+/v6i29LUn6vQAAAAB3RSTlMVAh8PiAeKOpNe/gAAAAlwSFlzAAAOxAAADsQBlSsOGwAAABpJREFUeJxjYGNgYmJlZGRkYGFmYmBgYGAGAAFYAB/e/M0IAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:2}},2898:(e,t,a)=>{"use strict";a.d(t,{default:()=>o});var r=a(9564),s=a(7776),n=a(6613),i=a(6056),l=a(2795);a(3984);let o=()=>{let[e,t]=(0,s.useState)(!1),{theme:a,setTheme:o,resolvedTheme:c}=(0,n.D)();return(0,s.useEffect)(()=>{t(!0)},[]),(0,r.jsx)("button",{onClick:()=>{"dark"===a?o("light"):o("dark")},className:"toggle",children:e?"dark"===(e?null!=a?a:c:void 0)?(0,r.jsx)(l.A,{size:32}):(0,r.jsx)(i.A,{size:32}):(0,r.jsx)(i.A,{})})}},2921:(e,t,a)=>{"use strict";a.d(t,{Cx:()=>s.default,kU:()=>r.default}),a(6473),a(2821),a(3394),a(5918);var r=a(8719),s=a(3235)},2975:(e,t,a)=>{"use strict";a.d(t,{default:()=>m});var r=a(9564),s=a(7776),n=a(8688),i=a(3277),l=a(489),o=a(1279),c=a(4354),d=a(5916),u=a(9566);let h={ESDC:"https://s3.bgc-jena.mpg.de:9000/esdl-esdc-v3.0.2/esdc-16d-2.5deg-46x72x1440-3.0.2.zarr",SEASFIRE:"https://s3.bgc-jena.mpg.de:9000/misc/seasfire_rechunked.zarr"},m=()=>{let[e,t]=(0,s.useState)(!1),[a,m]=(0,s.useState)(!1),[p,x]=(0,s.useState)("left"),[g,f]=(0,s.useState)("ESDC"),{setInitStore:v,setVariable:j}=(0,n.on)((0,i.k)(e=>({setInitStore:e.setInitStore,setVariable:e.setVariable})));return(0,s.useEffect)(()=>{let e=()=>{x(window.innerWidth<768?"top":"left")};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,r.jsxs)(u.AM,{children:[(0,r.jsx)(u.Wv,{asChild:!0,children:(0,r.jsx)("div",{role:"button",tabIndex:0,"aria-label":"Select dataset",children:(0,r.jsx)(c.Gn0,{className:"panel-item"})})}),(0,r.jsxs)(u.hl,{side:p,className:"flex flex-col items-start max-w-[220px] p-3 gap-3 w-auto mb-1",children:[(0,r.jsx)(o.$,{variant:"ESDC"===g?"default":"ghost",className:"cursor-pointer",onClick:()=>{t(!1),m(!1),j("Default"),f("ESDC"),v(h.ESDC)},children:"ESDC"}),(0,r.jsx)(o.$,{variant:"seasfire"===g?"default":"ghost",className:"cursor-pointer",onClick:()=>{t(!1),m(!1),j("Default"),f("seasfire"),v(h.SEASFIRE)},children:"Seasfire"}),(0,r.jsxs)("div",{children:[(0,r.jsx)(o.$,{variant:"remote"===g?"default":"ghost",className:"cursor-pointer",onClick:()=>{m(!1),f("remote"),t(e=>!e)},children:"Remote"}),e&&(0,r.jsxs)("form",{className:"mt-2 flex items-center gap-2",onSubmit:e=>{e.preventDefault(),v(e.currentTarget.elements[0].value),j("Default")},children:[(0,r.jsx)(l.p,{className:"w-[100px]",placeholder:"Store URL"}),(0,r.jsx)(o.$,{type:"submit",variant:"outline",children:"Fetch"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(o.$,{variant:"local"===g?"default":"ghost",className:"cursor-pointer",onClick:()=>{m(e=>!e),t(!1),f("local"),v("local")},children:"Local"}),a&&(0,r.jsx)("div",{className:"mt-2",children:(0,r.jsx)(d.default,{setShowLocal:m})})]})]})]})}},3235:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});let r={src:"/Browzarr/_next/static/media/logo_mpi.60f96703.png",height:335,width:335,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAG1BMVEX///////////////////////////////9MaXHtBtUtAAAACXRSTlMVIF5RcjsnRQDMSZBbAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAM0lEQVR4nBXJyREAMAwCscXgo/+KM/lKHG03By7Hgq6ZFKJWSfEnWX7FK6RPNRo4eru5BxsqAMT2mkYXAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8}},3316:()=>{},3394:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});let r={src:"/Browzarr/_next/static/media/logo.0318aecd.png",height:200,width:200,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAGFBMVEVMaXGQAACTCgSRAQDMdEXGZj+lMBx/AAA9OMhxAAAACHRSTlMAKTxQNyQ1Arjuq00AAAAJcEhZcwAACxMAAAsTAQCanBgAAAAnSURBVHicY2CAA3YohgNGJkZGJjZWVgZGZmZmJjYWFiQ5dnYUpQwAC2UAVah+qBUAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8}},3787:()=>{},3964:(e,t,a)=>{"use strict";a.d(t,{cn:()=>n});var r=a(6144),s=a(4480);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,s.QP)((0,r.$)(t))}},3984:()=>{},4004:(e,t,a)=>{"use strict";a.d(t,{default:()=>f});var r=a(9564),s=a(7776),n=a(4354),i=a(8688),l=a(3277),o=a(1813),c=a(3964);function d(e){let{className:t,orientation:a="horizontal",decorative:s=!0,...n}=e;return(0,r.jsx)(o.b,{"data-slot":"separator",decorative:s,orientation:a,className:(0,c.cn)("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",t),...n})}var u=a(4593),h=a(9341),m=a(1279),p=a(489);let x=e=>{let{meta:t,setShowMeta:a}=e,{is4D:n,idx4D:o,variable:c,setIs4D:d,setIdx4D:x,setVariable:g}=(0,i.on)((0,l.k)(e=>({is4D:e.is4D,idx4D:e.idx4D,variable:e.variable,setIs4D:e.setIs4D,setIdx4D:e.setIdx4D,setVariable:e.setVariable}))),{slice:f,reFetch:v,setSlice:j,setReFetch:b}=(0,i.SZ)((0,l.k)(e=>({reFetch:e.reFetch,slice:e.slice,setSlice:e.setSlice,setReFetch:e.setReFetch}))),A=(0,s.useMemo)(()=>t.totalSize?t.totalSize:0,[t]),w=(0,s.useMemo)(()=>t.shape?4==t.shape.length?t.shape[1]:t.shape[0]:0,[t]),y=(0,s.useMemo)(()=>!!t.shape&&3==t.shape.length,[t]),S=n?t.shape[1]/t.chunks[1]>1:t.shape[0]/t.chunks[0]>1,C=(0,s.useMemo)(()=>{if(y){let e=f[0]?f[0]:0,a=f[1]?f[1]:w,r=t.shape[2]/t.chunks[2]*(t.shape[1]/t.chunks[1])*t.chunkSize;return Math.ceil((a-e)/(t.chunks?t.chunks[0]:1))*r}if(!n)return 0;{let e=f[0]?f[0]:0,a=f[1]?f[1]:w,r=t.shape[3]/t.chunks[3]*(t.shape[2]/t.chunks[2])*t.chunkSize;return Math.ceil((a-e)/(t.chunks?t.chunks[1]:1))*r}},[t,f]);return(0,s.useEffect)(()=>{d(4==t.shape.length)}),(0,s.useEffect)(()=>{j([0,null]),x(null)},[t]),(0,r.jsxs)(h.Zp,{className:"meta-container max-w-sm md:max-w-md p-4 mb-4 border border-muted select-none",children:[(0,r.jsxs)("div",{className:"meta-info",children:[(0,r.jsx)("b",{children:"Long Name"})," ",(0,r.jsx)("br",{}),"".concat(t.long_name),(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),(0,r.jsx)("b",{children:"Shape"}),(0,r.jsx)("br",{}),"[".concat((e=>"string"==typeof e?e:Array.isArray(e)?e.join(", "):String(e))(t.shape),"]"),(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),n&&(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{children:["This is Four-Dimensional Dataset. You must select an index along the first dimension. ",(0,r.jsx)("br",{}),"Please select an index from ",(0,r.jsx)("b",{children:"0"})," to ",(0,r.jsx)("b",{children:t.shape[0]-1})]}),(0,r.jsx)(p.p,{type:"number",min:0,max:t.shape[0]-1,value:String(o),onChange:e=>x(parseInt(e.target.value))})]})}),(y||null!=o)&&(0,r.jsxs)(r.Fragment,{children:[A>1e8&&S&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"flex justify-center",children:(0,r.jsx)("b",{children:"Select Data Range"})}),(0,r.jsxs)("div",{className:"w-full flex flex-col justify-between",children:[(0,r.jsx)(u.A,{range:!0,min:0,max:w,value:[f[0]?f[0]:0,f[1]?f[1]:w],step:1,onChange:e=>j(e)}),(0,r.jsxs)("div",{className:"flex justify-between text-xs mt-4",children:[(0,r.jsxs)("span",{children:["Min: ",(0,r.jsx)("br",{})," ",(0,r.jsx)("input",{className:"w-[50px]",type:"number",value:f[0],onChange:e=>j([parseInt(e.target.value),f[1]])})]}),(0,r.jsxs)("span",{children:["Max: ",(0,r.jsx)("br",{})," ",(0,r.jsx)("input",{className:"w-[50px] text-right",type:"number",value:f[1]?f[1]:w,onChange:e=>j([f[0],parseInt(e.target.value)])})]})]})]})]}),(0,r.jsx)("b",{children:"Total Size: "}),(e=>{if(0===e)return"0 Bytes";let t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB","TB"][t]})(C),(0,r.jsx)("br",{}),C<1e8&&(0,r.jsx)("span",{className:"bg-green-500 rounded px-2 py-1",children:"Selected data will fit in memory"}),C>1e8&&C<2e8&&(0,r.jsx)("span",{className:"bg-yellow-500 rounded px-2 py-1",children:"Data may not fit in memory"}),C>2e8&&(0,r.jsx)("span",{className:"bg-red-400 rounded px-2 py-1",children:"Data will not fit in memory"})]})]}),(0,r.jsx)(m.$,{variant:"destructive",className:"cursor-pointer hover:scale-[1.05]",disabled:n&&null==o,onClick:()=>{c==t.name?b(!v):g(t.name),a(!1)},children:"Plot"})]})};var g=a(9566);let f=()=>{let[e,t]=(0,s.useState)("left"),[a,o]=(0,s.useState)(!1),{variables:c,zMeta:u}=(0,i.on)((0,l.k)(e=>({variables:e.variables,zMeta:e.zMeta}))),[h,m]=(0,s.useState)(null),[p,f]=(0,s.useState)(null);return(0,s.useEffect)(()=>{if(c&&u&&h){let e=c[h];f(u.find(t=>t.name===e))}},[h,c]),(0,s.useEffect)(()=>{let e=()=>{t(window.innerWidth<768?"top":"left")};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,r.jsxs)(g.AM,{children:[(0,r.jsx)(g.Wv,{children:(0,r.jsx)(n.T45,{className:"panel-item"})}),(0,r.jsxs)(g.hl,{side:e,className:"colormaps",children:[c.map((e,t)=>(0,r.jsxs)(s.Fragment,{children:[(0,r.jsx)("div",{className:"cursor-pointer pl-2 py-1 text-sm hover:bg-muted rounded",style:{background:t==h?"#d6d6d6ff":""},onClick:()=>{m(t),o(!0)},children:e}),t!=c.length-1&&(0,r.jsx)(d,{className:"my-1"})]},t)),a&&p&&(0,r.jsx)("div",{className:"meta-options w-[300px]",children:(0,r.jsx)(x,{meta:p,setShowMeta:o})})]})]})}},4408:()=>{},4752:(e,t,a)=>{"use strict";a.d(t,{default:()=>m});var r=a(9564);a(7776);var s=a(7791),n=a(8688),i=a(3277);a(406);var l=a(5749),o=a(3964);function c(e){let{delayDuration:t=0,...a}=e;return(0,r.jsx)(l.Provider,{"data-slot":"tooltip-provider",delayDuration:t,...a})}function d(e){let{...t}=e;return(0,r.jsx)(c,{children:(0,r.jsx)(l.Root,{"data-slot":"tooltip",...t})})}function u(e){let{...t}=e;return(0,r.jsx)(l.Trigger,{"data-slot":"tooltip-trigger",...t})}function h(e){let{className:t,sideOffset:a=0,children:s,...n}=e;return(0,r.jsx)(l.Portal,{children:(0,r.jsxs)(l.Content,{"data-slot":"tooltip-content",sideOffset:a,className:(0,o.cn)("bg-popover text-popover-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",t),...n,children:[s,(0,r.jsx)(l.Arrow,{className:"bg-popover fill-popover z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}let m=()=>{let{selectTS:e,resetAnim:t,animate:a,setSelectTS:l,setResetAnim:o}=(0,n.Ws)((0,i.k)(e=>({selectTS:e.selectTS,resetAnim:e.resetAnim,animate:e.animate,setSelectTS:e.setSelectTS,setResetAnim:e.setResetAnim})));return(0,r.jsx)("div",{className:"selectTS",style:{display:a?"none":""},onClick:()=>{o(!t),l(!e)},children:(0,r.jsxs)(d,{children:[(0,r.jsx)(u,{asChild:!0,children:(0,r.jsx)(s.Psu,{size:32,style:{color:e?"gold":"grey",filter:e?"drop-shadow(0px 0px 10px gold)":"",cursor:"pointer"}})}),(0,r.jsx)(h,{side:"right",align:"start",children:(0,r.jsx)("p",{style:{maxWidth:220},children:"While active, click the volume to view 1D transects through the given dimension."})})]})})}},4882:()=>{},4884:()=>{},5453:(e,t,a)=>{"use strict";a.d(t,{zd:()=>j.default,pH:()=>S.default,PL:()=>p.default,hv:()=>v.default,jG:()=>b.default,$D:()=>y,It:()=>C.default,Rh:()=>u,oU:()=>x.default,OS:()=>n.default,Fp:()=>r.default,DM:()=>A.default,Yp:()=>m.default,M:()=>g.default,A:()=>i.default,de:()=>h,ut:()=>f.default,LC:()=>o.default,gj:()=>l.default});var r=a(2032),s=a(9564);a(6341),a(2921),a(4408),a(1966);var n=a(8476),i=a(5750),l=a(2235),o=a(8470);a(2898);var c=a(8688);a(3787);var d=a(3277);function u(){let{progress:e,showLoading:t,downloading:a}=(0,c.on)((0,d.k)(e=>({progress:e.progress,showLoading:e.showLoading,downloading:e.downloading})));return t&&(0,s.jsxs)("div",{className:"loading-container",children:[(0,s.jsx)("div",{className:"loading",children:a?"Downloading":"Building"}),(0,s.jsx)("div",{className:"progress-bar",style:{width:"".concat(e,"%")}})]})}a(961),a(7776),a(1465);let h=e=>{let{onClick:t}=e;return(0,s.jsxs)("div",{className:"lineplot-tab",onClick:t,children:[(0,s.jsx)("div",{className:"plottab-line"}),(0,s.jsx)("div",{className:"plottab-line"}),(0,s.jsx)("div",{className:"plottab-line"})]})};var m=a(4752),p=a(1527);a(5916);var x=a(2324),g=a(9488),f=a(4004),v=a(459),j=a(7081),b=a(2975),A=a(6255);a(2537);var w=a(1279);let y=()=>{let{zarrFetch:e,cors:t,oom:a,setZarrFetch:r,setCors:n,setOom:i}=(0,c.$U)((0,d.k)(e=>({zarrFetch:e.zarrFetch,cors:e.cors,oom:e.oom,setZarrFetch:e.setZarrFetch,setCors:e.setCors,setOom:e.setOom}))),l=[e,t,a],o=[r,n,i],u=l.includes(!0);return(0,s.jsx)(s.Fragment,{children:u&&(0,s.jsx)("div",{className:"error-background",children:(0,s.jsxs)("div",{className:"error-container",children:[(0,s.jsx)("div",{className:"text-[48px] font-bold text-center mb-[10px]",children:"Error"}),(0,s.jsxs)("div",{className:"error-message",children:[e&&(0,s.jsxs)("div",{children:["Failed to fetch data from the store.",(0,s.jsx)("br",{}),"If this store has worked beforehand then this is likely a temporary issue. Try again"]}),t&&(0,s.jsxs)("div",{children:["This dataset is hosted on a different website and your browser is blocking it for security reasons. It's called a \"CORS\" issue (Cross-Origin Resource Sharing). The server you're trying to access hasn't given permission for browsers to fetch data from other websites like this one. ",(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),"If you access it through code outside a browser (i.e., in Python), it works fine - because those environments don't follow browser security rules. ",(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),'To fix this, the dataset\'s hosting server needs to allow access by adding headers that tell your browser "this is safe." If you control the server, you can add those CORS headers. Otherwise, reach out to whoever manages the data and ask them to enable CORS for browser access.']}),a&&(0,s.jsxs)("div",{children:["Whoa there! ",(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),"If you're reading this you've just tried to plot a ridiculous amount of points. Your browser ran out of memory allocating the arrays necessary to dictate their positions in space. Stick to the volumetric view if you need to view the entire dataset."]})]}),(0,s.jsx)("div",{className:"flex justify-center mt-[10px]",children:(0,s.jsx)(w.$,{className:"cursor-pointer hover:scale-[1.1]",onClick:e=>(()=>{for(let e=0;e<l.length;e++)l[e]&&(0,o[e])(!1)})(),children:"Okay"})})]})})})};var S=a(6502),C=a(8860)},5750:(e,t,a)=>{"use strict";a.d(t,{default:()=>n});var r=a(9564),s=a(7776);a(8247);let n=e=>{let{height:t,setHeight:a}=e,[n,i]=(0,s.useState)(!1),[l,o]=(0,s.useState)(window.innerHeight-50);(0,s.useEffect)(()=>{let e=()=>{o(window.innerHeight-100)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let c=(0,s.useCallback)(e=>{requestAnimationFrame(()=>{a(e)})},[a,l]),d=(0,s.useCallback)(e=>{switch(e.key){case"ArrowUp":e.preventDefault(),c(t-10);break;case"ArrowDown":e.preventDefault(),c(t+10);break;case"Home":e.preventDefault(),c(50);break;case"End":e.preventDefault(),c(l)}},[t,l,c]),u=e=>{e.preventDefault(),i(!0)},h=(0,s.useCallback)(e=>{n&&(e.preventDefault(),c("touches"in e?e.touches[0].clientY:e.clientY))},[n,c]),m=(0,s.useCallback)(()=>{i(!1)},[]),p=(0,s.useCallback)(()=>{n&&i(!1)},[n]);return(0,s.useEffect)(()=>(n&&(document.addEventListener("mousemove",h),document.addEventListener("mouseup",m),document.addEventListener("touchmove",h,{passive:!1}),document.addEventListener("touchend",m),document.addEventListener("touchcancel",m),window.addEventListener("resize",p)),()=>{document.removeEventListener("mousemove",h),document.removeEventListener("mouseup",m),document.removeEventListener("touchmove",h),document.removeEventListener("touchend",m),document.removeEventListener("touchcancel",m),window.removeEventListener("resize",p)}),[n,h,m,p]),(0,r.jsx)("div",{className:"resize-bar",onMouseDown:u,onTouchStart:u,onKeyDown:d,style:{top:"".concat(t,"px")},role:"slider","aria-label":"Resize plot height","aria-valuemin":50,"aria-valuemax":l,"aria-valuenow":t,tabIndex:0})}},5916:(e,t,a)=>{"use strict";a.d(t,{default:()=>d});var r=a(9564);a(7776);var s=a(2105),n=a(970),i=a(8688),l=a(489),o=a(6150);async function c(e,t){var a;let r=e.length,s=[],n={};for(let t=0;t<r;t++){let a=e[t];if(".zarray"===a.name||".zattrs"===a.name){let e=a.webkitRelativePath,t=e.split("/");t.shift(),e=t.join("/"),s.push("/"+e)}}for(let e of s){let a=await t.get(e);n[e.slice(1)]=(0,o.eg)(a)}let i={};for(let[e,t]of Object.entries({metadata:n,zarr_consolidated_format:1}.metadata))i["/".concat(e)]=t;return{async get(e,a){if(i[e])return(0,o.kj)(i[e]);let r=await t.get(e,a);if((e.endsWith(".zarray")||e.endsWith(".zgroup")||e.endsWith(".zattrs")||e.endsWith("zarr.json"))&&r){let t=(0,o.eg)(r);i[e]=t}return r},getRange:null==(a=t.getRange)?void 0:a.bind(t),contents(){let e=[];for(let[t,a]of Object.entries(i)){let r=t.split("/"),s=r.pop(),n=r.join("/")||"/";".zarray"===s&&e.push({path:n,kind:"array"}),".zgroup"===s&&e.push({path:n,kind:"group"}),"zarr_format"in a&&3===a.zarr_format&&e.push({path:n,kind:a.node_type})}return e}}}let d=e=>{let{setShowLocal:t}=e,a=(0,i.SZ)(e=>e.setCurrentStore),o=(0,i.on)(e=>e.setVariable),d=async e=>{let r=e.target.files;if(!r||0===r.length)return;let i=new Map,l=r[0].webkitRelativePath.split("/")[0];for(let e=0;e<r.length;e++){let t=r[e],a=t.webkitRelativePath.substring(l.length+1);a&&i.set("/"+a,t.arrayBuffer())}let d={async get(e){let t=await i.get(e);return t?new Uint8Array(t):void 0}};try{let e=await s.x(d);"contents"in e||(e=await c(r,d)),n.h(e,{kind:"group"}).then(e=>{a(e)}),o("Default"),t(!1)}catch(e){e instanceof Error?console.log("Error opening Zarr store: ".concat(e.message)):console.log("An unknown error occurred when opening the Zarr store.")}};return(0,r.jsx)("div",{children:(0,r.jsx)(l.p,{type:"file",id:"filepicker",className:"hover:drop-shadow-md hover:scale-[110%]",style:{width:"200px",cursor:"pointer"},directory:"",webkitdirectory:"true",onChange:d})})}},5918:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});let r={src:"/Browzarr/_next/static/media/logo_bgc_mpi.811f35c6.png",height:335,width:1901,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAABCAMAAADU3h9xAAAACVBMVEX///////////+OSuX+AAAAA3RSTlMdMnkqIWkUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAEUlEQVR4nGNgYGBgYGRiZAQAABYABhAF/EgAAAAASUVORK5CYII=",blurWidth:8,blurHeight:1}},6255:(e,t,a)=>{"use strict";a.d(t,{default:()=>h});var r=a(9564),s=a(8688),n=a(7776),i=a(3277);a(3316);var l=a(789),o=a(9259),c=a(8804);let d=[1,2,4,6,8,12,16,24,36,48,54,60,80,120],u=e=>{let{visible:t}=e,{animate:a,animProg:l,setAnimate:u,setAnimProg:h}=(0,s.Ws)((0,i.k)(e=>({animate:e.animate,animProg:e.animProg,setAnimate:e.setAnimate,setAnimProg:e.setAnimProg}))),{dimArrays:m,dimNames:p,dimUnits:x}=(0,s.on)((0,i.k)(e=>({dimArrays:e.dimArrays,dimNames:e.dimNames,dimUnits:e.dimUnits}))),g=(0,n.useMemo)(()=>m[0].length,[m]),f=(0,n.useRef)(null),v=(0,n.useRef)(0),[j,b]=(0,n.useState)(5),A=(0,n.useRef)(5);return(0,n.useEffect)(()=>{if(a){A.current!=j&&f.current&&(clearInterval(f.current),f.current=null),A.current=j;let e=1e3/d[j];v.current=Math.round(l*g),f.current=setInterval(()=>{v.current+=1,h((v.current+1)%g/g)},e)}else f.current&&(clearInterval(f.current),f.current=null);return()=>{f.current&&clearInterval(f.current)}},[a,j]),(0,r.jsx)("div",{style:{display:t?"":"none"},children:(0,r.jsxs)("div",{className:"play-interface",children:[(0,c.parseLoc)(m[0][Math.min(Math.round(l*g),g-1)],x[0],!0),(0,r.jsxs)("div",{children:[(0,c.parseLoc)(m[0][0],x[0],!0),(0,r.jsx)("input",{type:"range",className:"w-[300px]",value:l*g,min:0,max:g,step:1,onChange:e=>h(parseInt(e.target.value)/g)}),(0,c.parseLoc)(m[0][g-1],x[0],!0)]}),(0,r.jsxs)("div",{className:"flex items-center justify-between w-100",children:[(0,r.jsxs)("div",{style:{visibility:j>0?"visible":"hidden"},className:"cursor-pointer hover:scale-[115%]",onClick:e=>b(e=>Math.max(0,e-1)),children:[" ",(0,r.jsx)("b",{children:"Slower"})]}),a?(0,r.jsx)(o.kwt,{className:"cursor-pointer hover:scale-[115%]",onClick:e=>u(!1)}):(0,r.jsx)(o.gSK,{className:"cursor-pointer hover:scale-[115%]",onClick:e=>u(!0)}),(0,r.jsx)("div",{className:"cursor-pointer hover:scale-[115%]",style:{visibility:j<d.length-1?"visible":"hidden"},onClick:e=>b(e=>Math.min(d.length-1,e+1)),children:(0,r.jsx)("b",{children:"Faster"})})]}),(0,r.jsxs)("div",{style:{textAlign:"right"},children:[(0,r.jsx)("b",{children:d[j]})," FPS"]})]})})},h=()=>{let{isFlat:e,plotOn:t}=(0,s.on)((0,i.k)(e=>({isFlat:e.isFlat,plotOn:e.plotOn}))),[a,o]=(0,n.useState)(!1),c=(0,n.useMemo)(()=>!e&&t,[e,t]),d=!e&&t;return(0,r.jsxs)("div",{children:[(0,r.jsx)(l.BXV,{className:"panel-item",color:d?"":"var(--text-disabled)",onClick:e=>{c&&o(e=>!e)},style:{transform:d?"":"scale(1)",cursor:d?"pointer":"auto"}}),(0,r.jsx)(u,{visible:a})]})}},6431:(e,t,a)=>{"use strict";a.d(t,{Bi:()=>d,Tk:()=>l,_z:()=>o,tz:()=>u});var r=a(970);function s(e){let t=["bytes","KB","MB","GB","TB","PB"],a=e,r=0;for(;a>=1024&&r<t.length-1;)a/=1024,r++;return"".concat(a.toFixed(2)," ").concat(t[r])}function n(e){return({int8:1,uint8:1,int16:2,uint16:2,int32:4,uint32:4,int64:8,uint64:8,float32:4,float64:8,bool:1})[e]||4}function i(e){return e.reduce((e,t)=>e*t,1)}async function l(e){let t=await e,a="contents"in t.store?t.store.contents():[],l=[];for(let e of a)if(e.path&&e.path.length>1&&"array"===e.kind){let a=await r.h(t.resolve(e.path.substring(1)),{kind:"array"}),o=n(a.dtype),c=i(a.shape),d=function(e,t){return e.reduce((e,a,r)=>e*Math.ceil(a/t[r]),1)}(a.shape,a.chunks),u=i(a.chunks),h=c*o,m=u*o;l.push({name:e.path.substring(1),long_name:a.attrs.long_name,shape:a.shape,chunks:a.chunks,dtype:a.dtype,totalSize:h,totalSizeFormatted:s(h),chunkCount:d,chunkSize:m,chunkSizeFormatted:s(m)})}return l}function o(e){let t=n(e.dtype),a=i(e.shape);return[a*t,i(e.chunks)*t,e.chunks]}let c=["longitude","latitude","lat","lon","time","depth","height","altitude","x","y","z","t","level"];async function d(e){return(await e).filter(e=>!function(e){let t=e.toLowerCase();return c.some(e=>t===e)}(e.name)).map(e=>e.name).sort((e,t)=>e.localeCompare(t))}async function u(e){let t=await e,a="attrs"in t&&"description"in t.attrs?String(t.attrs.description):"";return{title:"attrs"in t&&"title"in t.attrs?String(t.attrs.title):"",description:a}}},6473:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});let r={src:"/Browzarr/_next/static/media/logoS.e942f3c9.png",height:96,width:104,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAHCAMAAAACh/xsAAAAUVBMVEVMaXFxw96M2s5swu2u4tZ41NnG5dTkvMSX2sVojLtwt+mk29Xd8edbrOaMtd1syuNpYWGZ1eFiteJktuNZsuFjp9dnvuTF7eB/x81p0viG4uZWWiJxAAAAGHRSTlMAxf07LP34CfgugU+Dmib9Ipr3HPbeo/iE+UM/AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAOklEQVR4nBXKSRbAEBBAwU/QjZDZkPsfNC+1LgDnBOAyGlZA2quhZxAzrNoDKNP7bQHqc5/pz+wxCnwwDAGgz+SY+gAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:7}},6502:(e,t,a)=>{"use strict";a.d(t,{default:()=>E});var r=a(9564),s=a(7776),n=a(8688),i=a(3277);a(3316);var l=a(789),o=a(9566),c=a(489),d=a(1279),u=a(5048),h=a(5453),m=a(7998),p=a(9588),x=a(6966),g=a(5605),f=a(3964);function v(e){let{...t}=e;return(0,r.jsx)(m.Root,{"data-slot":"select",...t})}function j(e){let{...t}=e;return(0,r.jsx)(m.Group,{"data-slot":"select-group",...t})}function b(e){let{...t}=e;return(0,r.jsx)(m.Value,{"data-slot":"select-value",...t})}function A(e){let{className:t,size:a="default",children:s,...n}=e;return(0,r.jsxs)(m.Trigger,{"data-slot":"select-trigger","data-size":a,className:(0,f.cn)("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...n,children:[s,(0,r.jsx)(m.Icon,{asChild:!0,children:(0,r.jsx)(p.A,{className:"size-4 opacity-50"})})]})}function w(e){let{className:t,children:a,position:s="popper",...n}=e;return(0,r.jsx)(m.Portal,{children:(0,r.jsxs)(m.Content,{"data-slot":"select-content",className:(0,f.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===s&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:s,...n,children:[(0,r.jsx)(C,{}),(0,r.jsx)(m.Viewport,{className:(0,f.cn)("p-1","popper"===s&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:a}),(0,r.jsx)(k,{})]})})}function y(e){let{className:t,...a}=e;return(0,r.jsx)(m.Label,{"data-slot":"select-label",className:(0,f.cn)("text-muted-foreground px-2 py-1.5 text-xs",t),...a})}function S(e){let{className:t,children:a,...s}=e;return(0,r.jsxs)(m.Item,{"data-slot":"select-item",className:(0,f.cn)("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...s,children:[(0,r.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,r.jsx)(m.ItemIndicator,{children:(0,r.jsx)(x.A,{className:"size-4"})})}),(0,r.jsx)(m.ItemText,{children:a})]})}function C(e){let{className:t,...a}=e;return(0,r.jsx)(m.ScrollUpButton,{"data-slot":"select-scroll-up-button",className:(0,f.cn)("flex cursor-default items-center justify-center py-1",t),...a,children:(0,r.jsx)(g.A,{className:"size-4"})})}function k(e){let{className:t,...a}=e;return(0,r.jsx)(m.ScrollDownButton,{"data-slot":"select-scroll-down-button",className:(0,f.cn)("flex cursor-default items-center justify-center py-1",t),...a,children:(0,r.jsx)(p.A,{className:"size-4"})})}let N=["Mean","Min","Max","StDev"],M=["Mean","Min","Max","StDev"],z=(0,r.jsxs)("div",{className:"m-0 p-5 font-sans flex-column justify-center items-center",children:[(0,r.jsx)("span",{className:"text-5xl mb-4 block self-center",children:"⚠️"}),(0,r.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"WebGPU Not Available"}),(0,r.jsx)("p",{className:"text-base leading-relaxed mb-1 opacity-95",children:"WebGPU is not supported or enabled in your current browser. This feature is required for GPU-accelerated computing."}),(0,r.jsxs)("div",{className:"bg-white bg-opacity-15 rounded-xl border border-white border-opacity-20",children:[(0,r.jsx)("h3",{className:"m-0 mb-4 text-lg font-semibold",children:"Try These Solutions:"}),(0,r.jsxs)("ul",{className:"suggestion-list",children:[(0,r.jsx)("li",{children:"Switch to a Chrome-based browser (Chrome, Edge, Brave)"}),(0,r.jsx)("li",{children:"Use Safari on macOS (version 14.1 or later)"}),(0,r.jsx)("li",{children:"Enable WebGPU in your browser's experimental features"}),(0,r.jsx)("li",{children:"Update your browser to the latest version"})]})]})]}),E=()=>{let{plotOn:e,variable:t}=(0,n.on)((0,i.k)(e=>({plotOn:e.plotOn,variable:e.variable}))),{execute:a,operation:m,useTwo:p,kernelSize:x,kernelDepth:g,kernelOperation:f,axis:C,variable2:k,analysisMode:E,setExecute:D,setAxis:R,setOperation:B,setUseTwo:F,setVariable2:L,setKernelSize:T,setKernelDepth:U,setKernelOperation:O,setAnalysisMode:I}=(0,n.r2)((0,i.k)(e=>({execute:e.execute,operation:e.operation,useTwo:e.useTwo,kernelSize:e.kernelSize,kernelDepth:e.kernelDepth,kernelOperation:e.kernelOperation,axis:e.axis,variable2:e.variable2,analysisMode:e.analysisMode,setExecute:e.setExecute,setAxis:e.setAxis,setOperation:e.setOperation,setUseTwo:e.setUseTwo,setVariable2:e.setVariable2,setKernelSize:e.setKernelSize,setKernelDepth:e.setKernelDepth,setKernelOperation:e.setKernelOperation,setAnalysisMode:e.setAnalysisMode}))),{variables:V,dimNames:P}=(0,n.on)((0,i.k)(e=>({variables:e.variables,dimNames:e.dimNames}))),{reFetch:_,setReFetch:G}=(0,n.SZ)((0,i.k)(e=>({reFetch:e.reFetch,setReFetch:e.setReFetch}))),[W,Y]=(0,s.useState)(!1);(0,s.useEffect)(()=>{(async()=>{if(!navigator.gpu)return Y(!0);try{await navigator.gpu.requestAdapter(),Y(!1)}catch(e){Y(!0)}})()},[e]);let[X,Z]=(0,s.useState)("left");function H(e){let t=parseInt(e);return t%2==0?Math.max(1,t-1):t}return(0,s.useEffect)(()=>{let e=()=>{Z(window.innerWidth<768?"top":"left")};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,r.jsxs)(o.AM,{children:[(0,r.jsx)(o.Wv,{disabled:!e,children:(0,r.jsx)(l.x6X,{color:e?"":"var(--text-disabled)",style:{cursor:e?"pointer":"auto",transform:e?"":"scale(1)"},className:"panel-item"})}),(0,r.jsx)(o.hl,{side:X,className:"analysis-info select-none",children:W?z:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.$,{className:"cursor-pointer active:scale-[0.95]",onClick:()=>{F(!p),B("Default")},children:p?"Use One \n Variable":"Use Two Variables"}),(0,r.jsx)("table",{style:{textAlign:"right"},children:(0,r.jsxs)("tbody",{children:[(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"Current Variable"}),(0,r.jsx)("td",{className:"text-center w-[100%] align-middle justify-center content-center",children:(0,r.jsxs)("button",{className:"rounded-[6px] self-center w-[80%] mx-auto relative border border-gray-150 py-[5px] ".concat(E?"hover:scale-[0.95]":""," transition-[0.2s]"),style:{cursor:E?"pointer":"",background:E?"#b6d1ddff":"#f8f8f8"},disabled:!E,onClick:e=>{G(!_),I(!1)},children:[E&&(0,r.jsx)(u.fc4,{size:20,style:{position:"absolute",left:"0%",top:"10%"}}),t]})})]}),p&&(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"Second Variable"}),(0,r.jsx)("td",{children:(0,r.jsxs)(v,{onValueChange:L,children:[(0,r.jsx)(A,{style:{width:"175px",marginLeft:"10px"},children:(0,r.jsx)(b,{placeholder:"Default"==k?"Select...":k})}),(0,r.jsx)(w,{children:V.map((e,a)=>e==t?null:(0,r.jsx)(S,{value:e,children:e},a))})]})})]})}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"Operation"}),!p&&(0,r.jsx)("td",{children:(0,r.jsxs)(v,{onValueChange:B,children:[(0,r.jsx)(A,{style:{width:"175px",marginLeft:"10px"},children:(0,r.jsx)(b,{placeholder:"Default"===m?"Select...":m})}),(0,r.jsxs)(w,{children:[(0,r.jsxs)(j,{children:[(0,r.jsx)(y,{children:"Dimension Reduction"}),N.map((e,t)=>(0,r.jsx)(S,{value:e,children:e},t))]}),(0,r.jsxs)(j,{children:[(0,r.jsx)(y,{children:"Three Dimensional"}),(0,r.jsx)(S,{value:"Convolution",children:"Convolution"})]})]})]})}),p&&(0,r.jsx)("td",{children:(0,r.jsxs)(v,{onValueChange:B,children:[(0,r.jsx)(A,{style:{width:"175px",marginLeft:"10px"},children:(0,r.jsx)(b,{placeholder:"Default"===m?"Select...":m})}),(0,r.jsxs)(w,{children:[(0,r.jsxs)(j,{children:[(0,r.jsx)(y,{children:"Dimension Reduction"}),(0,r.jsx)(S,{value:"Correlation2D",children:"Correlation"})]}),(0,r.jsxs)(j,{children:[(0,r.jsx)(y,{children:"Three Dimensional"}),(0,r.jsx)(S,{value:"Correlation3D",children:"Correlation"})]})]})]})})]}),"Convolution"!==m&&"Correlation3D"!==m&&"Default"!==m&&(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"Axis"}),(0,r.jsx)("td",{children:(0,r.jsxs)(v,{onValueChange:e=>R(parseInt(e)),children:[(0,r.jsx)(A,{style:{width:"175px",marginLeft:"10px"},children:(0,r.jsx)(b,{placeholder:P[C]})}),(0,r.jsx)(w,{children:P.map((e,t)=>(0,r.jsx)(S,{value:String(t),children:e},t))})]})})]}),("Convolution"===m||"Correlation3D"===m)&&(0,r.jsxs)(r.Fragment,{children:["Convolution"===m&&(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"Kernel Op."}),(0,r.jsx)("td",{children:(0,r.jsxs)(v,{onValueChange:O,children:[(0,r.jsx)(A,{style:{width:"175px",marginLeft:"10px"},children:(0,r.jsx)(b,{placeholder:"Default"===f?"Select...":f})}),(0,r.jsx)(w,{children:M.map((e,t)=>(0,r.jsx)(S,{value:e,children:e},t))})]})})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{style:{padding:"0px 12px"},children:"Kernel Size"}),(0,r.jsx)("td",{children:(0,r.jsx)("table",{style:{width:"100%",tableLayout:"fixed"},children:(0,r.jsxs)("tbody",{children:[(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{style:{textAlign:"center"},children:"Size"}),(0,r.jsx)("td",{style:{textAlign:"center"},children:"Depth"})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{style:{textAlign:"center",padding:"0px 12px"},children:(0,r.jsx)(c.p,{type:"number",min:"1",step:"2",value:String(x),onChange:e=>T(H(e.target.value))})}),(0,r.jsx)("td",{style:{textAlign:"center",padding:"0px 12px"},children:(0,r.jsx)(c.p,{type:"number",min:"1",step:"2",value:String(g),onChange:e=>U(H(e.target.value))})})]})]})})})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{}),(0,r.jsx)("th",{children:(0,r.jsx)(h.It,{size:Math.min(x,15),depth:Math.min(g,15)})})]})]})]})}),(0,r.jsx)(d.$,{className:"cursor-pointer active:scale-[0.95]",disabled:"Default"===m||"Convolution"===m&&"Default"===f||p&&"Default"===k,onClick:()=>{D(!a),I(!0)},children:"Execute"})]})})]})}},6709:()=>{},7081:(e,t,a)=>{"use strict";a.d(t,{default:()=>g});var r=a(9564),s=a(7776),n=a(8688);a(3316);var i=a(3277),l=a(4593),o=a(1279),c=a(1397),d=a(9566);let u=s.memo(function(e){var t,a;let{range:s,setRange:n,valueScales:i,min:o=-1,array:c}=e,{minVal:d,maxVal:u}=i;d=Number(d),u=Number(u);let[h,m]=[o,1];if(c){let e=c.length,t=Math.round((s[0]-o)/(1-o)*e),a=Math.round((s[1]-o)/(1-o)*e);h=c[t],m=c[a-1]}else h=Math.round(100*(s[0]*(u-(t=d))+t))/100,m=Math.round(100*(s[1]*(u-(a=d))+a))/100;return(0,r.jsxs)("div",{className:"w-full flex justify-between flex-col",children:[(0,r.jsx)(l.A,{range:!0,min:o,max:1,defaultValue:s,step:.01,onChange:e=>n(e)}),(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",fontSize:12,marginTop:18},children:[(0,r.jsxs)("span",{children:["Min: ",h]}),(0,r.jsxs)("span",{children:["Max: ",m]})]})]})}),h=()=>{let{valueRange:e,xRange:t,yRange:a,zRange:s,setValueRange:l,setXRange:o,setYRange:c,setZRange:d}=(0,n.Ws)((0,i.k)(e=>({valueRange:e.valueRange,xRange:e.xRange,yRange:e.yRange,zRange:e.zRange,setValueRange:e.setValueRange,setXRange:e.setXRange,setYRange:e.setYRange,setZRange:e.setZRange}))),h={minVal:0,maxVal:0},{valueScales:m,dimArrays:p}=(0,n.on)((0,i.k)(e=>({valueScales:e.valueScales,dimArrays:e.dimArrays,isFlat:e.isFlat})));return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex-column text-center w-[200px]",children:[(0,r.jsx)("b",{children:"Value Cropping"}),(0,r.jsx)(u,{range:e,setRange:l,valueScales:m,min:0})]}),(0,r.jsxs)("div",{className:"flex-column text-center",children:[(0,r.jsx)("b",{children:"Spatial Cropping"}),(0,r.jsx)(u,{range:t,setRange:o,valueScales:h,array:p[2]}),(0,r.jsx)(u,{range:a,setRange:c,valueScales:h,array:p[1]}),(0,r.jsx)(u,{range:s,setRange:d,valueScales:h,array:p[0]})]})]})},m=()=>{let{useFragOpt:e,quality:t,transparency:a,nanTransparency:s,nanColor:l,setQuality:c,setUseFragOpt:d,setTransparency:u,setNanTransparency:h,setNanColor:m}=(0,n.Ws)((0,i.k)(e=>({useFragOpt:e.useFragOpt,quality:e.quality,transparency:e.transparency,nanTransparency:e.nanTransparency,nanColor:e.nanColor,setQuality:e.setQuality,setUseFragOpt:e.setUseFragOpt,setTransparency:e.setTransparency,setNanTransparency:e.setNanTransparency,setNanColor:e.setNanColor})));return(0,r.jsxs)("div",{className:"grid gap-y-[5px] items-center w-50 text-center",children:[(0,r.jsx)("b",{children:"Quality"}),(0,r.jsxs)("div",{className:"w-full flex justify-between text-xs",children:["Worse",(0,r.jsx)("input",{type:"range",min:50,max:1e3,step:50,value:t,onChange:e=>c(parseInt(e.target.value))}),"Better"]}),(0,r.jsx)(o.$,{variant:"destructive",className:"w-[100%] h-[20px] cursor-[pointer]",onClick:()=>d(!e),children:e?"Revert to Normal":"Use Optimized Shader"}),(0,r.jsx)("b",{children:"Transparency"}),(0,r.jsx)("input",{type:"range",min:0,max:10,step:.2,value:a,onChange:e=>u(parseFloat(e.target.value))}),(0,r.jsx)("b",{children:"NaN Transparency"}),(0,r.jsx)("input",{type:"range",min:0,max:1,step:.05,value:s,onChange:e=>h(parseFloat(e.target.value))}),(0,r.jsx)("b",{children:"NaN Color"}),(0,r.jsx)("input",{type:"color",className:"w-[100%] cursor-pointer",value:l,onChange:e=>m(e.target.value)})]})},p=()=>{let{setPointSize:e,setScaleIntensity:t,setScalePoints:a,setTimeScale:s}=(0,n.Ws)((0,i.k)(e=>({setPointSize:e.setPointSize,setScaleIntensity:e.setScaleIntensity,setScalePoints:e.setScalePoints,setTimeScale:e.setTimeScale}))),{scalePoints:l,scaleIntensity:c,pointSize:d,timeScale:u}=(0,n.Ws)((0,i.k)(e=>({scalePoints:e.scalePoints,scaleIntensity:e.scaleIntensity,pointSize:e.pointSize,timeScale:e.timeScale})));return(0,r.jsxs)("div",{className:"flex-column items-center w-50 text-center",children:[(0,r.jsx)("b",{children:"Point Size"}),(0,r.jsx)("input",{type:"range",className:"w-full",min:1,max:50,step:1,defaultValue:d,onChange:t=>e(parseInt(t.target.value))}),(0,r.jsx)(o.$,{variant:"destructive",className:"w-[100%] h-[20px] cursor-[pointer]",onClick:()=>a(!l),children:l?"Remove Scaling":"Scale By Value"}),l&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("b",{children:"Scale Intensity"}),(0,r.jsx)("input",{type:"range",className:"w-full",min:1,max:100,step:1,defaultValue:c,onChange:e=>t(parseInt(e.target.value))})]}),(0,r.jsx)("b",{children:"Resize Time Dimension"}),(0,r.jsx)("input",{type:"range",className:"w-full",min:.05,max:5,step:.05,defaultValue:u,onChange:e=>s(parseFloat(e.target.value))})]})},x=()=>{let{showBorders:e,borderColor:t,setShowBorders:a,setBorderColor:s}=(0,n.Ws)((0,i.k)(e=>({showBorders:e.showBorders,borderColor:e.borderColor,setShowBorders:e.setShowBorders,setBorderColor:e.setBorderColor})));return(0,r.jsxs)("div",{className:"grid gap-y-[5px] items-center w-50 text-center",children:[(0,r.jsx)(o.$,{variant:"destructive",className:"w-[100%] h-[20px] cursor-[pointer]",onClick:()=>a(!e),children:e?"Hide Borders":"Show Borders"}),e&&(0,r.jsxs)("div",{children:[(0,r.jsx)("b",{children:"Border Color"}),(0,r.jsx)("input",{type:"color",className:"w-[100%] cursor-pointer",value:t,onChange:e=>s(e.target.value)})]})]})},g=()=>{let[e,t]=(0,s.useState)(!1),{plotOn:a}=(0,n.on)((0,i.k)(e=>({plotOn:e.plotOn}))),{plotType:l}=(0,n.Ws)((0,i.k)(e=>({plotType:e.plotType})));return(0,s.useEffect)(()=>{let e=()=>{t(window.innerWidth<=768)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,r.jsxs)(d.AM,{children:[(0,r.jsx)(d.Wv,{disabled:!a,children:(0,r.jsx)(c.xPd,{color:a?"":"var(--text-disabled)",style:{cursor:a?"pointer":"auto",transform:a?"":"scale(1)"},className:"panel-item"})}),(0,r.jsx)(d.hl,{side:e?"top":"left",className:"".concat(e?"overflow-y-scroll overflow-x-hidden w-[calc(100vw-24px)] mb-1":"w-[242px]"),style:{height:"fit-content"},children:(0,r.jsxs)("div",{className:"px-2 py-2",children:["volume"===l&&(0,r.jsx)(m,{}),"point-cloud"===l&&(0,r.jsx)(p,{}),("volume"===l||"point-cloud"===l)&&(0,r.jsx)(h,{}),(0,r.jsx)(x,{})]})})]})}},8247:()=>{},8470:(e,t,a)=>{"use strict";a.d(t,{default:()=>n});var r=a(9564);a(4884);var s=a(7776);let n=e=>{let{scale:t,setScale:a}=e,[n,i]=(0,s.useState)(!1),l=(0,s.useRef)(null),o=e=>{n&&(e.preventDefault(),a(Math.min(Math.max(t+(l.current?(l.current-e.clientX)/1e3:0),.1),2)))},c=()=>{i(!1)};return(0,s.useEffect)(()=>(n&&(document.addEventListener("mousemove",o),document.addEventListener("mouseup",c)),()=>{document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",c)}),[n]),(0,r.jsx)("div",{className:"xScaler",onMouseDown:e=>{e.preventDefault(),i(!0),l.current=e.clientX},onMouseUp:c})}},8476:(e,t,a)=>{"use strict";a.d(t,{default:()=>l});var r=a(9564),s=a(433);a(4882);var n=a(355);let i=["long_name","description","units","_ARRAY_DIMENSIONS"],l=e=>{let{data:t}=e;return(0,r.jsx)("div",{className:"metadata-container",children:(0,r.jsxs)(n.lG,{children:[(0,r.jsx)(n.zM,{asChild:!0,children:(0,r.jsx)("div",{className:"metadata-icon",children:(0,r.jsx)(s.qNH,{size:32})})}),(0,r.jsxs)(n.Cf,{className:"metadata-dialog",children:[(0,r.jsxs)(n.c7,{children:[(0,r.jsx)(n.L3,{children:"Variable Metadata"}),(0,r.jsx)(n.rr,{children:"Detailed information about the selected variable"})]}),(0,r.jsxs)("div",{className:"metadata-content",children:[i.map(e=>t[e]&&(0,r.jsxs)("p",{children:[(0,r.jsxs)("strong",{children:[e,": "]}),String(t[e])]},e)),Object.entries(t).map(e=>{let[t,a]=e;return!i.includes(t)&&(0,r.jsxs)("p",{children:[(0,r.jsxs)("strong",{children:[t,":"]})," ",String(a)]},t)})]})]})]})})}},8688:(e,t,a)=>{"use strict";a.d(t,{$U:()=>u,SZ:()=>d,Ws:()=>o,on:()=>l,r2:()=>c});var r=a(4758),s=a(7510),n=a(21),i=a(9901);let l=(0,r.v)((e,t)=>({dataShape:[1,1,1],shape:new s.Pq0(2,2,2),valueScales:{maxVal:1,minVal:-1},colormap:(0,n.v6)(),timeSeries:{},strides:[10368,144,1],showLoading:!1,metadata:null,zMeta:[{}],dataArray:new Uint8Array(1),dimArrays:[[0],[0],[0]],dimNames:["Default"],dimUnits:["Default"],dimCoords:{},plotDim:0,flipY:!1,initStore:"https://s3.bgc-jena.mpg.de:9000/esdl-esdc-v3.0.2/esdc-16d-2.5deg-46x72x1440-3.0.2.zarr",variable:"Default",variables:[],plotOn:!1,isFlat:!1,progress:0,downloading:!1,is4D:!1,idx4D:null,setDataShape:t=>e({dataShape:t}),setShape:t=>e({shape:t}),setValueScales:t=>e({valueScales:t}),setColormap:t=>e({colormap:t}),setTimeSeries:t=>e({timeSeries:t}),updateTimeSeries:a=>{e({timeSeries:Object.fromEntries(Object.entries({...a,...t().timeSeries}).slice(0,10))})},setStrides:t=>e({strides:t}),setShowLoading:t=>e({showLoading:t}),setMetadata:t=>e({metadata:t}),setZMeta:t=>e({zMeta:t}),setDataArray:t=>e({dataArray:t}),setDimArrays:t=>e({dimArrays:t}),setDimNames:t=>e({dimNames:t}),setDimUnits:t=>e({dimUnits:t}),setDimCoords:t=>e({dimCoords:t}),updateDimCoords:a=>{e({dimCoords:Object.fromEntries(Object.entries({...a,...t().dimCoords}).slice(0,10))})},setPlotDim:t=>e({plotDim:t}),setFlipY:t=>e({flipY:t}),setInitStore:t=>e({initStore:t}),setVariable:t=>e({variable:t}),setVariables:t=>e({variables:t}),setPlotOn:t=>e({plotOn:t}),setIsFlat:t=>e({isFlat:t}),setProgress:t=>e({progress:t}),setDownloading:t=>e({downloading:t}),setIs4D:t=>e({is4D:t}),setIdx4D:t=>e({idx4D:t})})),o=(0,r.v)(e=>({plotType:"sphere",pointSize:5,scalePoints:!1,scaleIntensity:1,quality:200,timeScale:1,valueRange:[0,1],xRange:[-1,1],yRange:[-1,1],zRange:[-1,1],selectTS:!1,showPoints:!1,linePointSize:2,lineWidth:1.25,lineColor:"#111111",pointColor:"#EA8686",useLineColor:!1,lineResolution:3,animate:!1,resetAnim:!1,animProg:0,cOffset:0,cScale:1,useFragOpt:!1,resetCamera:!1,useCustomColor:!1,useCustomPointColor:!1,transparency:0,nanTransparency:1,nanColor:"#000000",showBorders:!1,borderColor:"#000000",setQuality:t=>e({quality:t}),setTimeScale:t=>e({timeScale:t}),setValueRange:t=>e({valueRange:t}),setXRange:t=>e({xRange:t}),setYRange:t=>e({yRange:t}),setZRange:t=>e({zRange:t}),setPointSize:t=>e({pointSize:t}),setScalePoints:t=>e({scalePoints:t}),setScaleIntensity:t=>e({scaleIntensity:t}),setPlotType:t=>e({plotType:t}),setSelectTS:t=>e({selectTS:t}),setShowPoints:t=>e({showPoints:t}),setLinePointSize:t=>e({linePointSize:t}),setLineWidth:t=>e({lineWidth:t}),setLineColor:t=>e({lineColor:t}),setPointColor:t=>e({pointColor:t}),setUseLineColor:t=>e({useLineColor:t}),setLineResolution:t=>e({lineResolution:t}),setAnimate:t=>e({animate:t}),setResetAnim:t=>e({resetAnim:t}),setAnimProg:t=>e({animProg:t}),setCOffset:t=>e({cOffset:t}),setCScale:t=>e({cScale:t}),setUseFragOpt:t=>e({useFragOpt:t}),setResetCamera:t=>e({resetCamera:t}),setUseCustomColor:t=>e({useCustomColor:t}),setUseCustomPointColor:t=>e({useCustomPointColor:t}),setTransparency:t=>e({transparency:t}),setNanTransparency:t=>e({nanTransparency:t}),setNanColor:t=>e({nanColor:t}),setShowBorders:t=>e({showBorders:t}),setBorderColor:t=>e({borderColor:t})})),c=(0,r.v)(e=>({analysisMode:!1,axis:0,operation:"Default",execute:!1,useTwo:!1,variable2:"Default",valueScalesOrig:null,kernelSize:3,kernelDepth:3,kernelOperation:"Default",analysisArray:new Uint8Array(1),setAnalysisMode:t=>e({analysisMode:t}),setAxis:t=>e({axis:t}),setOperation:t=>e({operation:t}),setExecute:t=>e({execute:t}),setUseTwo:t=>e({useTwo:t}),setVariable2:t=>e({variable2:t}),setValueScalesOrig:t=>e({valueScalesOrig:t}),setKernelSize:t=>e({kernelSize:t}),setKernelDepth:t=>e({kernelDepth:t}),setKernelOperation:t=>e({kernelOperation:t}),setAnalysisArray:t=>e({analysisArray:t})})),d=(0,r.v)(e=>({slice:[0,null],compress:!1,currentStore:(0,i.Oe)("https://s3.bgc-jena.mpg.de:9000/esdl-esdc-v3.0.2/esdc-16d-2.5deg-46x72x1440-3.0.2.zarr"),reFetch:!1,setSlice:t=>e({slice:t}),setCompress:t=>e({compress:t}),setCurrentStore:t=>e({currentStore:t}),setReFetch:t=>e({reFetch:t})})),u=(0,r.v)(e=>({zarrFetch:!1,cors:!1,oom:!1,setZarrFetch:t=>e({zarrFetch:t}),setCors:t=>e({cors:t}),setOom:t=>e({oom:t})}))},8719:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});let r={src:"/Browzarr/_next/static/media/logo_bgc.2186f7da.png",height:324,width:324,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAM1BMVEX///////////////////////////9MaXH////////////////////////////+/v7///9noLCvAAAAEHRSTlMVaEuDyyA0AAn4qpuOw9jiFXZvNwAAAAlwSFlzAAALEwAACxMBAJqcGAAAADtJREFUeJwFwQkCwCAIA7CiQMFj9v+vXQLmPmZB5E2yRmANVrESHigCA6+1rHWx1VJrIj5JcoA47hP8AUH+AfDeLlYAAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8}},8804:(e,t,a)=>{"use strict";a.r(t),a.d(t,{ArrayMinMax:()=>c,getUnitAxis:()=>o,getVariablesOptions:()=>d,linspace:()=>u,parseLoc:()=>i,parseTimeUnit:()=>s,parseUVCoords:()=>l});var r=a(8688);function s(e){if("Default"===e||!e||"string"!=typeof e||""===e.trim())return 1;let t=e.match(/^(\w+)\s+since\s+(.+)$/i);if(!t)throw Error('Invalid time unit format: expected "<unit> since <date>", got "'.concat(e,'"'));let[a,r,s]=t,n=r.toLowerCase(),i={millisecond:1,milliseconds:1,second:1e3,seconds:1e3,minute:6e4,minutes:6e4,hour:36e5,hours:36e5,day:864e5,days:864e5},l=n.endsWith("s")?n.slice(0,-1):n,o=void 0!==i[n]?n:l;if(!(o in i))throw Error('Unsupported time unit: "'.concat(r,'". Supported units: ').concat(Object.keys(i).join(", ")));return i[o]}let n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function i(e,t){let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!t)return e;if("bigint"==typeof e){if(!t)return Number(e);try{let r=s(t),i=Number(e)*r,l=new Date(i);if(a)return"".concat(l.getDate()," ").concat(n[l.getMonth()]," ").concat(l.getFullYear());{let e=l.getDate(),t=l.getMonth()+1,a=l.getFullYear();return"".concat(String(e).padStart(2,"0"),"-").concat(String(t).padStart(2,"0"),"-").concat(a)}}catch(t){return e}}return t.match(/(degree|degrees|deg|°)/i)?"".concat(e.toFixed(2),"\xb0"):e.toFixed(2)}function l(e){let{normal:t,uv:a}=e,s=r.on.getState().flipY;switch(!0){case 1===t.z:return[null,s?1-a.y:a.y,a.x];case -1===t.z:return[null,s?1-a.y:a.y,1-a.x];case 1===t.x:return[1-a.x,s?1-a.y:a.y,null];case -1===t.x:return[a.x,s?1-a.y:a.y,null];case 1===t.y:return[1-a.y,null,a.x];default:return[0,0,0]}}function o(e){return 1===Math.abs(e.x)?2:1===Math.abs(e.y)?1:1===Math.abs(e.z)?0:null}function c(e){let t=1/0,a=-1/0;for(let r=0;r<e.length;r++)t=e[r]<t?e[r]:t,a=e[r]>a?e[r]:a;return[t,a]}async function d(e){if(!e)return[{text:"Default",value:"Default"}];try{let t=await e;if(!Array.isArray(t))return[{text:"Default",value:"Default"}];return[{text:"Default",value:"Default"},...t.map(e=>({text:e,value:e}))]}catch(e){return console.error("Error getting variables:",e),[{text:"Default",value:"Default"}]}}function u(e,t,a){let r=(t-e)/(a-1);return Array.from({length:a},(t,a)=>e+r*a)}},8860:(e,t,a)=>{"use strict";a.d(t,{default:()=>n});var r=a(9564),s=a(7776);let n=e=>{let{size:t,depth:a}=e,n=(0,s.useRef)(null);return(0,s.useEffect)(()=>{let e=n.current;if(!e)return;let r=e.getContext("2d");if(!r)return;e.width=150,e.height=150;let s=(110-6*Math.max(0,a-1))/t;r.clearRect(0,0,150,150);for(let e=a-1;e>=0;e--){let n=6*e,i=6*e/1.5;for(let l=0;l<t;l++)for(let o=0;o<t;o++){r.fillStyle=l===Math.floor(t/2)&&o===Math.floor(t/2)||e==Math.floor(a/2)&&1!=a?"#da5d5dff":"rgba(255, 255, 255, 1)",r.strokeStyle="#334155",r.lineWidth=1;let c=20+n+o*s,d=20+i+l*s;r.beginPath(),r.rect(c,d,s,s),r.fill(),r.stroke()}}},[t,a]),(0,r.jsx)("canvas",{ref:n})}},9341:(e,t,a)=>{"use strict";a.d(t,{Zp:()=>n});var r=a(9564);a(7776);var s=a(3964);function n(e){let{className:t,...a}=e;return(0,r.jsx)("div",{"data-slot":"card",className:(0,s.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...a})}},9488:(e,t,a)=>{"use strict";a.d(t,{default:()=>p});var r=a(9564),s=a(7776);a(3316);var n=a(8688),i=a(3277),l=a(789),o=a(6438),c=a(1779),d=a(9566),u=a(1279);let h=["volume","point-cloud","sphere","flat"],m={volume:(0,r.jsx)(l.rxA,{className:"panel-item"}),"point-cloud":(0,r.jsx)(o.n37,{className:"panel-item"}),sphere:(0,r.jsx)(l.sXn,{className:"panel-item"}),flat:(0,r.jsx)(c.rtt,{className:"panel-item"})},p=()=>{let{plotType:e,setPlotType:t}=(0,n.Ws)((0,i.k)(e=>({plotType:e.plotType,setPlotType:e.setPlotType}))),a=(0,n.on)(e=>e.isFlat),[l,o]=(0,s.useState)("left");return(0,s.useEffect)(()=>{let e=()=>{o(window.innerWidth<768?"top":"left")};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,r.jsxs)(d.AM,{children:[(0,r.jsx)(d.Wv,{asChild:!0,children:(0,r.jsx)("div",{role:"button",className:"panel-item",style:{transform:"scale(1)"},tabIndex:0,"aria-label":"Select plot type",children:m[e]})}),(0,r.jsx)(d.hl,{side:l,className:"flex flex-col items-center min-w-[48px] max-w-[72px] w-[56px] p-2 mb-1",children:h.map((s,n)=>n<2&&a?null:(0,r.jsx)(u.$,{variant:e===s?"default":"ghost",className:"mb-2 w-12 h-12 flex items-center cursor-pointer justify-center transform transition-transform duration-100 ease-out hover:scale-90",onClick:()=>{t(s)},"aria-label":"Select ".concat(s),children:m[s]},s))})]})}},9566:(e,t,a)=>{"use strict";a.d(t,{AM:()=>i,Wv:()=>l,hl:()=>o});var r=a(9564);a(7776);var s=a(6687),n=a(3964);function i(e){let{...t}=e;return(0,r.jsx)(s.Root,{"data-slot":"popover",...t})}function l(e){let{...t}=e;return(0,r.jsx)(s.Trigger,{"data-slot":"popover-trigger",...t})}function o(e){let{className:t,align:a="center",sideOffset:i=4,...l}=e;return(0,r.jsx)(s.Portal,{children:(0,r.jsx)(s.Content,{"data-slot":"popover-content",align:a,sideOffset:i,className:(0,n.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",t),...l})})}},9901:(e,t,a)=>{"use strict";a.d(t,{Oe:()=>m,Y5:()=>p});var r=a(2105),s=a(4123),n=a(970),i=a(7974),l=a(7603),o=a(6116),c=a(8804),d=a(6431),u=a(8688);class h extends Error{constructor(e,t){super(e),this.cause=t,this.name="ZarrError"}}async function m(e){try{await fetch(e,{method:"HEAD",mode:"cors"})}catch(t){if(t instanceof TypeError)throw new h("CORS check failed for ".concat(e,". The server may not allow cross-origin requests from this site."),t)}try{let t=r.x(new s.A(e));return await t.then(e=>n.h(e,{kind:"group"}))}catch(t){throw new h("Failed to initialize store at ".concat(e),t)}}class p{async GetArray(e,t){let a=u.on.getState().setProgress,r=u.on.getState().setStrides,s=u.on.getState().setDownloading,o=u.SZ.getState().compress,c=u.on.getState().is4D,h=u.on.getState().idx4D;if(this.variable=e,this.cache.has(c?"".concat(h,"_").concat(e):e))return this.cache.get(e);let m=await this.groupStore,p=await n.h(m.resolve(e),{kind:"array"}),[x,g,f]=(0,d._z)(p);c&&(x/=p.shape[0],f=f.slice(1),p.shape[0]);let v=c?p.shape[1]/f[0]>1:p.shape[0]/f[0]>1;if(p.is("number")||p.is("bigint")){let n,d,u;if(this.chunkIDs=[],x<1e8||!v){if(s(!0),n=await i.Jt(p,c?[h,null,null,null]:[null,null,null]),u=c?p.shape.slice(1):p.shape,r(n.stride),n.data instanceof BigInt64Array||n.data instanceof BigUint64Array)throw Error("BigInt arrays are not supported for conversion to Float32Array.");d=new Float32Array(n.data),this.cache.set(c?"".concat(h,"_").concat(e):e,n),s(!1)}else{s(!0),a(0);let m=Math.floor(t[0]/f[0]),x=t[1]?Math.ceil(t[1]/f[0]):c?Math.ceil(p.shape[1]/f[0]):Math.ceil(p.shape[0]/f[0]),g=x-m,v=c?p.shape[2]*p.shape[3]:p.shape[1]*p.shape[2],j=(x-m)*f[0]*v;u=c?[(x-m)*f[0],p.shape[2],p.shape[3]]:[(x-m)*f[0],p.shape[1],p.shape[2]],d=o?new Uint8Array(j):new Float32Array(j);let b=0,A=1;for(let t=m;t<x;t++){let s=c?"".concat(h,"_").concat(e,"_chunk_").concat(t):"".concat(e,"_chunk_").concat(t);if(this.chunkIDs.push(t),this.cache.has(s))r((n=this.cache.get(s)).stride),d.set(n.data,b),a(Math.round(A/g*100)),b+=n.data.length,A++;else{if((n=await i.Jt(p,c?[h,l.di(t*f[0],(t+1)*f[0]),null,null]:[l.di(t*f[0],(t+1)*f[0]),null,null])).data instanceof BigInt64Array||n.data instanceof BigUint64Array)throw Error("BigInt arrays are not supported for conversion to Float32Array.");d.set(n.data,b),this.cache.set(s,n),b+=n.data.length,r(n.stride),a(Math.round(A/g*100)),A++}}s(!1)}return{data:d,shape:u,dtype:p.dtype}}throw Error("Unsupported data type: Only numeric arrays are supported. Got: ".concat(p.dtype))}async GetAttributes(e){let t="".concat(e,"_meta");if(this.cache.has(t))return this.cache.get(t);let a=await this.groupStore,r=(await n.h(a.resolve(e),{kind:"array"})).attrs;this.cache.set(t,r);let s=[];for(let e of r._ARRAY_DIMENSIONS){if(!this.cache.has(e)){let t=await n.h(a.resolve(e),{kind:"array"}).then(e=>i.Jt(e)),r=await n.h(a.resolve(e),{kind:"array"}).then(e=>e.attrs);this.cache.set(e,t.data),this.cache.set("".concat(e,"_meta"),r)}s.push(e)}return this.dimNames=s,r}GetDimArrays(){let e=[],t=[];for(let a of this.dimNames)e.push(this.cache.get(a)),t.push(this.cache.get("".concat(a,"_meta")));return[e,t,this.dimNames]}GetTimeSeries(e){let t,a,r,{uv:s,normal:n}=e;if(!this.cache.has(this.variable)&&0==this.chunkIDs.length)return[0];if(this.chunkIDs.length>0){let e=[];for(let t of this.chunkIDs)e.push(this.cache.get("".concat(this.variable,"_chunk_").concat(t)));({shape:a,stride:r}=e[0]),t=new Float32Array(e.reduce((e,t)=>e+t.data.length,0));let s=0;for(let a of e)t.set(a.data,s),s+=a.data.length}else({data:t,shape:a,stride:r}=this.cache.get(this.variable));let i=(0,c.parseUVCoords)({normal:n,uv:s}).map((e,t)=>null===e||null===a[t]?null:Math.round(e*a[t]-.5)),l=i.indexOf(null),o=r[l],d=null==i[0]?0:r[0]*i[0],u=null==i[1]?0:r[1]*i[1],h=null==i[2]?0:r[2]*i[2],m=[];for(let e=0;e<a[l];e++){let a=e*o+d+u+h;m.push(t[a])}return m}constructor(e){this.groupStore=e,this.variable="Default",this.cache=new o.A({maxSize:2e3}),this.dimNames=["","",""],this.chunkIDs=[]}}}}]);